=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 0 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 1 get outdate rpc reply from server 0
client write log 6642128533121118249 (index 1) to leader 1
flag 29995 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 70075 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6642128533121118249 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6642128533121118249 1 1}]
------------------------------------------------------
flag 74006 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 63899 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6642128533121118249 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6642128533121118249 1 1}]
------------------------------------------------------
flag 31724 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 86051 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6642128533121118249 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6642128533121118249 1 1}]
------------------------------------------------------
flag 2910 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 92982 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
[{<nil> 0 0} {6642128533121118249 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6642128533121118249 1 1}]
------------------------------------------------------
flag 69939 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 84871 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6642128533121118249 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6642128533121118249 1 1}]
------------------------------------------------------
flag 25218 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 45090 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6642128533121118249 1 1}]
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6642128533121118249 1 1}]
------------------------------------------------------
flag 22041 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 83188 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6642128533121118249 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6642128533121118249 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7469396934159923937 (index 2) to leader 1
flag 74676 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 3130 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6642128533121118249 1 1} {7469396934159923937 1 2}]
------------------------------------------------------
flag 58481 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 75158 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6642128533121118249 1 1} {7469396934159923937 1 2}]
------------------------------------------------------
client write log 1770797113173469880 (index 3) to leader 1
client write log 4633693361428846339 (index 4) to leader 1
client write log 8028415814126594554 (index 5) to leader 1
client write log 5450048613262561167 (index 6) to leader 1
client write log 1292208754117266748 (index 7) to leader 1
client write log 5251549007475467807 (index 8) to leader 1
client write log 5426672757316724185 (index 9) to leader 1
flag 1484 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 7367 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {6642128533121118249 1 1} {7469396934159923937 1 2} {1770797113173469880 1 3} {4633693361428846339 1 4} {8028415814126594554 1 5} {5450048613262561167 1 6} {1292208754117266748 1 7} {5251549007475467807 1 8} {5426672757316724185 1 9}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
flag 64111 term 1 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 1 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
!!!!!!connect server 2
client write log 2457940819462514465 (index 10) to leader 1
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 1 server 0 not vote for server 2, 日志不够新
term 1 server 1 not vote for server 2, 日志不够新
term 3 server 2 vote for server 1
term 3 server 0 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 1 get outdate rpc reply from server 0
flag 74035 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 76455 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 11->10
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 11->10
------------------------------------------------------
flag 78500 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
flag 55443 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 97519 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
flag 25847 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 3502 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
flag 98465 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 15813 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
flag 25840 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 17230 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
flag 8551 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 62473 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
flag 30545 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 47571 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
update nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
flag 62115 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 29671 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33329 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 19928 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
flag 23263 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 77809 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
flag 20212 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 43352 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
flag 24513 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 20036 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
flag 35141 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 33833 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
flag 8551 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 43629 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
flag 71752 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 37882 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
flag 86170 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 22387 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
flag 50430 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 86881 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
flag 21158 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 14556 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {2457940819462514465 1 10}]
------------------------------------------------------
client write log 2457940819462514465 (index 11) to leader 1
flag 517 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 99609 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2457940819462514465 1 10} {2457940819462514465 3 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2457940819462514465 1 10} {2457940819462514465 3 11}]
------------------------------------------------------
flag 20918 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 31808 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2457940819462514465 1 10} {2457940819462514465 3 11}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2457940819462514465 1 10} {2457940819462514465 3 11}]
------------------------------------------------------
flag 51744 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 59832 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2457940819462514465 1 10} {2457940819462514465 3 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2457940819462514465 1 10} {2457940819462514465 3 11}]
------------------------------------------------------
flag 1729 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 92435 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2457940819462514465 1 10} {2457940819462514465 3 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2457940819462514465 1 10} {2457940819462514465 3 11}]
------------------------------------------------------
flag 54998 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 54245 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2457940819462514465 1 10} {2457940819462514465 3 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2457940819462514465 1 10} {2457940819462514465 3 11}]
------------------------------------------------------
flag 11453 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 15719 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2457940819462514465 1 10} {2457940819462514465 3 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {2457940819462514465 1 10} {2457940819462514465 3 11}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 50832 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 22356 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 97527 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 81067 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 34118 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 1936 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
client write log 6689442743547407893 (index 12) to leader 2
flag 3017 term 4 leader 2 nextIndex[0]: 12  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 16820 term 4 leader 2 nextIndex[1]: 12  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2457940819462514465 1 10} {2457940819462514465 3 11} {6689442743547407893 4 12}]
------------------------------------------------------
flag 66407 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 69811 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 12->11
------------------------------------------------------
flag 83973 term 4 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 45719 term 4 leader 2 nextIndex[1]: 12  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2457940819462514465 1 10} {2457940819462514465 3 11} {6689442743547407893 4 12}]
------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 11
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 76521 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
client write log 1520936772575263456 (index 13) to leader 2
client write log 6729992529659189133 (index 14) to leader 2
client write log 6565054302048855916 (index 15) to leader 2
client write log 8591814547257185103 (index 16) to leader 2
client write log 2484654503175974863 (index 17) to leader 2
client write log 8098998216430654239 (index 18) to leader 2
client write log 8179735417036429548 (index 19) to leader 2
client write log 468362171934652131 (index 20) to leader 2
client write log 8440834407729557721 (index 21) to leader 2
client write log 1116385070576949077 (index 22) to leader 2
client write log 2774377520826055928 (index 23) to leader 2
client write log 6714339664817763869 (index 24) to leader 2
term 3 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
flag 16788 term 4 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 96971 term 4 leader 2 nextIndex[1]: 12  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 1 9} {2457940819462514465 1 10} {2457940819462514465 3 11} {6689442743547407893 4 12} {1520936772575263456 4 13} {6729992529659189133 4 14} {6565054302048855916 4 15} {8591814547257185103 4 16} {2484654503175974863 4 17} {8098998216430654239 4 18} {8179735417036429548 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
flag 95354 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 35314 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=24
-------------------------------------------------------------
flag 1029 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 12  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
flag 74724 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 71071 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=24
-------------------------------------------------------------
!!!!!!connect server 1
client write log 9017016374319199313 (index 12) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 12->11
------------------------------------------------------
flag 50905 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot success
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
flag 83776 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 35844 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
flag 29555 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 44522 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
flag 35032 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 52769 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77636 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 85869 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
flag 47285 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 92037 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
flag 48635 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 524 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
flag 53858 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 81916 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
flag 90080 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 68115 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41911 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 70386 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33275 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 4362 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
flag 53902 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 56835 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
flag 95317 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 60654 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7429 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 90528 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
flag 98531 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 74841 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
flag 47049 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 49396 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
flag 97828 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 8251 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39883 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 28535 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93307 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 24705 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42870 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 52313 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24}]
------------------------------------------------------
client write log 9017016374319199313 (index 25) to leader 2
flag 87345 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 35631 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24} {9017016374319199313 4 25}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24} {9017016374319199313 4 25}]
------------------------------------------------------
flag 79077 term 4 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 70277 term 4 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24} {9017016374319199313 4 25}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24} {9017016374319199313 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51554 term 4 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 5730 term 4 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24} {9017016374319199313 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24} {9017016374319199313 4 25}]
------------------------------------------------------
flag 22682 term 4 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 7634 term 4 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24} {9017016374319199313 4 25}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24} {9017016374319199313 4 25}]
------------------------------------------------------
flag 63302 term 4 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 81487 term 4 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24} {9017016374319199313 4 25}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24} {9017016374319199313 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28487 term 4 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 87093 term 4 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24} {9017016374319199313 4 25}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24} {9017016374319199313 4 25}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5340838246451896773 (index 26) to leader 2
flag 44292 term 4 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 82038 term 4 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24} {9017016374319199313 4 25} {5340838246451896773 4 26}]
------------------------------------------------------
flag 84514 term 4 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 20782 term 4 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24} {9017016374319199313 4 25} {5340838246451896773 4 26}]
------------------------------------------------------
client write log 4306350635028398659 (index 27) to leader 2
client write log 4669729292655117591 (index 28) to leader 2
client write log 7666461310715221154 (index 29) to leader 2
client write log 5721048493555047413 (index 30) to leader 2
client write log 1053670426972815377 (index 31) to leader 2
client write log 4760408493218428104 (index 32) to leader 2
client write log 8055540595781708139 (index 33) to leader 2
client write log 5017515477086122773 (index 34) to leader 2
client write log 8600682522063998088 (index 35) to leader 2
client write log 4339145467384185871 (index 36) to leader 2
flag 78200 term 4 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 35 term 4 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 19} {468362171934652131 4 20} {8440834407729557721 4 21} {1116385070576949077 4 22} {2774377520826055928 4 23} {6714339664817763869 4 24} {9017016374319199313 4 25} {5340838246451896773 4 26} {4306350635028398659 4 27} {4669729292655117591 4 28} {7666461310715221154 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=36
-------------------------------------------------------------
term 4 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 41267 term 4 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=36
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4743524712926122948 (index 37) to leader 2
term 4 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 78578 term 4 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 5 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 0 vote for server 2
term 6 server 2 get outdate rpc reply from server 0
flag 29249 term 6 leader 2 nextIndex[0]: 38  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 27568 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 38->37
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 48832 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10397 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 66200 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6187 term 6 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 94075 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
flag 22764 term 6 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 2475 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
flag 41366 term 6 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 89169 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
flag 17701 term 6 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 6465 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
flag 43067 term 6 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 78553 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
flag 49643 term 6 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 88858 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
flag 668 term 6 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 66841 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
flag 4917 term 6 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 47424 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62315 term 6 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 77424 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
term 6 server 1 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 1
flag 55659 term 6 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 16864 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
flag 61653 term 6 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 44650 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77272 term 6 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 70746 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
flag 81830 term 6 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 63086 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
flag 24416 term 6 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 87398 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71025 term 6 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 7570 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36170 term 6 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 607 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37}]
------------------------------------------------------
client write log 4743524712926122948 (index 38) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62161 term 6 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 88420 term 6 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37} {4743524712926122948 6 38}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37} {4743524712926122948 6 38}]
------------------------------------------------------
flag 84627 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 31395 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37} {4743524712926122948 6 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37} {4743524712926122948 6 38}]
------------------------------------------------------
flag 97357 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 59208 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37} {4743524712926122948 6 38}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37} {4743524712926122948 6 38}]
------------------------------------------------------
flag 81342 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 79971 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37} {4743524712926122948 6 38}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37} {4743524712926122948 6 38}]
------------------------------------------------------
flag 14284 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 27749 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37} {4743524712926122948 6 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37} {4743524712926122948 6 38}]
------------------------------------------------------
flag 43582 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 9508 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37} {4743524712926122948 6 38}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37} {4743524712926122948 6 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 678840557702092960 (index 39) to leader 2
flag 31334 term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 89600 term 6 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 29} {5721048493555047413 4 30} {1053670426972815377 4 31} {4760408493218428104 4 32} {8055540595781708139 4 33} {5017515477086122773 4 34} {8600682522063998088 4 35} {4339145467384185871 4 36} {4743524712926122948 4 37} {4743524712926122948 6 38} {678840557702092960 6 39}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 43246 term 6 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
client write log 7258837161314571696 (index 40) to leader 2
client write log 1774821384453191982 (index 41) to leader 2
client write log 3078012204281981595 (index 42) to leader 2
client write log 9106277107283874790 (index 43) to leader 2
client write log 1652089378782011962 (index 44) to leader 2
client write log 8114043202071885140 (index 45) to leader 2
client write log 4877140297672471598 (index 46) to leader 2
client write log 1530858222813287257 (index 47) to leader 2
term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 31216 term 6 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 2799 term 6 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7392638309256265188 (index 48) to leader 2
term 6 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 54058 term 6 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 6 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 7 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 1 vote for server 2
term 8 server 0 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 2 become leader
------------------------------------------------------
term 8 server 2 get outdate rpc reply from server 0
flag 49566 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 8219 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 49->48
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 39  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 8445 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
flag 90430 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 61673 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
flag 17815 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 54538 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
flag 76636 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 121 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
flag 78337 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 1707 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
flag 44261 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 69702 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
flag 91694 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 62594 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
flag 64409 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 96526 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
flag 22731 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 84814 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
term 8 server 1 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 1
flag 46995 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 61656 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
flag 17420 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 52565 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
update nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13774 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 97334 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
flag 14684 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 53260 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
flag 80783 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 35342 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
flag 41252 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 73961 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88401 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 61935 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
flag 48796 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 69524 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
flag 47833 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 27418 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48}]
------------------------------------------------------
client write log 7392638309256265188 (index 49) to leader 2
flag 72190 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 64117 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48} {7392638309256265188 8 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {7258837161314571696 6 40} {1774821384453191982 6 41} {3078012204281981595 6 42} {9106277107283874790 6 43} {1652089378782011962 6 44} {8114043202071885140 6 45} {4877140297672471598 6 46} {1530858222813287257 6 47} {7392638309256265188 6 48} {7392638309256265188 8 49}]
------------------------------------------------------
term 8 Server2 start snapshot! index=49
term 8 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 42814 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 30814 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 Server1 start snapshot! index=49
term 8 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 8 Server0 start snapshot! index=49
term 8 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 67336 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 21266 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
flag 38162 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 80498 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
flag 41834 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 12108 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
flag 21315 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 19232 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
flag 49025 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 55442 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 10033 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 86174 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 15688 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 62186 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 34520 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 70782 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 9 server 0 vote for server 1
term 9 server 1 get vote from server 0
term 9 server 1 become leader
------------------------------------------------------
flag 13190 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 59140 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
client write log 3972073991248102226 (index 50) to leader 1
flag 82698 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 8799 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {3972073991248102226 9 50}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 50->49
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 0  matchIndex[0]: 49
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 3057 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 29866 term 9 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 14214 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {3972073991248102226 9 50}]
------------------------------------------------------
client write log 3362275963278253894 (index 51) to leader 1
term 8 leader 2 nextIndex[0]: 0  matchIndex[0]: 49
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 48791 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 52557 term 9 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 9 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
flag 70321 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {3972073991248102226 9 50} {3362275963278253894 9 51}]
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 0  matchIndex[0]: 49
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 20991 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 18939 term 9 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 43848 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {3972073991248102226 9 50} {3362275963278253894 9 51}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6095904688631626581 (index 52) to leader 1
term 8 leader 2 nextIndex[0]: 0  matchIndex[0]: 49
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 24302 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 9 server 1 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 9 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76953 term 9 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 9 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
flag 22148 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {3972073991248102226 9 50} {3362275963278253894 9 51} {6095904688631626581 9 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {3972073991248102226 9 50} {3362275963278253894 9 51} {6095904688631626581 9 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 53->52
------------------------------------------------------
flag 70550 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 52
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 9 server 2 InstallSnapshot fail
rf.commitIndex 49 args.LastIncludedIndex 49
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {3972073991248102226 9 50} {3362275963278253894 9 51} {6095904688631626581 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25618 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 39808 term 9 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {3972073991248102226 9 50} {3362275963278253894 9 51} {6095904688631626581 9 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {3972073991248102226 9 50} {3362275963278253894 9 51} {6095904688631626581 9 52}]
------------------------------------------------------
flag 94328 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 67814 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {3972073991248102226 9 50} {3362275963278253894 9 51} {6095904688631626581 9 52}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {3972073991248102226 9 50} {3362275963278253894 9 51} {6095904688631626581 9 52}]
------------------------------------------------------
term 9 server 1 not vote for server 0, 任期不够新
term 9 server 0 get outdate rpc reply from server 1
flag 67665 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 95617 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {3972073991248102226 9 50} {3362275963278253894 9 51} {6095904688631626581 9 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {3972073991248102226 9 50} {3362275963278253894 9 51} {6095904688631626581 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35436 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 23924 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {3972073991248102226 9 50} {3362275963278253894 9 51} {6095904688631626581 9 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {3972073991248102226 9 50} {3362275963278253894 9 51} {6095904688631626581 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5503 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 38649 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {3972073991248102226 9 50} {3362275963278253894 9 51} {6095904688631626581 9 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {3972073991248102226 9 50} {3362275963278253894 9 51} {6095904688631626581 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12661 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 1785 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {3972073991248102226 9 50} {3362275963278253894 9 51} {6095904688631626581 9 52}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {3972073991248102226 9 50} {3362275963278253894 9 51} {6095904688631626581 9 52}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6163430664507013720 (index 53) to leader 1
flag 55704 term 9 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 44303 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {3972073991248102226 9 50} {3362275963278253894 9 51} {6095904688631626581 9 52} {6163430664507013720 9 53}]
------------------------------------------------------
flag 34218 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 71987 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {3972073991248102226 9 50} {3362275963278253894 9 51} {6095904688631626581 9 52} {6163430664507013720 9 53}]
------------------------------------------------------
client write log 8632887259224091128 (index 54) to leader 1
client write log 9133765551428281920 (index 55) to leader 1
client write log 244871620015753062 (index 56) to leader 1
client write log 1681869737865387964 (index 57) to leader 1
client write log 8544648879421220713 (index 58) to leader 1
client write log 7526802726127320644 (index 59) to leader 1
client write log 8165340758407228465 (index 60) to leader 1
client write log 8080568383252115398 (index 61) to leader 1
client write log 9130842648914389827 (index 62) to leader 1
client write log 2301646766070375509 (index 63) to leader 1
client write log 9081745439400738841 (index 64) to leader 1
client write log 8736968790474102864 (index 65) to leader 1
client write log 4649063005173649548 (index 66) to leader 1
client write log 3065229002663041278 (index 67) to leader 1
client write log 631396083224578216 (index 68) to leader 1
flag 40082 term 9 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 84433 term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 8 49} {3972073991248102226 9 50} {3362275963278253894 9 51} {6095904688631626581 9 52} {6163430664507013720 9 53} {8632887259224091128 9 54} {9133765551428281920 9 55} {244871620015753062 9 56} {1681869737865387964 9 57} {8544648879421220713 9 58} {7526802726127320644 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=68
-------------------------------------------------------------
flag 65846 term 9 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 9 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68}]
------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=68
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6496788640209210234 (index 69) to leader 1
term 9 server 1 not vote for server 2, 日志不够新
term 9 server 0 not vote for server 2, 日志不够新
term 11 server 2 vote for server 1
term 11 server 1 get vote from server 2
term 11 server 0 vote for server 1
term 11 server 1 become leader
------------------------------------------------------
term 11 server 1 get outdate rpc reply from server 0
flag 80559 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 30077 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 70->69
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 70->69
------------------------------------------------------
flag 87827 term 11 leader 1 nextIndex[0]: 69  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 53  matchIndex[2]: 0
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 11 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20900 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 9317 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
flag 99572 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 189 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
flag 94117 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 87268 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
flag 94590 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 70810 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4124 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 96315 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
flag 43107 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 70293 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
flag 26340 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 27981 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
term 11 server 2 not vote for server 0, 任期不够新
term 11 server 0 get outdate rpc reply from server 2
flag 95383 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 11059 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
flag 81638 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 81958 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59277 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 41310 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
flag 88097 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 29332 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
flag 44846 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 96930 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
term 11 server 0 AppendEntries true commitIndex:68 
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
flag 64986 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 31991 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
flag 75912 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 98154 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81038 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 66175 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9278 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 82000 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
flag 5072 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 2205 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
flag 1080 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 24321 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69}]
------------------------------------------------------
client write log 6496788640209210234 (index 70) to leader 1
flag 3521 term 11 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 37691 term 11 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 11 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69} {6496788640209210234 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 59} {8165340758407228465 9 60} {8080568383252115398 9 61} {9130842648914389827 9 62} {2301646766070375509 9 63} {9081745439400738841 9 64} {8736968790474102864 9 65} {4649063005173649548 9 66} {3065229002663041278 9 67} {631396083224578216 9 68} {6496788640209210234 9 69} {6496788640209210234 11 70}]
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
flag 30869 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 84929 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6496788640209210234 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6496788640209210234 11 70}]
------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
flag 17172 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 75448 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6496788640209210234 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6496788640209210234 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90189 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 5355 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6496788640209210234 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6496788640209210234 11 70}]
------------------------------------------------------
flag 82633 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 32329 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
[{snapshot 9 69} {6496788640209210234 11 70}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6496788640209210234 11 70}]
------------------------------------------------------
flag 75612 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 42480 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6496788640209210234 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6496788640209210234 11 70}]
------------------------------------------------------
term 11 server 2 not vote for server 0, 任期不够新
term 11 server 0 get outdate rpc reply from server 2
flag 46371 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 48925 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6496788640209210234 11 70}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {6496788640209210234 11 70}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 8908075550171719841 (index 71) to leader 1
flag 77389 term 11 leader 1 nextIndex[0]: 71  matchIndex[0]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 71941 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23574 term 11 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 16886 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=72
update matchIndex[0]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71}]
------------------------------------------------------
client write log 8320711795949119771 (index 72) to leader 1
client write log 1453522415088593964 (index 73) to leader 1
client write log 4899488670090752888 (index 74) to leader 1
client write log 6218590447265644312 (index 75) to leader 1
client write log 3005084361545689071 (index 76) to leader 1
client write log 226747567543408007 (index 77) to leader 1
flag 30269 term 11 leader 1 nextIndex[0]: 72  matchIndex[0]: 71
term 11 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 42665 term 11 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 71->70
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52539 term 11 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 11 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 0  matchIndex[2]: 70
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5986977475951142232 (index 78) to leader 1
term 11 server 1 not vote for server 2, 日志不够新
term 11 server 0 not vote for server 2, 日志不够新
term 13 server 2 vote for server 1
term 13 server 1 get vote from server 2
term 13 server 1 become leader
------------------------------------------------------
term 13 server 0 vote for server 1
term 13 server 1 get outdate rpc reply from server 0
flag 41641 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 53281 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 79->78
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 79->78
------------------------------------------------------
flag 23801 term 13 leader 1 nextIndex[0]: 78  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 19661 term 13 leader 1 nextIndex[2]: 71  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
flag 71663 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 63798 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69645 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 98443 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
flag 19916 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 78211 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
flag 38380 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 11302 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
flag 21454 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 56921 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
flag 69718 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 10025 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
flag 42007 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 36835 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
flag 9090 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 27497 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
flag 46597 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 29284 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
flag 97973 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 22624 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
term 13 server 2 not vote for server 1, 任期不够新
term 13 server 1 get outdate rpc reply from server 2
flag 23127 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 6785 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
flag 18420 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 54922 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48619 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 57133 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
flag 5497 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 92535 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
flag 43049 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 49172 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
leader 1 sendAppendEntries -> server 2 true------------------------------------------------------
update nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
flag 60633 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 50999 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41055 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 57423 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
flag 62752 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 34900 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78}]
------------------------------------------------------
client write log 5986977475951142232 (index 79) to leader 1
flag 7619 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 50405 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78} {5986977475951142232 13 79}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 9 69} {6496788640209210234 11 70} {8908075550171719841 11 71} {8320711795949119771 11 72} {1453522415088593964 11 73} {4899488670090752888 11 74} {6218590447265644312 11 75} {3005084361545689071 11 76} {226747567543408007 11 77} {5986977475951142232 11 78} {5986977475951142232 13 79}]
------------------------------------------------------
term 13 Server1 start snapshot! index=79
term 13 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69040 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 36638 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 Server2 start snapshot! index=79
term 13 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
term 13 Server0 start snapshot! index=79
term 13 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
flag 21468 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 2124 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
flag 94647 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 4593 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
flag 70280 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 73320 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
flag 30458 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 94185 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
flag 80633 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 63468 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 35732 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 43200 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 36474 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 17163 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 99101 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 54965 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 23292 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 76455 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 14 server 0 vote for server 2
term 14 server 2 get vote from server 0
term 14 server 2 become leader
------------------------------------------------------
flag 49592 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 63237 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
client write log 2873810019746614151 (index 80) to leader 2
flag 30034 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 22293 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 71934 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 96025 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {2873810019746614151 14 80}]
------------------------------------------------------
flag 6396 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 89348 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 56742 term 14 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 60781 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {2873810019746614151 14 80}]
------------------------------------------------------
client write log 2828360273360405767 (index 81) to leader 2
client write log 8543592608164385764 (index 82) to leader 2
client write log 153184857387239108 (index 83) to leader 2
client write log 5279032289363996970 (index 84) to leader 2
client write log 7869701917560706374 (index 85) to leader 2
client write log 4551786397362677944 (index 86) to leader 2
client write log 1573558318276145416 (index 87) to leader 2
client write log 4943144267218773148 (index 88) to leader 2
client write log 4698083053197780935 (index 89) to leader 2
client write log 5945831696387425636 (index 90) to leader 2
client write log 5971642629704095272 (index 91) to leader 2
client write log 5077439102423966261 (index 92) to leader 2
client write log 6607444658401811591 (index 93) to leader 2
flag 84871 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 24938 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 24555 term 14 leader 2 nextIndex[0]: 81  matchIndex[0]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
flag 67108 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 79} {2873810019746614151 14 80} {2828360273360405767 14 81} {8543592608164385764 14 82} {153184857387239108 14 83} {5279032289363996970 14 84} {7869701917560706374 14 85} {4551786397362677944 14 86} {1573558318276145416 14 87} {4943144267218773148 14 88} {4698083053197780935 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
term 14 Server2 start snapshot! index=89
term 14 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=93
-------------------------------------------------------------
flag 33841 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 66409 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 78471 term 14 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
term 14 Server0 start snapshot! index=89
term 14 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=93
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5353237140260175565 (index 80) to leader 1
flag 93069 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 21439 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 14 server 2 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 14 server 0 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83160 term 14 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 InstallSnapshot success
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
flag 89076 term 14 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 60727 term 14 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 14 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
flag 9243 term 14 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 10640 term 14 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
term 14 server 1 not vote for server 2, 日志不够新
term 14 server 2 get outdate rpc reply from server 1
flag 20361 term 14 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 13334 term 14 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
flag 76409 term 14 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 12438 term 14 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56881 term 14 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 9758 term 14 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
flag 88467 term 14 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 36884 term 14 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 94->93
------------------------------------------------------
flag 41183 term 14 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 leader 2 nextIndex[1]: 0  matchIndex[1]: 93
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 93 args.LastIncludedIndex 89
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
flag 51855 term 14 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 27339 term 14 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 14 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
flag 97139 term 14 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 14520 term 14 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23519 term 14 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 68078 term 14 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
flag 65368 term 14 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 13350 term 14 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
flag 69134 term 14 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 78280 term 14 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
flag 48871 term 14 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 85459 term 14 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63805 term 14 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 99730 term 14 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
flag 50699 term 14 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 64478 term 14 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67879 term 14 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 12151 term 14 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
flag 25654 term 14 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 6108 term 14 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 14 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
flag 18568 term 14 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 9874 term 14 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
flag 66623 term 14 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 11372 term 14 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=94
update matchIndex[1]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93}]
------------------------------------------------------
client write log 5353237140260175565 (index 94) to leader 2
flag 97662 term 14 leader 2 nextIndex[0]: 94  matchIndex[0]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
flag 19987 term 14 leader 2 nextIndex[1]: 94  matchIndex[1]: 93
term 14 leader 2 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 14 leaderCommit: 93 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93} {5353237140260175565 14 94}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93} {5353237140260175565 14 94}]
------------------------------------------------------
flag 87631 term 14 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 46733 term 14 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 14 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93} {5353237140260175565 14 94}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93} {5353237140260175565 14 94}]
------------------------------------------------------
flag 4512 term 14 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 64697 term 14 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 14 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93} {5353237140260175565 14 94}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93} {5353237140260175565 14 94}]
------------------------------------------------------
flag 28514 term 14 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 4756 term 14 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 14 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93} {5353237140260175565 14 94}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93} {5353237140260175565 14 94}]
------------------------------------------------------
flag 66407 term 14 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 24531 term 14 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 14 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93} {5353237140260175565 14 94}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93} {5353237140260175565 14 94}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 95->94
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42327 term 14 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 leader 2 nextIndex[1]: 0  matchIndex[1]: 94
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 94 args.LastIncludedIndex 89
------------------------------------------------------
term 14 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93} {5353237140260175565 14 94}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4062926872971151628 (index 95) to leader 2
flag 88623 term 14 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
flag 47097 term 14 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 14 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 94 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93} {5353237140260175565 14 94} {4062926872971151628 14 95}]
------------------------------------------------------
flag 62669 term 14 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 84501 term 14 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 14 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93} {5353237140260175565 14 94} {4062926872971151628 14 95}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5307669434083628709 (index 96) to leader 2
client write log 4815765646316353999 (index 97) to leader 2
client write log 3972238758613057239 (index 98) to leader 2
client write log 3834315459611528949 (index 99) to leader 2
client write log 5683091471237631909 (index 100) to leader 2
client write log 2201674905898309486 (index 101) to leader 2
client write log 1118921623585399316 (index 102) to leader 2
client write log 5326586816131954690 (index 103) to leader 2
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75866 term 14 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
flag 21280 term 14 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 14 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 14 leaderCommit: 95 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 89} {5945831696387425636 14 90} {5971642629704095272 14 91} {5077439102423966261 14 92} {6607444658401811591 14 93} {5353237140260175565 14 94} {4062926872971151628 14 95} {5307669434083628709 14 96} {4815765646316353999 14 97} {3972238758613057239 14 98} {3834315459611528949 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103}]
------------------------------------------------------
term 14 Server2 start snapshot! index=99
term 14 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=103
-------------------------------------------------------------
term 14 leader 2 nextIndex[0]: 95  matchIndex[0]: 94
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
flag 97833 term 14 leader 2 nextIndex[1]: 104  matchIndex[1]: 103
term 14 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103}]
------------------------------------------------------
term 14 Server1 start snapshot! index=99
term 14 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=103
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4680717639426700657 (index 104) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 2 not vote for server 0, 日志不够新
term 14 server 1 not vote for server 0, 日志不够新
term 16 server 0 vote for server 2
term 16 server 2 get vote from server 0
term 16 server 2 become leader
------------------------------------------------------
term 16 server 1 vote for server 2
term 16 server 2 get outdate rpc reply from server 1
flag 75586 term 16 leader 2 nextIndex[0]: 105  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 18911 term 16 leader 2 nextIndex[1]: 105  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 105->104
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 105->104
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 95  matchIndex[0]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
flag 30398 term 16 leader 2 nextIndex[1]: 104  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
term 16 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 14 rf.commitIndex 99 rf.lastApplied 99
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
flag 33805 term 16 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 11994 term 16 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60745 term 16 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 23405 term 16 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98918 term 16 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 96395 term 16 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77079 term 16 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 3098 term 16 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
flag 41082 term 16 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 34594 term 16 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14843 term 16 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 33171 term 16 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
flag 70667 term 16 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 53526 term 16 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
flag 56744 term 16 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 19609 term 16 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
flag 26319 term 16 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 69420 term 16 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62928 term 16 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 21718 term 16 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
flag 82231 term 16 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 95778 term 16 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82498 term 16 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 46620 term 16 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
flag 74193 term 16 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 2547 term 16 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
flag 68879 term 16 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 4529 term 16 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
flag 84328 term 16 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 10259 term 16 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
flag 57556 term 16 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 11555 term 16 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
flag 59417 term 16 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 8959 term 16 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104}]
------------------------------------------------------
client write log 4680717639426700657 (index 105) to leader 2
flag 78508 term 16 leader 2 nextIndex[0]: 105  matchIndex[0]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 20693 term 16 leader 2 nextIndex[1]: 105  matchIndex[1]: 104
term 16 leader 2 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104} {4680717639426700657 16 105}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104} {4680717639426700657 16 105}]
------------------------------------------------------
flag 88046 term 16 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 16 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 4529 term 16 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 16 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104} {4680717639426700657 16 105}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104} {4680717639426700657 16 105}]
------------------------------------------------------
flag 64807 term 16 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 16 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 8349 term 16 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 16 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104} {4680717639426700657 16 105}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104} {4680717639426700657 16 105}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57726 term 16 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 16 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 63270 term 16 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 16 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
term 16 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104} {4680717639426700657 16 105}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104} {4680717639426700657 16 105}]
------------------------------------------------------
flag 90247 term 16 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 16 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 67995 term 16 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 16 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104} {4680717639426700657 16 105}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104} {4680717639426700657 16 105}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5403 term 16 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 16 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 4569 term 16 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 16 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104} {4680717639426700657 16 105}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104} {4680717639426700657 16 105}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3119064968522158829 (index 106) to leader 2
flag 52186 term 16 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 16 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
flag 56404 term 16 leader 2 nextIndex[1]: 106  matchIndex[1]: 105
term 16 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 105 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104} {4680717639426700657 16 105} {3119064968522158829 16 106}]
------------------------------------------------------
flag 83676 term 16 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 16 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 106 
------------------------------------------------------
flag 21938 term 16 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 16 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 106 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104} {4680717639426700657 16 105} {3119064968522158829 16 106}]
------------------------------------------------------
client write log 4470454438469176958 (index 107) to leader 2
client write log 6200807812275554599 (index 108) to leader 2
client write log 8757760294696529196 (index 109) to leader 2
client write log 4025949355643104327 (index 110) to leader 2
client write log 2795381363535734550 (index 111) to leader 2
client write log 5468890482012351447 (index 112) to leader 2
client write log 5993284506305819451 (index 113) to leader 2
client write log 8672884440691019901 (index 114) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34006 term 16 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 16 leader 2 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 16 leaderCommit: 106 
------------------------------------------------------
flag 66415 term 16 leader 2 nextIndex[1]: 107  matchIndex[1]: 106
term 16 leader 2 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 16 leaderCommit: 106 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 14 99} {5683091471237631909 14 100} {2201674905898309486 14 101} {1118921623585399316 14 102} {5326586816131954690 14 103} {4680717639426700657 14 104} {4680717639426700657 16 105} {3119064968522158829 16 106} {4470454438469176958 16 107} {6200807812275554599 16 108} {8757760294696529196 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114}]
------------------------------------------------------
term 16 Server2 start snapshot! index=109
term 16 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=114
-------------------------------------------------------------
term 16 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 67473 term 16 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 16 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114}]
------------------------------------------------------
term 16 Server1 start snapshot! index=109
term 16 server1 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=114
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4860808104063996263 (index 115) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 106  matchIndex[0]: 105
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 65162 term 16 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 16 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 16 leaderCommit: 114 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
term 17 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115}]
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 server 1 vote for server 2
term 18 server 0 vote for server 2
term 18 server 2 get vote from server 1
term 18 server 2 become leader
------------------------------------------------------
term 18 server 2 get outdate rpc reply from server 0
flag 37092 term 18 leader 2 nextIndex[0]: 116  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 83458 term 18 leader 2 nextIndex[1]: 116  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115}]
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 116->115
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 106  matchIndex[0]: 0
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 69285 term 18 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 18 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 16 rf.commitIndex 109 rf.lastApplied 109
term 18 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69240 term 18 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 55545 term 18 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115}]
------------------------------------------------------
flag 39980 term 18 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 8148 term 18 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115}]
------------------------------------------------------
flag 40791 term 18 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 63900 term 18 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115}]
------------------------------------------------------
flag 17177 term 18 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 96880 term 18 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115}]
------------------------------------------------------
flag 1668 term 18 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 19659 term 18 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115}]
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57423 term 18 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 25476 term 18 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115}]
------------------------------------------------------
flag 72314 term 18 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 36051 term 18 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 19031 term 18 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 64175 term 18 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 70334 term 18 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 10703 term 18 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 47843 term 18 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 30608 term 18 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 19 server 0 vote for server 1
term 19 server 1 get vote from server 0
term 19 server 1 become leader
------------------------------------------------------
flag 78035 term 18 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 27676 term 18 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 55780 term 19 leader 1 nextIndex[0]: 116  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 66049 term 19 leader 1 nextIndex[2]: 116  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115}]
------------------------------------------------------
client write log 3788024578978379597 (index 116) to leader 1
flag 76853 term 18 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 39729 term 18 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 74864 term 19 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 6999 term 19 leader 1 nextIndex[2]: 116  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115} {3788024578978379597 19 116}]
------------------------------------------------------
flag 49009 term 18 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 76706 term 18 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 9189 term 19 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 19 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 37708 term 19 leader 1 nextIndex[2]: 116  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115} {3788024578978379597 19 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 116->115
------------------------------------------------------
client write log 6723198295041567902 (index 117) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
flag 15946 term 18 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 leader 2 nextIndex[1]: 0  matchIndex[1]: 115
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 69983 term 19 leader 1 nextIndex[0]: 117  matchIndex[0]: 116
term 19 leader 1 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 64839 term 19 leader 1 nextIndex[2]: 116  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115} {3788024578978379597 19 116} {6723198295041567902 19 117}]
------------------------------------------------------
flag 32061 term 19 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 37745 term 19 leader 1 nextIndex[2]: 116  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 117 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=118
update matchIndex[0]=117
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115} {3788024578978379597 19 116} {6723198295041567902 19 117}]
------------------------------------------------------
flag 53476 term 18 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 18 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 leader 2 nextIndex[1]: 0  matchIndex[1]: 115
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
!!!!!!connect server 2
client write log 1857884561356413073 (index 118) to leader 1
flag 83818 term 19 leader 1 nextIndex[0]: 118  matchIndex[0]: 117
term 19 leader 1 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 22599 term 19 leader 1 nextIndex[2]: 116  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 117 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115} {3788024578978379597 19 116} {6723198295041567902 19 117} {1857884561356413073 19 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115} {3788024578978379597 19 116} {6723198295041567902 19 117} {1857884561356413073 19 118}]
------------------------------------------------------
flag 25165 term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 49607 term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115} {3788024578978379597 19 116} {6723198295041567902 19 117} {1857884561356413073 19 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115} {3788024578978379597 19 116} {6723198295041567902 19 117} {1857884561356413073 19 118}]
------------------------------------------------------
flag 87170 term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 32605 term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115} {3788024578978379597 19 116} {6723198295041567902 19 117} {1857884561356413073 19 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115} {3788024578978379597 19 116} {6723198295041567902 19 117} {1857884561356413073 19 118}]
------------------------------------------------------
term 19 server 2 not vote for server 1, 日志不够新
term 19 server 1 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75738 term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 55329 term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115} {3788024578978379597 19 116} {6723198295041567902 19 117} {1857884561356413073 19 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115} {3788024578978379597 19 116} {6723198295041567902 19 117} {1857884561356413073 19 118}]
------------------------------------------------------
flag 10538 term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 46052 term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115} {3788024578978379597 19 116} {6723198295041567902 19 117} {1857884561356413073 19 118}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115} {3788024578978379597 19 116} {6723198295041567902 19 117} {1857884561356413073 19 118}]
------------------------------------------------------
term 19 server 1 not vote for server 0, 任期不够新
term 19 server 0 get outdate rpc reply from server 1
flag 78770 term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 23152 term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115} {3788024578978379597 19 116} {6723198295041567902 19 117} {1857884561356413073 19 118}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115} {3788024578978379597 19 116} {6723198295041567902 19 117} {1857884561356413073 19 118}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2696237983600900805 (index 119) to leader 1
flag 53880 term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
flag 84441 term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 19 leaderCommit: 118 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 109} {4025949355643104327 16 110} {2795381363535734550 16 111} {5468890482012351447 16 112} {5993284506305819451 16 113} {8672884440691019901 16 114} {4860808104063996263 16 115} {3788024578978379597 19 116} {6723198295041567902 19 117} {1857884561356413073 19 118} {2696237983600900805 19 119}]
------------------------------------------------------
term 19 Server1 start snapshot! index=119
term 19 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
flag 95771 term 19 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
term 19 Server0 start snapshot! index=119
term 19 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
client write log 8589769791775803453 (index 120) to leader 1
client write log 411145516562153336 (index 121) to leader 1
client write log 8120061566659650702 (index 122) to leader 1
client write log 8053717161518206290 (index 123) to leader 1
client write log 6016118901970308568 (index 124) to leader 1
client write log 4108373172583458071 (index 125) to leader 1
client write log 3087511122598790544 (index 126) to leader 1
client write log 5678215129443908213 (index 127) to leader 1
client write log 346065773564654703 (index 128) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 119->118
------------------------------------------------------
flag 79446 term 19 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 0  matchIndex[2]: 118
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128}]
------------------------------------------------------
flag 54527 term 19 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 19 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 0  matchIndex[2]: 118
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 2
client write log 1731588908314563690 (index 129) to leader 1
term 19 server 1 not vote for server 2, 日志不够新
term 19 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 2 vote for server 1
term 21 server 0 vote for server 1
term 21 server 1 get vote from server 2
term 21 server 1 become leader
------------------------------------------------------
term 21 server 1 get outdate rpc reply from server 0
flag 45250 term 21 leader 1 nextIndex[0]: 130  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 55554 term 21 leader 1 nextIndex[2]: 130  matchIndex[2]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 130->129
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 130->129
------------------------------------------------------
flag 44671 term 21 leader 1 nextIndex[0]: 129  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 119  matchIndex[2]: 0
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 21 server 2 InstallSnapshot success
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
term 21 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
flag 42236 term 21 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 68863 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
flag 79367 term 21 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 78660 term 21 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
term 21 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94158 term 21 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 59901 term 21 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38150 term 21 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 80727 term 21 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25247 term 21 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 16783 term 21 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95360 term 21 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 63540 term 21 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
flag 71816 term 21 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 373 term 21 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
flag 40699 term 21 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 32666 term 21 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
term 21 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54732 term 21 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 85049 term 21 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51361 term 21 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 99876 term 21 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
flag 26236 term 21 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 11654 term 21 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 server 2 not vote for server 0, 任期不够新
term 21 server 0 get outdate rpc reply from server 2
flag 37724 term 21 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 44617 term 21 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
flag 86578 term 21 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 16791 term 21 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
flag 56541 term 21 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 2704 term 21 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42908 term 21 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 835 term 21 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
flag 885 term 21 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 51973 term 21 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28794 term 21 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 76829 term 21 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
flag 35347 term 21 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 46929 term 21 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129}]
------------------------------------------------------
client write log 1731588908314563690 (index 130) to leader 1
flag 61993 term 21 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 92090 term 21 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129} {1731588908314563690 21 130}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 119} {8589769791775803453 19 120} {411145516562153336 19 121} {8120061566659650702 19 122} {8053717161518206290 19 123} {6016118901970308568 19 124} {4108373172583458071 19 125} {3087511122598790544 19 126} {5678215129443908213 19 127} {346065773564654703 19 128} {1731588908314563690 19 129} {1731588908314563690 21 130}]
------------------------------------------------------
term 21 Server1 start snapshot! index=129
term 21 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
flag 87086 term 21 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 21 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
flag 49009 term 21 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 21 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {1731588908314563690 21 130}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {1731588908314563690 21 130}]
------------------------------------------------------
term 21 Server2 start snapshot! index=129
term 21 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
term 21 Server0 start snapshot! index=129
term 21 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
flag 93226 term 21 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 21 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
flag 73513 term 21 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 21 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {1731588908314563690 21 130}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {1731588908314563690 21 130}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63807 term 21 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 21 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
flag 45618 term 21 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 21 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {1731588908314563690 21 130}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {1731588908314563690 21 130}]
------------------------------------------------------
flag 52566 term 21 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 21 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
flag 840 term 21 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 21 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {1731588908314563690 21 130}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {1731588908314563690 21 130}]
------------------------------------------------------
flag 54952 term 21 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 21 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
flag 30491 term 21 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 21 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {1731588908314563690 21 130}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 19 129} {1731588908314563690 21 130}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7275087390817672984 (index 131) to leader 1
flag 59098 term 21 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 21 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
flag 65752 term 21 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 21 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 130 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {1731588908314563690 21 130} {7275087390817672984 21 131}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58042 term 21 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 21 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
flag 58922 term 21 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 21 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 19 129} {1731588908314563690 21 130} {7275087390817672984 21 131}]
------------------------------------------------------
client write log 891738062829212700 (index 132) to leader 1
client write log 76071277479912078 (index 133) to leader 1
client write log 333672474823364266 (index 134) to leader 1
client write log 3028995668111211830 (index 135) to leader 1
client write log 7225935046606016131 (index 136) to leader 1
client write log 1378892934103201948 (index 137) to leader 1
client write log 7758883158231850192 (index 138) to leader 1
client write log 1737346150294102273 (index 139) to leader 1
client write log 4446487107927391342 (index 140) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7517 term 21 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 21 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
flag 12459 term 21 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 21 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 129} {1731588908314563690 21 130} {7275087390817672984 21 131} {891738062829212700 21 132} {76071277479912078 21 133} {333672474823364266 21 134} {3028995668111211830 21 135} {7225935046606016131 21 136} {1378892934103201948 21 137} {7758883158231850192 21 138} {1737346150294102273 21 139} {4446487107927391342 21 140}]
------------------------------------------------------
term 21 Server1 start snapshot! index=139
term 21 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=140
-------------------------------------------------------------
flag 76929 term 21 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 21 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140}]
------------------------------------------------------
term 21 Server0 start snapshot! index=139
term 21 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=140
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3294175733816171127 (index 141) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54472 term 21 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 21 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
term 22 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 2 vote for server 1
term 23 server 0 vote for server 1
term 23 server 1 get vote from server 2
term 23 server 1 become leader
------------------------------------------------------
term 23 server 1 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48054 term 23 leader 1 nextIndex[0]: 142  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 41953 term 23 leader 1 nextIndex[2]: 142  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 142->141
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
flag 45709 term 23 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 131  matchIndex[2]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
term 23 server 2 InstallSnapshot success
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 21 rf.commitIndex 139 rf.lastApplied 139
term 23 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
flag 57248 term 23 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 14757 term 23 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 23 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27817 term 23 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 16306 term 23 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
flag 10990 term 23 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 63576 term 23 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
flag 37221 term 23 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 21398 term 23 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42317 term 23 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 41590 term 23 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62632 term 23 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 17508 term 23 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
flag 22175 term 23 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 68493 term 23 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
flag 58129 term 23 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 50247 term 23 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
flag 16806 term 23 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 1916 term 23 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29257 term 23 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 40979 term 23 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
flag 30324 term 23 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 51886 term 23 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
flag 78141 term 23 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 57058 term 23 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
flag 10115 term 23 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 51843 term 23 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
flag 81588 term 23 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 68608 term 23 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
flag 79788 term 23 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 62515 term 23 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
flag 77215 term 23 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 95767 term 23 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
flag 29415 term 23 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 30195 term 23 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3294175733816171127 (index 142) to leader 1
flag 16746 term 23 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 9394 term 23 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142}]
------------------------------------------------------
flag 53949 term 23 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 77570 term 23 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142}]
------------------------------------------------------
flag 94961 term 23 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 60033 term 23 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99685 term 23 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 5540 term 23 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142}]
------------------------------------------------------
flag 32191 term 23 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 80290 term 23 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142}]
------------------------------------------------------
flag 68021 term 23 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 11644 term 23 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142}]
------------------------------------------------------
flag 3608 term 23 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 68893 term 23 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 9781 term 23 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 85397 term 23 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 55610 term 23 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 14637 term 23 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 83702 term 23 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 58334 term 23 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 25028 term 23 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 34081 term 23 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 24 server 2 vote for server 0
term 24 server 0 get vote from server 2
term 24 server 0 become leader
------------------------------------------------------
flag 17335 term 24 leader 0 nextIndex[1]: 143  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 89639 term 24 leader 0 nextIndex[2]: 143  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142}]
------------------------------------------------------
client write log 3804709450536775079 (index 143) to leader 0
flag 34364 term 23 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 11522 term 23 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 143->142
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23812 term 24 leader 0 nextIndex[1]: 143  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 97737 term 24 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143}]
------------------------------------------------------
term 23 leader 1 nextIndex[0]: 0  matchIndex[0]: 142
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 9948 term 23 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 87773 term 24 leader 0 nextIndex[1]: 143  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 65779 term 24 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 24 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143}]
------------------------------------------------------
client write log 3656282472428397216 (index 144) to leader 0
term 23 leader 1 nextIndex[0]: 0  matchIndex[0]: 142
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 67478 term 23 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 59568 term 24 leader 0 nextIndex[1]: 143  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 35358 term 24 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 24 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
term 23 leader 1 nextIndex[0]: 0  matchIndex[0]: 142
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 43040 term 23 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 76239 term 24 leader 0 nextIndex[1]: 143  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 79477 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
!!!!!!connect server 1
client write log 4485794839557930749 (index 143) to leader 1
term 23 leader 1 nextIndex[0]: 0  matchIndex[0]: 142
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 9252 term 23 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 24 server 2 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 24 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69233 term 24 leader 0 nextIndex[1]: 143  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 144 
------------------------------------------------------
flag 7636 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
flag 91611 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 91815 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
flag 1884 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 58404 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
flag 66070 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 16093 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9984 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 49107 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
flag 69288 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 77648 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
flag 46006 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 47596 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
flag 51831 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 24576 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
flag 78318 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 36536 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88873 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 77288 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
flag 97954 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 31797 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
flag 72859 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 96045 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
term 24 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 24 server 1 not vote for server 2, 任期不够新
term 24 server 2 get outdate rpc reply from server 1
flag 88504 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 77284 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
flag 77215 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 78703 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
flag 48820 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 83240 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
flag 26813 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 56497 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
flag 77876 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 87143 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 145->144
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 144
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 8192 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
term 24 server 1 InstallSnapshot fail
rf.commitIndex 144 args.LastIncludedIndex 139
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 0 not vote for server 2, 任期不够新
term 24 server 2 get outdate rpc reply from server 0
flag 65761 term 24 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 32830 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91979 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 83364 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144}]
------------------------------------------------------
client write log 4485794839557930749 (index 145) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37868 term 24 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 13968 term 24 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144} {4485794839557930749 24 145}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144} {4485794839557930749 24 145}]
------------------------------------------------------
flag 33403 term 24 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 82853 term 24 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144} {4485794839557930749 24 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144} {4485794839557930749 24 145}]
------------------------------------------------------
flag 97832 term 24 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 16772 term 24 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144} {4485794839557930749 24 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144} {4485794839557930749 24 145}]
------------------------------------------------------
flag 32828 term 24 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 12396 term 24 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144} {4485794839557930749 24 145}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144} {4485794839557930749 24 145}]
------------------------------------------------------
flag 73179 term 24 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 73369 term 24 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144} {4485794839557930749 24 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144} {4485794839557930749 24 145}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40793 term 24 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 53457 term 24 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144} {4485794839557930749 24 145}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144} {4485794839557930749 24 145}]
------------------------------------------------------
flag 5021 term 24 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 59613 term 24 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144} {4485794839557930749 24 145}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144} {4485794839557930749 24 145}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6206934249417995340 (index 146) to leader 0
flag 75041 term 24 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 41780 term 24 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144} {4485794839557930749 24 145} {6206934249417995340 24 146}]
------------------------------------------------------
flag 40313 term 24 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 8259 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144} {4485794839557930749 24 145} {6206934249417995340 24 146}]
------------------------------------------------------
client write log 3801819191929729596 (index 147) to leader 0
client write log 72172698032926668 (index 148) to leader 0
client write log 4832538464209351434 (index 149) to leader 0
client write log 3356765566670825494 (index 150) to leader 0
client write log 4921609797107301204 (index 151) to leader 0
client write log 8714386955133998262 (index 152) to leader 0
client write log 6276270092914659569 (index 153) to leader 0
client write log 8226016057103398718 (index 154) to leader 0
client write log 6108147946403683924 (index 155) to leader 0
client write log 3116294882398196433 (index 156) to leader 0
client write log 5845921907256235225 (index 157) to leader 0
client write log 3658381973741456642 (index 158) to leader 0
flag 43446 term 24 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
flag 79102 term 24 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 24 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 21 139} {4446487107927391342 21 140} {3294175733816171127 21 141} {3294175733816171127 23 142} {3804709450536775079 24 143} {3656282472428397216 24 144} {4485794839557930749 24 145} {6206934249417995340 24 146} {3801819191929729596 24 147} {72172698032926668 24 148} {4832538464209351434 24 149} {3356765566670825494 24 150} {4921609797107301204 24 151} {8714386955133998262 24 152} {6276270092914659569 24 153} {8226016057103398718 24 154} {6108147946403683924 24 155} {3116294882398196433 24 156} {5845921907256235225 24 157} {3658381973741456642 24 158}]
------------------------------------------------------
term 24 Server0 start snapshot! index=149
term 24 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=158
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 85219 term 24 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 24 149} {3356765566670825494 24 150} {4921609797107301204 24 151} {8714386955133998262 24 152} {6276270092914659569 24 153} {8226016057103398718 24 154} {6108147946403683924 24 155} {3116294882398196433 24 156} {5845921907256235225 24 157} {3658381973741456642 24 158}]
------------------------------------------------------
term 24 Server2 start snapshot! index=149
term 24 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=158
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4797915383178543305 (index 159) to leader 0
term 24 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 98043 term 24 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 24 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 24 leaderCommit: 158 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 149} {3356765566670825494 24 150} {4921609797107301204 24 151} {8714386955133998262 24 152} {6276270092914659569 24 153} {8226016057103398718 24 154} {6108147946403683924 24 155} {3116294882398196433 24 156} {5845921907256235225 24 157} {3658381973741456642 24 158} {4797915383178543305 24 159}]
------------------------------------------------------
term 25 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 Server0 start snapshot! index=159
term 25 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 26 server 2 vote for server 0
term 26 server 1 vote for server 0
term 26 server 0 get vote from server 2
term 26 server 0 become leader
------------------------------------------------------
term 26 server 0 get outdate rpc reply from server 1
flag 46252 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 43682 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 26 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 160->159
------------------------------------------------------
term 26 Server2 start snapshot! index=159
term 26 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 26 leader 0 nextIndex[1]: 146  matchIndex[1]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
flag 61721 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 26 server 1 InstallSnapshot success
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 24 rf.commitIndex 159 rf.lastApplied 159
flag 4739 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 70212 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 26 server 1 not vote for server 0, 任期不够新
term 26 server 0 get outdate rpc reply from server 1
flag 24371 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 32296 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
flag 97713 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 740 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
flag 90912 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 31061 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 26 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50018 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 91408 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 24 159}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5560568034244117712 (index 160) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59146 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
flag 35777 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 159 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {5560568034244117712 26 160}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90081 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 40636 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 24 159} {5560568034244117712 26 160}]
------------------------------------------------------
client write log 3388305349629461487 (index 161) to leader 0
client write log 6485510439079290809 (index 162) to leader 0
client write log 7574299498456447395 (index 163) to leader 0
client write log 853664981622044924 (index 164) to leader 0
client write log 5635157247681093280 (index 165) to leader 0
client write log 4457705740274339226 (index 166) to leader 0
client write log 8843516554121041168 (index 167) to leader 0
client write log 7947583604301020026 (index 168) to leader 0
client write log 1896060132172463782 (index 169) to leader 0
client write log 3438919532884994390 (index 170) to leader 0
client write log 764676827608647530 (index 171) to leader 0
flag 84864 term 26 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 160 
------------------------------------------------------
flag 20068 term 26 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 26 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 159} {5560568034244117712 26 160} {3388305349629461487 26 161} {6485510439079290809 26 162} {7574299498456447395 26 163} {853664981622044924 26 164} {5635157247681093280 26 165} {4457705740274339226 26 166} {8843516554121041168 26 167} {7947583604301020026 26 168} {1896060132172463782 26 169} {3438919532884994390 26 170} {764676827608647530 26 171}]
------------------------------------------------------
term 26 Server0 start snapshot! index=169
term 26 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=171
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 160->159
------------------------------------------------------
term 26 leader 0 nextIndex[1]: 0  matchIndex[1]: 159
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 52079 term 26 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 26 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171}]
------------------------------------------------------
term 26 Server2 start snapshot! index=169
term 26 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=171
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3822457315562738676 (index 172) to leader 0
term 26 server 2 not vote for server 1, 日志不够新
term 26 server 0 not vote for server 1, 日志不够新
term 28 server 2 vote for server 0
term 28 server 0 get vote from server 2
term 28 server 0 become leader
------------------------------------------------------
term 28 server 1 vote for server 0
term 28 server 0 get outdate rpc reply from server 1
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24361 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 99643 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 173->172
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 173->172
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 160  matchIndex[1]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 90225 term 28 leader 0 nextIndex[2]: 172  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
term 28 server 1 InstallSnapshot success
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 26 rf.commitIndex 169 rf.lastApplied 169
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68036 term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 29672 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
flag 67628 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 82283 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
flag 86677 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 81497 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
flag 75745 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 59725 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
flag 34056 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 65476 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
flag 55817 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 80600 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
flag 70553 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 9423 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
flag 65774 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 62830 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8854 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 12935 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
flag 20169 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 89039 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
flag 40851 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 13366 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
flag 39160 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 93804 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
flag 97762 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 86618 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
flag 75979 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 65406 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37077 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 79562 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
flag 79738 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 89402 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
flag 46073 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 18886 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
flag 80426 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 57055 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=171
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172}]
------------------------------------------------------
client write log 3822457315562738676 (index 173) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34402 term 28 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
flag 45517 term 28 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 28 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 26 leaderCommit: 171 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172} {3822457315562738676 28 173}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172} {3822457315562738676 28 173}]
------------------------------------------------------
flag 96416 term 28 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 96362 term 28 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172} {3822457315562738676 28 173}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172} {3822457315562738676 28 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34575 term 28 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 53727 term 28 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172} {3822457315562738676 28 173}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172} {3822457315562738676 28 173}]
------------------------------------------------------
flag 1561 term 28 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 21449 term 28 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172} {3822457315562738676 28 173}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172} {3822457315562738676 28 173}]
------------------------------------------------------
flag 60771 term 28 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 83164 term 28 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172} {3822457315562738676 28 173}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172} {3822457315562738676 28 173}]
------------------------------------------------------
flag 35292 term 28 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 32255 term 28 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172} {3822457315562738676 28 173}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172} {3822457315562738676 28 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30415 term 28 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 87798 term 28 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172} {3822457315562738676 28 173}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=173
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172} {3822457315562738676 28 173}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 69947 term 28 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 61298 term 28 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 37644 term 28 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 1400 term 28 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 72645 term 28 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 44003 term 28 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
term 29 server 2 vote for server 1
term 29 server 1 get vote from server 2
term 29 server 1 become leader
------------------------------------------------------
flag 81511 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 40291 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172} {3822457315562738676 28 173}]
------------------------------------------------------
flag 87719 term 28 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 11230 term 28 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
client write log 759795014651573523 (index 174) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7848 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 54856 term 29 leader 1 nextIndex[2]: 174  matchIndex[2]: 173
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172} {3822457315562738676 28 173} {759795014651573523 29 174}]
------------------------------------------------------
flag 81401 term 28 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 74300 term 28 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 83231 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 91419 term 29 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=175
update matchIndex[2]=174
update leader CommitIndex=174
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172} {3822457315562738676 28 173} {759795014651573523 29 174}]
------------------------------------------------------
client write log 8807428284184305777 (index 175) to leader 1
client write log 1010051806301405491 (index 176) to leader 1
client write log 3840414734094414471 (index 177) to leader 1
client write log 7600909664920699137 (index 178) to leader 1
client write log 8871599711088748667 (index 179) to leader 1
client write log 2778569424182610122 (index 180) to leader 1
client write log 8459246530136513323 (index 181) to leader 1
client write log 9156861258840537646 (index 182) to leader 1
client write log 3562063317510674098 (index 183) to leader 1
client write log 1721029042675096559 (index 184) to leader 1
client write log 9186600582491567323 (index 185) to leader 1
client write log 8933905971610757831 (index 186) to leader 1
client write log 7547881485914534688 (index 187) to leader 1
flag 52576 term 28 leader 0 nextIndex[1]: 174  matchIndex[1]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
flag 89154 term 28 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 174->173
------------------------------------------------------
flag 98099 term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 92392 term 29 leader 1 nextIndex[2]: 175  matchIndex[2]: 174
term 29 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 29 leaderCommit: 174 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 26 169} {3438919532884994390 26 170} {764676827608647530 26 171} {3822457315562738676 26 172} {3822457315562738676 28 173} {759795014651573523 29 174} {8807428284184305777 29 175} {1010051806301405491 29 176} {3840414734094414471 29 177} {7600909664920699137 29 178} {8871599711088748667 29 179} {2778569424182610122 29 180} {8459246530136513323 29 181} {9156861258840537646 29 182} {3562063317510674098 29 183} {1721029042675096559 29 184} {9186600582491567323 29 185} {8933905971610757831 29 186} {7547881485914534688 29 187}]
------------------------------------------------------
term 29 Server1 start snapshot! index=179
term 29 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=187
-------------------------------------------------------------
term 28 leader 0 nextIndex[1]: 0  matchIndex[1]: 173
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 97885 term 28 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 0
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 24868 term 29 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 29 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {2778569424182610122 29 180} {8459246530136513323 29 181} {9156861258840537646 29 182} {3562063317510674098 29 183} {1721029042675096559 29 184} {9186600582491567323 29 185} {8933905971610757831 29 186} {7547881485914534688 29 187}]
------------------------------------------------------
term 29 Server2 start snapshot! index=179
term 29 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=187
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4552032352706485761 (index 188) to leader 1
term 28 leader 0 nextIndex[1]: 0  matchIndex[1]: 173
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 93478 term 28 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 28 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 28 leaderCommit: 173 
------------------------------------------------------
term 29 server 2 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 29 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 server 0 not vote for server 1, 任期不够新
term 29 server 1 get outdate rpc reply from server 0
term 29 leader 1 nextIndex[0]: 174  matchIndex[0]: 0
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 23285 term 29 leader 1 nextIndex[2]: 188  matchIndex[2]: 187
term 29 leader 1 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {2778569424182610122 29 180} {8459246530136513323 29 181} {9156861258840537646 29 182} {3562063317510674098 29 183} {1721029042675096559 29 184} {9186600582491567323 29 185} {8933905971610757831 29 186} {7547881485914534688 29 187} {4552032352706485761 29 188}]
------------------------------------------------------
term 29 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 29 rf.commitIndex 179 rf.lastApplied 179
term 29 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
flag 92214 term 29 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 29 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
flag 59334 term 29 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 29 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {2778569424182610122 29 180} {8459246530136513323 29 181} {9156861258840537646 29 182} {3562063317510674098 29 183} {1721029042675096559 29 184} {9186600582491567323 29 185} {8933905971610757831 29 186} {7547881485914534688 29 187} {4552032352706485761 29 188}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {2778569424182610122 29 180} {8459246530136513323 29 181} {9156861258840537646 29 182} {3562063317510674098 29 183} {1721029042675096559 29 184} {9186600582491567323 29 185} {8933905971610757831 29 186} {7547881485914534688 29 187} {4552032352706485761 29 188}]
------------------------------------------------------
flag 89696 term 29 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 29 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
flag 49934 term 29 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 29 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {2778569424182610122 29 180} {8459246530136513323 29 181} {9156861258840537646 29 182} {3562063317510674098 29 183} {1721029042675096559 29 184} {9186600582491567323 29 185} {8933905971610757831 29 186} {7547881485914534688 29 187} {4552032352706485761 29 188}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {2778569424182610122 29 180} {8459246530136513323 29 181} {9156861258840537646 29 182} {3562063317510674098 29 183} {1721029042675096559 29 184} {9186600582491567323 29 185} {8933905971610757831 29 186} {7547881485914534688 29 187} {4552032352706485761 29 188}]
------------------------------------------------------
flag 56582 term 29 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 29 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
flag 80233 term 29 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 29 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {2778569424182610122 29 180} {8459246530136513323 29 181} {9156861258840537646 29 182} {3562063317510674098 29 183} {1721029042675096559 29 184} {9186600582491567323 29 185} {8933905971610757831 29 186} {7547881485914534688 29 187} {4552032352706485761 29 188}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {2778569424182610122 29 180} {8459246530136513323 29 181} {9156861258840537646 29 182} {3562063317510674098 29 183} {1721029042675096559 29 184} {9186600582491567323 29 185} {8933905971610757831 29 186} {7547881485914534688 29 187} {4552032352706485761 29 188}]
------------------------------------------------------
flag 31276 term 29 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 29 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
flag 54848 term 29 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 29 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {2778569424182610122 29 180} {8459246530136513323 29 181} {9156861258840537646 29 182} {3562063317510674098 29 183} {1721029042675096559 29 184} {9186600582491567323 29 185} {8933905971610757831 29 186} {7547881485914534688 29 187} {4552032352706485761 29 188}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {2778569424182610122 29 180} {8459246530136513323 29 181} {9156861258840537646 29 182} {3562063317510674098 29 183} {1721029042675096559 29 184} {9186600582491567323 29 185} {8933905971610757831 29 186} {7547881485914534688 29 187} {4552032352706485761 29 188}]
------------------------------------------------------
flag 48575 term 29 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 29 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
flag 68858 term 29 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 29 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {2778569424182610122 29 180} {8459246530136513323 29 181} {9156861258840537646 29 182} {3562063317510674098 29 183} {1721029042675096559 29 184} {9186600582491567323 29 185} {8933905971610757831 29 186} {7547881485914534688 29 187} {4552032352706485761 29 188}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {2778569424182610122 29 180} {8459246530136513323 29 181} {9156861258840537646 29 182} {3562063317510674098 29 183} {1721029042675096559 29 184} {9186600582491567323 29 185} {8933905971610757831 29 186} {7547881485914534688 29 187} {4552032352706485761 29 188}]
------------------------------------------------------
flag 30215 term 29 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 29 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
flag 12130 term 29 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 29 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {2778569424182610122 29 180} {8459246530136513323 29 181} {9156861258840537646 29 182} {3562063317510674098 29 183} {1721029042675096559 29 184} {9186600582491567323 29 185} {8933905971610757831 29 186} {7547881485914534688 29 187} {4552032352706485761 29 188}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {2778569424182610122 29 180} {8459246530136513323 29 181} {9156861258840537646 29 182} {3562063317510674098 29 183} {1721029042675096559 29 184} {9186600582491567323 29 185} {8933905971610757831 29 186} {7547881485914534688 29 187} {4552032352706485761 29 188}]
------------------------------------------------------
flag 71850 term 29 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 29 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
flag 9757 term 29 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 29 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {2778569424182610122 29 180} {8459246530136513323 29 181} {9156861258840537646 29 182} {3562063317510674098 29 183} {1721029042675096559 29 184} {9186600582491567323 29 185} {8933905971610757831 29 186} {7547881485914534688 29 187} {4552032352706485761 29 188}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {2778569424182610122 29 180} {8459246530136513323 29 181} {9156861258840537646 29 182} {3562063317510674098 29 183} {1721029042675096559 29 184} {9186600582491567323 29 185} {8933905971610757831 29 186} {7547881485914534688 29 187} {4552032352706485761 29 188}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5962029117448683396 (index 189) to leader 1
flag 44737 term 29 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 29 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
flag 33503 term 29 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 29 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 29 leaderCommit: 188 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 29 179} {2778569424182610122 29 180} {8459246530136513323 29 181} {9156861258840537646 29 182} {3562063317510674098 29 183} {1721029042675096559 29 184} {9186600582491567323 29 185} {8933905971610757831 29 186} {7547881485914534688 29 187} {4552032352706485761 29 188} {5962029117448683396 29 189}]
------------------------------------------------------
term 29 Server1 start snapshot! index=189
term 29 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
flag 38660 term 29 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 29 189}]
------------------------------------------------------
term 29 Server0 start snapshot! index=189
term 29 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
client write log 3486133599965346929 (index 190) to leader 1
client write log 1288064785550115308 (index 191) to leader 1
client write log 1601652085660077503 (index 192) to leader 1
client write log 1025606362532248355 (index 193) to leader 1
client write log 5206501237891478848 (index 194) to leader 1
client write log 3898103817432346284 (index 195) to leader 1
client write log 271619032412650574 (index 196) to leader 1
client write log 7161562576553698003 (index 197) to leader 1
client write log 2316477421276649007 (index 198) to leader 1
client write log 5494960525684434512 (index 199) to leader 1
client write log 7890780134821971401 (index 200) to leader 1
client write log 2526176462444037206 (index 201) to leader 1
client write log 8161167867263971692 (index 202) to leader 1
flag 33565 term 29 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 29 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 29 leaderCommit: 189 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 189} {3486133599965346929 29 190} {1288064785550115308 29 191} {1601652085660077503 29 192} {1025606362532248355 29 193} {5206501237891478848 29 194} {3898103817432346284 29 195} {271619032412650574 29 196} {7161562576553698003 29 197} {2316477421276649007 29 198} {5494960525684434512 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202}]
------------------------------------------------------
term 29 Server1 start snapshot! index=199
term 29 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=202
-------------------------------------------------------------
flag 37599 term 29 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 29 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 189  matchIndex[2]: 188
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202}]
------------------------------------------------------
term 29 Server0 start snapshot! index=199
term 29 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=202
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6256293736086395644 (index 203) to leader 1
term 29 server 1 not vote for server 2, 日志不够新
term 29 server 0 not vote for server 2, 日志不够新
term 31 server 2 vote for server 1
term 31 server 1 get vote from server 2
term 31 server 0 vote for server 1
term 31 server 1 become leader
------------------------------------------------------
term 31 server 1 get outdate rpc reply from server 0
flag 64409 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 3292 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 204->203
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 204->203
------------------------------------------------------
flag 912 term 31 leader 1 nextIndex[0]: 203  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 189  matchIndex[2]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
term 31 server 2 InstallSnapshot success
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 29 rf.commitIndex 199 rf.lastApplied 199
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68795 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 56266 term 31 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
flag 19316 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 73273 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
flag 85510 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 30944 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 2 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 2
flag 18808 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 20521 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90376 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 40126 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
flag 76812 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 96194 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11395 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 63947 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
flag 98686 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 15068 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
flag 11804 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 27446 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78091 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 28472 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41125 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 18212 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
flag 26150 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 54517 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
flag 67981 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 65668 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
flag 61746 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 35474 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77098 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 26723 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72251 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 62933 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
flag 12793 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 32750 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89320 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 11189 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6256293736086395644 (index 204) to leader 1
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10931 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 67571 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203} {6256293736086395644 31 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203} {6256293736086395644 31 204}]
------------------------------------------------------
flag 10009 term 31 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 31 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
flag 70614 term 31 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 31 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203} {6256293736086395644 31 204}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203} {6256293736086395644 31 204}]
------------------------------------------------------
flag 89693 term 31 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 31 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
flag 82457 term 31 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 31 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203} {6256293736086395644 31 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203} {6256293736086395644 31 204}]
------------------------------------------------------
flag 18244 term 31 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 31 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
flag 16663 term 31 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 31 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203} {6256293736086395644 31 204}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203} {6256293736086395644 31 204}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12687 term 31 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 31 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
flag 93958 term 31 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 31 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203} {6256293736086395644 31 204}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203} {6256293736086395644 31 204}]
------------------------------------------------------
flag 24599 term 31 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 31 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
flag 69430 term 31 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 31 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
term 31 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203} {6256293736086395644 31 204}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203} {6256293736086395644 31 204}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7624420155106851290 (index 205) to leader 1
flag 87508 term 31 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 31 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
flag 18455 term 31 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 31 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203} {6256293736086395644 31 204} {7624420155106851290 31 205}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37618 term 31 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 31 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 191 term 31 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 31 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=206
update matchIndex[0]=205
update leader CommitIndex=205
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203} {6256293736086395644 31 204} {7624420155106851290 31 205}]
------------------------------------------------------
client write log 3336982308152225239 (index 206) to leader 1
client write log 1860371568485131879 (index 207) to leader 1
client write log 8804811354094941496 (index 208) to leader 1
client write log 8416561299555608563 (index 209) to leader 1
client write log 6087818848106928737 (index 210) to leader 1
client write log 4571597055587088217 (index 211) to leader 1
client write log 322276124212631916 (index 212) to leader 1
client write log 2559633832006045723 (index 213) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49146 term 31 leader 1 nextIndex[0]: 206  matchIndex[0]: 205
term 31 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
flag 32312 term 31 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 31 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 31 leaderCommit: 205 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 29 199} {7890780134821971401 29 200} {2526176462444037206 29 201} {8161167867263971692 29 202} {6256293736086395644 29 203} {6256293736086395644 31 204} {7624420155106851290 31 205} {3336982308152225239 31 206} {1860371568485131879 31 207} {8804811354094941496 31 208} {8416561299555608563 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213}]
------------------------------------------------------
term 31 Server1 start snapshot! index=209
term 31 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=213
-------------------------------------------------------------
term 31 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18131 term 31 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 31 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 205  matchIndex[2]: 204
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213}]
------------------------------------------------------
term 31 Server0 start snapshot! index=209
term 31 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=213
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8403069585114011319 (index 214) to leader 1
term 31 server 1 not vote for server 2, 日志不够新
term 31 server 0 not vote for server 2, 日志不够新
term 33 server 2 vote for server 1
term 33 server 1 get vote from server 2
term 33 server 1 become leader
------------------------------------------------------
term 33 server 0 vote for server 1
term 33 server 1 get outdate rpc reply from server 0
flag 11942 term 33 leader 1 nextIndex[0]: 215  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 24621 term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 215->214
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 215->214
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94155 term 33 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 205  matchIndex[2]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 31 rf.commitIndex 209 rf.lastApplied 209
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86933 term 33 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 97566 term 33 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 33 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
flag 3471 term 33 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 42880 term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
flag 60251 term 33 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 22626 term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
flag 30494 term 33 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 38093 term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
flag 47676 term 33 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 67844 term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35412 term 33 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 80340 term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
flag 96815 term 33 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 49824 term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
flag 62819 term 33 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 79975 term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
flag 92537 term 33 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 35820 term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
flag 57490 term 33 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 85394 term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
flag 65532 term 33 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 20119 term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65911 term 33 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 30107 term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
flag 3501 term 33 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 72247 term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
flag 46288 term 33 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 93505 term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
flag 43943 term 33 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 50987 term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
flag 85039 term 33 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 91525 term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
flag 22823 term 33 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 1241 term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
flag 82689 term 33 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 75059 term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214}]
------------------------------------------------------
client write log 8403069585114011319 (index 215) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97070 term 33 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 52971 term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 33 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214} {8403069585114011319 33 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214} {8403069585114011319 33 215}]
------------------------------------------------------
flag 83264 term 33 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 28637 term 33 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214} {8403069585114011319 33 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214} {8403069585114011319 33 215}]
------------------------------------------------------
flag 56174 term 33 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 97407 term 33 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214} {8403069585114011319 33 215}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214} {8403069585114011319 33 215}]
------------------------------------------------------
term 33 server 0 not vote for server 1, 任期不够新
term 33 server 1 get outdate rpc reply from server 0
flag 4126 term 33 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 95635 term 33 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214} {8403069585114011319 33 215}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214} {8403069585114011319 33 215}]
------------------------------------------------------
flag 35718 term 33 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 57142 term 33 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214} {8403069585114011319 33 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214} {8403069585114011319 33 215}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78279 term 33 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 77892 term 33 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
term 33 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214} {8403069585114011319 33 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214} {8403069585114011319 33 215}]
------------------------------------------------------
flag 25545 term 33 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 18089 term 33 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214} {8403069585114011319 33 215}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214} {8403069585114011319 33 215}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 98958 term 33 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 47471 term 33 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 88415 term 33 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 94828 term 33 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 86194 term 33 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 98785 term 33 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 34 server 0 vote for server 2
term 34 server 2 get vote from server 0
term 34 server 2 become leader
------------------------------------------------------
flag 68054 term 34 leader 2 nextIndex[0]: 216  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 51846 term 34 leader 2 nextIndex[1]: 216  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214} {8403069585114011319 33 215}]
------------------------------------------------------
client write log 5324093200596159452 (index 216) to leader 2
flag 15758 term 33 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 20923 term 33 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 36980 term 34 leader 2 nextIndex[0]: 216  matchIndex[0]: 215
term 34 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 14953 term 34 leader 2 nextIndex[1]: 216  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214} {8403069585114011319 33 215} {5324093200596159452 34 216}]
------------------------------------------------------
flag 63289 term 33 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 2683 term 33 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 65350 term 34 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 34 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 30517 term 34 leader 2 nextIndex[1]: 216  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214} {8403069585114011319 33 215} {5324093200596159452 34 216}]
------------------------------------------------------
flag 40202 term 33 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 87039 term 33 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
client write log 3010180295719575730 (index 217) to leader 2
client write log 195517110239173775 (index 218) to leader 2
client write log 6126672939674400472 (index 219) to leader 2
client write log 4558640503153043994 (index 220) to leader 2
client write log 7043147487738719868 (index 221) to leader 2
client write log 1478805889883657327 (index 222) to leader 2
client write log 3035985577315962921 (index 223) to leader 2
client write log 6728044633690018313 (index 224) to leader 2
client write log 5436305138205239223 (index 225) to leader 2
client write log 2252717323263584607 (index 226) to leader 2
flag 18589 term 34 leader 2 nextIndex[0]: 217  matchIndex[0]: 216
term 34 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 34 leaderCommit: 216 
------------------------------------------------------
flag 80320 term 34 leader 2 nextIndex[1]: 216  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 31 209} {6087818848106928737 31 210} {4571597055587088217 31 211} {322276124212631916 31 212} {2559633832006045723 31 213} {8403069585114011319 31 214} {8403069585114011319 33 215} {5324093200596159452 34 216} {3010180295719575730 34 217} {195517110239173775 34 218} {6126672939674400472 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
term 34 Server2 start snapshot! index=219
term 34 server2 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=226
-------------------------------------------------------------
flag 57320 term 33 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 41697 term 33 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 10383 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 216  matchIndex[1]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
flag 40748 term 33 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
flag 9439 term 33 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 33 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 33 leaderCommit: 215 
------------------------------------------------------
term 34 Server0 start snapshot! index=219
term 34 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=226
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8537198928198507421 (index 216) to leader 1
flag 32206 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 216  matchIndex[1]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
term 34 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 34 rf.commitIndex 219 rf.lastApplied 219
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83945 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 39762 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48265 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 99182 term 34 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81344 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 81849 term 34 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
flag 49818 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 40216 term 34 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
flag 70367 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 58894 term 34 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 227->226
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61605 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 0  matchIndex[1]: 226
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 1 InstallSnapshot fail
rf.commitIndex 226 args.LastIncludedIndex 219
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
flag 26883 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 99886 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
flag 85869 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 16569 term 34 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
flag 69366 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 3328 term 34 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
flag 14469 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 95989 term 34 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
flag 70557 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 46954 term 34 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
flag 24930 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 70447 term 34 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
flag 71830 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 60779 term 34 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
flag 57920 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 50888 term 34 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
flag 3441 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 34868 term 34 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
flag 63447 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 18320 term 34 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
flag 64779 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 76007 term 34 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 227->226
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
flag 44677 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 86560 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
update nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
flag 40045 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 57064 term 34 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226}]
------------------------------------------------------
client write log 8537198928198507421 (index 227) to leader 2
flag 57281 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 10127 term 34 leader 2 nextIndex[1]: 227  matchIndex[1]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226} {8537198928198507421 34 227}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226} {8537198928198507421 34 227}]
------------------------------------------------------
flag 89619 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 41767 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226} {8537198928198507421 34 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226} {8537198928198507421 34 227}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77573 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 54150 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226} {8537198928198507421 34 227}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226} {8537198928198507421 34 227}]
------------------------------------------------------
flag 70408 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 65825 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226} {8537198928198507421 34 227}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226} {8537198928198507421 34 227}]
------------------------------------------------------
flag 49702 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 46933 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226} {8537198928198507421 34 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226} {8537198928198507421 34 227}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94410 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 53145 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226} {8537198928198507421 34 227}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226} {8537198928198507421 34 227}]
------------------------------------------------------
flag 51472 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 69782 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226} {8537198928198507421 34 227}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226} {8537198928198507421 34 227}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3482439028055684639 (index 228) to leader 2
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33835 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
flag 52660 term 34 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 227 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226} {8537198928198507421 34 227} {3482439028055684639 34 228}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 229->228
------------------------------------------------------
flag 84452 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 0  matchIndex[1]: 228
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 1 InstallSnapshot fail
rf.commitIndex 227 args.LastIncludedIndex 219
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54056 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
flag 53650 term 34 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 34 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226} {8537198928198507421 34 227} {3482439028055684639 34 228}]
------------------------------------------------------
client write log 6534131340404213111 (index 229) to leader 2
client write log 1526387797230367328 (index 230) to leader 2
client write log 3468855935655180895 (index 231) to leader 2
client write log 3404676768620392028 (index 232) to leader 2
client write log 2737950520152673876 (index 233) to leader 2
client write log 9049813693565135531 (index 234) to leader 2
client write log 2251000029987594533 (index 235) to leader 2
client write log 2022134916703309517 (index 236) to leader 2
flag 86217 term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
flag 90141 term 34 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 34 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 34 leaderCommit: 228 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 219} {4558640503153043994 34 220} {7043147487738719868 34 221} {1478805889883657327 34 222} {3035985577315962921 34 223} {6728044633690018313 34 224} {5436305138205239223 34 225} {2252717323263584607 34 226} {8537198928198507421 34 227} {3482439028055684639 34 228} {6534131340404213111 34 229} {1526387797230367328 34 230} {3468855935655180895 34 231} {3404676768620392028 34 232} {2737950520152673876 34 233} {9049813693565135531 34 234} {2251000029987594533 34 235} {2022134916703309517 34 236}]
------------------------------------------------------
term 34 Server2 start snapshot! index=229
term 34 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=236
-------------------------------------------------------------
term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
flag 98057 term 34 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 34 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {1526387797230367328 34 230} {3468855935655180895 34 231} {3404676768620392028 34 232} {2737950520152673876 34 233} {9049813693565135531 34 234} {2251000029987594533 34 235} {2022134916703309517 34 236}]
------------------------------------------------------
term 34 Server1 start snapshot! index=229
term 34 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=236
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6720358597414273228 (index 237) to leader 2
term 34 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
flag 49592 term 34 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 34 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 34 leaderCommit: 236 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {1526387797230367328 34 230} {3468855935655180895 34 231} {3404676768620392028 34 232} {2737950520152673876 34 233} {9049813693565135531 34 234} {2251000029987594533 34 235} {2022134916703309517 34 236} {6720358597414273228 34 237}]
------------------------------------------------------
term 35 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 1 vote for server 2
term 36 server 2 get vote from server 1
term 36 server 2 become leader
------------------------------------------------------
term 36 server 0 vote for server 2
term 36 server 2 get outdate rpc reply from server 0
flag 67733 term 36 leader 2 nextIndex[0]: 238  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 15601 term 36 leader 2 nextIndex[1]: 238  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 238->237
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {1526387797230367328 34 230} {3468855935655180895 34 231} {3404676768620392028 34 232} {2737950520152673876 34 233} {9049813693565135531 34 234} {2251000029987594533 34 235} {2022134916703309517 34 236} {6720358597414273228 34 237}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 228  matchIndex[0]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
flag 60560 term 36 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 36 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 0 InstallSnapshot success
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 34 rf.commitIndex 229 rf.lastApplied 229
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {1526387797230367328 34 230} {3468855935655180895 34 231} {3404676768620392028 34 232} {2737950520152673876 34 233} {9049813693565135531 34 234} {2251000029987594533 34 235} {2022134916703309517 34 236} {6720358597414273228 34 237}]
------------------------------------------------------
flag 20759 term 36 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 36 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 16838 term 36 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 36 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {1526387797230367328 34 230} {3468855935655180895 34 231} {3404676768620392028 34 232} {2737950520152673876 34 233} {9049813693565135531 34 234} {2251000029987594533 34 235} {2022134916703309517 34 236} {6720358597414273228 34 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {1526387797230367328 34 230} {3468855935655180895 34 231} {3404676768620392028 34 232} {2737950520152673876 34 233} {9049813693565135531 34 234} {2251000029987594533 34 235} {2022134916703309517 34 236} {6720358597414273228 34 237}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69016 term 36 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 21415 term 36 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 36 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {1526387797230367328 34 230} {3468855935655180895 34 231} {3404676768620392028 34 232} {2737950520152673876 34 233} {9049813693565135531 34 234} {2251000029987594533 34 235} {2022134916703309517 34 236} {6720358597414273228 34 237}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {1526387797230367328 34 230} {3468855935655180895 34 231} {3404676768620392028 34 232} {2737950520152673876 34 233} {9049813693565135531 34 234} {2251000029987594533 34 235} {2022134916703309517 34 236} {6720358597414273228 34 237}]
------------------------------------------------------
flag 7059 term 36 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 76670 term 36 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 36 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {1526387797230367328 34 230} {3468855935655180895 34 231} {3404676768620392028 34 232} {2737950520152673876 34 233} {9049813693565135531 34 234} {2251000029987594533 34 235} {2022134916703309517 34 236} {6720358597414273228 34 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {1526387797230367328 34 230} {3468855935655180895 34 231} {3404676768620392028 34 232} {2737950520152673876 34 233} {9049813693565135531 34 234} {2251000029987594533 34 235} {2022134916703309517 34 236} {6720358597414273228 34 237}]
------------------------------------------------------
flag 95588 term 36 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 83242 term 36 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 36 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {1526387797230367328 34 230} {3468855935655180895 34 231} {3404676768620392028 34 232} {2737950520152673876 34 233} {9049813693565135531 34 234} {2251000029987594533 34 235} {2022134916703309517 34 236} {6720358597414273228 34 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {1526387797230367328 34 230} {3468855935655180895 34 231} {3404676768620392028 34 232} {2737950520152673876 34 233} {9049813693565135531 34 234} {2251000029987594533 34 235} {2022134916703309517 34 236} {6720358597414273228 34 237}]
------------------------------------------------------
flag 15455 term 36 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 79324 term 36 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 36 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {1526387797230367328 34 230} {3468855935655180895 34 231} {3404676768620392028 34 232} {2737950520152673876 34 233} {9049813693565135531 34 234} {2251000029987594533 34 235} {2022134916703309517 34 236} {6720358597414273228 34 237}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {1526387797230367328 34 230} {3468855935655180895 34 231} {3404676768620392028 34 232} {2737950520152673876 34 233} {9049813693565135531 34 234} {2251000029987594533 34 235} {2022134916703309517 34 236} {6720358597414273228 34 237}]
------------------------------------------------------
flag 26385 term 36 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 87540 term 36 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 36 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {1526387797230367328 34 230} {3468855935655180895 34 231} {3404676768620392028 34 232} {2737950520152673876 34 233} {9049813693565135531 34 234} {2251000029987594533 34 235} {2022134916703309517 34 236} {6720358597414273228 34 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {1526387797230367328 34 230} {3468855935655180895 34 231} {3404676768620392028 34 232} {2737950520152673876 34 233} {9049813693565135531 34 234} {2251000029987594533 34 235} {2022134916703309517 34 236} {6720358597414273228 34 237}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61237 term 36 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 29055 term 36 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 36 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {1526387797230367328 34 230} {3468855935655180895 34 231} {3404676768620392028 34 232} {2737950520152673876 34 233} {9049813693565135531 34 234} {2251000029987594533 34 235} {2022134916703309517 34 236} {6720358597414273228 34 237}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {1526387797230367328 34 230} {3468855935655180895 34 231} {3404676768620392028 34 232} {2737950520152673876 34 233} {9049813693565135531 34 234} {2251000029987594533 34 235} {2022134916703309517 34 236} {6720358597414273228 34 237}]
------------------------------------------------------
term 36 server 1 not vote for server 2, 任期不够新
term 36 server 2 get outdate rpc reply from server 1
!!!!!!diconnect server 0
client write log 8428710224724836158 (index 238) to leader 2
flag 41969 term 36 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
flag 78953 term 36 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 36 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 237 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1526387797230367328 34 230} {3468855935655180895 34 231} {3404676768620392028 34 232} {2737950520152673876 34 233} {9049813693565135531 34 234} {2251000029987594533 34 235} {2022134916703309517 34 236} {6720358597414273228 34 237} {8428710224724836158 36 238}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95508 term 36 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 46457 term 36 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 238 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 34 229} {1526387797230367328 34 230} {3468855935655180895 34 231} {3404676768620392028 34 232} {2737950520152673876 34 233} {9049813693565135531 34 234} {2251000029987594533 34 235} {2022134916703309517 34 236} {6720358597414273228 34 237} {8428710224724836158 36 238}]
------------------------------------------------------
client write log 2701737359016651526 (index 239) to leader 2
client write log 1241332372241224328 (index 240) to leader 2
client write log 303179301156477896 (index 241) to leader 2
client write log 216173042527694557 (index 242) to leader 2
client write log 5534587073140288489 (index 243) to leader 2
client write log 6598270641073207657 (index 244) to leader 2
client write log 387075717599774612 (index 245) to leader 2
client write log 6637901705069477934 (index 246) to leader 2
client write log 2443242203991221773 (index 247) to leader 2
client write log 8172624935225772953 (index 248) to leader 2
client write log 4758168025361390356 (index 249) to leader 2
client write log 225352344758980414 (index 250) to leader 2
client write log 5488416990702287620 (index 251) to leader 2
flag 64069 term 36 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 34 leaderCommit: 238 
------------------------------------------------------
flag 87949 term 36 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 36 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 36 leaderCommit: 238 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 34 229} {1526387797230367328 34 230} {3468855935655180895 34 231} {3404676768620392028 34 232} {2737950520152673876 34 233} {9049813693565135531 34 234} {2251000029987594533 34 235} {2022134916703309517 34 236} {6720358597414273228 34 237} {8428710224724836158 36 238} {2701737359016651526 36 239} {1241332372241224328 36 240} {303179301156477896 36 241} {216173042527694557 36 242} {5534587073140288489 36 243} {6598270641073207657 36 244} {387075717599774612 36 245} {6637901705069477934 36 246} {2443242203991221773 36 247} {8172624935225772953 36 248} {4758168025361390356 36 249} {225352344758980414 36 250} {5488416990702287620 36 251}]
------------------------------------------------------
term 36 Server2 start snapshot! index=239
term 36 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=251
-------------------------------------------------------------
term 36 Server2 start snapshot! index=249
term 36 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=251
-------------------------------------------------------------
term 36 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 67595 term 36 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 36 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 251 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251}]
------------------------------------------------------
term 36 Server1 start snapshot! index=239
term 36 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=251
-------------------------------------------------------------
term 36 Server1 start snapshot! index=249
term 36 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=251
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4801949560672972637 (index 252) to leader 2
term 36 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 24523 term 36 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 36 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 36 leaderCommit: 251 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252}]
------------------------------------------------------
term 37 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 server 1 vote for server 2
term 38 server 0 vote for server 2
term 38 server 2 get vote from server 1
term 38 server 2 become leader
------------------------------------------------------
term 38 server 2 get outdate rpc reply from server 0
flag 37263 term 38 leader 2 nextIndex[0]: 253  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 33887 term 38 leader 2 nextIndex[1]: 253  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252}]
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 253->252
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 238  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 36356 term 38 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252}]
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 36 rf.commitIndex 249 rf.lastApplied 249
flag 50031 term 38 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 49945 term 38 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11923 term 38 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 35160 term 38 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252}]
------------------------------------------------------
flag 84397 term 38 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 56782 term 38 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252}]
------------------------------------------------------
flag 98049 term 38 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 85261 term 38 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252}]
------------------------------------------------------
flag 6204 term 38 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 6051 term 38 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36973 term 38 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 26068 term 38 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
------------------------------------------------------
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252}]
------------------------------------------------------
flag 35150 term 38 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 2607 term 38 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 66175 term 38 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 52575 term 38 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86835 term 38 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 84124 term 38 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 74909 term 38 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 83186 term 38 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 0 vote for server 1
term 39 server 1 get vote from server 0
term 39 server 1 become leader
------------------------------------------------------
flag 16710 term 38 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 1838 term 38 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 68541 term 39 leader 1 nextIndex[0]: 253  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 76534 term 39 leader 1 nextIndex[2]: 253  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252}]
------------------------------------------------------
client write log 6718223025232746583 (index 253) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 253->252
------------------------------------------------------
flag 62497 term 38 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 79027 term 38 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
flag 23940 term 39 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 39 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 253->252
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39919 term 38 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 252
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 93397 term 39 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253}]
------------------------------------------------------
client write log 5658317506234117400 (index 254) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
flag 39809 term 38 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 252
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 2662 term 39 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 39 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 39 leaderCommit: 253 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253} {5658317506234117400 39 254}]
------------------------------------------------------
flag 64861 term 38 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 252
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 38875 term 39 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253} {5658317506234117400 39 254}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1912916651795729661 (index 255) to leader 1
flag 13624 term 38 leader 2 nextIndex[0]: 253  matchIndex[0]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 252 
------------------------------------------------------
term 38 leader 2 nextIndex[1]: 0  matchIndex[1]: 252
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
term 39 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 server 0 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21669 term 39 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 39 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 39 leaderCommit: 254 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
term 39 server 2 InstallSnapshot fail
rf.commitIndex 252 args.LastIncludedIndex 249
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253} {5658317506234117400 39 254} {1912916651795729661 39 255}]
------------------------------------------------------
term 39 server 1 not vote for server 2, 日志不够新
term 39 server 0 not vote for server 2, 日志不够新
term 41 server 2 vote for server 1
term 41 server 1 get vote from server 2
term 41 server 1 become leader
------------------------------------------------------
term 41 server 0 vote for server 1
term 41 server 1 get outdate rpc reply from server 0
flag 7320 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 99619 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 256->255
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253} {5658317506234117400 39 254} {1912916651795729661 39 255}]
------------------------------------------------------
flag 17257 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 17558 term 41 leader 1 nextIndex[2]: 253  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 36 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253} {5658317506234117400 39 254} {1912916651795729661 39 255}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253} {5658317506234117400 39 254} {1912916651795729661 39 255}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47083 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 91328 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253} {5658317506234117400 39 254} {1912916651795729661 39 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253} {5658317506234117400 39 254} {1912916651795729661 39 255}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98362 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 31127 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253} {5658317506234117400 39 254} {1912916651795729661 39 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253} {5658317506234117400 39 254} {1912916651795729661 39 255}]
------------------------------------------------------
flag 61780 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 75526 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253} {5658317506234117400 39 254} {1912916651795729661 39 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253} {5658317506234117400 39 254} {1912916651795729661 39 255}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47014 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 82587 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253} {5658317506234117400 39 254} {1912916651795729661 39 255}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253} {5658317506234117400 39 254} {1912916651795729661 39 255}]
------------------------------------------------------
flag 62281 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 63719 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253} {5658317506234117400 39 254} {1912916651795729661 39 255}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253} {5658317506234117400 39 254} {1912916651795729661 39 255}]
------------------------------------------------------
term 41 server 2 not vote for server 0, 任期不够新
term 41 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55122 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 70153 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253} {5658317506234117400 39 254} {1912916651795729661 39 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253} {5658317506234117400 39 254} {1912916651795729661 39 255}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2311234837722260889 (index 256) to leader 1
flag 98220 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 73953 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253} {5658317506234117400 39 254} {1912916651795729661 39 255} {2311234837722260889 41 256}]
------------------------------------------------------
flag 4468 term 41 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 62979 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253} {5658317506234117400 39 254} {1912916651795729661 39 255} {2311234837722260889 41 256}]
------------------------------------------------------
client write log 8820783781065055966 (index 257) to leader 1
client write log 2519844996732655014 (index 258) to leader 1
client write log 7624196666322836319 (index 259) to leader 1
client write log 2536193054216424209 (index 260) to leader 1
client write log 1627655969013838445 (index 261) to leader 1
client write log 1341013293214124206 (index 262) to leader 1
client write log 566617760996309340 (index 263) to leader 1
client write log 8596690832138194669 (index 264) to leader 1
client write log 1457563781659240739 (index 265) to leader 1
client write log 374708036232376068 (index 266) to leader 1
client write log 6559908933402969404 (index 267) to leader 1
client write log 8831471920475237000 (index 268) to leader 1
flag 78168 term 41 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 62662 term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 36 249} {225352344758980414 36 250} {5488416990702287620 36 251} {4801949560672972637 36 252} {6718223025232746583 39 253} {5658317506234117400 39 254} {1912916651795729661 39 255} {2311234837722260889 41 256} {8820783781065055966 41 257} {2519844996732655014 41 258} {7624196666322836319 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268}]
------------------------------------------------------
term 41 Server1 start snapshot! index=259
term 41 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=268
-------------------------------------------------------------
flag 2444 term 41 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 41 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268}]
------------------------------------------------------
term 41 Server0 start snapshot! index=259
term 41 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=268
-------------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
!!!!!!connect server 2
client write log 307775429718578895 (index 269) to leader 1
term 41 server 1 not vote for server 2, 日志不够新
term 41 server 0 not vote for server 2, 日志不够新
term 43 server 2 vote for server 1
term 43 server 1 get vote from server 2
term 43 server 1 become leader
------------------------------------------------------
term 43 server 0 vote for server 1
term 43 server 1 get outdate rpc reply from server 0
flag 59696 term 43 leader 1 nextIndex[0]: 270  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 13466 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 270->269
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 270->269
------------------------------------------------------
flag 80602 term 43 leader 1 nextIndex[0]: 269  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 256  matchIndex[2]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
term 43 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 41 rf.commitIndex 259 rf.lastApplied 259
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1242 term 43 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 4623 term 43 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 43 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
flag 17603 term 43 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 50146 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
term 43 server 1 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 1
flag 77671 term 43 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 75673 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
flag 40468 term 43 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 58324 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
flag 21961 term 43 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 77781 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
flag 29059 term 43 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 70869 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
flag 70912 term 43 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 86132 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
flag 69905 term 43 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 49150 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3499 term 43 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 58023 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
flag 58124 term 43 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 54647 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66781 term 43 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 20209 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
flag 40794 term 43 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 77644 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28996 term 43 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 54546 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
term 43 server 1 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 1
term 43 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 2 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 2
flag 89223 term 43 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 23616 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
flag 75402 term 43 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 95044 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
term 43 server 2 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51706 term 43 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 74045 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26931 term 43 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 93603 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
flag 18399 term 43 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 61118 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269}]
------------------------------------------------------
client write log 307775429718578895 (index 270) to leader 1
flag 84225 term 43 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
flag 99028 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 268 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269} {307775429718578895 43 270}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 259} {2536193054216424209 41 260} {1627655969013838445 41 261} {1341013293214124206 41 262} {566617760996309340 41 263} {8596690832138194669 41 264} {1457563781659240739 41 265} {374708036232376068 41 266} {6559908933402969404 41 267} {8831471920475237000 41 268} {307775429718578895 41 269} {307775429718578895 43 270}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 Server1 start snapshot! index=269
term 43 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
flag 50170 term 43 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 43 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 72315 term 43 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 43 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {307775429718578895 43 270}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {307775429718578895 43 270}]
------------------------------------------------------
term 43 Server0 start snapshot! index=269
term 43 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
term 43 Server2 start snapshot! index=269
term 43 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
flag 47219 term 43 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 43 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 90807 term 43 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 43 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {307775429718578895 43 270}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {307775429718578895 43 270}]
------------------------------------------------------
term 43 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6400 term 43 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 43 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 49479 term 43 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 43 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {307775429718578895 43 270}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {307775429718578895 43 270}]
------------------------------------------------------
flag 1379 term 43 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 43 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 6918 term 43 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 43 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {307775429718578895 43 270}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {307775429718578895 43 270}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89959 term 43 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 43 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 64430 term 43 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 43 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {307775429718578895 43 270}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {307775429718578895 43 270}]
------------------------------------------------------
flag 65057 term 43 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 43 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 10553 term 43 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 43 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {307775429718578895 43 270}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {307775429718578895 43 270}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3236808910698747160 (index 271) to leader 1
term 43 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10326 term 43 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 43 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 17285 term 43 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 43 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {307775429718578895 43 270} {3236808910698747160 43 271}]
------------------------------------------------------
flag 13315 term 43 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 43 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 26686 term 43 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 43 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {307775429718578895 43 270} {3236808910698747160 43 271}]
------------------------------------------------------
client write log 3635268873614159678 (index 272) to leader 1
client write log 4649642824544290352 (index 273) to leader 1
client write log 7709439074482606819 (index 274) to leader 1
client write log 4202006209559631859 (index 275) to leader 1
client write log 7384651270930061024 (index 276) to leader 1
client write log 659747850055899578 (index 277) to leader 1
client write log 4882171260506062380 (index 278) to leader 1
client write log 360722878491391532 (index 279) to leader 1
client write log 8785180266688123302 (index 280) to leader 1
flag 24649 term 43 leader 1 nextIndex[0]: 272  matchIndex[0]: 271
term 43 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
flag 5901 term 43 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 43 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 271 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 41 269} {307775429718578895 43 270} {3236808910698747160 43 271} {3635268873614159678 43 272} {4649642824544290352 43 273} {7709439074482606819 43 274} {4202006209559631859 43 275} {7384651270930061024 43 276} {659747850055899578 43 277} {4882171260506062380 43 278} {360722878491391532 43 279} {8785180266688123302 43 280}]
------------------------------------------------------
term 43 Server1 start snapshot! index=279
term 43 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=280
-------------------------------------------------------------
flag 91324 term 43 leader 1 nextIndex[0]: 281  matchIndex[0]: 280
term 43 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280}]
------------------------------------------------------
term 43 Server0 start snapshot! index=279
term 43 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=280
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3354949750375223346 (index 281) to leader 1
flag 28669 term 43 leader 1 nextIndex[0]: 281  matchIndex[0]: 280
term 43 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
term 44 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 server 2 vote for server 1
term 45 server 1 get vote from server 2
term 45 server 1 become leader
------------------------------------------------------
term 45 server 0 vote for server 1
term 45 server 1 get outdate rpc reply from server 0
flag 43977 term 45 leader 1 nextIndex[0]: 282  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 16092 term 45 leader 1 nextIndex[2]: 282  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 282->281
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
flag 69154 term 45 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 271  matchIndex[2]: 0
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
term 45 server 2 InstallSnapshot success
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 280 matchIndex[2] 279 
------------------------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 43 rf.commitIndex 279 rf.lastApplied 279
flag 10135 term 45 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 6727 term 45 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
flag 74735 term 45 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 45109 term 45 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55354 term 45 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 29277 term 45 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
flag 79021 term 45 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 65930 term 45 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
flag 49664 term 45 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 93749 term 45 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9902 term 45 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 74794 term 45 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
flag 3769 term 45 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 66482 term 45 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
flag 55361 term 45 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 20411 term 45 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
flag 58939 term 45 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 15812 term 45 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23924 term 45 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 21511 term 45 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
flag 59769 term 45 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 5066 term 45 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76992 term 45 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 12222 term 45 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
flag 27341 term 45 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 76817 term 45 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
flag 42895 term 45 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 89213 term 45 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
flag 78680 term 45 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 87640 term 45 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35880 term 45 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 58955 term 45 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
flag 45116 term 45 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 4432 term 45 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281}]
------------------------------------------------------
client write log 3354949750375223346 (index 282) to leader 1
term 45 server 1 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 1
flag 56980 term 45 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 9921 term 45 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 45 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281} {3354949750375223346 45 282}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281} {3354949750375223346 45 282}]
------------------------------------------------------
flag 27044 term 45 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 27414 term 45 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281} {3354949750375223346 45 282}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281} {3354949750375223346 45 282}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8973 term 45 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 78366 term 45 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281} {3354949750375223346 45 282}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281} {3354949750375223346 45 282}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30071 term 45 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 21445 term 45 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281} {3354949750375223346 45 282}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281} {3354949750375223346 45 282}]
------------------------------------------------------
flag 58490 term 45 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 34555 term 45 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281} {3354949750375223346 45 282}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281} {3354949750375223346 45 282}]
------------------------------------------------------
flag 52606 term 45 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 19267 term 45 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281} {3354949750375223346 45 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281} {3354949750375223346 45 282}]
------------------------------------------------------
flag 36869 term 45 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 36945 term 45 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281} {3354949750375223346 45 282}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281} {3354949750375223346 45 282}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 88456 term 45 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 29452 term 45 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 79539 term 45 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 73331 term 45 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 29306 term 45 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 53735 term 45 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 46 server 0 vote for server 2
term 46 server 2 get vote from server 0
term 46 server 2 become leader
------------------------------------------------------
flag 49571 term 46 leader 2 nextIndex[0]: 283  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 59105 term 46 leader 2 nextIndex[1]: 283  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281} {3354949750375223346 45 282}]
------------------------------------------------------
flag 43726 term 45 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 13828 term 45 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
client write log 7642636309473188544 (index 283) to leader 2
flag 59560 term 46 leader 2 nextIndex[0]: 283  matchIndex[0]: 282
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 2294 term 46 leader 2 nextIndex[1]: 283  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281} {3354949750375223346 45 282} {7642636309473188544 46 283}]
------------------------------------------------------
flag 17616 term 45 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 64355 term 45 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 396 term 46 leader 2 nextIndex[0]: 284  matchIndex[0]: 283
term 46 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 46 leaderCommit: 283 
------------------------------------------------------
flag 57737 term 46 leader 2 nextIndex[1]: 283  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 283 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281} {3354949750375223346 45 282} {7642636309473188544 46 283}]
------------------------------------------------------
client write log 6687704651062806826 (index 284) to leader 2
client write log 6452041882852931361 (index 285) to leader 2
client write log 136097758607963281 (index 286) to leader 2
client write log 6188960609791333137 (index 287) to leader 2
client write log 5380276493705607418 (index 288) to leader 2
client write log 6126414599549796797 (index 289) to leader 2
client write log 2793159682433033858 (index 290) to leader 2
client write log 8709978167979393231 (index 291) to leader 2
client write log 2336737682765553974 (index 292) to leader 2
client write log 6386332705946259592 (index 293) to leader 2
flag 86219 term 45 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 85110 term 45 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 76297 term 46 leader 2 nextIndex[0]: 284  matchIndex[0]: 283
term 46 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 46 leaderCommit: 283 
------------------------------------------------------
flag 27196 term 46 leader 2 nextIndex[1]: 283  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 283 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 43 279} {8785180266688123302 43 280} {3354949750375223346 43 281} {3354949750375223346 45 282} {7642636309473188544 46 283} {6687704651062806826 46 284} {6452041882852931361 46 285} {136097758607963281 46 286} {6188960609791333137 46 287} {5380276493705607418 46 288} {6126414599549796797 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
term 46 Server2 start snapshot! index=289
term 46 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=293
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14477 term 45 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 19952 term 45 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 44425 term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 283  matchIndex[1]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
term 46 Server0 start snapshot! index=289
term 46 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=293
-------------------------------------------------------------
flag 24055 term 45 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 53632 term 45 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
!!!!!!connect server 1
term 46 server 2 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
client write log 1479386746120739410 (index 283) to leader 1
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 46 server 0 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69325 term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 283  matchIndex[1]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
rf.lastIncludedIndex 289 rf.lastIncludedTerm 46 rf.commitIndex 289 rf.lastApplied 289
term 46 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
flag 59792 term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 78730 term 46 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
flag 19279 term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 55659 term 46 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
flag 48003 term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 57427 term 46 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
flag 74934 term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 82199 term 46 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
flag 40554 term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 43842 term 46 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
flag 43364 term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 1932 term 46 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
flag 22282 term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 79404 term 46 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 294->293
------------------------------------------------------
flag 72620 term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 0  matchIndex[1]: 293
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 1 InstallSnapshot fail
rf.commitIndex 293 args.LastIncludedIndex 289
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 0 not vote for server 2, 任期不够新
term 46 server 2 get outdate rpc reply from server 0
flag 17231 term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 11741 term 46 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
flag 49848 term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 45248 term 46 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
flag 74294 term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 37393 term 46 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
flag 89355 term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 94085 term 46 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
flag 75974 term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 24540 term 46 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
flag 52967 term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 30179 term 46 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
flag 22049 term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 38491 term 46 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
flag 19068 term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 75328 term 46 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
flag 74089 term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 68638 term 46 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
flag 49921 term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 83140 term 46 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
flag 75818 term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 70882 term 46 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293}]
------------------------------------------------------
client write log 1479386746120739410 (index 294) to leader 2
flag 11842 term 46 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 58529 term 46 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 46 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293} {1479386746120739410 46 294}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293} {1479386746120739410 46 294}]
------------------------------------------------------
flag 79531 term 46 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 46 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 294 
------------------------------------------------------
flag 85124 term 46 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293} {1479386746120739410 46 294}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293} {1479386746120739410 46 294}]
------------------------------------------------------
flag 49928 term 46 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 46 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 294 
------------------------------------------------------
flag 49366 term 46 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 294 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293} {1479386746120739410 46 294}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293} {1479386746120739410 46 294}]
------------------------------------------------------
flag 5917 term 46 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 46 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 294 
------------------------------------------------------
flag 56283 term 46 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293} {1479386746120739410 46 294}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293} {1479386746120739410 46 294}]
------------------------------------------------------
flag 50390 term 46 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 46 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 294 
------------------------------------------------------
flag 11115 term 46 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293} {1479386746120739410 46 294}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293} {1479386746120739410 46 294}]
------------------------------------------------------
flag 94367 term 46 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 46 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 294 
------------------------------------------------------
flag 24541 term 46 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293} {1479386746120739410 46 294}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293} {1479386746120739410 46 294}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96640 term 46 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 46 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 294 
------------------------------------------------------
flag 70655 term 46 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293} {1479386746120739410 46 294}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293} {1479386746120739410 46 294}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6155847639588090220 (index 295) to leader 2
flag 51297 term 46 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 46 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 294 
------------------------------------------------------
flag 80905 term 46 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 46 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 294 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293} {1479386746120739410 46 294} {6155847639588090220 46 295}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 296->295
------------------------------------------------------
flag 14437 term 46 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 46 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 0  matchIndex[1]: 295
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 1 InstallSnapshot fail
rf.commitIndex 294 args.LastIncludedIndex 289
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 295->294
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 0  matchIndex[0]: 294
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 15019 term 46 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293} {1479386746120739410 46 294} {6155847639588090220 46 295}]
------------------------------------------------------
client write log 8253942596166593781 (index 296) to leader 2
client write log 3767273976991879039 (index 297) to leader 2
client write log 4070603819714425639 (index 298) to leader 2
client write log 7537110480258282960 (index 299) to leader 2
client write log 8904710483837805654 (index 300) to leader 2
client write log 6894086981125689108 (index 301) to leader 2
client write log 2371715936078536087 (index 302) to leader 2
client write log 2547030965012133796 (index 303) to leader 2
term 46 leader 2 nextIndex[0]: 0  matchIndex[0]: 294
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 59715 term 46 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 46 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 46 leaderCommit: 295 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 289} {2793159682433033858 46 290} {8709978167979393231 46 291} {2336737682765553974 46 292} {6386332705946259592 46 293} {1479386746120739410 46 294} {6155847639588090220 46 295} {8253942596166593781 46 296} {3767273976991879039 46 297} {4070603819714425639 46 298} {7537110480258282960 46 299} {8904710483837805654 46 300} {6894086981125689108 46 301} {2371715936078536087 46 302} {2547030965012133796 46 303}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 Server2 start snapshot! index=299
term 46 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=303
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 304->303
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 0  matchIndex[0]: 294
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 46
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 0  matchIndex[1]: 303
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 46 rf.commitIndex 299 rf.lastApplied 299
term 46 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 0  matchIndex[0]: 294
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 46
------------------------------------------------------
flag 41177 term 46 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 46 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 303 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {8904710483837805654 46 300} {6894086981125689108 46 301} {2371715936078536087 46 302} {2547030965012133796 46 303}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8071744683736214664 (index 304) to leader 2
term 46 leader 2 nextIndex[0]: 0  matchIndex[0]: 294
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 46
------------------------------------------------------
flag 94758 term 46 leader 2 nextIndex[1]: 304  matchIndex[1]: 303
term 46 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 46 leaderCommit: 303 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
term 47 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
[{snapshot 46 299} {8904710483837805654 46 300} {6894086981125689108 46 301} {2371715936078536087 46 302} {2547030965012133796 46 303} {8071744683736214664 46 304}]
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 server 1 vote for server 2
term 48 server 2 get vote from server 1
term 48 server 2 become leader
------------------------------------------------------
term 48 server 0 vote for server 2
term 48 server 2 get outdate rpc reply from server 0
flag 40021 term 48 leader 2 nextIndex[0]: 305  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 46 leaderCommit: 304 
------------------------------------------------------
flag 72967 term 48 leader 2 nextIndex[1]: 305  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 46 leaderCommit: 304 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 46 299} {8904710483837805654 46 300} {6894086981125689108 46 301} {2371715936078536087 46 302} {2547030965012133796 46 303} {8071744683736214664 46 304}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 305->304
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 295  matchIndex[0]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 46
------------------------------------------------------
flag 51368 term 48 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 48 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 46 leaderCommit: 304 
------------------------------------------------------
term 48 server 0 InstallSnapshot success
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 46 299} {8904710483837805654 46 300} {6894086981125689108 46 301} {2371715936078536087 46 302} {2547030965012133796 46 303} {8071744683736214664 46 304}]
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 46 rf.commitIndex 299 rf.lastApplied 299
flag 80780 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 304 
------------------------------------------------------
flag 11780 term 48 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 48 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 46 leaderCommit: 304 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 46 299} {8904710483837805654 46 300} {6894086981125689108 46 301} {2371715936078536087 46 302} {2547030965012133796 46 303} {8071744683736214664 46 304}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 46 299} {8904710483837805654 46 300} {6894086981125689108 46 301} {2371715936078536087 46 302} {2547030965012133796 46 303} {8071744683736214664 46 304}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74303 term 48 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 48 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 46 leaderCommit: 304 
------------------------------------------------------
flag 51317 term 48 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 48 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 46 leaderCommit: 304 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 46 299} {8904710483837805654 46 300} {6894086981125689108 46 301} {2371715936078536087 46 302} {2547030965012133796 46 303} {8071744683736214664 46 304}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 46 299} {8904710483837805654 46 300} {6894086981125689108 46 301} {2371715936078536087 46 302} {2547030965012133796 46 303} {8071744683736214664 46 304}]
------------------------------------------------------
flag 47060 term 48 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 48 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 46 leaderCommit: 304 
------------------------------------------------------
flag 36241 term 48 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 48 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 46 leaderCommit: 304 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 46 299} {8904710483837805654 46 300} {6894086981125689108 46 301} {2371715936078536087 46 302} {2547030965012133796 46 303} {8071744683736214664 46 304}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 46 299} {8904710483837805654 46 300} {6894086981125689108 46 301} {2371715936078536087 46 302} {2547030965012133796 46 303} {8071744683736214664 46 304}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26567 term 48 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 48 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 46 leaderCommit: 304 
------------------------------------------------------
flag 15082 term 48 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 48 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 46 leaderCommit: 304 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 46 299} {8904710483837805654 46 300} {6894086981125689108 46 301} {2371715936078536087 46 302} {2547030965012133796 46 303} {8071744683736214664 46 304}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 46 299} {8904710483837805654 46 300} {6894086981125689108 46 301} {2371715936078536087 46 302} {2547030965012133796 46 303} {8071744683736214664 46 304}]
------------------------------------------------------
flag 37892 term 48 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 48 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 46 leaderCommit: 304 
------------------------------------------------------
flag 54312 term 48 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 48 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 46 leaderCommit: 304 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 46 299} {8904710483837805654 46 300} {6894086981125689108 46 301} {2371715936078536087 46 302} {2547030965012133796 46 303} {8071744683736214664 46 304}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 46 299} {8904710483837805654 46 300} {6894086981125689108 46 301} {2371715936078536087 46 302} {2547030965012133796 46 303} {8071744683736214664 46 304}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9339 term 48 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 48 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 46 leaderCommit: 304 
------------------------------------------------------
flag 53144 term 48 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 48 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 46 leaderCommit: 304 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 46 299} {8904710483837805654 46 300} {6894086981125689108 46 301} {2371715936078536087 46 302} {2547030965012133796 46 303} {8071744683736214664 46 304}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 46 299} {8904710483837805654 46 300} {6894086981125689108 46 301} {2371715936078536087 46 302} {2547030965012133796 46 303} {8071744683736214664 46 304}]
------------------------------------------------------
flag 64372 term 48 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 48 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 46 leaderCommit: 304 
------------------------------------------------------
flag 40777 term 48 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 48 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 46 leaderCommit: 304 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 46 299} {8904710483837805654 46 300} {6894086981125689108 46 301} {2371715936078536087 46 302} {2547030965012133796 46 303} {8071744683736214664 46 304}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 46 299} {8904710483837805654 46 300} {6894086981125689108 46 301} {2371715936078536087 46 302} {2547030965012133796 46 303} {8071744683736214664 46 304}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8967829886307604727 (index 305) to leader 2
flag 98024 term 48 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 48 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 46 leaderCommit: 304 
------------------------------------------------------
flag 57873 term 48 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 48 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 46 leaderCommit: 304 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {8904710483837805654 46 300} {6894086981125689108 46 301} {2371715936078536087 46 302} {2547030965012133796 46 303} {8071744683736214664 46 304} {8967829886307604727 48 305}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31143 term 48 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 48 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
flag 45535 term 48 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 48 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 299} {8904710483837805654 46 300} {6894086981125689108 46 301} {2371715936078536087 46 302} {2547030965012133796 46 303} {8071744683736214664 46 304} {8967829886307604727 48 305}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 305->304
------------------------------------------------------
client write log 8637774083673069767 (index 306) to leader 2
client write log 2841935907153137102 (index 307) to leader 2
client write log 594544504078321407 (index 308) to leader 2
client write log 8476986860490706115 (index 309) to leader 2
client write log 959258860630626992 (index 310) to leader 2
client write log 261856468978177986 (index 311) to leader 2
client write log 4879883184490878808 (index 312) to leader 2
client write log 9100727260433960282 (index 313) to leader 2
client write log 6904185873938437829 (index 314) to leader 2
client write log 7913360293068010921 (index 315) to leader 2
client write log 1748297021515116101 (index 316) to leader 2
client write log 8266819597126076808 (index 317) to leader 2
client write log 7417290247809630763 (index 318) to leader 2
client write log 4649002024911547468 (index 319) to leader 2
client write log 4677173699041753024 (index 320) to leader 2
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 304
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 46
------------------------------------------------------
flag 2697 term 48 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 48 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 46 299} {8904710483837805654 46 300} {6894086981125689108 46 301} {2371715936078536087 46 302} {2547030965012133796 46 303} {8071744683736214664 46 304} {8967829886307604727 48 305} {8637774083673069767 48 306} {2841935907153137102 48 307} {594544504078321407 48 308} {8476986860490706115 48 309} {959258860630626992 48 310} {261856468978177986 48 311} {4879883184490878808 48 312} {9100727260433960282 48 313} {6904185873938437829 48 314} {7913360293068010921 48 315} {1748297021515116101 48 316} {8266819597126076808 48 317} {7417290247809630763 48 318} {4649002024911547468 48 319} {4677173699041753024 48 320}]
------------------------------------------------------
term 48 Server2 start snapshot! index=309
term 48 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=320
-------------------------------------------------------------
term 48 Server2 start snapshot! index=319
term 48 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=320
-------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 304
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 48
------------------------------------------------------
flag 43072 term 48 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 48 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320}]
------------------------------------------------------
term 48 Server1 start snapshot! index=309
term 48 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=320
-------------------------------------------------------------
term 48 Server1 start snapshot! index=319
term 48 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=320
-------------------------------------------------------------
!!!!!!connect server 0
client write log 744889254482543562 (index 321) to leader 2
term 48 server 2 not vote for server 0, 日志不够新
term 48 server 1 not vote for server 0, 日志不够新
term 50 server 0 vote for server 2
term 50 server 1 vote for server 2
term 50 server 2 get vote from server 0
term 50 server 2 become leader
------------------------------------------------------
term 50 server 2 get outdate rpc reply from server 1
flag 2016 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
flag 44403 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 322->321
------------------------------------------------------
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 322->321
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 305  matchIndex[0]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 48
------------------------------------------------------
flag 36517 term 50 leader 2 nextIndex[1]: 321  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 50 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 48 rf.commitIndex 319 rf.lastApplied 319
term 50 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
flag 8962 term 50 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
flag 60895 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
flag 13006 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
flag 50890 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57805 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
flag 65694 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
flag 49624 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
flag 1361 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
flag 466 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
flag 70407 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
flag 27778 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
flag 13234 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
flag 64975 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
flag 76595 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
flag 94844 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
flag 63255 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64069 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
flag 32106 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12588 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
flag 66291 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
flag 80298 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
flag 62803 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
term 50 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
flag 20828 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
flag 29050 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
flag 42380 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
flag 65246 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12625 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
flag 60480 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
term 50 server 1 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32294 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
flag 68645 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
term 50 server 1 not vote for server 0, 任期不够新
term 50 server 0 get outdate rpc reply from server 1
flag 47388 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
flag 57422 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84097 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
flag 23681 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
term 50 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
flag 6376 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
flag 78567 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=320
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321}]
------------------------------------------------------
client write log 744889254482543562 (index 322) to leader 2
flag 6212 term 50 leader 2 nextIndex[0]: 322  matchIndex[0]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
flag 65616 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 320 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321} {744889254482543562 50 322}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321} {744889254482543562 50 322}]
------------------------------------------------------
flag 15191 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 66582 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321} {744889254482543562 50 322}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321} {744889254482543562 50 322}]
------------------------------------------------------
flag 74329 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 27612 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321} {744889254482543562 50 322}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321} {744889254482543562 50 322}]
------------------------------------------------------
flag 47600 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 77244 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321} {744889254482543562 50 322}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321} {744889254482543562 50 322}]
------------------------------------------------------
flag 29344 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 13350 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321} {744889254482543562 50 322}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321} {744889254482543562 50 322}]
------------------------------------------------------
flag 39272 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 6768 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
term 50 server 0 AppendEntries true commitIndex:322 
------------------------------------------------------
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321} {744889254482543562 50 322}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=322
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321} {744889254482543562 50 322}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 42480 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 90351 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 5194 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 71527 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 13741 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 70851 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 1 vote for server 0
term 51 server 0 get vote from server 1
term 51 server 0 become leader
------------------------------------------------------
client write log 1110653691095796902 (index 323) to leader 0
flag 8396 term 51 leader 0 nextIndex[1]: 323  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 89259 term 51 leader 0 nextIndex[2]: 323  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321} {744889254482543562 50 322} {1110653691095796902 51 323}]
------------------------------------------------------
flag 78828 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 60220 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 43115 term 51 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 323 
------------------------------------------------------
flag 88613 term 51 leader 0 nextIndex[2]: 323  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 323 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321} {744889254482543562 50 322} {1110653691095796902 51 323}]
------------------------------------------------------
flag 49921 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 42476 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
client write log 7918229257069242050 (index 324) to leader 0
client write log 8264327197667094220 (index 325) to leader 0
client write log 7425034329805193422 (index 326) to leader 0
client write log 5869448731125923725 (index 327) to leader 0
client write log 3820366144304732191 (index 328) to leader 0
client write log 1417396110501382388 (index 329) to leader 0
client write log 2655245899472992822 (index 330) to leader 0
client write log 8779232476423218462 (index 331) to leader 0
flag 57016 term 51 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 51 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 51 leaderCommit: 323 
------------------------------------------------------
flag 7824 term 51 leader 0 nextIndex[2]: 323  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 323 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 48 319} {4677173699041753024 48 320} {744889254482543562 48 321} {744889254482543562 50 322} {1110653691095796902 51 323} {7918229257069242050 51 324} {8264327197667094220 51 325} {7425034329805193422 51 326} {5869448731125923725 51 327} {3820366144304732191 51 328} {1417396110501382388 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
term 51 Server0 start snapshot! index=329
term 51 server0 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=331
-------------------------------------------------------------
flag 60763 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 89962 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 30329 term 51 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 323  matchIndex[2]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
term 51 Server1 start snapshot! index=329
term 51 server1 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=331
-------------------------------------------------------------
flag 77321 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
flag 21070 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 50 leaderCommit: 322 
------------------------------------------------------
!!!!!!connect server 2
client write log 1002570432104248119 (index 323) to leader 2
flag 2012 term 51 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 323  matchIndex[2]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 2 InstallSnapshot success
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 51 rf.commitIndex 329 rf.lastApplied 329
flag 97217 term 51 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 86036 term 51 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 51 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
flag 20139 term 51 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 39964 term 51 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 332->331
------------------------------------------------------
flag 26441 term 51 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 0  matchIndex[2]: 331
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 2 InstallSnapshot fail
rf.commitIndex 331 args.LastIncludedIndex 329
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47203 term 51 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 4156 term 51 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 51 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
flag 78535 term 51 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 93561 term 51 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
flag 93554 term 51 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 60456 term 51 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91289 term 51 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 42809 term 51 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
flag 84920 term 51 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 62630 term 51 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
flag 51504 term 51 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 96406 term 51 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8073 term 51 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 35260 term 51 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
flag 99636 term 51 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 42013 term 51 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
term 51 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44743 term 51 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 40829 term 51 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99120 term 51 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 31968 term 51 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97183 term 51 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 93110 term 51 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45633 term 51 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 43917 term 51 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
term 51 server 2 not vote for server 0, 任期不够新
term 51 server 0 get outdate rpc reply from server 2
flag 78029 term 51 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 43752 term 51 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
flag 1811 term 51 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 93382 term 51 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
flag 13312 term 51 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 65118 term 51 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
flag 74508 term 51 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 63856 term 51 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=331
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331}]
------------------------------------------------------
client write log 1002570432104248119 (index 332) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76691 term 51 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
flag 43133 term 51 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 51 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 331 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331} {1002570432104248119 51 332}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331} {1002570432104248119 51 332}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72070 term 51 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 51 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
flag 76772 term 51 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331} {1002570432104248119 51 332}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331} {1002570432104248119 51 332}]
------------------------------------------------------
flag 96562 term 51 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 51 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
flag 20073 term 51 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:332 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331} {1002570432104248119 51 332}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331} {1002570432104248119 51 332}]
------------------------------------------------------
flag 12408 term 51 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 51 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
flag 92499 term 51 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
term 51 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331} {1002570432104248119 51 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331} {1002570432104248119 51 332}]
------------------------------------------------------
flag 19332 term 51 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 51 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
flag 18864 term 51 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331} {1002570432104248119 51 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331} {1002570432104248119 51 332}]
------------------------------------------------------
flag 51762 term 51 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 51 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
flag 45876 term 51 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331} {1002570432104248119 51 332}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331} {1002570432104248119 51 332}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2391177777184045280 (index 333) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64882 term 51 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 51 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
flag 50413 term 51 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 51 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 332 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331} {1002570432104248119 51 332} {2391177777184045280 51 333}]
------------------------------------------------------
flag 86382 term 51 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 51 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 4264 term 51 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331} {1002570432104248119 51 332} {2391177777184045280 51 333}]
------------------------------------------------------
client write log 5463405522949818844 (index 334) to leader 0
client write log 2104869574553460462 (index 335) to leader 0
client write log 4408137410653917137 (index 336) to leader 0
client write log 547327614630097575 (index 337) to leader 0
client write log 3588503056566211950 (index 338) to leader 0
client write log 3011759324617654265 (index 339) to leader 0
client write log 3835980582398074071 (index 340) to leader 0
client write log 8866144172070490499 (index 341) to leader 0
client write log 348222980300197347 (index 342) to leader 0
client write log 270875709391503983 (index 343) to leader 0
client write log 7996896649042683783 (index 344) to leader 0
flag 19897 term 51 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 51 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
flag 83887 term 51 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 51 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 51 leaderCommit: 333 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 51 329} {2655245899472992822 51 330} {8779232476423218462 51 331} {1002570432104248119 51 332} {2391177777184045280 51 333} {5463405522949818844 51 334} {2104869574553460462 51 335} {4408137410653917137 51 336} {547327614630097575 51 337} {3588503056566211950 51 338} {3011759324617654265 51 339} {3835980582398074071 51 340} {8866144172070490499 51 341} {348222980300197347 51 342} {270875709391503983 51 343} {7996896649042683783 51 344}]
------------------------------------------------------
term 51 Server0 start snapshot! index=339
term 51 server0 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=344
-------------------------------------------------------------
term 51 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 51
------------------------------------------------------
flag 8790 term 51 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 51 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 51 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 51 339} {3835980582398074071 51 340} {8866144172070490499 51 341} {348222980300197347 51 342} {270875709391503983 51 343} {7996896649042683783 51 344}]
------------------------------------------------------
term 51 Server2 start snapshot! index=339
term 51 server2 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=344
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1062103974637532279 (index 345) to leader 0
term 51 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 51
------------------------------------------------------
flag 94859 term 51 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 51 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 51 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=345
leader log:
[{snapshot 51 339} {3835980582398074071 51 340} {8866144172070490499 51 341} {348222980300197347 51 342} {270875709391503983 51 343} {7996896649042683783 51 344} {1062103974637532279 51 345}]
------------------------------------------------------
term 52 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 server 2 vote for server 0
term 53 server 1 vote for server 0
term 53 server 0 get vote from server 2
term 53 server 0 become leader
------------------------------------------------------
term 53 server 0 get outdate rpc reply from server 1
flag 9092 term 53 leader 0 nextIndex[1]: 346  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 51 leaderCommit: 345 
------------------------------------------------------
flag 85620 term 53 leader 0 nextIndex[2]: 346  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 51 leaderCommit: 345 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=345
leader log:
[{snapshot 51 339} {3835980582398074071 51 340} {8866144172070490499 51 341} {348222980300197347 51 342} {270875709391503983 51 343} {7996896649042683783 51 344} {1062103974637532279 51 345}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 346->345
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 51
------------------------------------------------------
flag 27577 term 53 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 53 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 51 leaderCommit: 345 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=345
leader log:
[{snapshot 51 339} {3835980582398074071 51 340} {8866144172070490499 51 341} {348222980300197347 51 342} {270875709391503983 51 343} {7996896649042683783 51 344} {1062103974637532279 51 345}]
------------------------------------------------------
term 53 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 51 rf.commitIndex 339 rf.lastApplied 339
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76799 term 53 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 345 
------------------------------------------------------
flag 96086 term 53 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 53 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 51 leaderCommit: 345 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 51 339} {3835980582398074071 51 340} {8866144172070490499 51 341} {348222980300197347 51 342} {270875709391503983 51 343} {7996896649042683783 51 344} {1062103974637532279 51 345}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=345
leader log:
[{snapshot 51 339} {3835980582398074071 51 340} {8866144172070490499 51 341} {348222980300197347 51 342} {270875709391503983 51 343} {7996896649042683783 51 344} {1062103974637532279 51 345}]
------------------------------------------------------
flag 21669 term 53 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 53 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 51 leaderCommit: 345 
------------------------------------------------------
flag 22018 term 53 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 53 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 51 leaderCommit: 345 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=345
leader log:
[{snapshot 51 339} {3835980582398074071 51 340} {8866144172070490499 51 341} {348222980300197347 51 342} {270875709391503983 51 343} {7996896649042683783 51 344} {1062103974637532279 51 345}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 51 339} {3835980582398074071 51 340} {8866144172070490499 51 341} {348222980300197347 51 342} {270875709391503983 51 343} {7996896649042683783 51 344} {1062103974637532279 51 345}]
------------------------------------------------------
flag 25595 term 53 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 53 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 51 leaderCommit: 345 
------------------------------------------------------
flag 34033 term 53 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 53 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 51 leaderCommit: 345 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 51 339} {3835980582398074071 51 340} {8866144172070490499 51 341} {348222980300197347 51 342} {270875709391503983 51 343} {7996896649042683783 51 344} {1062103974637532279 51 345}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=345
leader log:
[{snapshot 51 339} {3835980582398074071 51 340} {8866144172070490499 51 341} {348222980300197347 51 342} {270875709391503983 51 343} {7996896649042683783 51 344} {1062103974637532279 51 345}]
------------------------------------------------------
term 53 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 338 term 53 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 53 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 51 leaderCommit: 345 
------------------------------------------------------
flag 14853 term 53 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 53 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 51 leaderCommit: 345 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=345
leader log:
[{snapshot 51 339} {3835980582398074071 51 340} {8866144172070490499 51 341} {348222980300197347 51 342} {270875709391503983 51 343} {7996896649042683783 51 344} {1062103974637532279 51 345}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 51 339} {3835980582398074071 51 340} {8866144172070490499 51 341} {348222980300197347 51 342} {270875709391503983 51 343} {7996896649042683783 51 344} {1062103974637532279 51 345}]
------------------------------------------------------
flag 2953 term 53 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 53 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 51 leaderCommit: 345 
------------------------------------------------------
flag 40096 term 53 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 53 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 51 leaderCommit: 345 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=345
leader log:
[{snapshot 51 339} {3835980582398074071 51 340} {8866144172070490499 51 341} {348222980300197347 51 342} {270875709391503983 51 343} {7996896649042683783 51 344} {1062103974637532279 51 345}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 51 339} {3835980582398074071 51 340} {8866144172070490499 51 341} {348222980300197347 51 342} {270875709391503983 51 343} {7996896649042683783 51 344} {1062103974637532279 51 345}]
------------------------------------------------------
flag 84113 term 53 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 53 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 51 leaderCommit: 345 
------------------------------------------------------
flag 95678 term 53 leader 0 nextIndex[2]: 346  matchIndex[2]: 345
term 53 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 51 leaderCommit: 345 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 51 339} {3835980582398074071 51 340} {8866144172070490499 51 341} {348222980300197347 51 342} {270875709391503983 51 343} {7996896649042683783 51 344} {1062103974637532279 51 345}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=346
update matchIndex[2]=345
update leader CommitIndex=345
leader log:
[{snapshot 51 339} {3835980582398074071 51 340} {8866144172070490499 51 341} {348222980300197347 51 342} {270875709391503983 51 343} {7996896649042683783 51 344} {1062103974637532279 51 345}]
------------------------------------------------------
  ... Passed --  79.3  3 1806  819225  345
--- PASS: TestSnapshotInstall2D (79.35s)
PASS
