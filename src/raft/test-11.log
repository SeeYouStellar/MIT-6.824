=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 0 vote for server 1
term 1 server 1 get outdate rpc reply from server 0
client write log 2729760224602163924 (index 1) to leader 1
flag 43972 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 79080 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2729760224602163924 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2729760224602163924 1 1}]
------------------------------------------------------
flag 56842 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 17980 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2729760224602163924 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2729760224602163924 1 1}]
------------------------------------------------------
flag 18948 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 75103 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2729760224602163924 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2729760224602163924 1 1}]
------------------------------------------------------
flag 80328 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 49710 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2729760224602163924 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2729760224602163924 1 1}]
------------------------------------------------------
flag 4988 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 94273 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2729760224602163924 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2729760224602163924 1 1}]
------------------------------------------------------
flag 72853 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 4776 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
[{<nil> 0 0} {2729760224602163924 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2729760224602163924 1 1}]
------------------------------------------------------
flag 39173 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 83186 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2729760224602163924 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2729760224602163924 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1427447126077308626 (index 2) to leader 1
flag 57297 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 8303 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2729760224602163924 1 1} {1427447126077308626 1 2}]
------------------------------------------------------
flag 74318 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 77347 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2729760224602163924 1 1} {1427447126077308626 1 2}]
------------------------------------------------------
client write log 2517336533011964865 (index 3) to leader 1
client write log 8166910696220287313 (index 4) to leader 1
client write log 8417462357083487728 (index 5) to leader 1
client write log 5529109105748368374 (index 6) to leader 1
client write log 2171459472214555632 (index 7) to leader 1
client write log 1643405132521317158 (index 8) to leader 1
client write log 4827692687092254114 (index 9) to leader 1
client write log 2917571716839993105 (index 10) to leader 1
client write log 7672273727201210478 (index 11) to leader 1
client write log 8284140926473212774 (index 12) to leader 1
client write log 1895270874228844178 (index 13) to leader 1
flag 64872 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 34995 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{<nil> 0 0} {2729760224602163924 1 1} {1427447126077308626 1 2} {2517336533011964865 1 3} {8166910696220287313 1 4} {8417462357083487728 1 5} {5529109105748368374 1 6} {2171459472214555632 1 7} {1643405132521317158 1 8} {4827692687092254114 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=13
-------------------------------------------------------------
flag 15350 term 1 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 1 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=13
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2162502329296706947 (index 14) to leader 1
term 1 server 1 not vote for server 2, 日志不够新
term 1 server 0 not vote for server 2, 日志不够新
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 0 vote for server 1
term 3 server 1 get outdate rpc reply from server 0
flag 95642 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 79253 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 15->14
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 15->14
------------------------------------------------------
flag 14399 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
flag 35214 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 69493 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
flag 41108 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 78121 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
flag 54011 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 96729 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
flag 84390 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 20857 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
flag 53779 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 13830 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
flag 3847 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 38768 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
flag 32205 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 39245 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
flag 49347 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 19432 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
flag 65869 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 35325 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
flag 23498 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 56507 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
flag 30880 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 60598 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
flag 87724 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 24505 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
flag 26789 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 98230 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
flag 6572 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 24218 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
flag 90577 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 27462 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
flag 58831 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 3064 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62291 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 99540 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
flag 39079 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 1906 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14}]
------------------------------------------------------
client write log 2162502329296706947 (index 15) to leader 1
flag 42068 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 68879 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14} {2162502329296706947 3 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14} {2162502329296706947 3 15}]
------------------------------------------------------
flag 92209 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 11776 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14} {2162502329296706947 3 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14} {2162502329296706947 3 15}]
------------------------------------------------------
flag 84325 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 78258 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14} {2162502329296706947 3 15}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14} {2162502329296706947 3 15}]
------------------------------------------------------
flag 76455 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 67020 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14} {2162502329296706947 3 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14} {2162502329296706947 3 15}]
------------------------------------------------------
flag 37088 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 97393 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14} {2162502329296706947 3 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14} {2162502329296706947 3 15}]
------------------------------------------------------
flag 85631 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 45130 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14} {2162502329296706947 3 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14} {2162502329296706947 3 15}]
------------------------------------------------------
flag 12494 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 24665 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14} {2162502329296706947 3 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14} {2162502329296706947 3 15}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 26980 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 84605 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 1412 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 23157 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 32539 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 18298 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
flag 83900 term 4 leader 2 nextIndex[0]: 16  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 41515 term 4 leader 2 nextIndex[1]: 16  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14} {2162502329296706947 3 15}]
------------------------------------------------------
client write log 272727189142197009 (index 16) to leader 2
flag 78181 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 73338 term 3 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 7744 term 4 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
flag 14412 term 4 leader 2 nextIndex[1]: 16  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14} {2162502329296706947 3 15} {272727189142197009 4 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 16->15
------------------------------------------------------
flag 7770 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 15
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 11115 term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 21904 term 4 leader 2 nextIndex[1]: 16  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14} {2162502329296706947 3 15} {272727189142197009 4 16}]
------------------------------------------------------
client write log 3139674477299119142 (index 17) to leader 2
client write log 4856732140662990712 (index 18) to leader 2
client write log 6758369564019016479 (index 19) to leader 2
client write log 5011937665521528353 (index 20) to leader 2
client write log 548368183174870972 (index 21) to leader 2
client write log 8924241808112481256 (index 22) to leader 2
client write log 4893810305134933709 (index 23) to leader 2
flag 50748 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 15
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 7608 term 4 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 31332 term 4 leader 2 nextIndex[1]: 16  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 1 9} {2917571716839993105 1 10} {7672273727201210478 1 11} {8284140926473212774 1 12} {1895270874228844178 1 13} {2162502329296706947 1 14} {2162502329296706947 3 15} {272727189142197009 4 16} {3139674477299119142 4 17} {4856732140662990712 4 18} {6758369564019016479 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=23
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 16->15
------------------------------------------------------
flag 94021 term 3 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 15
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 57272 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=23
-------------------------------------------------------------
!!!!!!connect server 1
client write log 357586060303461834 (index 16) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 16->15
------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 15
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 15
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12265 term 4 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 4 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
term 4 server 1 InstallSnapshot success
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 server 0 not vote for server 1, 日志不够新
term 4 server 2 not vote for server 1, 日志不够新
term 6 server 0 vote for server 2
term 6 server 2 get vote from server 0
term 6 server 2 become leader
------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 2 get outdate rpc reply from server 1
flag 6094 term 6 leader 2 nextIndex[0]: 24  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 33142 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 24->23
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43390 term 6 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 44834 term 6 leader 2 nextIndex[1]: 20  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
flag 71409 term 6 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 7887 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73201 term 6 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 67015 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
flag 13721 term 6 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 74262 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36680 term 6 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 18106 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
flag 83145 term 6 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 70357 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
flag 78046 term 6 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 56750 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29399 term 6 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 6179 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
flag 64259 term 6 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 50680 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
flag 63277 term 6 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 34515 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
flag 60358 term 6 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 96965 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66481 term 6 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 75074 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85887 term 6 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 67790 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
flag 44362 term 6 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 60254 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
flag 15439 term 6 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 15433 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
flag 93468 term 6 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 87855 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
flag 27137 term 6 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 85184 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80000 term 6 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 50376 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23}]
------------------------------------------------------
client write log 357586060303461834 (index 24) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26359 term 6 leader 2 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 8390 term 6 leader 2 nextIndex[1]: 24  matchIndex[1]: 23
term 6 leader 2 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23} {357586060303461834 6 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23} {357586060303461834 6 24}]
------------------------------------------------------
flag 14997 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
flag 43330 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23} {357586060303461834 6 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23} {357586060303461834 6 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78411 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
flag 70417 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23} {357586060303461834 6 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23} {357586060303461834 6 24}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68218 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
flag 78733 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23} {357586060303461834 6 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23} {357586060303461834 6 24}]
------------------------------------------------------
flag 89189 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
flag 37305 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23} {357586060303461834 6 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23} {357586060303461834 6 24}]
------------------------------------------------------
flag 40932 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
flag 54821 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23} {357586060303461834 6 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23} {357586060303461834 6 24}]
------------------------------------------------------
flag 56325 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
flag 54227 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23} {357586060303461834 6 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23} {357586060303461834 6 24}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4921295051089408970 (index 25) to leader 2
flag 46712 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
flag 57515 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23} {357586060303461834 6 24} {4921295051089408970 6 25}]
------------------------------------------------------
flag 62382 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 79409 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23} {357586060303461834 6 24} {4921295051089408970 6 25}]
------------------------------------------------------
client write log 3495034036548969326 (index 26) to leader 2
client write log 774914488634614261 (index 27) to leader 2
client write log 5053624430923255695 (index 28) to leader 2
client write log 3255353516522122417 (index 29) to leader 2
client write log 5947450271553377064 (index 30) to leader 2
client write log 42385279126104388 (index 31) to leader 2
flag 88714 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 404 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 19} {5011937665521528353 4 20} {548368183174870972 4 21} {8924241808112481256 4 22} {4893810305134933709 4 23} {357586060303461834 6 24} {4921295051089408970 6 25} {3495034036548969326 6 26} {774914488634614261 6 27} {5053624430923255695 6 28} {3255353516522122417 6 29} {5947450271553377064 6 30} {42385279126104388 6 31}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=31
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 89425 term 6 leader 2 nextIndex[1]: 32  matchIndex[1]: 31
term 6 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=32
update matchIndex[1]=31
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=31
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1244874102134664161 (index 32) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 25->24
------------------------------------------------------
term 6 server 2 not vote for server 0, 日志不够新
term 6 server 1 not vote for server 0, 日志不够新
term 8 server 1 vote for server 2
term 8 server 0 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 2 become leader
------------------------------------------------------
term 8 server 2 get outdate rpc reply from server 0
flag 54717 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 99037 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 33->32
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 33->32
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 25  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 76159 term 8 leader 2 nextIndex[1]: 32  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
term 8 server 0 InstallSnapshot success
------------------------------------------------------
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
flag 46875 term 8 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 8 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 11666 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57776 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 4144 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
flag 78244 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 30738 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22816 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 58700 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
flag 40171 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 5815 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
flag 32759 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 54686 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
flag 87803 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 46805 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
flag 51981 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 16451 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
flag 57360 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 88804 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
flag 45920 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 63765 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92538 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 4469 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96982 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 49249 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
flag 81965 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 8643 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
flag 87107 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 3493 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69504 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 20836 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
flag 30338 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 88266 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
flag 21645 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 42244 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
flag 33885 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 29321 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=33
update matchIndex[1]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32}]
------------------------------------------------------
client write log 1244874102134664161 (index 33) to leader 2
flag 77193 term 8 leader 2 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 44643 term 8 leader 2 nextIndex[1]: 33  matchIndex[1]: 32
term 8 leader 2 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32} {1244874102134664161 8 33}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32} {1244874102134664161 8 33}]
------------------------------------------------------
flag 98223 term 8 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 8 leaderCommit: 33 
------------------------------------------------------
flag 11869 term 8 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 8 leaderCommit: 33 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32} {1244874102134664161 8 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32} {1244874102134664161 8 33}]
------------------------------------------------------
flag 57308 term 8 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 8 leaderCommit: 33 
------------------------------------------------------
flag 42723 term 8 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 8 leaderCommit: 33 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32} {1244874102134664161 8 33}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32} {1244874102134664161 8 33}]
------------------------------------------------------
flag 7213 term 8 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 8 leaderCommit: 33 
------------------------------------------------------
flag 52734 term 8 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 8 leaderCommit: 33 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32} {1244874102134664161 8 33}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32} {1244874102134664161 8 33}]
------------------------------------------------------
flag 53561 term 8 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 8 leaderCommit: 33 
------------------------------------------------------
flag 69227 term 8 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 8 leaderCommit: 33 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32} {1244874102134664161 8 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32} {1244874102134664161 8 33}]
------------------------------------------------------
flag 8168 term 8 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 8 leaderCommit: 33 
------------------------------------------------------
flag 97215 term 8 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 8 leaderCommit: 33 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32} {1244874102134664161 8 33}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32} {1244874102134664161 8 33}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40402 term 8 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 8 leaderCommit: 33 
------------------------------------------------------
flag 41388 term 8 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 8 leaderCommit: 33 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32} {1244874102134664161 8 33}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32} {1244874102134664161 8 33}]
------------------------------------------------------
term 8 server 1 not vote for server 2, 任期不够新
term 8 server 2 get outdate rpc reply from server 1
!!!!!!diconnect server 0
client write log 8455359188681310850 (index 34) to leader 2
flag 65862 term 8 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 8 leaderCommit: 33 
------------------------------------------------------
flag 40239 term 8 leader 2 nextIndex[1]: 34  matchIndex[1]: 33
term 8 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 8 leaderCommit: 33 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32} {1244874102134664161 8 33} {8455359188681310850 8 34}]
------------------------------------------------------
flag 7348 term 8 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 75489 term 8 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32} {1244874102134664161 8 33} {8455359188681310850 8 34}]
------------------------------------------------------
client write log 7343046975733776482 (index 35) to leader 2
client write log 3285828857969026402 (index 36) to leader 2
client write log 2084899860853939300 (index 37) to leader 2
client write log 6695036210233770418 (index 38) to leader 2
client write log 6839997045774730976 (index 39) to leader 2
client write log 2956659731479087234 (index 40) to leader 2
client write log 5960096536147947242 (index 41) to leader 2
client write log 505798053794583201 (index 42) to leader 2
client write log 6001842526788052986 (index 43) to leader 2
client write log 8403778471348507811 (index 44) to leader 2
client write log 8531220519347146514 (index 45) to leader 2
flag 69514 term 8 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 2 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
flag 66645 term 8 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 8 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 8 leaderCommit: 34 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 29} {5947450271553377064 6 30} {42385279126104388 6 31} {1244874102134664161 6 32} {1244874102134664161 8 33} {8455359188681310850 8 34} {7343046975733776482 8 35} {3285828857969026402 8 36} {2084899860853939300 8 37} {6695036210233770418 8 38} {6839997045774730976 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45}]
------------------------------------------------------
term 8 Server2 start snapshot! index=39
term 8 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=45
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 45176 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45}]
------------------------------------------------------
term 8 Server1 start snapshot! index=39
term 8 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=45
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1594978491207848937 (index 46) to leader 2
term 8 leader 2 nextIndex[0]: 34  matchIndex[0]: 33
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 72143 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 9 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 server 1 vote for server 2
term 10 server 2 get vote from server 1
term 10 server 2 become leader
------------------------------------------------------
term 10 server 0 vote for server 2
term 10 server 2 get outdate rpc reply from server 0
flag 11760 term 10 leader 2 nextIndex[0]: 47  matchIndex[0]: 0
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 3771 term 10 leader 2 nextIndex[1]: 47  matchIndex[1]: 0
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
term 10 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 47->46
------------------------------------------------------
term 10 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 10 leader 2 nextIndex[0]: 34  matchIndex[0]: 0
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 15193 term 10 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
term 10 server 0 InstallSnapshot success
------------------------------------------------------
term 10 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 8 rf.commitIndex 39 rf.lastApplied 39
flag 18299 term 10 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 2085 term 10 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
flag 41440 term 10 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 59169 term 10 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
flag 4086 term 10 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 38280 term 10 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
flag 82862 term 10 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 87898 term 10 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
flag 89889 term 10 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 80976 term 10 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37231 term 10 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 87394 term 10 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
flag 90229 term 10 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 97633 term 10 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
flag 32385 term 10 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 68404 term 10 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
flag 88605 term 10 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 91174 term 10 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
flag 80484 term 10 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 59050 term 10 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
flag 91003 term 10 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 7325 term 10 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
flag 2319 term 10 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 54140 term 10 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
flag 82064 term 10 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 8390 term 10 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
flag 57204 term 10 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 80166 term 10 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
flag 64034 term 10 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 26328 term 10 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
flag 26176 term 10 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 63942 term 10 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:45 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46}]
------------------------------------------------------
flag 86945 term 10 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 8595 term 10 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
client write log 1594978491207848937 (index 47) to leader 2
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46} {1594978491207848937 10 47}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46} {1594978491207848937 10 47}]
------------------------------------------------------
flag 23311 term 10 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 99575 term 10 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 10 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46} {1594978491207848937 10 47}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46} {1594978491207848937 10 47}]
------------------------------------------------------
flag 2544 term 10 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
flag 49740 term 10 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46} {1594978491207848937 10 47}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46} {1594978491207848937 10 47}]
------------------------------------------------------
term 10 server 1 not vote for server 0, 任期不够新
term 10 server 0 get outdate rpc reply from server 1
flag 21475 term 10 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
flag 23845 term 10 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46} {1594978491207848937 10 47}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46} {1594978491207848937 10 47}]
------------------------------------------------------
flag 56724 term 10 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
flag 46170 term 10 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46} {1594978491207848937 10 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46} {1594978491207848937 10 47}]
------------------------------------------------------
flag 82791 term 10 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
flag 97292 term 10 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46} {1594978491207848937 10 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46} {1594978491207848937 10 47}]
------------------------------------------------------
term 10 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30379 term 10 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
flag 19592 term 10 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46} {1594978491207848937 10 47}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46} {1594978491207848937 10 47}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 23399 term 10 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
flag 53759 term 10 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
flag 63509 term 10 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
flag 3539 term 10 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
flag 62723 term 10 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
flag 23940 term 10 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
term 11 server 0 vote for server 1
term 11 server 1 get vote from server 0
term 11 server 1 become leader
------------------------------------------------------
client write log 7906645806621620127 (index 48) to leader 1
flag 70014 term 11 leader 1 nextIndex[0]: 48  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
flag 62865 term 11 leader 1 nextIndex[2]: 48  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46} {1594978491207848937 10 47} {7906645806621620127 11 48}]
------------------------------------------------------
flag 74144 term 10 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
flag 69085 term 10 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
flag 67152 term 11 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 11 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 11 leaderCommit: 48 
------------------------------------------------------
flag 28024 term 11 leader 1 nextIndex[2]: 48  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46} {1594978491207848937 10 47} {7906645806621620127 11 48}]
------------------------------------------------------
flag 54666 term 10 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
flag 57265 term 10 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
client write log 3478170098760484707 (index 49) to leader 1
flag 13040 term 11 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 11 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 11 leaderCommit: 48 
------------------------------------------------------
flag 47191 term 11 leader 1 nextIndex[2]: 48  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 48 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 39} {2956659731479087234 8 40} {5960096536147947242 8 41} {505798053794583201 8 42} {6001842526788052986 8 43} {8403778471348507811 8 44} {8531220519347146514 8 45} {1594978491207848937 8 46} {1594978491207848937 10 47} {7906645806621620127 11 48} {3478170098760484707 11 49}]
------------------------------------------------------
term 11 Server1 start snapshot! index=49
term 11 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 99953 term 10 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
flag 39925 term 10 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
flag 85457 term 11 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 11 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 11 leaderCommit: 49 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 48  matchIndex[2]: 0
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 11 49}]
------------------------------------------------------
term 11 Server0 start snapshot! index=49
term 11 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5452624612874266002 (index 50) to leader 1
flag 29568 term 10 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
flag 3044 term 10 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 10 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 10 leaderCommit: 47 
------------------------------------------------------
term 11 server 1 AppendEntries false 领导者任期过期 args.Term 10
------------------------------------------------------
term 11 server 0 AppendEntries false 领导者任期过期 args.Term 10
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98591 term 11 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 11 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 11 leaderCommit: 49 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 48  matchIndex[2]: 0
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 11 rf.commitIndex 49 rf.lastApplied 49
term 11 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 11 49} {5452624612874266002 11 50}]
------------------------------------------------------
flag 58799 term 11 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 11 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 14536 term 11 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 11 49} {5452624612874266002 11 50}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 11 49} {5452624612874266002 11 50}]
------------------------------------------------------
flag 30851 term 11 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 11 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 14230 term 11 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 11 49} {5452624612874266002 11 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 11 49} {5452624612874266002 11 50}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60237 term 11 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 11 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 87964 term 11 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 11 49} {5452624612874266002 11 50}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 11 49} {5452624612874266002 11 50}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8823 term 11 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 11 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 26338 term 11 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 11 49} {5452624612874266002 11 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 11 49} {5452624612874266002 11 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 51->50
------------------------------------------------------
flag 7952 term 11 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 11 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 0  matchIndex[2]: 50
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 2 InstallSnapshot fail
rf.commitIndex 50 args.LastIncludedIndex 49
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 11 49} {5452624612874266002 11 50}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34192 term 11 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 11 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 29891 term 11 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 11 49} {5452624612874266002 11 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 11 49} {5452624612874266002 11 50}]
------------------------------------------------------
flag 95795 term 11 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 11 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 62945 term 11 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 11 49} {5452624612874266002 11 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 11 49} {5452624612874266002 11 50}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4364727136189911634 (index 51) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6062 term 11 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 11 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
flag 41862 term 11 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 50 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 11 49} {5452624612874266002 11 50} {4364727136189911634 11 51}]
------------------------------------------------------
flag 37325 term 11 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 11 leaderCommit: 51 
------------------------------------------------------
flag 24617 term 11 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 51 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 11 49} {5452624612874266002 11 50} {4364727136189911634 11 51}]
------------------------------------------------------
client write log 3064424027021986685 (index 52) to leader 1
client write log 8218117809333619760 (index 53) to leader 1
client write log 2958188666207947285 (index 54) to leader 1
client write log 6446707932520485979 (index 55) to leader 1
client write log 4949980933674803157 (index 56) to leader 1
client write log 3885046481388998761 (index 57) to leader 1
client write log 7048859066575854886 (index 58) to leader 1
client write log 547253843313438806 (index 59) to leader 1
client write log 4041275602988046295 (index 60) to leader 1
flag 98437 term 11 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 11 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 11 leaderCommit: 51 
------------------------------------------------------
flag 54144 term 11 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 11 leaderCommit: 51 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 49} {5452624612874266002 11 50} {4364727136189911634 11 51} {3064424027021986685 11 52} {8218117809333619760 11 53} {2958188666207947285 11 54} {6446707932520485979 11 55} {4949980933674803157 11 56} {3885046481388998761 11 57} {7048859066575854886 11 58} {547253843313438806 11 59} {4041275602988046295 11 60}]
------------------------------------------------------
term 11 Server1 start snapshot! index=59
term 11 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=60
-------------------------------------------------------------
flag 13222 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60}]
------------------------------------------------------
term 11 Server0 start snapshot! index=59
term 11 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=60
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3120352647152275153 (index 61) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 51->50
------------------------------------------------------
flag 43745 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 0  matchIndex[2]: 50
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
term 12 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 server 2 not vote for server 0, 任期不够新
term 11 server 0 get outdate rpc reply from server 2
term 12 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 2 vote for server 1
term 13 server 0 vote for server 1
term 13 server 1 get vote from server 2
term 13 server 1 become leader
------------------------------------------------------
term 13 server 1 get outdate rpc reply from server 0
flag 18536 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 87765 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 62->61
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
flag 36733 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 51  matchIndex[2]: 0
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
term 13 server 2 InstallSnapshot success
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 11 rf.commitIndex 59 rf.lastApplied 59
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
flag 69057 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 38533 term 13 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15123 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 69740 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69714 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 22784 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95350 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 15182 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
flag 82947 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 11711 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
flag 6834 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 35336 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
term 13 server 1 not vote for server 2, 任期不够新
term 13 server 2 get outdate rpc reply from server 1
flag 76485 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 51246 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
flag 43310 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 20075 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
flag 52538 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 68405 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
flag 69841 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 3867 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
flag 15475 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 68806 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1164 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 51270 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78707 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 49844 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
flag 45248 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 6019 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
flag 684 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 82225 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11618 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 577 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
flag 18662 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 72446 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61}]
------------------------------------------------------
client write log 3120352647152275153 (index 62) to leader 1
flag 76349 term 13 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 2825 term 13 leader 1 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61} {3120352647152275153 13 62}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61} {3120352647152275153 13 62}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4661 term 13 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 13 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 13 leaderCommit: 62 
------------------------------------------------------
flag 65455 term 13 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 13 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 13 leaderCommit: 62 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61} {3120352647152275153 13 62}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61} {3120352647152275153 13 62}]
------------------------------------------------------
flag 91065 term 13 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 13 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 13 leaderCommit: 62 
------------------------------------------------------
flag 40159 term 13 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 13 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 13 leaderCommit: 62 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61} {3120352647152275153 13 62}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61} {3120352647152275153 13 62}]
------------------------------------------------------
flag 87012 term 13 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 13 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 13 leaderCommit: 62 
------------------------------------------------------
flag 58873 term 13 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 13 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 13 leaderCommit: 62 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61} {3120352647152275153 13 62}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61} {3120352647152275153 13 62}]
------------------------------------------------------
flag 49706 term 13 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 13 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 13 leaderCommit: 62 
------------------------------------------------------
flag 11749 term 13 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 13 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 13 leaderCommit: 62 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61} {3120352647152275153 13 62}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61} {3120352647152275153 13 62}]
------------------------------------------------------
flag 89932 term 13 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 13 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 13 leaderCommit: 62 
------------------------------------------------------
flag 78482 term 13 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 13 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 13 leaderCommit: 62 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61} {3120352647152275153 13 62}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61} {3120352647152275153 13 62}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7290545297293660283 (index 63) to leader 1
flag 83110 term 13 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 13 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 13 leaderCommit: 62 
------------------------------------------------------
flag 75664 term 13 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 13 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 13 leaderCommit: 62 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61} {3120352647152275153 13 62} {7290545297293660283 13 63}]
------------------------------------------------------
flag 61582 term 13 leader 1 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 13 leaderCommit: 63 
------------------------------------------------------
flag 32018 term 13 leader 1 nextIndex[2]: 63  matchIndex[2]: 62
term 13 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 13 leaderCommit: 63 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61} {3120352647152275153 13 62} {7290545297293660283 13 63}]
------------------------------------------------------
client write log 2262976807369132090 (index 64) to leader 1
client write log 3951137795025750992 (index 65) to leader 1
client write log 7480420460778211529 (index 66) to leader 1
client write log 996683671447357846 (index 67) to leader 1
client write log 2815888882295337805 (index 68) to leader 1
client write log 8155901941552222143 (index 69) to leader 1
client write log 2645786844000028331 (index 70) to leader 1
client write log 1844466044454586509 (index 71) to leader 1
client write log 3142844105580694739 (index 72) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 63->62
------------------------------------------------------
flag 39847 term 13 leader 1 nextIndex[0]: 64  matchIndex[0]: 63
term 13 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 13 leaderCommit: 63 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 0  matchIndex[2]: 62
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 59} {4041275602988046295 11 60} {3120352647152275153 11 61} {3120352647152275153 13 62} {7290545297293660283 13 63} {2262976807369132090 13 64} {3951137795025750992 13 65} {7480420460778211529 13 66} {996683671447357846 13 67} {2815888882295337805 13 68} {8155901941552222143 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72}]
------------------------------------------------------
term 13 Server1 start snapshot! index=69
term 13 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=72
-------------------------------------------------------------
flag 10881 term 13 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 0  matchIndex[2]: 62
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=73
update matchIndex[0]=72
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72}]
------------------------------------------------------
term 13 Server0 start snapshot! index=69
term 13 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=72
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7258957380873489233 (index 73) to leader 1
flag 86424 term 13 leader 1 nextIndex[0]: 73  matchIndex[0]: 72
term 13 leader 1 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 0  matchIndex[2]: 62
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
term 14 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 server 2 vote for server 1
term 15 server 0 vote for server 1
term 15 server 1 get vote from server 0
term 15 server 1 become leader
------------------------------------------------------
term 15 server 1 get outdate rpc reply from server 2
flag 43962 term 15 leader 1 nextIndex[0]: 74  matchIndex[0]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 9521 term 15 leader 1 nextIndex[2]: 74  matchIndex[2]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 74->73
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78269 term 15 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 63  matchIndex[2]: 0
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
term 15 server 2 InstallSnapshot success
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 13 rf.commitIndex 69 rf.lastApplied 69
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
flag 4645 term 15 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 71789 term 15 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 15 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75299 term 15 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 90655 term 15 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
flag 37221 term 15 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 6655 term 15 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
flag 70449 term 15 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 30470 term 15 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
flag 12475 term 15 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 70021 term 15 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
flag 28798 term 15 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 9827 term 15 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
flag 42964 term 15 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 31101 term 15 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
flag 40128 term 15 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 16204 term 15 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77109 term 15 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 43705 term 15 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
flag 50436 term 15 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 45514 term 15 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
flag 97651 term 15 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 59373 term 15 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
flag 73250 term 15 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 96218 term 15 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
flag 70192 term 15 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 40330 term 15 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
flag 18005 term 15 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 10624 term 15 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
term 15 server 2 not vote for server 1, 任期不够新
term 15 server 1 get outdate rpc reply from server 2
flag 57500 term 15 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 61808 term 15 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
flag 17742 term 15 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 57443 term 15 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92975 term 15 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 21437 term 15 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=74
update matchIndex[0]=73
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73}]
------------------------------------------------------
client write log 7258957380873489233 (index 74) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60813 term 15 leader 1 nextIndex[0]: 74  matchIndex[0]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 19747 term 15 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 15 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73} {7258957380873489233 15 74}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73} {7258957380873489233 15 74}]
------------------------------------------------------
flag 89151 term 15 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 59742 term 15 leader 1 nextIndex[2]: 75  matchIndex[2]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:74 
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73} {7258957380873489233 15 74}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73} {7258957380873489233 15 74}]
------------------------------------------------------
term 15 server 1 not vote for server 2, 任期不够新
term 15 server 2 get outdate rpc reply from server 1
flag 3878 term 15 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 24909 term 15 leader 1 nextIndex[2]: 75  matchIndex[2]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73} {7258957380873489233 15 74}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73} {7258957380873489233 15 74}]
------------------------------------------------------
flag 31505 term 15 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 35810 term 15 leader 1 nextIndex[2]: 75  matchIndex[2]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73} {7258957380873489233 15 74}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73} {7258957380873489233 15 74}]
------------------------------------------------------
flag 32663 term 15 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 64967 term 15 leader 1 nextIndex[2]: 75  matchIndex[2]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73} {7258957380873489233 15 74}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73} {7258957380873489233 15 74}]
------------------------------------------------------
flag 76544 term 15 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 21738 term 15 leader 1 nextIndex[2]: 75  matchIndex[2]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73} {7258957380873489233 15 74}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73} {7258957380873489233 15 74}]
------------------------------------------------------
term 15 server 0 not vote for server 2, 任期不够新
term 15 server 2 get outdate rpc reply from server 0
flag 5839 term 15 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 82051 term 15 leader 1 nextIndex[2]: 75  matchIndex[2]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73} {7258957380873489233 15 74}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73} {7258957380873489233 15 74}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 49986 term 15 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 25037 term 15 leader 1 nextIndex[2]: 75  matchIndex[2]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 69006 term 15 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 40492 term 15 leader 1 nextIndex[2]: 75  matchIndex[2]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 29678 term 15 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 17899 term 15 leader 1 nextIndex[2]: 75  matchIndex[2]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 75->74
------------------------------------------------------
flag 41906 term 15 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 0  matchIndex[2]: 74
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
term 16 server 0 vote for server 2
term 16 server 2 get vote from server 0
term 16 server 2 become leader
------------------------------------------------------
flag 95709 term 16 leader 2 nextIndex[0]: 75  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 79890 term 16 leader 2 nextIndex[1]: 75  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73} {7258957380873489233 15 74}]
------------------------------------------------------
client write log 8237015035060851666 (index 75) to leader 2
flag 78513 term 15 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 0  matchIndex[2]: 74
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 59391 term 16 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 16 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
flag 35367 term 16 leader 2 nextIndex[1]: 75  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73} {7258957380873489233 15 74} {8237015035060851666 16 75}]
------------------------------------------------------
flag 10341 term 15 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 0  matchIndex[2]: 74
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 57135 term 16 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 16 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 16 leaderCommit: 75 
------------------------------------------------------
flag 18741 term 16 leader 2 nextIndex[1]: 75  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73} {7258957380873489233 15 74} {8237015035060851666 16 75}]
------------------------------------------------------
client write log 5959712569465391862 (index 76) to leader 2
client write log 8453352993777874832 (index 77) to leader 2
client write log 6199299067321713328 (index 78) to leader 2
client write log 823715328670507143 (index 79) to leader 2
client write log 508837687184374811 (index 80) to leader 2
client write log 245426332101269074 (index 81) to leader 2
client write log 3175027474058293796 (index 82) to leader 2
client write log 3758859650110793767 (index 83) to leader 2
flag 26418 term 15 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 0  matchIndex[2]: 74
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 17645 term 16 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 16 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 16 leaderCommit: 75 
------------------------------------------------------
flag 73194 term 16 leader 2 nextIndex[1]: 75  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 75 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 13 69} {2645786844000028331 13 70} {1844466044454586509 13 71} {3142844105580694739 13 72} {7258957380873489233 13 73} {7258957380873489233 15 74} {8237015035060851666 16 75} {5959712569465391862 16 76} {8453352993777874832 16 77} {6199299067321713328 16 78} {823715328670507143 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
term 16 Server2 start snapshot! index=79
term 16 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=83
-------------------------------------------------------------
flag 11905 term 15 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 0  matchIndex[2]: 74
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 80783 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 leader 2 nextIndex[1]: 75  matchIndex[1]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
term 16 Server0 start snapshot! index=79
term 16 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=83
-------------------------------------------------------------
flag 81264 term 15 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 15 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 15 leaderCommit: 74 
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 0  matchIndex[2]: 74
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
!!!!!!connect server 1
client write log 5642294835216726241 (index 75) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 75->74
------------------------------------------------------
flag 10294 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 leader 2 nextIndex[1]: 75  matchIndex[1]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 1 InstallSnapshot success
------------------------------------------------------
term 16 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 16 rf.commitIndex 79 rf.lastApplied 79
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59527 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 45990 term 16 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 16 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98411 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 90000 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
flag 84147 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 74184 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
flag 19039 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 20079 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
flag 26672 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 92669 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
flag 49704 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 15739 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59828 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 95270 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
flag 22515 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 5272 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 84->83
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69651 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 leader 2 nextIndex[1]: 0  matchIndex[1]: 83
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 1 InstallSnapshot fail
rf.commitIndex 83 args.LastIncludedIndex 79
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
term 16 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
flag 52138 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 94929 term 16 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 16 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8745 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 25106 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12848 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 52102 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85900 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 28300 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
flag 13141 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 65418 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
flag 33042 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 67178 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
flag 15589 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 68463 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42819 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 77035 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
flag 35849 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 47997 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
term 16 server 0 not vote for server 2, 任期不够新
term 16 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69761 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 45987 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83}]
------------------------------------------------------
client write log 5642294835216726241 (index 84) to leader 2
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 84->83
------------------------------------------------------
flag 20220 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 leader 2 nextIndex[1]: 0  matchIndex[1]: 83
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 1 InstallSnapshot fail
rf.commitIndex 83 args.LastIncludedIndex 79
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
term 16 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83} {5642294835216726241 16 84}]
------------------------------------------------------
flag 82693 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
flag 36662 term 16 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 16 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83} {5642294835216726241 16 84}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83} {5642294835216726241 16 84}]
------------------------------------------------------
flag 66320 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
flag 80865 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83} {5642294835216726241 16 84}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83} {5642294835216726241 16 84}]
------------------------------------------------------
flag 18960 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
flag 82773 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83} {5642294835216726241 16 84}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83} {5642294835216726241 16 84}]
------------------------------------------------------
flag 74498 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
flag 48497 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83} {5642294835216726241 16 84}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83} {5642294835216726241 16 84}]
------------------------------------------------------
flag 20131 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
flag 71274 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83} {5642294835216726241 16 84}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83} {5642294835216726241 16 84}]
------------------------------------------------------
flag 78672 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
flag 62351 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83} {5642294835216726241 16 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83} {5642294835216726241 16 84}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7541847980819938096 (index 85) to leader 2
flag 79988 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
flag 8731 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 84 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83} {5642294835216726241 16 84} {7541847980819938096 16 85}]
------------------------------------------------------
term 16 server 1 not vote for server 2, 日志不够新
term 16 server 2 get outdate rpc reply from server 1
flag 13018 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 90788 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83} {5642294835216726241 16 84} {7541847980819938096 16 85}]
------------------------------------------------------
client write log 832949296182109174 (index 86) to leader 2
client write log 645776178140605176 (index 87) to leader 2
client write log 2651854068181620664 (index 88) to leader 2
client write log 6578485155091289658 (index 89) to leader 2
client write log 2123114798342485976 (index 90) to leader 2
client write log 1658205276503060111 (index 91) to leader 2
client write log 8589950982960015385 (index 92) to leader 2
client write log 3983176832339901438 (index 93) to leader 2
client write log 7263426697811665980 (index 94) to leader 2
client write log 2685388958736022064 (index 95) to leader 2
client write log 8068492625422235133 (index 96) to leader 2
client write log 5129314618029251027 (index 97) to leader 2
term 16 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
flag 56215 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 64585 term 16 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 16 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 79} {508837687184374811 16 80} {245426332101269074 16 81} {3175027474058293796 16 82} {3758859650110793767 16 83} {5642294835216726241 16 84} {7541847980819938096 16 85} {832949296182109174 16 86} {645776178140605176 16 87} {2651854068181620664 16 88} {6578485155091289658 16 89} {2123114798342485976 16 90} {1658205276503060111 16 91} {8589950982960015385 16 92} {3983176832339901438 16 93} {7263426697811665980 16 94} {2685388958736022064 16 95} {8068492625422235133 16 96} {5129314618029251027 16 97}]
------------------------------------------------------
term 16 Server2 start snapshot! index=89
term 16 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=97
-------------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 36123 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {2123114798342485976 16 90} {1658205276503060111 16 91} {8589950982960015385 16 92} {3983176832339901438 16 93} {7263426697811665980 16 94} {2685388958736022064 16 95} {8068492625422235133 16 96} {5129314618029251027 16 97}]
------------------------------------------------------
term 16 Server1 start snapshot! index=89
term 16 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=97
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6947921403223535171 (index 98) to leader 2
term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 97105 term 16 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 16 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2123114798342485976 16 90} {1658205276503060111 16 91} {8589950982960015385 16 92} {3983176832339901438 16 93} {7263426697811665980 16 94} {2685388958736022064 16 95} {8068492625422235133 16 96} {5129314618029251027 16 97} {6947921403223535171 16 98}]
------------------------------------------------------
term 17 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 server 1 vote for server 2
term 18 server 0 vote for server 2
term 18 server 2 get vote from server 1
term 18 server 2 become leader
------------------------------------------------------
term 18 server 2 get outdate rpc reply from server 0
flag 51057 term 18 leader 2 nextIndex[0]: 99  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 93913 term 18 leader 2 nextIndex[1]: 99  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2123114798342485976 16 90} {1658205276503060111 16 91} {8589950982960015385 16 92} {3983176832339901438 16 93} {7263426697811665980 16 94} {2685388958736022064 16 95} {8068492625422235133 16 96} {5129314618029251027 16 97} {6947921403223535171 16 98}]
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 99->98
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 85  matchIndex[0]: 0
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 8248 term 18 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2123114798342485976 16 90} {1658205276503060111 16 91} {8589950982960015385 16 92} {3983176832339901438 16 93} {7263426697811665980 16 94} {2685388958736022064 16 95} {8068492625422235133 16 96} {5129314618029251027 16 97} {6947921403223535171 16 98}]
------------------------------------------------------
term 18 server 0 InstallSnapshot success
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 16 rf.commitIndex 89 rf.lastApplied 89
flag 92047 term 18 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 18 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 93116 term 18 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2123114798342485976 16 90} {1658205276503060111 16 91} {8589950982960015385 16 92} {3983176832339901438 16 93} {7263426697811665980 16 94} {2685388958736022064 16 95} {8068492625422235133 16 96} {5129314618029251027 16 97} {6947921403223535171 16 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2123114798342485976 16 90} {1658205276503060111 16 91} {8589950982960015385 16 92} {3983176832339901438 16 93} {7263426697811665980 16 94} {2685388958736022064 16 95} {8068492625422235133 16 96} {5129314618029251027 16 97} {6947921403223535171 16 98}]
------------------------------------------------------
flag 93198 term 18 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 77945 term 18 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2123114798342485976 16 90} {1658205276503060111 16 91} {8589950982960015385 16 92} {3983176832339901438 16 93} {7263426697811665980 16 94} {2685388958736022064 16 95} {8068492625422235133 16 96} {5129314618029251027 16 97} {6947921403223535171 16 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2123114798342485976 16 90} {1658205276503060111 16 91} {8589950982960015385 16 92} {3983176832339901438 16 93} {7263426697811665980 16 94} {2685388958736022064 16 95} {8068492625422235133 16 96} {5129314618029251027 16 97} {6947921403223535171 16 98}]
------------------------------------------------------
flag 98197 term 18 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 76589 term 18 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2123114798342485976 16 90} {1658205276503060111 16 91} {8589950982960015385 16 92} {3983176832339901438 16 93} {7263426697811665980 16 94} {2685388958736022064 16 95} {8068492625422235133 16 96} {5129314618029251027 16 97} {6947921403223535171 16 98}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2123114798342485976 16 90} {1658205276503060111 16 91} {8589950982960015385 16 92} {3983176832339901438 16 93} {7263426697811665980 16 94} {2685388958736022064 16 95} {8068492625422235133 16 96} {5129314618029251027 16 97} {6947921403223535171 16 98}]
------------------------------------------------------
flag 69768 term 18 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 44758 term 18 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2123114798342485976 16 90} {1658205276503060111 16 91} {8589950982960015385 16 92} {3983176832339901438 16 93} {7263426697811665980 16 94} {2685388958736022064 16 95} {8068492625422235133 16 96} {5129314618029251027 16 97} {6947921403223535171 16 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2123114798342485976 16 90} {1658205276503060111 16 91} {8589950982960015385 16 92} {3983176832339901438 16 93} {7263426697811665980 16 94} {2685388958736022064 16 95} {8068492625422235133 16 96} {5129314618029251027 16 97} {6947921403223535171 16 98}]
------------------------------------------------------
flag 84098 term 18 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 67302 term 18 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2123114798342485976 16 90} {1658205276503060111 16 91} {8589950982960015385 16 92} {3983176832339901438 16 93} {7263426697811665980 16 94} {2685388958736022064 16 95} {8068492625422235133 16 96} {5129314618029251027 16 97} {6947921403223535171 16 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2123114798342485976 16 90} {1658205276503060111 16 91} {8589950982960015385 16 92} {3983176832339901438 16 93} {7263426697811665980 16 94} {2685388958736022064 16 95} {8068492625422235133 16 96} {5129314618029251027 16 97} {6947921403223535171 16 98}]
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95328 term 18 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 85653 term 18 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2123114798342485976 16 90} {1658205276503060111 16 91} {8589950982960015385 16 92} {3983176832339901438 16 93} {7263426697811665980 16 94} {2685388958736022064 16 95} {8068492625422235133 16 96} {5129314618029251027 16 97} {6947921403223535171 16 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2123114798342485976 16 90} {1658205276503060111 16 91} {8589950982960015385 16 92} {3983176832339901438 16 93} {7263426697811665980 16 94} {2685388958736022064 16 95} {8068492625422235133 16 96} {5129314618029251027 16 97} {6947921403223535171 16 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74467 term 18 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 19966 term 18 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2123114798342485976 16 90} {1658205276503060111 16 91} {8589950982960015385 16 92} {3983176832339901438 16 93} {7263426697811665980 16 94} {2685388958736022064 16 95} {8068492625422235133 16 96} {5129314618029251027 16 97} {6947921403223535171 16 98}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {2123114798342485976 16 90} {1658205276503060111 16 91} {8589950982960015385 16 92} {3983176832339901438 16 93} {7263426697811665980 16 94} {2685388958736022064 16 95} {8068492625422235133 16 96} {5129314618029251027 16 97} {6947921403223535171 16 98}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4811188519278157310 (index 99) to leader 2
flag 35081 term 18 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 38130 term 18 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 18 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 89} {2123114798342485976 16 90} {1658205276503060111 16 91} {8589950982960015385 16 92} {3983176832339901438 16 93} {7263426697811665980 16 94} {2685388958736022064 16 95} {8068492625422235133 16 96} {5129314618029251027 16 97} {6947921403223535171 16 98} {4811188519278157310 18 99}]
------------------------------------------------------
term 18 Server2 start snapshot! index=99
term 18 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
term 18 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 39340 term 18 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 18 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
term 18 Server1 start snapshot! index=99
term 18 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
client write log 2529663332298550239 (index 100) to leader 2
client write log 3802877713870310253 (index 101) to leader 2
client write log 8925924570989585882 (index 102) to leader 2
client write log 1625200874023572811 (index 103) to leader 2
client write log 3203116775058760318 (index 104) to leader 2
client write log 6737637385233981491 (index 105) to leader 2
client write log 6487873248555797622 (index 106) to leader 2
client write log 2504290779678155051 (index 107) to leader 2
client write log 6173990701859057136 (index 108) to leader 2
client write log 4451990229470385917 (index 109) to leader 2
client write log 4210933409522082010 (index 110) to leader 2
client write log 7338784965081220710 (index 111) to leader 2
client write log 3549457888972590272 (index 112) to leader 2
client write log 7625077518502725875 (index 113) to leader 2
term 18 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 90508 term 18 leader 2 nextIndex[1]: 100  matchIndex[1]: 99
term 18 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 99} {2529663332298550239 18 100} {3802877713870310253 18 101} {8925924570989585882 18 102} {1625200874023572811 18 103} {3203116775058760318 18 104} {6737637385233981491 18 105} {6487873248555797622 18 106} {2504290779678155051 18 107} {6173990701859057136 18 108} {4451990229470385917 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113}]
------------------------------------------------------
term 18 Server2 start snapshot! index=109
term 18 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=113
-------------------------------------------------------------
term 18 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 74925 term 18 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 18 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113}]
------------------------------------------------------
term 18 Server1 start snapshot! index=109
term 18 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=113
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8457469542718070080 (index 114) to leader 2
term 18 leader 2 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 73889 term 18 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 18 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 19 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 1 vote for server 2
term 20 server 0 vote for server 2
term 20 server 2 get vote from server 0
term 20 server 2 become leader
------------------------------------------------------
term 20 server 2 get outdate rpc reply from server 1
flag 48378 term 20 leader 2 nextIndex[0]: 115  matchIndex[0]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 41024 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 0 AppendEntries false prev日志不匹配
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 115->114
------------------------------------------------------
term 20 leader 2 nextIndex[0]: 99  matchIndex[0]: 0
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 15889 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 0 InstallSnapshot success
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 18 rf.commitIndex 109 rf.lastApplied 109
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
flag 90159 term 20 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 20 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 31490 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
flag 98944 term 20 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 77920 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
flag 25101 term 20 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 27081 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
flag 94818 term 20 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 24629 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37177 term 20 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 89259 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
flag 92395 term 20 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 17828 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
term 20 server 1 not vote for server 0, 任期不够新
term 20 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 2 not vote for server 0, 任期不够新
term 20 server 0 get outdate rpc reply from server 2
flag 9774 term 20 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 8540 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
flag 94466 term 20 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 33995 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85977 term 20 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 8853 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
flag 17789 term 20 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 45155 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
flag 84224 term 20 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 1251 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
flag 42877 term 20 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 10674 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
flag 93412 term 20 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 99652 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
flag 52523 term 20 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 61245 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
flag 87444 term 20 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 9408 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
flag 72476 term 20 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 86372 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114}]
------------------------------------------------------
client write log 8457469542718070080 (index 115) to leader 2
flag 31155 term 20 leader 2 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 18158 term 20 leader 2 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 2 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114} {8457469542718070080 20 115}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114} {8457469542718070080 20 115}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10473 term 20 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 67005 term 20 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114} {8457469542718070080 20 115}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114} {8457469542718070080 20 115}]
------------------------------------------------------
flag 85498 term 20 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 99310 term 20 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114} {8457469542718070080 20 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114} {8457469542718070080 20 115}]
------------------------------------------------------
flag 58335 term 20 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 38468 term 20 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114} {8457469542718070080 20 115}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114} {8457469542718070080 20 115}]
------------------------------------------------------
flag 37220 term 20 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 26097 term 20 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114} {8457469542718070080 20 115}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114} {8457469542718070080 20 115}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95527 term 20 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 76880 term 20 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114} {8457469542718070080 20 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114} {8457469542718070080 20 115}]
------------------------------------------------------
flag 99776 term 20 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 65269 term 20 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114} {8457469542718070080 20 115}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114} {8457469542718070080 20 115}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79992 term 20 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 99935 term 20 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 38194 term 20 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 21836 term 20 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 51084 term 20 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 98033 term 20 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 vote for server 0
term 21 server 0 get vote from server 1
term 21 server 0 become leader
------------------------------------------------------
flag 32342 term 21 leader 0 nextIndex[1]: 116  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 78890 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114} {8457469542718070080 20 115}]
------------------------------------------------------
flag 22423 term 20 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 3799 term 20 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
client write log 4174612879376807996 (index 116) to leader 0
flag 19304 term 21 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 28282 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114} {8457469542718070080 20 115} {4174612879376807996 21 116}]
------------------------------------------------------
flag 79159 term 20 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 84424 term 20 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 116->115
------------------------------------------------------
flag 22300 term 21 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 14393 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114} {8457469542718070080 20 115} {4174612879376807996 21 116}]
------------------------------------------------------
term 20 leader 2 nextIndex[0]: 0  matchIndex[0]: 115
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 6414 term 20 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
client write log 5370118763220996729 (index 117) to leader 0
client write log 7265045152234654534 (index 118) to leader 0
client write log 2692702310739832338 (index 119) to leader 0
client write log 6045237447456882106 (index 120) to leader 0
client write log 4454690165920137699 (index 121) to leader 0
client write log 1198029088706075797 (index 122) to leader 0
client write log 2354808223963464918 (index 123) to leader 0
client write log 5465420748126966792 (index 124) to leader 0
flag 77832 term 21 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 29606 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 18 109} {4210933409522082010 18 110} {7338784965081220710 18 111} {3549457888972590272 18 112} {7625077518502725875 18 113} {8457469542718070080 18 114} {8457469542718070080 20 115} {4174612879376807996 21 116} {5370118763220996729 21 117} {7265045152234654534 21 118} {2692702310739832338 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
term 21 Server0 start snapshot! index=119
term 21 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=124
-------------------------------------------------------------
term 20 leader 2 nextIndex[0]: 0  matchIndex[0]: 115
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 10098 term 20 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 116->115
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61823 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
term 20 leader 2 nextIndex[0]: 0  matchIndex[0]: 115
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 20 leader 2 nextIndex[1]: 0  matchIndex[1]: 115
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 21 Server1 start snapshot! index=119
term 21 server1 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=124
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4336946177095986231 (index 116) to leader 2
term 20 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
flag 14465 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 2 InstallSnapshot success
------------------------------------------------------
term 21 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 21 rf.commitIndex 119 rf.lastApplied 119
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
flag 98651 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 81177 term 21 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
flag 5720 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 9966 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
flag 96701 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 1575 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
flag 82988 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 17250 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27346 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 35325 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
flag 12576 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 5921 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 93675 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 55865 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
flag 33424 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 57579 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 125->124
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79863 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 leader 0 nextIndex[2]: 0  matchIndex[2]: 124
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 2 InstallSnapshot fail
rf.commitIndex 124 args.LastIncludedIndex 119
------------------------------------------------------
term 21 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 467 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 98320 term 21 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
flag 66044 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 7044 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36483 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 17268 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
flag 9534 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 43614 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
flag 72161 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 20350 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
flag 58207 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 12992 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
flag 54789 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 78511 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22949 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 17377 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 125->124
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26751 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 leader 0 nextIndex[2]: 0  matchIndex[2]: 124
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 2 InstallSnapshot fail
rf.commitIndex 124 args.LastIncludedIndex 119
------------------------------------------------------
term 21 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
term 21 server 2 not vote for server 0, 任期不够新
term 21 server 0 get outdate rpc reply from server 2
flag 44249 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 24611 term 21 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 4336946177095986231 (index 125) to leader 0
flag 34779 term 21 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 10381 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124} {4336946177095986231 21 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124} {4336946177095986231 21 125}]
------------------------------------------------------
flag 78975 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 92913 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124} {4336946177095986231 21 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124} {4336946177095986231 21 125}]
------------------------------------------------------
flag 53591 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 56935 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124} {4336946177095986231 21 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124} {4336946177095986231 21 125}]
------------------------------------------------------
flag 96215 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 14822 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124} {4336946177095986231 21 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124} {4336946177095986231 21 125}]
------------------------------------------------------
flag 23027 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 69578 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124} {4336946177095986231 21 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124} {4336946177095986231 21 125}]
------------------------------------------------------
flag 81881 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 99160 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124} {4336946177095986231 21 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124} {4336946177095986231 21 125}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 7786687825948290281 (index 126) to leader 0
flag 55060 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 56677 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124} {4336946177095986231 21 125} {7786687825948290281 21 126}]
------------------------------------------------------
flag 36167 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 86090 term 21 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124} {4336946177095986231 21 125} {7786687825948290281 21 126}]
------------------------------------------------------
client write log 7668788597631106827 (index 127) to leader 0
client write log 144078123348492097 (index 128) to leader 0
client write log 8580518959684213938 (index 129) to leader 0
client write log 1267909930646332667 (index 130) to leader 0
client write log 8847643079417017049 (index 131) to leader 0
client write log 9074064166815421795 (index 132) to leader 0
client write log 345008107656288168 (index 133) to leader 0
client write log 4019702159807325222 (index 134) to leader 0
client write log 2110900263664240979 (index 135) to leader 0
client write log 814832755452083828 (index 136) to leader 0
client write log 8281658687956455217 (index 137) to leader 0
client write log 8779713723503894313 (index 138) to leader 0
client write log 521072124961126340 (index 139) to leader 0
client write log 549808546362063001 (index 140) to leader 0
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74304 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 23830 term 21 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 119} {6045237447456882106 21 120} {4454690165920137699 21 121} {1198029088706075797 21 122} {2354808223963464918 21 123} {5465420748126966792 21 124} {4336946177095986231 21 125} {7786687825948290281 21 126} {7668788597631106827 21 127} {144078123348492097 21 128} {8580518959684213938 21 129} {1267909930646332667 21 130} {8847643079417017049 21 131} {9074064166815421795 21 132} {345008107656288168 21 133} {4019702159807325222 21 134} {2110900263664240979 21 135} {814832755452083828 21 136} {8281658687956455217 21 137} {8779713723503894313 21 138} {521072124961126340 21 139} {549808546362063001 21 140}]
------------------------------------------------------
term 21 Server0 start snapshot! index=129
term 21 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=140
-------------------------------------------------------------
term 21 Server0 start snapshot! index=139
term 21 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 78433 term 21 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 21 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 21 139} {549808546362063001 21 140}]
------------------------------------------------------
term 21 Server2 start snapshot! index=129
term 21 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=140
-------------------------------------------------------------
term 21 Server2 start snapshot! index=139
term 21 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7127851425023284530 (index 141) to leader 0
term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 61218 term 21 leader 0 nextIndex[2]: 141  matchIndex[2]: 140
term 21 leader 0 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {549808546362063001 21 140} {7127851425023284530 21 141}]
------------------------------------------------------
term 22 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 22 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 1 vote for server 0
term 23 server 2 vote for server 0
term 23 server 0 get vote from server 1
term 23 server 0 become leader
------------------------------------------------------
term 23 server 0 get outdate rpc reply from server 2
flag 4954 term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 36382 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 21 139} {549808546362063001 21 140} {7127851425023284530 21 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 142->141
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 0
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 21
------------------------------------------------------
flag 4480 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {549808546362063001 21 140} {7127851425023284530 21 141}]
------------------------------------------------------
term 23 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 21 rf.commitIndex 139 rf.lastApplied 139
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
flag 38713 term 23 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 20631 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {549808546362063001 21 140} {7127851425023284530 21 141}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {549808546362063001 21 140} {7127851425023284530 21 141}]
------------------------------------------------------
flag 69778 term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 85805 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {549808546362063001 21 140} {7127851425023284530 21 141}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {549808546362063001 21 140} {7127851425023284530 21 141}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75484 term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 80853 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {549808546362063001 21 140} {7127851425023284530 21 141}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {549808546362063001 21 140} {7127851425023284530 21 141}]
------------------------------------------------------
flag 96402 term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 29375 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {549808546362063001 21 140} {7127851425023284530 21 141}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {549808546362063001 21 140} {7127851425023284530 21 141}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21270 term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 40535 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {549808546362063001 21 140} {7127851425023284530 21 141}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {549808546362063001 21 140} {7127851425023284530 21 141}]
------------------------------------------------------
flag 5179 term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 42488 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {549808546362063001 21 140} {7127851425023284530 21 141}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {549808546362063001 21 140} {7127851425023284530 21 141}]
------------------------------------------------------
flag 61288 term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 42822 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {549808546362063001 21 140} {7127851425023284530 21 141}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 21 139} {549808546362063001 21 140} {7127851425023284530 21 141}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 130103373676213590 (index 142) to leader 0
flag 81609 term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 90376 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {549808546362063001 21 140} {7127851425023284530 21 141} {130103373676213590 23 142}]
------------------------------------------------------
flag 72065 term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 39991 term 23 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 139} {549808546362063001 21 140} {7127851425023284530 21 141} {130103373676213590 23 142}]
------------------------------------------------------
client write log 7101327818265357210 (index 143) to leader 0
client write log 8923493413107515149 (index 144) to leader 0
client write log 4499258382304033354 (index 145) to leader 0
client write log 6142107614279584121 (index 146) to leader 0
client write log 3555542524305337753 (index 147) to leader 0
client write log 8030145786317963435 (index 148) to leader 0
client write log 5961345951320199190 (index 149) to leader 0
client write log 4492586070399254971 (index 150) to leader 0
client write log 655543277255675029 (index 151) to leader 0
client write log 7146868767325239674 (index 152) to leader 0
client write log 2275861124926452735 (index 153) to leader 0
client write log 4533209275911996206 (index 154) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20405 term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
flag 47 term 23 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 21 139} {549808546362063001 21 140} {7127851425023284530 21 141} {130103373676213590 23 142} {7101327818265357210 23 143} {8923493413107515149 23 144} {4499258382304033354 23 145} {6142107614279584121 23 146} {3555542524305337753 23 147} {8030145786317963435 23 148} {5961345951320199190 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154}]
------------------------------------------------------
term 23 Server0 start snapshot! index=149
term 23 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=154
-------------------------------------------------------------
term 23 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 23
------------------------------------------------------
flag 40960 term 23 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 23 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154}]
------------------------------------------------------
term 23 Server2 start snapshot! index=149
term 23 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=154
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4233870147935426867 (index 155) to leader 0
term 23 server 2 not vote for server 1, 日志不够新
term 23 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 2 vote for server 0
term 25 server 1 vote for server 0
term 25 server 0 get vote from server 1
term 25 server 0 become leader
------------------------------------------------------
term 25 server 0 get outdate rpc reply from server 2
flag 85042 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
flag 20574 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 156->155
------------------------------------------------------
term 25 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 156->155
------------------------------------------------------
term 25 leader 0 nextIndex[1]: 142  matchIndex[1]: 0
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 23
------------------------------------------------------
flag 37369 term 25 leader 0 nextIndex[2]: 155  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
term 25 server 1 InstallSnapshot success
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 23 rf.commitIndex 149 rf.lastApplied 149
flag 88051 term 25 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 25 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
flag 39481 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
flag 94690 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
flag 9938 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
flag 77736 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
flag 36100 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
flag 15597 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
flag 61495 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
term 25 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58982 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
flag 98801 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
flag 365 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
flag 32055 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
flag 9118 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
flag 52449 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
flag 41394 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
flag 17928 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
flag 80960 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
flag 23336 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
flag 71292 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
flag 33271 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
term 25 server 2 not vote for server 0, 任期不够新
term 25 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1023 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
flag 80408 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53111 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
flag 22481 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
flag 41222 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
flag 29041 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
flag 15874 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
flag 53783 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23211 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
flag 90727 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10377 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
flag 53673 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
flag 12218 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
flag 87625 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31069 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
flag 63620 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155}]
------------------------------------------------------
client write log 4233870147935426867 (index 156) to leader 0
flag 66645 term 25 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
flag 4691 term 25 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 25 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 23 leaderCommit: 154 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155} {4233870147935426867 25 156}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155} {4233870147935426867 25 156}]
------------------------------------------------------
flag 67266 term 25 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 84527 term 25 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155} {4233870147935426867 25 156}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155} {4233870147935426867 25 156}]
------------------------------------------------------
term 25 server 0 not vote for server 1, 任期不够新
term 25 server 1 get outdate rpc reply from server 0
flag 69723 term 25 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 18877 term 25 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155} {4233870147935426867 25 156}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155} {4233870147935426867 25 156}]
------------------------------------------------------
flag 65243 term 25 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 35759 term 25 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155} {4233870147935426867 25 156}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155} {4233870147935426867 25 156}]
------------------------------------------------------
flag 26706 term 25 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 55961 term 25 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155} {4233870147935426867 25 156}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155} {4233870147935426867 25 156}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11666 term 25 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 97366 term 25 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155} {4233870147935426867 25 156}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155} {4233870147935426867 25 156}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 73365 term 25 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 16801 term 25 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 62612 term 25 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 88679 term 25 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 44113 term 25 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 8643 term 25 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 54238 term 25 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 97020 term 25 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 1 vote for server 2
term 26 server 2 get vote from server 1
term 26 server 2 become leader
------------------------------------------------------
flag 85029 term 26 leader 2 nextIndex[0]: 157  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 16241 term 26 leader 2 nextIndex[1]: 157  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155} {4233870147935426867 25 156}]
------------------------------------------------------
client write log 9045227002372144585 (index 157) to leader 2
flag 31680 term 25 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 75531 term 25 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 33892 term 26 leader 2 nextIndex[0]: 157  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 8065 term 26 leader 2 nextIndex[1]: 157  matchIndex[1]: 156
term 26 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155} {4233870147935426867 25 156} {9045227002372144585 26 157}]
------------------------------------------------------
flag 69563 term 25 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 24792 term 25 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 71322 term 26 leader 2 nextIndex[0]: 157  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 61741 term 26 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=158
update matchIndex[1]=157
update leader CommitIndex=157
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155} {4233870147935426867 25 156} {9045227002372144585 26 157}]
------------------------------------------------------
flag 85968 term 25 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 14714 term 25 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 157->156
------------------------------------------------------
client write log 4625784362734852683 (index 158) to leader 2
flag 75502 term 26 leader 2 nextIndex[0]: 157  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 157 
------------------------------------------------------
flag 64803 term 26 leader 2 nextIndex[1]: 158  matchIndex[1]: 157
term 26 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155} {4233870147935426867 25 156} {9045227002372144585 26 157} {4625784362734852683 26 158}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 0 nextIndex[1]: 0  matchIndex[1]: 156
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 23
------------------------------------------------------
flag 78987 term 25 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
flag 43226 term 26 leader 2 nextIndex[0]: 157  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 158 
------------------------------------------------------
flag 44408 term 26 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155} {4233870147935426867 25 156} {9045227002372144585 26 157} {4625784362734852683 26 158}]
------------------------------------------------------
!!!!!!connect server 0
client write log 4571983535050241777 (index 159) to leader 2
term 25 leader 0 nextIndex[1]: 0  matchIndex[1]: 156
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 23
------------------------------------------------------
flag 58367 term 25 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 25 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 156 
------------------------------------------------------
term 26 server 2 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
term 26 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84242 term 26 leader 2 nextIndex[0]: 157  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 25 leaderCommit: 158 
------------------------------------------------------
flag 14149 term 26 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155} {4233870147935426867 25 156} {9045227002372144585 26 157} {4625784362734852683 26 158} {4571983535050241777 26 159}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 23 149} {4492586070399254971 23 150} {655543277255675029 23 151} {7146868767325239674 23 152} {2275861124926452735 23 153} {4533209275911996206 23 154} {4233870147935426867 23 155} {4233870147935426867 25 156} {9045227002372144585 26 157} {4625784362734852683 26 158} {4571983535050241777 26 159}]
------------------------------------------------------
term 26 Server2 start snapshot! index=159
term 26 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 54610 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 86544 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
term 26 Server1 start snapshot! index=159
term 26 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 26 Server0 start snapshot! index=159
term 26 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 25043 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 85174 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57167 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 97685 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 160->159
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 0  matchIndex[0]: 159
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 71115 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 0 InstallSnapshot fail
rf.commitIndex 159 args.LastIncludedIndex 159
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 160->159
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 0  matchIndex[0]: 159
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 96376 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 159}]
------------------------------------------------------
term 26 server 0 InstallSnapshot fail
rf.commitIndex 159 args.LastIncludedIndex 159
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
!!!!!!diconnect server 0
client write log 4345697653567413445 (index 160) to leader 2
flag 98326 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
flag 96261 term 26 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 159 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {4345697653567413445 26 160}]
------------------------------------------------------
flag 6414 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 33191 term 26 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {4345697653567413445 26 160}]
------------------------------------------------------
client write log 2715667907446666032 (index 161) to leader 2
client write log 1913891770618383008 (index 162) to leader 2
client write log 7610674768568094787 (index 163) to leader 2
client write log 4528615076494862610 (index 164) to leader 2
client write log 8289227550970182987 (index 165) to leader 2
client write log 6341900586412544922 (index 166) to leader 2
term 27 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43945 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
flag 47298 term 26 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 26 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 26 leaderCommit: 160 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166}]
------------------------------------------------------
term 26 server 2 not vote for server 1, 任期不够新
term 26 server 1 get outdate rpc reply from server 2
flag 4371 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
flag 91020 term 26 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 26 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6327689568086652686 (index 167) to leader 2
term 26 server 1 not vote for server 0, 任期不够新
term 27 server 0 get outdate rpc reply from server 1
flag 42648 term 26 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 26 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
flag 5547 term 26 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 26 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
term 27 server 0 AppendEntries false 领导者任期过期 args.Term 26
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 27 server 2 not vote for server 0, 日志不够新
term 26 server 1 not vote for server 0, 日志不够新
term 29 server 2 vote for server 1
term 29 server 0 vote for server 1
term 29 server 1 get vote from server 2
term 29 server 1 become leader
------------------------------------------------------
term 29 server 1 get outdate rpc reply from server 0
flag 68231 term 29 leader 1 nextIndex[0]: 168  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
flag 73570 term 29 leader 1 nextIndex[2]: 168  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
term 29 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 168->167
------------------------------------------------------
flag 72823 term 29 leader 1 nextIndex[0]: 160  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
flag 99578 term 29 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
flag 10853 term 29 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
flag 34627 term 29 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
term 29 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
flag 7553 term 29 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
flag 85313 term 29 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
flag 97498 term 29 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
flag 50051 term 29 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
flag 55657 term 29 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
flag 24119 term 29 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60215 term 29 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
flag 43915 term 29 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
term 29 server 2 not vote for server 0, 任期不够新
term 29 server 0 get outdate rpc reply from server 2
flag 88029 term 29 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
flag 55502 term 29 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
flag 32696 term 29 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
flag 87322 term 29 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9814 term 29 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
flag 1549 term 29 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
flag 52106 term 29 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
flag 74645 term 29 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75772 term 29 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
flag 16944 term 29 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99825 term 29 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
flag 22704 term 29 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
flag 15596 term 29 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
flag 84456 term 29 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
flag 98654 term 29 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
flag 81610 term 29 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
flag 29796 term 29 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
flag 2690 term 29 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167}]
------------------------------------------------------
client write log 6327689568086652686 (index 168) to leader 1
flag 35179 term 29 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
flag 91103 term 29 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 29 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167} {6327689568086652686 29 168}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167} {6327689568086652686 29 168}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37163 term 29 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 97334 term 29 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:168 
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167} {6327689568086652686 29 168}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167} {6327689568086652686 29 168}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79080 term 29 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 85444 term 29 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167} {6327689568086652686 29 168}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167} {6327689568086652686 29 168}]
------------------------------------------------------
term 29 server 1 not vote for server 0, 任期不够新
term 29 server 0 get outdate rpc reply from server 1
flag 72937 term 29 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 57989 term 29 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167} {6327689568086652686 29 168}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167} {6327689568086652686 29 168}]
------------------------------------------------------
flag 33987 term 29 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 60343 term 29 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167} {6327689568086652686 29 168}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167} {6327689568086652686 29 168}]
------------------------------------------------------
flag 84602 term 29 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 53319 term 29 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167} {6327689568086652686 29 168}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167} {6327689568086652686 29 168}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5077855065107163091 (index 169) to leader 1
flag 395 term 29 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 29 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
flag 56791 term 29 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 29 leaderCommit: 168 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 159} {4345697653567413445 26 160} {2715667907446666032 26 161} {1913891770618383008 26 162} {7610674768568094787 26 163} {4528615076494862610 26 164} {8289227550970182987 26 165} {6341900586412544922 26 166} {6327689568086652686 26 167} {6327689568086652686 29 168} {5077855065107163091 29 169}]
------------------------------------------------------
term 29 Server1 start snapshot! index=169
term 29 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75289 term 29 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 169}]
------------------------------------------------------
term 29 Server0 start snapshot! index=169
term 29 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
client write log 3661816823344114138 (index 170) to leader 1
client write log 316997291834213614 (index 171) to leader 1
client write log 4276777812448176285 (index 172) to leader 1
client write log 1537588301421450795 (index 173) to leader 1
client write log 3230835844998751077 (index 174) to leader 1
client write log 977762626566255783 (index 175) to leader 1
client write log 4398501444259390312 (index 176) to leader 1
client write log 5749468134809971898 (index 177) to leader 1
client write log 36498861548999224 (index 178) to leader 1
client write log 2846412277687603384 (index 179) to leader 1
client write log 5964073422510305852 (index 180) to leader 1
client write log 8267889401743308006 (index 181) to leader 1
client write log 3138137086855631112 (index 182) to leader 1
client write log 1173459655668724324 (index 183) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87071 term 29 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 29 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 29 leaderCommit: 169 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 29 169} {3661816823344114138 29 170} {316997291834213614 29 171} {4276777812448176285 29 172} {1537588301421450795 29 173} {3230835844998751077 29 174} {977762626566255783 29 175} {4398501444259390312 29 176} {5749468134809971898 29 177} {36498861548999224 29 178} {2846412277687603384 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183}]
------------------------------------------------------
term 29 Server1 start snapshot! index=179
term 29 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=183
-------------------------------------------------------------
flag 54701 term 29 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 29 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183}]
------------------------------------------------------
term 29 Server0 start snapshot! index=179
term 29 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=183
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6098310510316322382 (index 184) to leader 1
term 29 server 1 not vote for server 2, 日志不够新
term 29 server 0 not vote for server 2, 日志不够新
term 31 server 2 vote for server 1
term 31 server 0 vote for server 1
term 31 server 1 get vote from server 2
term 31 server 1 become leader
------------------------------------------------------
term 31 server 1 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72265 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 76925 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 185->184
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 185->184
------------------------------------------------------
flag 15339 term 31 leader 1 nextIndex[0]: 184  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
term 31 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 29 rf.commitIndex 179 rf.lastApplied 179
term 31 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
flag 44685 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 12760 term 31 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 31 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82179 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 93900 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
flag 6650 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 95570 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
flag 8913 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 52429 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
flag 26872 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 7091 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
flag 68168 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 90455 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
term 31 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
flag 33329 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 49679 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
flag 50479 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 6110 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84242 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 2186 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
flag 92983 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 58844 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
flag 21351 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 16670 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81862 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 60858 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
term 31 server 0 not vote for server 2, 任期不够新
term 31 server 2 get outdate rpc reply from server 0
flag 77102 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 66739 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:183 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67390 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 82819 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
flag 39345 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 19569 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
flag 99254 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 44966 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
flag 30779 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 65364 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=183
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6098310510316322382 (index 185) to leader 1
flag 19260 term 31 leader 1 nextIndex[0]: 185  matchIndex[0]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
flag 84419 term 31 leader 1 nextIndex[2]: 185  matchIndex[2]: 184
term 31 leader 1 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 183 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76903 term 31 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 72925 term 31 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185}]
------------------------------------------------------
flag 67112 term 31 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 75203 term 31 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57898 term 31 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 86072 term 31 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185}]
------------------------------------------------------
flag 21265 term 31 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 94304 term 31 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185}]
------------------------------------------------------
flag 11757 term 31 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 87160 term 31 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 82149 term 31 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 98773 term 31 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 11639 term 31 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 10096 term 31 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 48510 term 31 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 53863 term 31 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 vote for server 0
term 32 server 0 get vote from server 2
term 32 server 0 become leader
------------------------------------------------------
flag 15704 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 33815 term 32 leader 0 nextIndex[2]: 186  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185}]
------------------------------------------------------
flag 17592 term 31 leader 1 nextIndex[0]: 186  matchIndex[0]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 93793 term 31 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
client write log 5777838651944692969 (index 186) to leader 0
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 186->185
------------------------------------------------------
flag 36104 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 25486 term 32 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186}]
------------------------------------------------------
term 31 leader 1 nextIndex[0]: 0  matchIndex[0]: 185
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 97454 term 31 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 57258 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 186 
------------------------------------------------------
flag 35065 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186}]
------------------------------------------------------
term 31 leader 1 nextIndex[0]: 0  matchIndex[0]: 185
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 4233 term 31 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
client write log 6593725242149822603 (index 187) to leader 0
flag 15280 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 186 
------------------------------------------------------
flag 96283 term 32 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 32 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
term 31 leader 1 nextIndex[0]: 0  matchIndex[0]: 185
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 9888 term 31 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
flag 46599 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 187 
------------------------------------------------------
flag 61058 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
term 31 leader 1 nextIndex[0]: 0  matchIndex[0]: 185
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 35745 term 31 leader 1 nextIndex[2]: 186  matchIndex[2]: 185
term 31 leader 1 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 185 
------------------------------------------------------
!!!!!!connect server 1
client write log 519008504966239573 (index 186) to leader 1
flag 59854 term 32 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 31 leaderCommit: 187 
------------------------------------------------------
flag 8545 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93598 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 42292 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 188->187
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 0  matchIndex[1]: 187
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
flag 59892 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
term 32 server 1 InstallSnapshot fail
rf.commitIndex 187 args.LastIncludedIndex 179
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73179 term 32 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 187 
------------------------------------------------------
flag 95932 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
flag 88558 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 34519 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
flag 9592 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 83350 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
term 32 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83721 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 11130 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
flag 78057 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 87385 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
flag 53702 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 1561 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65558 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 36576 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
flag 57474 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 20456 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
flag 18666 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 1402 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
flag 57388 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 90490 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
flag 36218 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 42551 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
flag 62972 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 56450 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
flag 22178 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 42342 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
flag 37824 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 63197 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
flag 10291 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 9359 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
term 32 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39473 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 63570 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75701 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 3258 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187}]
------------------------------------------------------
client write log 519008504966239573 (index 188) to leader 0
flag 43384 term 32 leader 0 nextIndex[1]: 188  matchIndex[1]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
flag 73896 term 32 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 32 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 32 leaderCommit: 187 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187} {519008504966239573 32 188}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187} {519008504966239573 32 188}]
------------------------------------------------------
flag 37155 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 32948 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187} {519008504966239573 32 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187} {519008504966239573 32 188}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25440 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 44323 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187} {519008504966239573 32 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187} {519008504966239573 32 188}]
------------------------------------------------------
flag 22163 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 36424 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187} {519008504966239573 32 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187} {519008504966239573 32 188}]
------------------------------------------------------
flag 32544 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 43430 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187} {519008504966239573 32 188}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187} {519008504966239573 32 188}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87467 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 17435 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187} {519008504966239573 32 188}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=188
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187} {519008504966239573 32 188}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7374505037381271767 (index 189) to leader 0
flag 96516 term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
flag 45655 term 32 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 32 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 32 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 29 179} {5964073422510305852 29 180} {8267889401743308006 29 181} {3138137086855631112 29 182} {1173459655668724324 29 183} {6098310510316322382 29 184} {6098310510316322382 31 185} {5777838651944692969 32 186} {6593725242149822603 32 187} {519008504966239573 32 188} {7374505037381271767 32 189}]
------------------------------------------------------
term 32 Server0 start snapshot! index=189
term 32 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 89477 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 32 189}]
------------------------------------------------------
term 32 Server2 start snapshot! index=189
term 32 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
client write log 1274124622724783909 (index 190) to leader 0
client write log 2049946262755624639 (index 191) to leader 0
client write log 295159372169153696 (index 192) to leader 0
client write log 4613888641206428640 (index 193) to leader 0
client write log 333262651223515496 (index 194) to leader 0
client write log 3804585169103979806 (index 195) to leader 0
client write log 1633570619264092133 (index 196) to leader 0
client write log 2565880166781762838 (index 197) to leader 0
client write log 4224197114144968222 (index 198) to leader 0
client write log 3065034451709464119 (index 199) to leader 0
term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 55113 term 32 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 189 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 32 189} {1274124622724783909 32 190} {2049946262755624639 32 191} {295159372169153696 32 192} {4613888641206428640 32 193} {333262651223515496 32 194} {3804585169103979806 32 195} {1633570619264092133 32 196} {2565880166781762838 32 197} {4224197114144968222 32 198} {3065034451709464119 32 199}]
------------------------------------------------------
term 32 Server0 start snapshot! index=199
term 32 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
term 32 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 15516 term 32 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 32 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 32 199}]
------------------------------------------------------
term 32 Server2 start snapshot! index=199
term 32 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1417146182150563066 (index 200) to leader 0
term 32 server 2 not vote for server 1, 日志不够新
term 32 server 0 not vote for server 1, 日志不够新
term 34 server 2 vote for server 0
term 34 server 1 vote for server 0
term 34 server 0 get vote from server 2
term 34 server 0 become leader
------------------------------------------------------
term 34 server 0 get outdate rpc reply from server 1
flag 56258 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 95181 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 34 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 201->200
------------------------------------------------------
term 34 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 201->200
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 leader 0 nextIndex[1]: 189  matchIndex[1]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 32
------------------------------------------------------
flag 14781 term 34 leader 0 nextIndex[2]: 200  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
term 34 server 1 InstallSnapshot success
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 32 rf.commitIndex 199 rf.lastApplied 199
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24045 term 34 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 34 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 91505 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
term 34 server 1 not vote for server 0, 任期不够新
term 34 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35160 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 66600 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
flag 78355 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 30888 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
flag 4717 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 23075 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
flag 63343 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 22025 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19327 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 75135 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39058 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 88941 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
flag 39588 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 30776 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
flag 56076 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 55015 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
flag 34912 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 19317 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
flag 55218 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 3946 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
flag 4913 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 15307 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
flag 16870 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 5335 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
flag 61039 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 42147 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
flag 66076 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 20776 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
flag 37772 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 56968 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18494 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 55364 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
flag 46528 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 6433 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 32 199} {1417146182150563066 32 200}]
------------------------------------------------------
client write log 1417146182150563066 (index 201) to leader 0
flag 75704 term 34 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
flag 18079 term 34 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 34 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 32 leaderCommit: 199 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {1417146182150563066 32 200} {1417146182150563066 34 201}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {1417146182150563066 32 200} {1417146182150563066 34 201}]
------------------------------------------------------
term 34 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74163 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
flag 91335 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {1417146182150563066 32 200} {1417146182150563066 34 201}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {1417146182150563066 32 200} {1417146182150563066 34 201}]
------------------------------------------------------
flag 55091 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
flag 73175 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {1417146182150563066 32 200} {1417146182150563066 34 201}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {1417146182150563066 32 200} {1417146182150563066 34 201}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27286 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
flag 41468 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {1417146182150563066 32 200} {1417146182150563066 34 201}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {1417146182150563066 32 200} {1417146182150563066 34 201}]
------------------------------------------------------
flag 98916 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
flag 7587 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {1417146182150563066 32 200} {1417146182150563066 34 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {1417146182150563066 32 200} {1417146182150563066 34 201}]
------------------------------------------------------
term 34 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96515 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
flag 25658 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {1417146182150563066 32 200} {1417146182150563066 34 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 32 199} {1417146182150563066 32 200} {1417146182150563066 34 201}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2307501378770851173 (index 202) to leader 0
flag 60897 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
flag 93154 term 34 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 201 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {1417146182150563066 32 200} {1417146182150563066 34 201} {2307501378770851173 34 202}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75548 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
flag 97010 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 32 199} {1417146182150563066 32 200} {1417146182150563066 34 201} {2307501378770851173 34 202}]
------------------------------------------------------
client write log 4715118357355211836 (index 203) to leader 0
client write log 343792617867411729 (index 204) to leader 0
client write log 3121797362618152862 (index 205) to leader 0
client write log 7659873816892259694 (index 206) to leader 0
client write log 5629151286979311120 (index 207) to leader 0
client write log 7697085560739443037 (index 208) to leader 0
client write log 1953004533561115886 (index 209) to leader 0
client write log 577300425333291245 (index 210) to leader 0
client write log 8509972736194912263 (index 211) to leader 0
client write log 8488551529621584367 (index 212) to leader 0
client write log 7278652656773074049 (index 213) to leader 0
client write log 7938107353902074611 (index 214) to leader 0
client write log 5135068760515823114 (index 215) to leader 0
client write log 893317216252109812 (index 216) to leader 0
client write log 4565062119879616254 (index 217) to leader 0
flag 93543 term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
flag 53114 term 34 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 34 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 34 leaderCommit: 202 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 32 199} {1417146182150563066 32 200} {1417146182150563066 34 201} {2307501378770851173 34 202} {4715118357355211836 34 203} {343792617867411729 34 204} {3121797362618152862 34 205} {7659873816892259694 34 206} {5629151286979311120 34 207} {7697085560739443037 34 208} {1953004533561115886 34 209} {577300425333291245 34 210} {8509972736194912263 34 211} {8488551529621584367 34 212} {7278652656773074049 34 213} {7938107353902074611 34 214} {5135068760515823114 34 215} {893317216252109812 34 216} {4565062119879616254 34 217}]
------------------------------------------------------
term 34 Server0 start snapshot! index=209
term 34 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=217
-------------------------------------------------------------
term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 13542 term 34 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 34 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 34 209} {577300425333291245 34 210} {8509972736194912263 34 211} {8488551529621584367 34 212} {7278652656773074049 34 213} {7938107353902074611 34 214} {5135068760515823114 34 215} {893317216252109812 34 216} {4565062119879616254 34 217}]
------------------------------------------------------
term 34 Server2 start snapshot! index=209
term 34 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=217
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5367720810830824048 (index 218) to leader 0
term 34 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 95694 term 34 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 34 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 34 leaderCommit: 217 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {577300425333291245 34 210} {8509972736194912263 34 211} {8488551529621584367 34 212} {7278652656773074049 34 213} {7938107353902074611 34 214} {5135068760515823114 34 215} {893317216252109812 34 216} {4565062119879616254 34 217} {5367720810830824048 34 218}]
------------------------------------------------------
term 35 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 2 vote for server 0
term 36 server 0 get vote from server 2
term 36 server 0 become leader
------------------------------------------------------
term 36 server 1 vote for server 0
term 36 server 0 get outdate rpc reply from server 1
flag 34994 term 36 leader 0 nextIndex[1]: 219  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 27466 term 36 leader 0 nextIndex[2]: 219  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 219->218
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {577300425333291245 34 210} {8509972736194912263 34 211} {8488551529621584367 34 212} {7278652656773074049 34 213} {7938107353902074611 34 214} {5135068760515823114 34 215} {893317216252109812 34 216} {4565062119879616254 34 217} {5367720810830824048 34 218}]
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 202  matchIndex[1]: 0
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 33411 term 36 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {577300425333291245 34 210} {8509972736194912263 34 211} {8488551529621584367 34 212} {7278652656773074049 34 213} {7938107353902074611 34 214} {5135068760515823114 34 215} {893317216252109812 34 216} {4565062119879616254 34 217} {5367720810830824048 34 218}]
------------------------------------------------------
term 36 server 1 InstallSnapshot success
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 34 rf.commitIndex 209 rf.lastApplied 209
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77335 term 36 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 36 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 80966 term 36 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {577300425333291245 34 210} {8509972736194912263 34 211} {8488551529621584367 34 212} {7278652656773074049 34 213} {7938107353902074611 34 214} {5135068760515823114 34 215} {893317216252109812 34 216} {4565062119879616254 34 217} {5367720810830824048 34 218}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {577300425333291245 34 210} {8509972736194912263 34 211} {8488551529621584367 34 212} {7278652656773074049 34 213} {7938107353902074611 34 214} {5135068760515823114 34 215} {893317216252109812 34 216} {4565062119879616254 34 217} {5367720810830824048 34 218}]
------------------------------------------------------
flag 1286 term 36 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 92478 term 36 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {577300425333291245 34 210} {8509972736194912263 34 211} {8488551529621584367 34 212} {7278652656773074049 34 213} {7938107353902074611 34 214} {5135068760515823114 34 215} {893317216252109812 34 216} {4565062119879616254 34 217} {5367720810830824048 34 218}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {577300425333291245 34 210} {8509972736194912263 34 211} {8488551529621584367 34 212} {7278652656773074049 34 213} {7938107353902074611 34 214} {5135068760515823114 34 215} {893317216252109812 34 216} {4565062119879616254 34 217} {5367720810830824048 34 218}]
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64325 term 36 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 32350 term 36 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {577300425333291245 34 210} {8509972736194912263 34 211} {8488551529621584367 34 212} {7278652656773074049 34 213} {7938107353902074611 34 214} {5135068760515823114 34 215} {893317216252109812 34 216} {4565062119879616254 34 217} {5367720810830824048 34 218}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {577300425333291245 34 210} {8509972736194912263 34 211} {8488551529621584367 34 212} {7278652656773074049 34 213} {7938107353902074611 34 214} {5135068760515823114 34 215} {893317216252109812 34 216} {4565062119879616254 34 217} {5367720810830824048 34 218}]
------------------------------------------------------
flag 25882 term 36 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 17369 term 36 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {577300425333291245 34 210} {8509972736194912263 34 211} {8488551529621584367 34 212} {7278652656773074049 34 213} {7938107353902074611 34 214} {5135068760515823114 34 215} {893317216252109812 34 216} {4565062119879616254 34 217} {5367720810830824048 34 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {577300425333291245 34 210} {8509972736194912263 34 211} {8488551529621584367 34 212} {7278652656773074049 34 213} {7938107353902074611 34 214} {5135068760515823114 34 215} {893317216252109812 34 216} {4565062119879616254 34 217} {5367720810830824048 34 218}]
------------------------------------------------------
flag 38 term 36 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 76380 term 36 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {577300425333291245 34 210} {8509972736194912263 34 211} {8488551529621584367 34 212} {7278652656773074049 34 213} {7938107353902074611 34 214} {5135068760515823114 34 215} {893317216252109812 34 216} {4565062119879616254 34 217} {5367720810830824048 34 218}]
term 36 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {577300425333291245 34 210} {8509972736194912263 34 211} {8488551529621584367 34 212} {7278652656773074049 34 213} {7938107353902074611 34 214} {5135068760515823114 34 215} {893317216252109812 34 216} {4565062119879616254 34 217} {5367720810830824048 34 218}]
------------------------------------------------------
flag 6709 term 36 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 31906 term 36 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {577300425333291245 34 210} {8509972736194912263 34 211} {8488551529621584367 34 212} {7278652656773074049 34 213} {7938107353902074611 34 214} {5135068760515823114 34 215} {893317216252109812 34 216} {4565062119879616254 34 217} {5367720810830824048 34 218}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 34 209} {577300425333291245 34 210} {8509972736194912263 34 211} {8488551529621584367 34 212} {7278652656773074049 34 213} {7938107353902074611 34 214} {5135068760515823114 34 215} {893317216252109812 34 216} {4565062119879616254 34 217} {5367720810830824048 34 218}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 68723 term 36 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 27383 term 36 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 92648 term 36 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 30797 term 36 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10002 term 36 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 16267 term 36 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 37 server 1 vote for server 2
term 37 server 2 get vote from server 1
term 37 server 2 become leader
------------------------------------------------------
client write log 3709120331028416920 (index 219) to leader 2
flag 78364 term 37 leader 2 nextIndex[0]: 219  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 16649 term 37 leader 2 nextIndex[1]: 219  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 34 209} {577300425333291245 34 210} {8509972736194912263 34 211} {8488551529621584367 34 212} {7278652656773074049 34 213} {7938107353902074611 34 214} {5135068760515823114 34 215} {893317216252109812 34 216} {4565062119879616254 34 217} {5367720810830824048 34 218} {3709120331028416920 37 219}]
------------------------------------------------------
flag 68998 term 36 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 4462 term 36 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 37 Server2 start snapshot! index=219
term 37 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
term 37 leader 2 nextIndex[0]: 219  matchIndex[0]: 0
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 37
------------------------------------------------------
flag 21411 term 37 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 37 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 37 219}]
------------------------------------------------------
flag 1033 term 36 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 56285 term 36 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 37 Server1 start snapshot! index=219
term 37 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
client write log 5402170330668026239 (index 220) to leader 2
term 37 leader 2 nextIndex[0]: 219  matchIndex[0]: 0
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 37
------------------------------------------------------
flag 79539 term 37 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 37 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 37 219} {5402170330668026239 37 220}]
------------------------------------------------------
flag 20313 term 36 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 47553 term 36 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 12338 term 36 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 57945 term 36 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 37 leader 2 nextIndex[0]: 219  matchIndex[0]: 0
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 37
------------------------------------------------------
flag 9527 term 37 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 37 219} {5402170330668026239 37 220}]
------------------------------------------------------
!!!!!!connect server 0
client write log 5600729586475940922 (index 221) to leader 2
term 37 leader 2 nextIndex[0]: 219  matchIndex[0]: 0
flag 99173 term 36 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
flag 97224 term 36 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 36 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 34 leaderCommit: 218 
------------------------------------------------------
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 37
------------------------------------------------------
flag 88531 term 37 leader 2 nextIndex[1]: 221  matchIndex[1]: 220
term 37 leader 2 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
term 37 server 2 AppendEntries false 领导者任期过期 args.Term 36
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 37 server 1 AppendEntries false 领导者任期过期 args.Term 36
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 server 0 InstallSnapshot success
term 37 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 37 219} {5402170330668026239 37 220} {5600729586475940922 37 221}]
------------------------------------------------------
------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 37 rf.commitIndex 219 rf.lastApplied 219
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84058 term 37 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 37 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
flag 19202 term 37 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 37 219} {5402170330668026239 37 220} {5600729586475940922 37 221}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 37 219} {5402170330668026239 37 220} {5600729586475940922 37 221}]
------------------------------------------------------
flag 89876 term 37 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
flag 17260 term 37 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 37 219} {5402170330668026239 37 220} {5600729586475940922 37 221}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 37 219} {5402170330668026239 37 220} {5600729586475940922 37 221}]
------------------------------------------------------
flag 28464 term 37 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
flag 30112 term 37 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 37 219} {5402170330668026239 37 220} {5600729586475940922 37 221}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 37 219} {5402170330668026239 37 220} {5600729586475940922 37 221}]
------------------------------------------------------
flag 88132 term 37 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
flag 37248 term 37 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 37 219} {5402170330668026239 37 220} {5600729586475940922 37 221}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 37 219} {5402170330668026239 37 220} {5600729586475940922 37 221}]
------------------------------------------------------
flag 1404 term 37 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
flag 92998 term 37 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 37 219} {5402170330668026239 37 220} {5600729586475940922 37 221}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 37 219} {5402170330668026239 37 220} {5600729586475940922 37 221}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28937 term 37 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
flag 15117 term 37 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 37 219} {5402170330668026239 37 220} {5600729586475940922 37 221}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 37 219} {5402170330668026239 37 220} {5600729586475940922 37 221}]
------------------------------------------------------
flag 59696 term 37 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
flag 47630 term 37 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=222
update matchIndex[1]=221
update leader CommitIndex=221
leader log:
[{snapshot 37 219} {5402170330668026239 37 220} {5600729586475940922 37 221}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 37 219} {5402170330668026239 37 220} {5600729586475940922 37 221}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1679758449981284018 (index 222) to leader 2
flag 10948 term 37 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
flag 84193 term 37 leader 2 nextIndex[1]: 222  matchIndex[1]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 221 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 37 219} {5402170330668026239 37 220} {5600729586475940922 37 221} {1679758449981284018 37 222}]
------------------------------------------------------
flag 5867 term 37 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 222 
------------------------------------------------------
flag 63431 term 37 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 37 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 37 leaderCommit: 222 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=223
update matchIndex[1]=222
update leader CommitIndex=222
leader log:
[{snapshot 37 219} {5402170330668026239 37 220} {5600729586475940922 37 221} {1679758449981284018 37 222}]
------------------------------------------------------
client write log 2823749980723970293 (index 223) to leader 2
client write log 121509360704642849 (index 224) to leader 2
client write log 992920861424960260 (index 225) to leader 2
client write log 5085668126052933627 (index 226) to leader 2
client write log 8816797394866413357 (index 227) to leader 2
client write log 6220351155094011544 (index 228) to leader 2
client write log 4606852912544246678 (index 229) to leader 2
client write log 7557965071635142972 (index 230) to leader 2
client write log 1273470329375851794 (index 231) to leader 2
client write log 6894246937308511989 (index 232) to leader 2
client write log 5257465952791303942 (index 233) to leader 2
client write log 267072530792299913 (index 234) to leader 2
client write log 6715898904248099619 (index 235) to leader 2
flag 54066 term 37 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 37 leader 2 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 37 leaderCommit: 222 
------------------------------------------------------
flag 82470 term 37 leader 2 nextIndex[1]: 223  matchIndex[1]: 222
term 37 leader 2 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 37 leaderCommit: 222 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 37 219} {5402170330668026239 37 220} {5600729586475940922 37 221} {1679758449981284018 37 222} {2823749980723970293 37 223} {121509360704642849 37 224} {992920861424960260 37 225} {5085668126052933627 37 226} {8816797394866413357 37 227} {6220351155094011544 37 228} {4606852912544246678 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235}]
------------------------------------------------------
term 37 Server2 start snapshot! index=229
term 37 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=235
-------------------------------------------------------------
term 37 leader 2 nextIndex[0]: 222  matchIndex[0]: 221
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
flag 11400 term 37 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 37 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235}]
------------------------------------------------------
term 37 Server1 start snapshot! index=229
term 37 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=235
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8288593022944112976 (index 236) to leader 2
term 37 server 2 not vote for server 0, 日志不够新
term 37 server 1 not vote for server 0, 日志不够新
term 39 server 1 vote for server 2
term 39 server 0 vote for server 2
term 39 server 2 get vote from server 1
term 39 server 2 become leader
------------------------------------------------------
term 39 server 2 get outdate rpc reply from server 0
flag 67682 term 39 leader 2 nextIndex[0]: 237  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 10540 term 39 leader 2 nextIndex[1]: 237  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 39 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 237->236
------------------------------------------------------
term 39 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 237->236
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 222  matchIndex[0]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
flag 56425 term 39 leader 2 nextIndex[1]: 236  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
term 39 server 0 InstallSnapshot success
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot success
------------------------------------------------------
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 37 rf.commitIndex 229 rf.lastApplied 229
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98659 term 39 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 39 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 60005 term 39 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12192 term 39 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 40082 term 39 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
flag 42715 term 39 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 32474 term 39 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
flag 39980 term 39 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 47734 term 39 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
flag 31130 term 39 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 62064 term 39 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
flag 92166 term 39 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 2560 term 39 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
flag 26299 term 39 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 11723 term 39 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
term 39 server 0 not vote for server 2, 任期不够新
term 39 server 2 get outdate rpc reply from server 0
flag 33949 term 39 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 26809 term 39 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82650 term 39 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 33438 term 39 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
flag 23433 term 39 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 87556 term 39 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
flag 44311 term 39 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 93489 term 39 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
flag 41201 term 39 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 98302 term 39 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26858 term 39 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 68722 term 39 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
flag 69098 term 39 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 83856 term 39 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94526 term 39 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 20912 term 39 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39682 term 39 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 45072 term 39 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84690 term 39 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 37520 term 39 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
term 39 server 2 not vote for server 1, 任期不够新
term 39 server 1 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9400 term 39 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 76932 term 39 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=235
leader log:
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236}]
------------------------------------------------------
client write log 8288593022944112976 (index 237) to leader 2
flag 243 term 39 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
flag 29076 term 39 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 39 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 37 leaderCommit: 235 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236} {8288593022944112976 39 237}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236} {8288593022944112976 39 237}]
------------------------------------------------------
flag 74803 term 39 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 39 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
flag 41976 term 39 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 39 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236} {8288593022944112976 39 237}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236} {8288593022944112976 39 237}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5758 term 39 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 39 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
flag 89600 term 39 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 39 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236} {8288593022944112976 39 237}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236} {8288593022944112976 39 237}]
------------------------------------------------------
flag 39688 term 39 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 39 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
flag 27858 term 39 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 39 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
term 39 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236} {8288593022944112976 39 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236} {8288593022944112976 39 237}]
------------------------------------------------------
flag 71706 term 39 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 39 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
flag 20195 term 39 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 39 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236} {8288593022944112976 39 237}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236} {8288593022944112976 39 237}]
------------------------------------------------------
flag 68477 term 39 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 39 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
flag 66825 term 39 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 39 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236} {8288593022944112976 39 237}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236} {8288593022944112976 39 237}]
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11013 term 39 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 39 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
flag 78536 term 39 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 39 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236} {8288593022944112976 39 237}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236} {8288593022944112976 39 237}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 9042968574841174717 (index 238) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49959 term 39 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 39 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
flag 13015 term 39 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 39 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 237 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236} {8288593022944112976 39 237} {9042968574841174717 39 238}]
------------------------------------------------------
flag 73403 term 39 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 39 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
flag 27640 term 39 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 39 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236} {8288593022944112976 39 237} {9042968574841174717 39 238}]
------------------------------------------------------
client write log 705384022477425345 (index 239) to leader 2
client write log 5779946012845487075 (index 240) to leader 2
client write log 8788503780932650937 (index 241) to leader 2
client write log 3091252447083814234 (index 242) to leader 2
client write log 2442005911143986830 (index 243) to leader 2
client write log 49671890748267041 (index 244) to leader 2
client write log 8806437111978118765 (index 245) to leader 2
client write log 100253974005767324 (index 246) to leader 2
client write log 7951422548592432014 (index 247) to leader 2
client write log 6643198749423495537 (index 248) to leader 2
client write log 2023036742731704448 (index 249) to leader 2
client write log 268456596447890371 (index 250) to leader 2
client write log 6387017849898349152 (index 251) to leader 2
flag 46562 term 39 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 39 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
flag 43112 term 39 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 39 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 39 leaderCommit: 238 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 37 229} {7557965071635142972 37 230} {1273470329375851794 37 231} {6894246937308511989 37 232} {5257465952791303942 37 233} {267072530792299913 37 234} {6715898904248099619 37 235} {8288593022944112976 37 236} {8288593022944112976 39 237} {9042968574841174717 39 238} {705384022477425345 39 239} {5779946012845487075 39 240} {8788503780932650937 39 241} {3091252447083814234 39 242} {2442005911143986830 39 243} {49671890748267041 39 244} {8806437111978118765 39 245} {100253974005767324 39 246} {7951422548592432014 39 247} {6643198749423495537 39 248} {2023036742731704448 39 249} {268456596447890371 39 250} {6387017849898349152 39 251}]
------------------------------------------------------
term 39 Server2 start snapshot! index=239
term 39 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=251
-------------------------------------------------------------
term 39 Server2 start snapshot! index=249
term 39 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=251
-------------------------------------------------------------
term 39 leader 2 nextIndex[0]: 238  matchIndex[0]: 237
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 65246 term 39 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251}]
------------------------------------------------------
term 39 Server1 start snapshot! index=239
term 39 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=251
-------------------------------------------------------------
term 39 Server1 start snapshot! index=249
term 39 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=251
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7596913457693850252 (index 252) to leader 2
term 39 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
flag 39424 term 39 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 39 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 36175 term 39 leader 2 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 2 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 40 server 0 AppendEntries false 领导者任期过期 args.Term 39
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 2 not vote for server 0, 日志不够新
term 39 server 1 not vote for server 0, 日志不够新
term 42 server 2 vote for server 1
term 42 server 1 get vote from server 2
term 42 server 1 become leader
------------------------------------------------------
term 42 server 0 vote for server 1
term 42 server 1 get outdate rpc reply from server 0
flag 10763 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 89309 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
term 42 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 253->252
------------------------------------------------------
term 42 server 0 not vote for server 1, 任期不够新
term 42 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 1 nextIndex[0]: 238  matchIndex[0]: 0
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 74472 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
term 42 server 0 InstallSnapshot success
------------------------------------------------------
term 42 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 39 rf.commitIndex 249 rf.lastApplied 249
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68018 term 42 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 42 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 54862 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53911 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 7229 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43923 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 95422 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
flag 23106 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 20270 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17682 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 54633 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
flag 22692 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 25930 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
flag 8645 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 92443 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
flag 91012 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 24616 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84027 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 27446 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
term 42 server 1 not vote for server 0, 任期不够新
term 42 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4410 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 76634 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
flag 24336 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 93730 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
flag 89223 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 38284 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
flag 99550 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 84754 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65499 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 5907 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=253
update matchIndex[0]=252
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252}]
------------------------------------------------------
client write log 7596913457693850252 (index 253) to leader 1
flag 21594 term 42 leader 1 nextIndex[0]: 253  matchIndex[0]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 53260 term 42 leader 1 nextIndex[2]: 253  matchIndex[2]: 252
term 42 leader 1 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253}]
------------------------------------------------------
flag 63852 term 42 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 8020 term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59351 term 42 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 3219 term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253}]
------------------------------------------------------
flag 5654 term 42 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 14617 term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253}]
------------------------------------------------------
flag 17840 term 42 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 38750 term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253}]
------------------------------------------------------
flag 51028 term 42 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 69310 term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253}]
------------------------------------------------------
flag 1269 term 42 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 54417 term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 83843 term 42 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 98077 term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 42808 term 42 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 97552 term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 66804 term 42 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 85662 term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31747 term 42 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 6777 term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
flag 89269 term 43 leader 0 nextIndex[1]: 254  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 56184 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253}]
------------------------------------------------------
client write log 5032472993308764538 (index 254) to leader 0
flag 14139 term 42 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 18131 term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 254->253
------------------------------------------------------
flag 33350 term 43 leader 0 nextIndex[1]: 254  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 18820 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254}]
------------------------------------------------------
term 42 leader 1 nextIndex[0]: 0  matchIndex[0]: 253
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 31783 term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 57943 term 43 leader 0 nextIndex[1]: 254  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
flag 94366 term 43 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 43 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 43 leaderCommit: 254 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254}]
------------------------------------------------------
client write log 6288050758705587792 (index 255) to leader 0
term 42 leader 1 nextIndex[0]: 0  matchIndex[0]: 253
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 33738 term 42 leader 1 nextIndex[2]: 254  matchIndex[2]: 253
term 42 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 254->253
------------------------------------------------------
flag 19411 term 43 leader 0 nextIndex[1]: 254  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 254 
------------------------------------------------------
flag 70015 term 43 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 43 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 43 leaderCommit: 254 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
term 42 leader 1 nextIndex[0]: 0  matchIndex[0]: 253
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 253
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 34429 term 43 leader 0 nextIndex[1]: 254  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 255 
------------------------------------------------------
flag 32721 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
!!!!!!connect server 1
client write log 2320333117497327276 (index 254) to leader 1
term 42 leader 1 nextIndex[0]: 0  matchIndex[0]: 253
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 253
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
term 43 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70059 term 43 leader 0 nextIndex[1]: 254  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 42 leaderCommit: 255 
------------------------------------------------------
flag 83307 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
flag 43603 term 43 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 93425 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
flag 62217 term 43 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 24098 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
flag 69954 term 43 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 54392 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
flag 25959 term 43 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 78474 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 256->255
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 255
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 8342 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
term 43 server 1 InstallSnapshot fail
rf.commitIndex 255 args.LastIncludedIndex 249
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
flag 49934 term 43 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 43 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 3318 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
term 43 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7476 term 43 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 6879 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
flag 86013 term 43 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 75043 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
flag 28624 term 43 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 41215 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
flag 15467 term 43 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 16068 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
term 43 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
term 43 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80768 term 43 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 90682 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
flag 19561 term 43 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 27752 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
flag 95102 term 43 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 28421 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
flag 12218 term 43 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 99393 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 256->255
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 255
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 94298 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
term 43 server 1 InstallSnapshot fail
rf.commitIndex 255 args.LastIncludedIndex 249
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
flag 44010 term 43 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 43 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 49667 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
term 43 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
term 43 server 2 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94575 term 43 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 98195 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
flag 93173 term 43 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 60216 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 256->255
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 255
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 59285 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255}]
------------------------------------------------------
term 43 server 1 InstallSnapshot fail
rf.commitIndex 255 args.LastIncludedIndex 249
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
client write log 2320333117497327276 (index 256) to leader 0
flag 1893 term 43 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 43 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 255 
------------------------------------------------------
flag 91176 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255} {2320333117497327276 43 256}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255} {2320333117497327276 43 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 257->256
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 256
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 72370 term 43 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 43 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 256 
------------------------------------------------------
term 43 server 1 InstallSnapshot fail
rf.commitIndex 255 args.LastIncludedIndex 249
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255} {2320333117497327276 43 256}]
------------------------------------------------------
flag 65596 term 43 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 43 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 256 
------------------------------------------------------
flag 3345 term 43 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 43 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255} {2320333117497327276 43 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255} {2320333117497327276 43 256}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9179 term 43 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 43 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 256 
------------------------------------------------------
flag 56238 term 43 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 43 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255} {2320333117497327276 43 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255} {2320333117497327276 43 256}]
------------------------------------------------------
flag 60226 term 43 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 43 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 256 
------------------------------------------------------
flag 20230 term 43 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 43 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255} {2320333117497327276 43 256}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255} {2320333117497327276 43 256}]
------------------------------------------------------
flag 36227 term 43 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 43 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 256 
------------------------------------------------------
flag 67527 term 43 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 43 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255} {2320333117497327276 43 256}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255} {2320333117497327276 43 256}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33856 term 43 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 43 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 256 
------------------------------------------------------
flag 45478 term 43 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 43 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 256 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255} {2320333117497327276 43 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255} {2320333117497327276 43 256}]
------------------------------------------------------
flag 74141 term 43 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 43 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 256 
------------------------------------------------------
flag 7841 term 43 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 43 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255} {2320333117497327276 43 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255} {2320333117497327276 43 256}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8520947164533482084 (index 257) to leader 0
flag 45517 term 43 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 43 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 256 
------------------------------------------------------
flag 37379 term 43 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 43 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 256 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255} {2320333117497327276 43 256} {8520947164533482084 43 257}]
------------------------------------------------------
flag 67292 term 43 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 43 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
flag 75299 term 43 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 43 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255} {2320333117497327276 43 256} {8520947164533482084 43 257}]
------------------------------------------------------
client write log 4998442223875507535 (index 258) to leader 0
client write log 95054628134124056 (index 259) to leader 0
client write log 4341594404191832095 (index 260) to leader 0
client write log 1806702690511726652 (index 261) to leader 0
client write log 312416852856997366 (index 262) to leader 0
client write log 618095950252824231 (index 263) to leader 0
client write log 8807654463875842682 (index 264) to leader 0
client write log 9203832074484383793 (index 265) to leader 0
client write log 7603300065806274546 (index 266) to leader 0
flag 53643 term 43 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 43 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
flag 28471 term 43 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 43 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 39 249} {268456596447890371 39 250} {6387017849898349152 39 251} {7596913457693850252 39 252} {7596913457693850252 42 253} {5032472993308764538 43 254} {6288050758705587792 43 255} {2320333117497327276 43 256} {8520947164533482084 43 257} {4998442223875507535 43 258} {95054628134124056 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266}]
------------------------------------------------------
term 43 Server0 start snapshot! index=259
term 43 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=266
-------------------------------------------------------------
term 43 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 43
------------------------------------------------------
flag 24946 term 43 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 43 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266}]
------------------------------------------------------
term 43 Server2 start snapshot! index=259
term 43 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=266
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7121693736199432545 (index 267) to leader 0
term 43 server 0 not vote for server 1, 日志不够新
term 43 server 2 not vote for server 1, 日志不够新
term 45 server 2 vote for server 0
term 45 server 1 vote for server 0
term 45 server 0 get vote from server 2
term 45 server 0 become leader
------------------------------------------------------
term 45 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95551 term 45 leader 0 nextIndex[1]: 268  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 5589 term 45 leader 0 nextIndex[2]: 268  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 268->267
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 268->267
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 257  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 43
------------------------------------------------------
flag 16570 term 45 leader 0 nextIndex[2]: 267  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 45 server 1 InstallSnapshot success
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 43 rf.commitIndex 259 rf.lastApplied 259
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
flag 20158 term 45 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 1794 term 45 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
flag 13709 term 45 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 59991 term 45 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
flag 74421 term 45 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 40776 term 45 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
flag 87666 term 45 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 82010 term 45 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17407 term 45 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 90 term 45 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
flag 35895 term 45 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 73038 term 45 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64527 term 45 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 6593 term 45 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:266 
term 45 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
flag 74266 term 45 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 92282 term 45 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13153 term 45 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 13757 term 45 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69005 term 45 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 6669 term 45 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
flag 95250 term 45 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 72853 term 45 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
flag 44008 term 45 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 23821 term 45 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
flag 83514 term 45 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 76495 term 45 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
flag 38672 term 45 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 58065 term 45 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
term 45 server 1 not vote for server 0, 任期不够新
term 45 server 0 get outdate rpc reply from server 1
flag 70738 term 45 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 67571 term 45 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
flag 39801 term 45 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 70832 term 45 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
flag 35075 term 45 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 27716 term 45 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=268
update matchIndex[2]=267
update leader CommitIndex=266
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267}]
------------------------------------------------------
client write log 7121693736199432545 (index 268) to leader 0
flag 46439 term 45 leader 0 nextIndex[1]: 268  matchIndex[1]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
flag 61518 term 45 leader 0 nextIndex[2]: 268  matchIndex[2]: 267
term 45 leader 0 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 43 leaderCommit: 266 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267} {7121693736199432545 45 268}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267} {7121693736199432545 45 268}]
------------------------------------------------------
flag 32619 term 45 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 23419 term 45 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 45 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267} {7121693736199432545 45 268}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267} {7121693736199432545 45 268}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87282 term 45 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 33675 term 45 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 45 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267} {7121693736199432545 45 268}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267} {7121693736199432545 45 268}]
------------------------------------------------------
term 45 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81575 term 45 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 70423 term 45 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 45 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267} {7121693736199432545 45 268}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267} {7121693736199432545 45 268}]
------------------------------------------------------
flag 39593 term 45 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 15149 term 45 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 45 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267} {7121693736199432545 45 268}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267} {7121693736199432545 45 268}]
------------------------------------------------------
flag 21530 term 45 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 35614 term 45 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 45 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267} {7121693736199432545 45 268}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267} {7121693736199432545 45 268}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57225 term 45 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 19249 term 45 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 45 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267} {7121693736199432545 45 268}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267} {7121693736199432545 45 268}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3522536216559183661 (index 269) to leader 0
flag 46324 term 45 leader 0 nextIndex[1]: 269  matchIndex[1]: 268
term 45 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
flag 22450 term 45 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 45 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 45 leaderCommit: 268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 43 259} {4341594404191832095 43 260} {1806702690511726652 43 261} {312416852856997366 43 262} {618095950252824231 43 263} {8807654463875842682 43 264} {9203832074484383793 43 265} {7603300065806274546 43 266} {7121693736199432545 43 267} {7121693736199432545 45 268} {3522536216559183661 45 269}]
------------------------------------------------------
term 45 Server0 start snapshot! index=269
term 45 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 269->268
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 268
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 45
------------------------------------------------------
flag 36520 term 45 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 45 269}]
------------------------------------------------------
term 45 Server2 start snapshot! index=269
term 45 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
client write log 6648044491061373245 (index 270) to leader 0
client write log 3089523281848412936 (index 271) to leader 0
client write log 1220048800053446070 (index 272) to leader 0
client write log 4005872197112127371 (index 273) to leader 0
client write log 4063250895678821156 (index 274) to leader 0
client write log 3987350021066962993 (index 275) to leader 0
client write log 3275146987913890276 (index 276) to leader 0
client write log 6490551901041127704 (index 277) to leader 0
client write log 596279471186920377 (index 278) to leader 0
client write log 8856412528812406317 (index 279) to leader 0
client write log 5267032997805631745 (index 280) to leader 0
client write log 2828145887972628587 (index 281) to leader 0
client write log 7368889211783969969 (index 282) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 268
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 45
------------------------------------------------------
flag 879 term 45 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 45 leaderCommit: 269 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 269} {6648044491061373245 45 270} {3089523281848412936 45 271} {1220048800053446070 45 272} {4005872197112127371 45 273} {4063250895678821156 45 274} {3987350021066962993 45 275} {3275146987913890276 45 276} {6490551901041127704 45 277} {596279471186920377 45 278} {8856412528812406317 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282}]
------------------------------------------------------
term 45 Server0 start snapshot! index=279
term 45 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=282
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 268
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 88740 term 45 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282}]
------------------------------------------------------
term 45 Server2 start snapshot! index=279
term 45 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=282
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5460585406099614041 (index 283) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 268
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 70074 term 45 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 46 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 server 2 vote for server 0
term 47 server 0 get vote from server 2
term 47 server 0 become leader
------------------------------------------------------
term 47 server 1 vote for server 0
term 47 server 0 get outdate rpc reply from server 1
flag 6019 term 47 leader 0 nextIndex[1]: 284  matchIndex[1]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 99129 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 47 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 284->283
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
term 47 leader 0 nextIndex[1]: 269  matchIndex[1]: 0
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 63955 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 47 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 45 rf.commitIndex 279 rf.lastApplied 279
flag 28814 term 47 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 47 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 64171 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46344 term 47 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 10093 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48893 term 47 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 70912 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
flag 85803 term 47 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 37941 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
flag 93246 term 47 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 51775 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
flag 61906 term 47 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 96554 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
flag 22265 term 47 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 4637 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
flag 78356 term 47 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 54464 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
flag 69414 term 47 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 7198 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
flag 2965 term 47 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 32156 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
flag 78172 term 47 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 98982 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
term 47 server 0 not vote for server 1, 任期不够新
term 47 server 1 get outdate rpc reply from server 0
flag 96743 term 47 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 32205 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
flag 69060 term 47 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 13991 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
flag 30636 term 47 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 56800 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46617 term 47 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 76775 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
flag 38788 term 47 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 95866 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
flag 78510 term 47 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 21126 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=282
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283}]
------------------------------------------------------
client write log 5460585406099614041 (index 284) to leader 0
flag 93728 term 47 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
flag 56137 term 47 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 47 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 45 leaderCommit: 282 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283} {5460585406099614041 47 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283} {5460585406099614041 47 284}]
------------------------------------------------------
flag 641 term 47 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 95649 term 47 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283} {5460585406099614041 47 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283} {5460585406099614041 47 284}]
------------------------------------------------------
flag 69695 term 47 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 94558 term 47 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283} {5460585406099614041 47 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283} {5460585406099614041 47 284}]
------------------------------------------------------
flag 95127 term 47 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 8826 term 47 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283} {5460585406099614041 47 284}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283} {5460585406099614041 47 284}]
------------------------------------------------------
flag 10661 term 47 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 22450 term 47 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283} {5460585406099614041 47 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283} {5460585406099614041 47 284}]
------------------------------------------------------
flag 89957 term 47 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 51743 term 47 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283} {5460585406099614041 47 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283} {5460585406099614041 47 284}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 56810 term 47 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 98103 term 47 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 53975 term 47 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 32833 term 47 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50102 term 47 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 9445 term 47 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 48 server 2 vote for server 1
term 48 server 1 get vote from server 2
term 48 server 1 become leader
------------------------------------------------------
flag 57616 term 48 leader 1 nextIndex[0]: 285  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 29180 term 48 leader 1 nextIndex[2]: 285  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283} {5460585406099614041 47 284}]
------------------------------------------------------
flag 22773 term 47 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 87733 term 47 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
client write log 6293263393955190696 (index 285) to leader 1
flag 96787 term 48 leader 1 nextIndex[0]: 285  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 49975 term 48 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 48 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283} {5460585406099614041 47 284} {6293263393955190696 48 285}]
------------------------------------------------------
flag 17298 term 47 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 76311 term 47 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 78285 term 48 leader 1 nextIndex[0]: 285  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 285 
------------------------------------------------------
flag 99530 term 48 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 48 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 48 leaderCommit: 285 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283} {5460585406099614041 47 284} {6293263393955190696 48 285}]
------------------------------------------------------
client write log 4800269627152913594 (index 286) to leader 1
client write log 8238993956192072336 (index 287) to leader 1
client write log 7126712919296566335 (index 288) to leader 1
client write log 3373902107741717862 (index 289) to leader 1
client write log 2478237706583592676 (index 290) to leader 1
client write log 2087933700191398690 (index 291) to leader 1
client write log 2934439332097304678 (index 292) to leader 1
client write log 8317413443362590756 (index 293) to leader 1
client write log 7393393391079575205 (index 294) to leader 1
client write log 4156107798342126930 (index 295) to leader 1
client write log 2569701367599026687 (index 296) to leader 1
client write log 8685490009149781887 (index 297) to leader 1
flag 5914 term 47 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 47132 term 47 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 38603 term 48 leader 1 nextIndex[0]: 285  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 285 
------------------------------------------------------
flag 52113 term 48 leader 1 nextIndex[2]: 286  matchIndex[2]: 285
term 48 leader 1 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 48 leaderCommit: 285 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 45 279} {5267032997805631745 45 280} {2828145887972628587 45 281} {7368889211783969969 45 282} {5460585406099614041 45 283} {5460585406099614041 47 284} {6293263393955190696 48 285} {4800269627152913594 48 286} {8238993956192072336 48 287} {7126712919296566335 48 288} {3373902107741717862 48 289} {2478237706583592676 48 290} {2087933700191398690 48 291} {2934439332097304678 48 292} {8317413443362590756 48 293} {7393393391079575205 48 294} {4156107798342126930 48 295} {2569701367599026687 48 296} {8685490009149781887 48 297}]
------------------------------------------------------
term 48 Server1 start snapshot! index=289
term 48 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=297
-------------------------------------------------------------
flag 63004 term 47 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 47154 term 47 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 48 leader 1 nextIndex[0]: 285  matchIndex[0]: 0
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
flag 84364 term 48 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 48 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {2478237706583592676 48 290} {2087933700191398690 48 291} {2934439332097304678 48 292} {8317413443362590756 48 293} {7393393391079575205 48 294} {4156107798342126930 48 295} {2569701367599026687 48 296} {8685490009149781887 48 297}]
------------------------------------------------------
term 48 Server2 start snapshot! index=289
term 48 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=297
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4572041786423227484 (index 298) to leader 1
flag 29773 term 47 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
flag 38792 term 47 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 47 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 47 leaderCommit: 284 
------------------------------------------------------
term 48 server 2 AppendEntries false 领导者任期过期 args.Term 47
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 48 server 1 AppendEntries false 领导者任期过期 args.Term 47
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 1 nextIndex[0]: 285  matchIndex[0]: 0
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
flag 13691 term 48 leader 1 nextIndex[2]: 298  matchIndex[2]: 297
term 48 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 48 server 0 InstallSnapshot success
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 48 rf.commitIndex 289 rf.lastApplied 289
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 48 289} {2478237706583592676 48 290} {2087933700191398690 48 291} {2934439332097304678 48 292} {8317413443362590756 48 293} {7393393391079575205 48 294} {4156107798342126930 48 295} {2569701367599026687 48 296} {8685490009149781887 48 297} {4572041786423227484 48 298}]
------------------------------------------------------
flag 86801 term 48 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 77626 term 48 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 48 289} {2478237706583592676 48 290} {2087933700191398690 48 291} {2934439332097304678 48 292} {8317413443362590756 48 293} {7393393391079575205 48 294} {4156107798342126930 48 295} {2569701367599026687 48 296} {8685490009149781887 48 297} {4572041786423227484 48 298}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 48 289} {2478237706583592676 48 290} {2087933700191398690 48 291} {2934439332097304678 48 292} {8317413443362590756 48 293} {7393393391079575205 48 294} {4156107798342126930 48 295} {2569701367599026687 48 296} {8685490009149781887 48 297} {4572041786423227484 48 298}]
------------------------------------------------------
flag 3267 term 48 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 84448 term 48 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 48 289} {2478237706583592676 48 290} {2087933700191398690 48 291} {2934439332097304678 48 292} {8317413443362590756 48 293} {7393393391079575205 48 294} {4156107798342126930 48 295} {2569701367599026687 48 296} {8685490009149781887 48 297} {4572041786423227484 48 298}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 48 289} {2478237706583592676 48 290} {2087933700191398690 48 291} {2934439332097304678 48 292} {8317413443362590756 48 293} {7393393391079575205 48 294} {4156107798342126930 48 295} {2569701367599026687 48 296} {8685490009149781887 48 297} {4572041786423227484 48 298}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 299->298
------------------------------------------------------
term 48 leader 1 nextIndex[0]: 0  matchIndex[0]: 298
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
flag 29217 term 48 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 48 289} {2478237706583592676 48 290} {2087933700191398690 48 291} {2934439332097304678 48 292} {8317413443362590756 48 293} {7393393391079575205 48 294} {4156107798342126930 48 295} {2569701367599026687 48 296} {8685490009149781887 48 297} {4572041786423227484 48 298}]
------------------------------------------------------
term 48 server 0 InstallSnapshot fail
rf.commitIndex 298 args.LastIncludedIndex 289
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
flag 87696 term 48 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 23188 term 48 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 48 289} {2478237706583592676 48 290} {2087933700191398690 48 291} {2934439332097304678 48 292} {8317413443362590756 48 293} {7393393391079575205 48 294} {4156107798342126930 48 295} {2569701367599026687 48 296} {8685490009149781887 48 297} {4572041786423227484 48 298}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 48 289} {2478237706583592676 48 290} {2087933700191398690 48 291} {2934439332097304678 48 292} {8317413443362590756 48 293} {7393393391079575205 48 294} {4156107798342126930 48 295} {2569701367599026687 48 296} {8685490009149781887 48 297} {4572041786423227484 48 298}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78755 term 48 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 45882 term 48 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 48 289} {2478237706583592676 48 290} {2087933700191398690 48 291} {2934439332097304678 48 292} {8317413443362590756 48 293} {7393393391079575205 48 294} {4156107798342126930 48 295} {2569701367599026687 48 296} {8685490009149781887 48 297} {4572041786423227484 48 298}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 48 289} {2478237706583592676 48 290} {2087933700191398690 48 291} {2934439332097304678 48 292} {8317413443362590756 48 293} {7393393391079575205 48 294} {4156107798342126930 48 295} {2569701367599026687 48 296} {8685490009149781887 48 297} {4572041786423227484 48 298}]
------------------------------------------------------
flag 1349 term 48 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 28441 term 48 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 48 289} {2478237706583592676 48 290} {2087933700191398690 48 291} {2934439332097304678 48 292} {8317413443362590756 48 293} {7393393391079575205 48 294} {4156107798342126930 48 295} {2569701367599026687 48 296} {8685490009149781887 48 297} {4572041786423227484 48 298}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 48 289} {2478237706583592676 48 290} {2087933700191398690 48 291} {2934439332097304678 48 292} {8317413443362590756 48 293} {7393393391079575205 48 294} {4156107798342126930 48 295} {2569701367599026687 48 296} {8685490009149781887 48 297} {4572041786423227484 48 298}]
------------------------------------------------------
flag 14359 term 48 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 33805 term 48 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=298
leader log:
[{snapshot 48 289} {2478237706583592676 48 290} {2087933700191398690 48 291} {2934439332097304678 48 292} {8317413443362590756 48 293} {7393393391079575205 48 294} {4156107798342126930 48 295} {2569701367599026687 48 296} {8685490009149781887 48 297} {4572041786423227484 48 298}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 48 289} {2478237706583592676 48 290} {2087933700191398690 48 291} {2934439332097304678 48 292} {8317413443362590756 48 293} {7393393391079575205 48 294} {4156107798342126930 48 295} {2569701367599026687 48 296} {8685490009149781887 48 297} {4572041786423227484 48 298}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5077240631963169938 (index 299) to leader 1
flag 66999 term 48 leader 1 nextIndex[0]: 299  matchIndex[0]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
flag 11128 term 48 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 1 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 289} {2478237706583592676 48 290} {2087933700191398690 48 291} {2934439332097304678 48 292} {8317413443362590756 48 293} {7393393391079575205 48 294} {4156107798342126930 48 295} {2569701367599026687 48 296} {8685490009149781887 48 297} {4572041786423227484 48 298} {5077240631963169938 48 299}]
------------------------------------------------------
term 48 Server1 start snapshot! index=299
term 48 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
flag 3152 term 48 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
term 48 Server0 start snapshot! index=299
term 48 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7288791302325465358 (index 300) to leader 1
client write log 3718696230620037543 (index 301) to leader 1
client write log 867596538081384385 (index 302) to leader 1
client write log 2007418663523968844 (index 303) to leader 1
client write log 8743910381327481363 (index 304) to leader 1
client write log 5323718002543008054 (index 305) to leader 1
client write log 7661108685595891992 (index 306) to leader 1
client write log 123394925543706646 (index 307) to leader 1
flag 13398 term 48 leader 1 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307}]
------------------------------------------------------
flag 14185 term 48 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307}]
------------------------------------------------------
!!!!!!connect server 2
client write log 4745371412025263112 (index 308) to leader 1
flag 64446 term 48 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 48 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 49 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 2 vote for server 1
term 50 server 0 vote for server 1
term 50 server 1 get vote from server 2
term 50 server 1 become leader
------------------------------------------------------
term 50 server 1 get outdate rpc reply from server 0
flag 79406 term 50 leader 1 nextIndex[0]: 309  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 51516 term 50 leader 1 nextIndex[2]: 309  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 309->308
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80022 term 50 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 299  matchIndex[2]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
term 50 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 48 rf.commitIndex 299 rf.lastApplied 299
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
flag 18853 term 50 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 59576 term 50 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
flag 75710 term 50 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 67940 term 50 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
flag 79584 term 50 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 73776 term 50 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95046 term 50 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 67966 term 50 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
update nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
term 50 server 2 not vote for server 1, 任期不够新
term 50 server 1 get outdate rpc reply from server 2
flag 82926 term 50 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 85550 term 50 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62070 term 50 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 81785 term 50 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51907 term 50 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 35853 term 50 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
flag 56750 term 50 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 71010 term 50 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
flag 47192 term 50 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 75458 term 50 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
flag 61639 term 50 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 45803 term 50 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
flag 71342 term 50 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 67684 term 50 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12543 term 50 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 76914 term 50 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31789 term 50 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 8155 term 50 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
flag 98646 term 50 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 5077 term 50 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
flag 16696 term 50 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 3935 term 50 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
flag 65014 term 50 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 28418 term 50 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
flag 6774 term 50 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 10042 term 50 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308}]
------------------------------------------------------
client write log 4745371412025263112 (index 309) to leader 1
flag 30506 term 50 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
flag 32984 term 50 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 48 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308} {4745371412025263112 50 309}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 299} {7288791302325465358 48 300} {3718696230620037543 48 301} {867596538081384385 48 302} {2007418663523968844 48 303} {8743910381327481363 48 304} {5323718002543008054 48 305} {7661108685595891992 48 306} {123394925543706646 48 307} {4745371412025263112 48 308} {4745371412025263112 50 309}]
------------------------------------------------------
term 50 Server1 start snapshot! index=309
term 50 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 28500 term 50 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 50 leaderCommit: 309 
------------------------------------------------------
flag 65418 term 50 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 50 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 50 leaderCommit: 309 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 50 309}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 50 309}]
------------------------------------------------------
term 50 Server2 start snapshot! index=309
term 50 Server0 start snapshot! index=309
term 50 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
term 50 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 60783 term 50 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 50 leaderCommit: 309 
------------------------------------------------------
flag 83380 term 50 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 50 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 50 leaderCommit: 309 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 50 309}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 50 309}]
------------------------------------------------------
flag 48641 term 50 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 50 leaderCommit: 309 
------------------------------------------------------
flag 83062 term 50 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 50 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 50 leaderCommit: 309 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 50 309}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 50 309}]
------------------------------------------------------
flag 10381 term 50 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 50 leaderCommit: 309 
------------------------------------------------------
flag 34745 term 50 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 50 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 50 leaderCommit: 309 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 50 309}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 50 309}]
------------------------------------------------------
flag 79165 term 50 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 50 leaderCommit: 309 
------------------------------------------------------
flag 32206 term 50 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 50 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 50 leaderCommit: 309 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 50 309}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 50 309}]
------------------------------------------------------
term 50 server 0 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 0
!!!!!!diconnect server 2
client write log 4666130355299972840 (index 310) to leader 1
flag 48406 term 50 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 50 leaderCommit: 309 
------------------------------------------------------
flag 83346 term 50 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 50 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 50 leaderCommit: 309 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 50 309} {4666130355299972840 50 310}]
------------------------------------------------------
flag 56459 term 50 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 50 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 50 leaderCommit: 310 
------------------------------------------------------
flag 91412 term 50 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 50 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 50 leaderCommit: 310 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 50 309} {4666130355299972840 50 310}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5403286660762681018 (index 311) to leader 1
client write log 1465045712093452296 (index 312) to leader 1
client write log 624133299764609365 (index 313) to leader 1
client write log 2316861339822349885 (index 314) to leader 1
client write log 9196614640905858441 (index 315) to leader 1
client write log 2333869597732625652 (index 316) to leader 1
client write log 3666032973826665271 (index 317) to leader 1
client write log 8280591799907241455 (index 318) to leader 1
flag 62752 term 50 leader 1 nextIndex[0]: 311  matchIndex[0]: 310
term 50 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 50 leaderCommit: 310 
------------------------------------------------------
flag 13010 term 50 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 50 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 50 leaderCommit: 310 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318}]
------------------------------------------------------
flag 26765 term 50 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 50 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
flag 94626 term 50 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 50 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1047812455823747148 (index 319) to leader 1
term 50 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18386 term 50 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 50 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
flag 70396 term 50 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 50 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
term 51 server 2 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 1 not vote for server 2, 任期不够新
term 51 server 2 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 1 not vote for server 2, 日志不够新
term 50 server 0 not vote for server 2, 日志不够新
term 53 server 2 vote for server 0
term 53 server 1 vote for server 0
term 53 server 0 get vote from server 2
term 53 server 0 become leader
------------------------------------------------------
term 53 server 0 get outdate rpc reply from server 1
flag 51074 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
flag 91776 term 53 leader 0 nextIndex[2]: 320  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 320->319
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67210 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
flag 96743 term 53 leader 0 nextIndex[2]: 310  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
flag 37579 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
flag 88786 term 53 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
flag 89888 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
flag 76938 term 53 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
flag 61556 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
flag 54219 term 53 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16002 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
flag 53134 term 53 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
flag 23478 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
flag 10704 term 53 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
flag 36365 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
flag 54797 term 53 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48523 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
flag 17679 term 53 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
flag 72124 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
flag 58532 term 53 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
flag 17776 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
flag 99625 term 53 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
term 53 server 0 not vote for server 1, 任期不够新
term 53 server 1 get outdate rpc reply from server 0
flag 22237 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
flag 87387 term 53 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35644 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
flag 6794 term 53 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
term 53 server 0 not vote for server 2, 任期不够新
term 53 server 2 get outdate rpc reply from server 0
flag 81132 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
flag 94713 term 53 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
flag 26145 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
flag 61432 term 53 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=320
update matchIndex[1]=319
update leader CommitIndex=318
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319}]
------------------------------------------------------
client write log 1047812455823747148 (index 320) to leader 0
flag 22483 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
flag 34881 term 53 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 318 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319} {1047812455823747148 53 320}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 50 309} {4666130355299972840 50 310} {5403286660762681018 50 311} {1465045712093452296 50 312} {624133299764609365 50 313} {2316861339822349885 50 314} {9196614640905858441 50 315} {2333869597732625652 50 316} {3666032973826665271 50 317} {8280591799907241455 50 318} {1047812455823747148 50 319} {1047812455823747148 53 320}]
------------------------------------------------------
term 53 Server0 start snapshot! index=319
term 53 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=320
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24835 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 14206 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 50 319} {1047812455823747148 53 320}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 50 319} {1047812455823747148 53 320}]
------------------------------------------------------
term 53 Server2 start snapshot! index=319
term 53 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=320
-------------------------------------------------------------
term 53 Server1 start snapshot! index=319
term 53 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=320
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50698 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 55866 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 50 319} {1047812455823747148 53 320}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 50 319} {1047812455823747148 53 320}]
------------------------------------------------------
flag 92524 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 98794 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 50 319} {1047812455823747148 53 320}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 50 319} {1047812455823747148 53 320}]
------------------------------------------------------
flag 62100 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 45095 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 50 319} {1047812455823747148 53 320}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 50 319} {1047812455823747148 53 320}]
------------------------------------------------------
flag 10139 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 16078 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 50 319} {1047812455823747148 53 320}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 50 319} {1047812455823747148 53 320}]
------------------------------------------------------
flag 7726 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 40895 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 50 319} {1047812455823747148 53 320}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 50 319} {1047812455823747148 53 320}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 16302 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 22387 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 43696 term 53 leader 0 nextIndex[1]: 321  matchIndex[1]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 10190 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 321->320
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 320
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 60462 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 320
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 86806 term 53 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 53 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 321->320
------------------------------------------------------
term 54 server 1 vote for server 2
term 54 server 2 get vote from server 1
term 54 server 2 become leader
------------------------------------------------------
flag 57414 term 54 leader 2 nextIndex[0]: 321  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 99103 term 54 leader 2 nextIndex[1]: 321  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=321
update matchIndex[1]=320
update leader CommitIndex=320
leader log:
[{snapshot 50 319} {1047812455823747148 53 320}]
------------------------------------------------------
client write log 1437185345351126607 (index 321) to leader 2
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 320
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
term 53 leader 0 nextIndex[2]: 0  matchIndex[2]: 320
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 13961 term 54 leader 2 nextIndex[0]: 321  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
flag 46346 term 54 leader 2 nextIndex[1]: 321  matchIndex[1]: 320
term 54 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 320 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 50 319} {1047812455823747148 53 320} {1437185345351126607 54 321}]
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 320
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
term 53 leader 0 nextIndex[2]: 0  matchIndex[2]: 320
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 42800 term 54 leader 2 nextIndex[0]: 321  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 321 
------------------------------------------------------
flag 17786 term 54 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 54 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 50 319} {1047812455823747148 53 320} {1437185345351126607 54 321}]
------------------------------------------------------
client write log 7629173864945537255 (index 322) to leader 2
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 320
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
term 53 leader 0 nextIndex[2]: 0  matchIndex[2]: 320
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 14858 term 54 leader 2 nextIndex[0]: 321  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 53 leaderCommit: 321 
------------------------------------------------------
flag 14084 term 54 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 54 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 54 leaderCommit: 321 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 50 319} {1047812455823747148 53 320} {1437185345351126607 54 321} {7629173864945537255 54 322}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 321->320
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 320
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
term 53 leader 0 nextIndex[2]: 0  matchIndex[2]: 320
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
term 54 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 40750 term 54 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 54 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 50 319} {1047812455823747148 53 320} {1437185345351126607 54 321} {7629173864945537255 54 322}]
------------------------------------------------------
!!!!!!connect server 0
client write log 1270600596258322813 (index 323) to leader 2
term 54 server 0 vote for server 2
term 54 server 2 get outdate rpc reply from server 0
term 54 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 30220 term 54 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 54 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 54 leaderCommit: 322 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
term 54 server 0 InstallSnapshot fail
rf.commitIndex 320 args.LastIncludedIndex 319
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {1047812455823747148 53 320} {1437185345351126607 54 321} {7629173864945537255 54 322} {1270600596258322813 54 323}]
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3369 term 54 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 54 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 323 
------------------------------------------------------
flag 79487 term 54 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 54 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 323 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:320 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {1047812455823747148 53 320} {1437185345351126607 54 321} {7629173864945537255 54 322} {1270600596258322813 54 323}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {1047812455823747148 53 320} {1437185345351126607 54 321} {7629173864945537255 54 322} {1270600596258322813 54 323}]
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83796 term 54 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 54 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 323 
------------------------------------------------------
flag 2054 term 54 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 54 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 323 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {1047812455823747148 53 320} {1437185345351126607 54 321} {7629173864945537255 54 322} {1270600596258322813 54 323}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {1047812455823747148 53 320} {1437185345351126607 54 321} {7629173864945537255 54 322} {1270600596258322813 54 323}]
------------------------------------------------------
flag 96099 term 54 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 54 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 323 
------------------------------------------------------
flag 51505 term 54 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 54 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 323 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {1047812455823747148 53 320} {1437185345351126607 54 321} {7629173864945537255 54 322} {1270600596258322813 54 323}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {1047812455823747148 53 320} {1437185345351126607 54 321} {7629173864945537255 54 322} {1270600596258322813 54 323}]
------------------------------------------------------
flag 8701 term 54 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 54 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 323 
------------------------------------------------------
flag 87903 term 54 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 54 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 323 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {1047812455823747148 53 320} {1437185345351126607 54 321} {7629173864945537255 54 322} {1270600596258322813 54 323}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {1047812455823747148 53 320} {1437185345351126607 54 321} {7629173864945537255 54 322} {1270600596258322813 54 323}]
------------------------------------------------------
flag 42813 term 54 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 54 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 323 
------------------------------------------------------
flag 2606 term 54 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 54 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 323 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {1047812455823747148 53 320} {1437185345351126607 54 321} {7629173864945537255 54 322} {1270600596258322813 54 323}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {1047812455823747148 53 320} {1437185345351126607 54 321} {7629173864945537255 54 322} {1270600596258322813 54 323}]
------------------------------------------------------
flag 9451 term 54 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 54 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 323 
------------------------------------------------------
flag 30942 term 54 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 54 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 323 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {1047812455823747148 53 320} {1437185345351126607 54 321} {7629173864945537255 54 322} {1270600596258322813 54 323}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {1047812455823747148 53 320} {1437185345351126607 54 321} {7629173864945537255 54 322} {1270600596258322813 54 323}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2807387660358016945 (index 324) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8521 term 54 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 54 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 323 
------------------------------------------------------
flag 74795 term 54 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 54 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 323 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 50 319} {1047812455823747148 53 320} {1437185345351126607 54 321} {7629173864945537255 54 322} {1270600596258322813 54 323} {2807387660358016945 54 324}]
------------------------------------------------------
flag 9775 term 54 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 54 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
flag 64462 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 50 319} {1047812455823747148 53 320} {1437185345351126607 54 321} {7629173864945537255 54 322} {1270600596258322813 54 323} {2807387660358016945 54 324}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4968704531579635423 (index 325) to leader 2
client write log 4699632951310324366 (index 326) to leader 2
client write log 1844612456916134869 (index 327) to leader 2
client write log 5222959419910393312 (index 328) to leader 2
client write log 4856358816186788729 (index 329) to leader 2
client write log 2388490564830987540 (index 330) to leader 2
client write log 2489619316099021059 (index 331) to leader 2
client write log 1907210513850452863 (index 332) to leader 2
client write log 7135561206689696101 (index 333) to leader 2
client write log 4366129159955494145 (index 334) to leader 2
term 54 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37592 term 54 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 54 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
flag 71859 term 54 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 54 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 54 leaderCommit: 324 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 319} {1047812455823747148 53 320} {1437185345351126607 54 321} {7629173864945537255 54 322} {1270600596258322813 54 323} {2807387660358016945 54 324} {4968704531579635423 54 325} {4699632951310324366 54 326} {1844612456916134869 54 327} {5222959419910393312 54 328} {4856358816186788729 54 329} {2388490564830987540 54 330} {2489619316099021059 54 331} {1907210513850452863 54 332} {7135561206689696101 54 333} {4366129159955494145 54 334}]
------------------------------------------------------
term 54 Server2 start snapshot! index=329
term 54 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=334
-------------------------------------------------------------
term 54 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 54
------------------------------------------------------
flag 53099 term 54 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 54 329} {2388490564830987540 54 330} {2489619316099021059 54 331} {1907210513850452863 54 332} {7135561206689696101 54 333} {4366129159955494145 54 334}]
------------------------------------------------------
term 54 Server1 start snapshot! index=329
term 54 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=334
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3773956237179260836 (index 335) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 324->323
------------------------------------------------------
term 54 server 1 not vote for server 2, 任期不够新
term 54 server 2 get outdate rpc reply from server 1
term 54 leader 2 nextIndex[0]: 0  matchIndex[0]: 323
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 54
------------------------------------------------------
flag 83378 term 54 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 54 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 54 leaderCommit: 334 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
term 55 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {2388490564830987540 54 330} {2489619316099021059 54 331} {1907210513850452863 54 332} {7135561206689696101 54 333} {4366129159955494145 54 334} {3773956237179260836 54 335}]
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 56 server 1 vote for server 2
term 56 server 2 get vote from server 1
term 56 server 2 become leader
------------------------------------------------------
term 56 server 0 vote for server 2
term 56 server 2 get outdate rpc reply from server 0
flag 1113 term 56 leader 2 nextIndex[0]: 336  matchIndex[0]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 54480 term 56 leader 2 nextIndex[1]: 336  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {2388490564830987540 54 330} {2489619316099021059 54 331} {1907210513850452863 54 332} {7135561206689696101 54 333} {4366129159955494145 54 334} {3773956237179260836 54 335}]
------------------------------------------------------
term 56 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 336->335
------------------------------------------------------
term 56 leader 2 nextIndex[0]: 324  matchIndex[0]: 0
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 54
------------------------------------------------------
flag 54407 term 56 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {2388490564830987540 54 330} {2489619316099021059 54 331} {1907210513850452863 54 332} {7135561206689696101 54 333} {4366129159955494145 54 334} {3773956237179260836 54 335}]
------------------------------------------------------
term 56 server 0 InstallSnapshot success
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 330 matchIndex[0] 329 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 54 rf.commitIndex 329 rf.lastApplied 329
flag 47099 term 56 leader 2 nextIndex[0]: 330  matchIndex[0]: 329
term 56 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 59386 term 56 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
term 56 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {2388490564830987540 54 330} {2489619316099021059 54 331} {1907210513850452863 54 332} {7135561206689696101 54 333} {4366129159955494145 54 334} {3773956237179260836 54 335}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {2388490564830987540 54 330} {2489619316099021059 54 331} {1907210513850452863 54 332} {7135561206689696101 54 333} {4366129159955494145 54 334} {3773956237179260836 54 335}]
------------------------------------------------------
flag 13202 term 56 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 56 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 66158 term 56 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {2388490564830987540 54 330} {2489619316099021059 54 331} {1907210513850452863 54 332} {7135561206689696101 54 333} {4366129159955494145 54 334} {3773956237179260836 54 335}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {2388490564830987540 54 330} {2489619316099021059 54 331} {1907210513850452863 54 332} {7135561206689696101 54 333} {4366129159955494145 54 334} {3773956237179260836 54 335}]
------------------------------------------------------
flag 38910 term 56 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 56 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 34647 term 56 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {2388490564830987540 54 330} {2489619316099021059 54 331} {1907210513850452863 54 332} {7135561206689696101 54 333} {4366129159955494145 54 334} {3773956237179260836 54 335}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {2388490564830987540 54 330} {2489619316099021059 54 331} {1907210513850452863 54 332} {7135561206689696101 54 333} {4366129159955494145 54 334} {3773956237179260836 54 335}]
------------------------------------------------------
flag 13331 term 56 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 56 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 51400 term 56 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {2388490564830987540 54 330} {2489619316099021059 54 331} {1907210513850452863 54 332} {7135561206689696101 54 333} {4366129159955494145 54 334} {3773956237179260836 54 335}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {2388490564830987540 54 330} {2489619316099021059 54 331} {1907210513850452863 54 332} {7135561206689696101 54 333} {4366129159955494145 54 334} {3773956237179260836 54 335}]
------------------------------------------------------
flag 67260 term 56 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 56 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 50539 term 56 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {2388490564830987540 54 330} {2489619316099021059 54 331} {1907210513850452863 54 332} {7135561206689696101 54 333} {4366129159955494145 54 334} {3773956237179260836 54 335}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {2388490564830987540 54 330} {2489619316099021059 54 331} {1907210513850452863 54 332} {7135561206689696101 54 333} {4366129159955494145 54 334} {3773956237179260836 54 335}]
------------------------------------------------------
flag 43176 term 56 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 56 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 5702 term 56 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {2388490564830987540 54 330} {2489619316099021059 54 331} {1907210513850452863 54 332} {7135561206689696101 54 333} {4366129159955494145 54 334} {3773956237179260836 54 335}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {2388490564830987540 54 330} {2489619316099021059 54 331} {1907210513850452863 54 332} {7135561206689696101 54 333} {4366129159955494145 54 334} {3773956237179260836 54 335}]
------------------------------------------------------
flag 71491 term 56 leader 2 nextIndex[0]: 336  matchIndex[0]: 335
term 56 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
flag 16539 term 56 leader 2 nextIndex[1]: 336  matchIndex[1]: 335
term 56 leader 2 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 54 leaderCommit: 335 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {2388490564830987540 54 330} {2489619316099021059 54 331} {1907210513850452863 54 332} {7135561206689696101 54 333} {4366129159955494145 54 334} {3773956237179260836 54 335}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=336
update matchIndex[0]=335
update leader CommitIndex=335
leader log:
[{snapshot 54 329} {2388490564830987540 54 330} {2489619316099021059 54 331} {1907210513850452863 54 332} {7135561206689696101 54 333} {4366129159955494145 54 334} {3773956237179260836 54 335}]
------------------------------------------------------
  ... Passed --  80.5  3 1825  865028  335
--- PASS: TestSnapshotInstall2D (80.50s)
PASS
