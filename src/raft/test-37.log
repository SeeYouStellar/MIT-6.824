=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 0 vote for server 2
term 1 server 2 become leader
------------------------------------------------------
term 1 server 2 get outdate rpc reply from server 0
flag 64962 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 7193 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 142213362857419544 (index 1) to leader 2
flag 23656 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 5844 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {142213362857419544 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {142213362857419544 1 1}]
------------------------------------------------------
flag 86433 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 44538 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {142213362857419544 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {142213362857419544 1 1}]
------------------------------------------------------
flag 88850 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 78080 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {142213362857419544 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {142213362857419544 1 1}]
------------------------------------------------------
flag 25869 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 34525 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {142213362857419544 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {142213362857419544 1 1}]
------------------------------------------------------
flag 57962 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 82606 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader log:
[{<nil> 0 0} {142213362857419544 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {142213362857419544 1 1}]
------------------------------------------------------
flag 33232 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 83 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {142213362857419544 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {142213362857419544 1 1}]
------------------------------------------------------
flag 40933 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 38735 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {142213362857419544 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {142213362857419544 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6613148398199790034 (index 2) to leader 2
flag 13170 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 24417 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {142213362857419544 1 1} {6613148398199790034 1 2}]
------------------------------------------------------
flag 81651 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 79994 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {142213362857419544 1 1} {6613148398199790034 1 2}]
------------------------------------------------------
client write log 3312285707459143024 (index 3) to leader 2
client write log 896592236004278770 (index 4) to leader 2
client write log 9059268628875286065 (index 5) to leader 2
client write log 7343777356559772776 (index 6) to leader 2
client write log 7753241637847081045 (index 7) to leader 2
client write log 4113951888375196281 (index 8) to leader 2
client write log 1886711607321154904 (index 9) to leader 2
client write log 8072201018771665380 (index 10) to leader 2
client write log 1872670291184895683 (index 11) to leader 2
client write log 9078029428095356924 (index 12) to leader 2
client write log 663649348215800317 (index 13) to leader 2
client write log 607150253227113786 (index 14) to leader 2
flag 6428 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 7214 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{<nil> 0 0} {142213362857419544 1 1} {6613148398199790034 1 2} {3312285707459143024 1 3} {896592236004278770 1 4} {9059268628875286065 1 5} {7343777356559772776 1 6} {7753241637847081045 1 7} {4113951888375196281 1 8} {1886711607321154904 1 9} {8072201018771665380 1 10} {1872670291184895683 1 11} {9078029428095356924 1 12} {663649348215800317 1 13} {607150253227113786 1 14}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=14
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 5804 term 1 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 1 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8072201018771665380 1 10} {1872670291184895683 1 11} {9078029428095356924 1 12} {663649348215800317 1 13} {607150253227113786 1 14}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=14
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3774811275345813755 (index 15) to leader 2
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 53350 term 1 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 1 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8072201018771665380 1 10} {1872670291184895683 1 11} {9078029428095356924 1 12} {663649348215800317 1 13} {607150253227113786 1 14} {3774811275345813755 1 15}]
------------------------------------------------------
term 2 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 0 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 2 get outdate rpc reply from server 0
flag 85973 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 27015 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 16->15
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8072201018771665380 1 10} {1872670291184895683 1 11} {9078029428095356924 1 12} {663649348215800317 1 13} {607150253227113786 1 14} {3774811275345813755 1 15}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 13916 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8072201018771665380 1 10} {1872670291184895683 1 11} {9078029428095356924 1 12} {663649348215800317 1 13} {607150253227113786 1 14} {3774811275345813755 1 15}]
------------------------------------------------------
flag 51822 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 65257 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8072201018771665380 1 10} {1872670291184895683 1 11} {9078029428095356924 1 12} {663649348215800317 1 13} {607150253227113786 1 14} {3774811275345813755 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8072201018771665380 1 10} {1872670291184895683 1 11} {9078029428095356924 1 12} {663649348215800317 1 13} {607150253227113786 1 14} {3774811275345813755 1 15}]
------------------------------------------------------
flag 18841 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 89066 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8072201018771665380 1 10} {1872670291184895683 1 11} {9078029428095356924 1 12} {663649348215800317 1 13} {607150253227113786 1 14} {3774811275345813755 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8072201018771665380 1 10} {1872670291184895683 1 11} {9078029428095356924 1 12} {663649348215800317 1 13} {607150253227113786 1 14} {3774811275345813755 1 15}]
------------------------------------------------------
flag 36170 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 2726 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8072201018771665380 1 10} {1872670291184895683 1 11} {9078029428095356924 1 12} {663649348215800317 1 13} {607150253227113786 1 14} {3774811275345813755 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8072201018771665380 1 10} {1872670291184895683 1 11} {9078029428095356924 1 12} {663649348215800317 1 13} {607150253227113786 1 14} {3774811275345813755 1 15}]
------------------------------------------------------
flag 20484 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 5021 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8072201018771665380 1 10} {1872670291184895683 1 11} {9078029428095356924 1 12} {663649348215800317 1 13} {607150253227113786 1 14} {3774811275345813755 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8072201018771665380 1 10} {1872670291184895683 1 11} {9078029428095356924 1 12} {663649348215800317 1 13} {607150253227113786 1 14} {3774811275345813755 1 15}]
------------------------------------------------------
flag 13836 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 31400 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8072201018771665380 1 10} {1872670291184895683 1 11} {9078029428095356924 1 12} {663649348215800317 1 13} {607150253227113786 1 14} {3774811275345813755 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8072201018771665380 1 10} {1872670291184895683 1 11} {9078029428095356924 1 12} {663649348215800317 1 13} {607150253227113786 1 14} {3774811275345813755 1 15}]
------------------------------------------------------
flag 66869 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 14195 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8072201018771665380 1 10} {1872670291184895683 1 11} {9078029428095356924 1 12} {663649348215800317 1 13} {607150253227113786 1 14} {3774811275345813755 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8072201018771665380 1 10} {1872670291184895683 1 11} {9078029428095356924 1 12} {663649348215800317 1 13} {607150253227113786 1 14} {3774811275345813755 1 15}]
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40240 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 2125 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8072201018771665380 1 10} {1872670291184895683 1 11} {9078029428095356924 1 12} {663649348215800317 1 13} {607150253227113786 1 14} {3774811275345813755 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {8072201018771665380 1 10} {1872670291184895683 1 11} {9078029428095356924 1 12} {663649348215800317 1 13} {607150253227113786 1 14} {3774811275345813755 1 15}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 83205 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 59217 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 23752 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 5543 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 89676 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 90267 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 1
term 4 server 0 become leader
------------------------------------------------------
client write log 8406747434062918250 (index 16) to leader 0
flag 67425 term 4 leader 0 nextIndex[1]: 16  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 27539 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8072201018771665380 1 10} {1872670291184895683 1 11} {9078029428095356924 1 12} {663649348215800317 1 13} {607150253227113786 1 14} {3774811275345813755 1 15} {8406747434062918250 4 16}]
------------------------------------------------------
flag 43035 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 26425 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 61540 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 72635 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8072201018771665380 1 10} {1872670291184895683 1 11} {9078029428095356924 1 12} {663649348215800317 1 13} {607150253227113786 1 14} {3774811275345813755 1 15} {8406747434062918250 4 16}]
------------------------------------------------------
client write log 2953577059571655186 (index 17) to leader 0
client write log 2369523555700695592 (index 18) to leader 0
client write log 7208550042067739436 (index 19) to leader 0
client write log 1771946972655658353 (index 20) to leader 0
client write log 5918897828080276925 (index 21) to leader 0
client write log 2063447934183428441 (index 22) to leader 0
client write log 8701805168285349833 (index 23) to leader 0
client write log 8408442932392750029 (index 24) to leader 0
client write log 3193586192067407128 (index 25) to leader 0
flag 35781 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 62183 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21172 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 53410 term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 1 9} {8072201018771665380 1 10} {1872670291184895683 1 11} {9078029428095356924 1 12} {663649348215800317 1 13} {607150253227113786 1 14} {3774811275345813755 1 15} {8406747434062918250 4 16} {2953577059571655186 4 17} {2369523555700695592 4 18} {7208550042067739436 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=25
-------------------------------------------------------------
flag 78415 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 89970 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 55124 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=25
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7506999822614303001 (index 16) to leader 2
flag 71027 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
flag 46785 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97548 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 16  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot success
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 20->19
------------------------------------------------------
flag 15083 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 19
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 19 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
flag 70613 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 96290 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
flag 40033 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 4428 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46029 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 25952 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
flag 81160 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 48841 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35943 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 71460 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
flag 8283 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 91197 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
flag 69494 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 20798 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
flag 92817 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 60862 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
flag 53817 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 72595 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
flag 38612 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 18599 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91723 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 47427 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
flag 99355 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 74841 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
flag 82210 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 12317 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
flag 49282 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 27283 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45649 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 81260 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
flag 41078 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 66233 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
flag 75585 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 3373 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28485 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 69184 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
update nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25}]
------------------------------------------------------
client write log 7506999822614303001 (index 26) to leader 0
flag 30825 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 97094 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25} {7506999822614303001 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25} {7506999822614303001 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27834 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 28995 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25} {7506999822614303001 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25} {7506999822614303001 4 26}]
------------------------------------------------------
flag 38307 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 88620 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25} {7506999822614303001 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25} {7506999822614303001 4 26}]
------------------------------------------------------
flag 95241 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 35173 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25} {7506999822614303001 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25} {7506999822614303001 4 26}]
------------------------------------------------------
flag 14009 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 51134 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25} {7506999822614303001 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25} {7506999822614303001 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18844 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 80186 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25} {7506999822614303001 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25} {7506999822614303001 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 27->26
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3720033517161057800 (index 27) to leader 0
flag 17358 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 26
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 26 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
flag 31326 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 25043 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25} {7506999822614303001 4 26} {3720033517161057800 4 27}]
------------------------------------------------------
flag 22572 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 99068 term 4 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25} {7506999822614303001 4 26} {3720033517161057800 4 27}]
------------------------------------------------------
client write log 607757143209678981 (index 28) to leader 0
client write log 842693137040423821 (index 29) to leader 0
client write log 8074379542322026076 (index 30) to leader 0
client write log 6271943088330239340 (index 31) to leader 0
client write log 3942018196222225999 (index 32) to leader 0
client write log 5522812861803083238 (index 33) to leader 0
client write log 6281886432355046181 (index 34) to leader 0
client write log 7160575034935280370 (index 35) to leader 0
client write log 4173161303193744364 (index 36) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 27->26
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 26
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 84183 term 4 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 19} {1771946972655658353 4 20} {5918897828080276925 4 21} {2063447934183428441 4 22} {8701805168285349833 4 23} {8408442932392750029 4 24} {3193586192067407128 4 25} {7506999822614303001 4 26} {3720033517161057800 4 27} {607757143209678981 4 28} {842693137040423821 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=36
-------------------------------------------------------------
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 26
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 58589 term 4 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 4 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=36
-------------------------------------------------------------
!!!!!!connect server 1
client write log 9024100788077520775 (index 37) to leader 0
term 4 leader 0 nextIndex[1]: 0  matchIndex[1]: 26
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 31654 term 4 leader 0 nextIndex[2]: 37  matchIndex[2]: 36
term 4 leader 0 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 5 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 1 vote for server 0
term 6 server 0 get outdate rpc reply from server 1
flag 79970 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 27559 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 38->37
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 0
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 18725 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot success
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
flag 37101 term 6 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 50640 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
flag 29393 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 22534 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
flag 88982 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 28149 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
flag 72009 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 28098 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
flag 90723 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 35044 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
term 6 server 1 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83665 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 55110 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
flag 29417 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 3836 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 not vote for server 1, 任期不够新
term 6 server 1 get outdate rpc reply from server 2
flag 21463 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 65451 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
term 6 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1341 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 72811 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
flag 26493 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 65113 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
flag 7186 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 53839 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
flag 76104 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 96028 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93195 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 20198 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
flag 3852 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 32933 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
flag 60226 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 77152 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
flag 79764 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 31231 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 9024100788077520775 (index 38) to leader 0
flag 98009 term 6 leader 0 nextIndex[1]: 38  matchIndex[1]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
flag 72829 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
term 6 server 2 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37} {9024100788077520775 6 38}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37} {9024100788077520775 6 38}]
------------------------------------------------------
flag 24754 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 62529 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37} {9024100788077520775 6 38}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37} {9024100788077520775 6 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4283 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 71476 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37} {9024100788077520775 6 38}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37} {9024100788077520775 6 38}]
------------------------------------------------------
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
flag 19061 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 23523 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37} {9024100788077520775 6 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37} {9024100788077520775 6 38}]
------------------------------------------------------
flag 81683 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 44266 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37} {9024100788077520775 6 38}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37} {9024100788077520775 6 38}]
------------------------------------------------------
flag 64078 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 23388 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37} {9024100788077520775 6 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37} {9024100788077520775 6 38}]
------------------------------------------------------
flag 64618 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 26501 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37} {9024100788077520775 6 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37} {9024100788077520775 6 38}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3366349967194233380 (index 39) to leader 0
flag 50528 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
flag 61225 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 29} {8074379542322026076 4 30} {6271943088330239340 4 31} {3942018196222225999 4 32} {5522812861803083238 4 33} {6281886432355046181 4 34} {7160575034935280370 4 35} {4173161303193744364 4 36} {9024100788077520775 4 37} {9024100788077520775 6 38} {3366349967194233380 6 39}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 50613 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
client write log 4114866599243378589 (index 40) to leader 0
client write log 4538024938982651039 (index 41) to leader 0
client write log 3207318162371080769 (index 42) to leader 0
client write log 5512512384741419689 (index 43) to leader 0
client write log 3832537123625573609 (index 44) to leader 0
client write log 7976970882752675386 (index 45) to leader 0
client write log 9077505467862917702 (index 46) to leader 0
client write log 7175121762104524963 (index 47) to leader 0
client write log 7483268530099391934 (index 48) to leader 0
client write log 7102666648727152642 (index 49) to leader 0
term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 45306 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {4114866599243378589 6 40} {4538024938982651039 6 41} {3207318162371080769 6 42} {5512512384741419689 6 43} {3832537123625573609 6 44} {7976970882752675386 6 45} {9077505467862917702 6 46} {7175121762104524963 6 47} {7483268530099391934 6 48} {7102666648727152642 6 49}]
------------------------------------------------------
term 6 Server0 start snapshot! index=49
term 6 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 71188 term 6 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 6 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 49}]
------------------------------------------------------
!!!!!!connect server 1
term 6 Server2 start snapshot! index=49
term 6 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
client write log 7892374800190074028 (index 50) to leader 0
term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 59527 term 6 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 6 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 49 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {7892374800190074028 6 50}]
------------------------------------------------------
term 7 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 2 vote for server 0
term 8 server 1 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 0 get outdate rpc reply from server 1
flag 45436 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 29837 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {7892374800190074028 6 50}]
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 51->50
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
term 8 leader 0 nextIndex[1]: 39  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 67011 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {7892374800190074028 6 50}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 6 rf.commitIndex 49 rf.lastApplied 49
flag 78105 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 19550 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
[{snapshot 6 49} {7892374800190074028 6 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {7892374800190074028 6 50}]
------------------------------------------------------
flag 34657 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 81630 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {7892374800190074028 6 50}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {7892374800190074028 6 50}]
------------------------------------------------------
flag 39417 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 81536 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {7892374800190074028 6 50}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {7892374800190074028 6 50}]
------------------------------------------------------
term 8 server 0 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 0
flag 22250 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 49021 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {7892374800190074028 6 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {7892374800190074028 6 50}]
------------------------------------------------------
flag 12662 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 57805 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {7892374800190074028 6 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {7892374800190074028 6 50}]
------------------------------------------------------
flag 7849 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 61857 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {7892374800190074028 6 50}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {7892374800190074028 6 50}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 29497 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 72850 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 85188 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 54268 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 81560 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 69460 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 12811 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 15529 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 9 server 1 vote for server 2
term 9 server 2 get vote from server 1
term 9 server 2 become leader
------------------------------------------------------
flag 34586 term 9 leader 2 nextIndex[0]: 51  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 13842 term 9 leader 2 nextIndex[1]: 51  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {7892374800190074028 6 50}]
------------------------------------------------------
flag 19099 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 28340 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
client write log 982856951019873788 (index 51) to leader 2
flag 86138 term 9 leader 2 nextIndex[0]: 51  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 84705 term 9 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7892374800190074028 6 50} {982856951019873788 9 51}]
------------------------------------------------------
flag 11227 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 46354 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 34344 term 9 leader 2 nextIndex[0]: 51  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
flag 34147 term 9 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 9 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {7892374800190074028 6 50} {982856951019873788 9 51}]
------------------------------------------------------
client write log 1392403845196741032 (index 52) to leader 2
flag 67194 term 8 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
flag 78421 term 8 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 51->50
------------------------------------------------------
flag 85698 term 9 leader 2 nextIndex[0]: 51  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
flag 55316 term 9 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 9 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {7892374800190074028 6 50} {982856951019873788 9 51} {1392403845196741032 9 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 51->50
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 50
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 50
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 2698 term 9 leader 2 nextIndex[0]: 51  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 52715 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {7892374800190074028 6 50} {982856951019873788 9 51} {1392403845196741032 9 52}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7225757982169532390 (index 53) to leader 2
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 50
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 50
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45938 term 9 leader 2 nextIndex[0]: 51  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 79238 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7892374800190074028 6 50} {982856951019873788 9 51} {1392403845196741032 9 52} {7225757982169532390 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7892374800190074028 6 50} {982856951019873788 9 51} {1392403845196741032 9 52} {7225757982169532390 9 53}]
------------------------------------------------------
flag 89592 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 60644 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7892374800190074028 6 50} {982856951019873788 9 51} {1392403845196741032 9 52} {7225757982169532390 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7892374800190074028 6 50} {982856951019873788 9 51} {1392403845196741032 9 52} {7225757982169532390 9 53}]
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47044 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 8712 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7892374800190074028 6 50} {982856951019873788 9 51} {1392403845196741032 9 52} {7225757982169532390 9 53}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7892374800190074028 6 50} {982856951019873788 9 51} {1392403845196741032 9 52} {7225757982169532390 9 53}]
------------------------------------------------------
flag 29036 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 38836 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7892374800190074028 6 50} {982856951019873788 9 51} {1392403845196741032 9 52} {7225757982169532390 9 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7892374800190074028 6 50} {982856951019873788 9 51} {1392403845196741032 9 52} {7225757982169532390 9 53}]
------------------------------------------------------
flag 86849 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 29341 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7892374800190074028 6 50} {982856951019873788 9 51} {1392403845196741032 9 52} {7225757982169532390 9 53}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7892374800190074028 6 50} {982856951019873788 9 51} {1392403845196741032 9 52} {7225757982169532390 9 53}]
------------------------------------------------------
flag 49399 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 76264 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7892374800190074028 6 50} {982856951019873788 9 51} {1392403845196741032 9 52} {7225757982169532390 9 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7892374800190074028 6 50} {982856951019873788 9 51} {1392403845196741032 9 52} {7225757982169532390 9 53}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55708 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 62809 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7892374800190074028 6 50} {982856951019873788 9 51} {1392403845196741032 9 52} {7225757982169532390 9 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {7892374800190074028 6 50} {982856951019873788 9 51} {1392403845196741032 9 52} {7225757982169532390 9 53}]
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 0
client write log 618532691208568010 (index 54) to leader 2
flag 51947 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 6979 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {7892374800190074028 6 50} {982856951019873788 9 51} {1392403845196741032 9 52} {7225757982169532390 9 53} {618532691208568010 9 54}]
------------------------------------------------------
flag 28707 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 78183 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {7892374800190074028 6 50} {982856951019873788 9 51} {1392403845196741032 9 52} {7225757982169532390 9 53} {618532691208568010 9 54}]
------------------------------------------------------
client write log 5122514691363580777 (index 55) to leader 2
client write log 4040953984577222224 (index 56) to leader 2
client write log 1876826537786513732 (index 57) to leader 2
client write log 543625194311590279 (index 58) to leader 2
client write log 1931662511042264950 (index 59) to leader 2
client write log 7542730454408203550 (index 60) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56285 term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 83867 term 9 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
term 9 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 6 49} {7892374800190074028 6 50} {982856951019873788 9 51} {1392403845196741032 9 52} {7225757982169532390 9 53} {618532691208568010 9 54} {5122514691363580777 9 55} {4040953984577222224 9 56} {1876826537786513732 9 57} {543625194311590279 9 58} {1931662511042264950 9 59} {7542730454408203550 9 60}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=60
-------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 78903 term 9 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 9 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=60
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7028375617758021407 (index 61) to leader 2
term 9 server 2 not vote for server 0, 日志不够新
term 9 server 1 not vote for server 0, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 1 vote for server 2
term 11 server 0 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
term 11 server 2 get outdate rpc reply from server 0
flag 27285 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 42352 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 62->61
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 62->61
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 54  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 9060 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
term 11 server 0 InstallSnapshot success
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8181 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 63230 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
flag 14990 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 44136 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11253 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 61427 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
flag 8514 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 70707 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50527 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 76818 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
flag 21691 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 87326 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
flag 48880 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 77640 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
flag 93366 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 50834 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24159 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 91025 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59544 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 36926 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
flag 68445 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 30353 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20639 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 76576 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
flag 86142 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 13873 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
flag 41881 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 49023 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
term 11 server 0 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 0
flag 93516 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 42673 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
flag 27884 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 81856 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
flag 95634 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 52006 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
flag 7450 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 65541 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61}]
------------------------------------------------------
client write log 7028375617758021407 (index 62) to leader 2
flag 41369 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 19745 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61} {7028375617758021407 11 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61} {7028375617758021407 11 62}]
------------------------------------------------------
flag 15607 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 10643 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61} {7028375617758021407 11 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61} {7028375617758021407 11 62}]
------------------------------------------------------
flag 34739 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 16119 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61} {7028375617758021407 11 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61} {7028375617758021407 11 62}]
------------------------------------------------------
flag 28108 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 84093 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61} {7028375617758021407 11 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61} {7028375617758021407 11 62}]
------------------------------------------------------
flag 21536 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 17006 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61} {7028375617758021407 11 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61} {7028375617758021407 11 62}]
------------------------------------------------------
flag 859 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 62909 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61} {7028375617758021407 11 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61} {7028375617758021407 11 62}]
------------------------------------------------------
flag 47580 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 99228 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61} {7028375617758021407 11 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61} {7028375617758021407 11 62}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4210142952783063994 (index 63) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24503 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 93809 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61} {7028375617758021407 11 62} {4210142952783063994 11 63}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62763 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 79473 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61} {7028375617758021407 11 62} {4210142952783063994 11 63}]
------------------------------------------------------
client write log 4968714008907721097 (index 64) to leader 2
client write log 6975619042725722629 (index 65) to leader 2
client write log 3855418761580445024 (index 66) to leader 2
client write log 8424445659671922595 (index 67) to leader 2
client write log 8956080647059233613 (index 68) to leader 2
client write log 7231736651518588255 (index 69) to leader 2
client write log 3785451621396226866 (index 70) to leader 2
client write log 1273710938615664555 (index 71) to leader 2
client write log 3488449371230452075 (index 72) to leader 2
client write log 2685146202430931933 (index 73) to leader 2
client write log 1841043919943068426 (index 74) to leader 2
client write log 5750503602417163099 (index 75) to leader 2
client write log 368199416308658922 (index 76) to leader 2
flag 65564 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 72072 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 59} {7542730454408203550 9 60} {7028375617758021407 9 61} {7028375617758021407 11 62} {4210142952783063994 11 63} {4968714008907721097 11 64} {6975619042725722629 11 65} {3855418761580445024 11 66} {8424445659671922595 11 67} {8956080647059233613 11 68} {7231736651518588255 11 69} {3785451621396226866 11 70} {1273710938615664555 11 71} {3488449371230452075 11 72} {2685146202430931933 11 73} {1841043919943068426 11 74} {5750503602417163099 11 75} {368199416308658922 11 76}]
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=76
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 77651 term 11 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {3785451621396226866 11 70} {1273710938615664555 11 71} {3488449371230452075 11 72} {2685146202430931933 11 73} {1841043919943068426 11 74} {5750503602417163099 11 75} {368199416308658922 11 76}]
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=76
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8868557197331786843 (index 77) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 95391 term 11 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
term 12 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {3785451621396226866 11 70} {1273710938615664555 11 71} {3488449371230452075 11 72} {2685146202430931933 11 73} {1841043919943068426 11 74} {5750503602417163099 11 75} {368199416308658922 11 76} {8868557197331786843 11 77}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 1 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 0 vote for server 2
term 13 server 2 get outdate rpc reply from server 0
flag 50885 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 88282 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 11 69} {3785451621396226866 11 70} {1273710938615664555 11 71} {3488449371230452075 11 72} {2685146202430931933 11 73} {1841043919943068426 11 74} {5750503602417163099 11 75} {368199416308658922 11 76} {8868557197331786843 11 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 78->77
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 63  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 756 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {3785451621396226866 11 70} {1273710938615664555 11 71} {3488449371230452075 11 72} {2685146202430931933 11 73} {1841043919943068426 11 74} {5750503602417163099 11 75} {368199416308658922 11 76} {8868557197331786843 11 77}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
flag 69578 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 46074 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {3785451621396226866 11 70} {1273710938615664555 11 71} {3488449371230452075 11 72} {2685146202430931933 11 73} {1841043919943068426 11 74} {5750503602417163099 11 75} {368199416308658922 11 76} {8868557197331786843 11 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {3785451621396226866 11 70} {1273710938615664555 11 71} {3488449371230452075 11 72} {2685146202430931933 11 73} {1841043919943068426 11 74} {5750503602417163099 11 75} {368199416308658922 11 76} {8868557197331786843 11 77}]
------------------------------------------------------
flag 82882 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 41966 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {3785451621396226866 11 70} {1273710938615664555 11 71} {3488449371230452075 11 72} {2685146202430931933 11 73} {1841043919943068426 11 74} {5750503602417163099 11 75} {368199416308658922 11 76} {8868557197331786843 11 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {3785451621396226866 11 70} {1273710938615664555 11 71} {3488449371230452075 11 72} {2685146202430931933 11 73} {1841043919943068426 11 74} {5750503602417163099 11 75} {368199416308658922 11 76} {8868557197331786843 11 77}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32710 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 92114 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {3785451621396226866 11 70} {1273710938615664555 11 71} {3488449371230452075 11 72} {2685146202430931933 11 73} {1841043919943068426 11 74} {5750503602417163099 11 75} {368199416308658922 11 76} {8868557197331786843 11 77}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {3785451621396226866 11 70} {1273710938615664555 11 71} {3488449371230452075 11 72} {2685146202430931933 11 73} {1841043919943068426 11 74} {5750503602417163099 11 75} {368199416308658922 11 76} {8868557197331786843 11 77}]
------------------------------------------------------
flag 94065 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 86920 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {3785451621396226866 11 70} {1273710938615664555 11 71} {3488449371230452075 11 72} {2685146202430931933 11 73} {1841043919943068426 11 74} {5750503602417163099 11 75} {368199416308658922 11 76} {8868557197331786843 11 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {3785451621396226866 11 70} {1273710938615664555 11 71} {3488449371230452075 11 72} {2685146202430931933 11 73} {1841043919943068426 11 74} {5750503602417163099 11 75} {368199416308658922 11 76} {8868557197331786843 11 77}]
------------------------------------------------------
flag 48002 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 59483 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {3785451621396226866 11 70} {1273710938615664555 11 71} {3488449371230452075 11 72} {2685146202430931933 11 73} {1841043919943068426 11 74} {5750503602417163099 11 75} {368199416308658922 11 76} {8868557197331786843 11 77}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {3785451621396226866 11 70} {1273710938615664555 11 71} {3488449371230452075 11 72} {2685146202430931933 11 73} {1841043919943068426 11 74} {5750503602417163099 11 75} {368199416308658922 11 76} {8868557197331786843 11 77}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86350 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 10423 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {3785451621396226866 11 70} {1273710938615664555 11 71} {3488449371230452075 11 72} {2685146202430931933 11 73} {1841043919943068426 11 74} {5750503602417163099 11 75} {368199416308658922 11 76} {8868557197331786843 11 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {3785451621396226866 11 70} {1273710938615664555 11 71} {3488449371230452075 11 72} {2685146202430931933 11 73} {1841043919943068426 11 74} {5750503602417163099 11 75} {368199416308658922 11 76} {8868557197331786843 11 77}]
------------------------------------------------------
term 13 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
flag 26728 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 45738 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51760 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 8776 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 4958 term 13 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 30438 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 78->77
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 77
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 27466 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 14 server 1 vote for server 0
term 14 server 0 get vote from server 1
term 14 server 0 become leader
------------------------------------------------------
flag 22963 term 14 leader 0 nextIndex[1]: 78  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 9066 term 14 leader 0 nextIndex[2]: 78  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {3785451621396226866 11 70} {1273710938615664555 11 71} {3488449371230452075 11 72} {2685146202430931933 11 73} {1841043919943068426 11 74} {5750503602417163099 11 75} {368199416308658922 11 76} {8868557197331786843 11 77}]
------------------------------------------------------
client write log 7139989919353605027 (index 78) to leader 0
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 77
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 60689 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25071 term 14 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 14 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 61764 term 14 leader 0 nextIndex[2]: 78  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3785451621396226866 11 70} {1273710938615664555 11 71} {3488449371230452075 11 72} {2685146202430931933 11 73} {1841043919943068426 11 74} {5750503602417163099 11 75} {368199416308658922 11 76} {8868557197331786843 11 77} {7139989919353605027 14 78}]
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 77
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 43702 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 72192 term 14 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 14 leaderCommit: 78 
------------------------------------------------------
flag 89866 term 14 leader 0 nextIndex[2]: 78  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {3785451621396226866 11 70} {1273710938615664555 11 71} {3488449371230452075 11 72} {2685146202430931933 11 73} {1841043919943068426 11 74} {5750503602417163099 11 75} {368199416308658922 11 76} {8868557197331786843 11 77} {7139989919353605027 14 78}]
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 77
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 87051 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
client write log 7732143083845496520 (index 79) to leader 0
client write log 1759485698321340875 (index 80) to leader 0
client write log 831267667123688224 (index 81) to leader 0
client write log 7062487361023461243 (index 82) to leader 0
client write log 8709938522876300197 (index 83) to leader 0
client write log 2872694910831700817 (index 84) to leader 0
client write log 6538437906175078799 (index 85) to leader 0
client write log 6287390550976465793 (index 86) to leader 0
client write log 8177913816730907929 (index 87) to leader 0
client write log 2929708077209390867 (index 88) to leader 0
client write log 5321158548204855136 (index 89) to leader 0
client write log 7870251334809765071 (index 90) to leader 0
flag 69043 term 14 leader 0 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 0 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 14 leaderCommit: 78 
------------------------------------------------------
flag 10134 term 14 leader 0 nextIndex[2]: 78  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 69} {3785451621396226866 11 70} {1273710938615664555 11 71} {3488449371230452075 11 72} {2685146202430931933 11 73} {1841043919943068426 11 74} {5750503602417163099 11 75} {368199416308658922 11 76} {8868557197331786843 11 77} {7139989919353605027 14 78} {7732143083845496520 14 79} {1759485698321340875 14 80} {831267667123688224 14 81} {7062487361023461243 14 82} {8709938522876300197 14 83} {2872694910831700817 14 84} {6538437906175078799 14 85} {6287390550976465793 14 86} {8177913816730907929 14 87} {2929708077209390867 14 88} {5321158548204855136 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
term 14 Server0 start snapshot! index=79
term 14 server0 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=90
-------------------------------------------------------------
term 14 Server0 start snapshot! index=89
term 14 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 78->77
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 77
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 35551 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 67413 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 Server1 start snapshot! index=79
term 14 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=90
-------------------------------------------------------------
term 14 Server1 start snapshot! index=89
term 14 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
term 13 leader 2 nextIndex[0]: 0  matchIndex[0]: 77
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 85050 term 13 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 13 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
!!!!!!connect server 2
client write log 7763026327157693379 (index 78) to leader 2
flag 18631 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
term 14 server 2 InstallSnapshot success
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44505 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 9888 term 14 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
flag 84759 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 22045 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
flag 27101 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 32683 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
flag 92233 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 5415 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 91->90
------------------------------------------------------
flag 94078 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 90
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 2 InstallSnapshot fail
rf.commitIndex 90 args.LastIncludedIndex 89
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47812 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 14231 term 14 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
flag 42919 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 81691 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
flag 95976 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 4767 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
flag 11989 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 98982 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89736 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 30050 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48002 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 42579 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
flag 66101 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 31086 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2611 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 62925 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
term 14 server 2 not vote for server 0, 日志不够新
term 14 server 0 get outdate rpc reply from server 2
flag 74346 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 38590 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
flag 58017 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 66526 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
flag 47849 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 44291 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27742 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 82749 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
flag 81708 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 7551 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
flag 1268 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 6626 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=91
update matchIndex[2]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {7870251334809765071 14 90}]
------------------------------------------------------
client write log 7763026327157693379 (index 91) to leader 0
flag 42268 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 54962 term 14 leader 0 nextIndex[2]: 91  matchIndex[2]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {7870251334809765071 14 90} {7763026327157693379 14 91}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {7870251334809765071 14 90} {7763026327157693379 14 91}]
------------------------------------------------------
flag 28283 term 14 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 14 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 36783 term 14 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 14 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {7870251334809765071 14 90} {7763026327157693379 14 91}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {7870251334809765071 14 90} {7763026327157693379 14 91}]
------------------------------------------------------
flag 80768 term 14 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 14 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 54270 term 14 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 14 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {7870251334809765071 14 90} {7763026327157693379 14 91}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {7870251334809765071 14 90} {7763026327157693379 14 91}]
------------------------------------------------------
flag 38018 term 14 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 14 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 69156 term 14 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 14 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {7870251334809765071 14 90} {7763026327157693379 14 91}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {7870251334809765071 14 90} {7763026327157693379 14 91}]
------------------------------------------------------
flag 72335 term 14 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 14 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 72954 term 14 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 14 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {7870251334809765071 14 90} {7763026327157693379 14 91}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {7870251334809765071 14 90} {7763026327157693379 14 91}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30679 term 14 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 14 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 64942 term 14 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 14 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {7870251334809765071 14 90} {7763026327157693379 14 91}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {7870251334809765071 14 90} {7763026327157693379 14 91}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1547386146736471025 (index 92) to leader 0
flag 17216 term 14 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 14 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 22775 term 14 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 14 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {7870251334809765071 14 90} {7763026327157693379 14 91} {1547386146736471025 14 92}]
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95882 term 14 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 14 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 18790 term 14 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 14 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {7870251334809765071 14 90} {7763026327157693379 14 91} {1547386146736471025 14 92}]
------------------------------------------------------
client write log 5090639823393192181 (index 93) to leader 0
client write log 1912973547456923536 (index 94) to leader 0
client write log 6858533161109807688 (index 95) to leader 0
client write log 4315421954075411291 (index 96) to leader 0
client write log 1889025720454472610 (index 97) to leader 0
client write log 4279753917887964580 (index 98) to leader 0
client write log 1443451326866019281 (index 99) to leader 0
flag 11146 term 14 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 14 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
flag 29732 term 14 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 14 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 14 leaderCommit: 92 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 89} {7870251334809765071 14 90} {7763026327157693379 14 91} {1547386146736471025 14 92} {5090639823393192181 14 93} {1912973547456923536 14 94} {6858533161109807688 14 95} {4315421954075411291 14 96} {1889025720454472610 14 97} {4279753917887964580 14 98} {1443451326866019281 14 99}]
------------------------------------------------------
term 14 Server0 start snapshot! index=99
term 14 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
term 14 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
flag 20470 term 14 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 14 99}]
------------------------------------------------------
term 14 Server2 start snapshot! index=99
term 14 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
!!!!!!connect server 1
client write log 319257626466516569 (index 100) to leader 0
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
term 14 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
flag 59845 term 14 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 99 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
term 15 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {319257626466516569 14 100}]
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 2 vote for server 0
term 16 server 1 vote for server 0
term 16 server 0 get vote from server 2
term 16 server 0 become leader
------------------------------------------------------
term 16 server 0 get outdate rpc reply from server 1
flag 18655 term 16 leader 0 nextIndex[1]: 101  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
flag 13292 term 16 leader 0 nextIndex[2]: 101  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {319257626466516569 14 100}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 101->100
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
flag 44689 term 16 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {319257626466516569 14 100}]
------------------------------------------------------
term 16 server 1 InstallSnapshot success
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 14 rf.commitIndex 99 rf.lastApplied 99
flag 59238 term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
flag 20947 term 16 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {319257626466516569 14 100}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {319257626466516569 14 100}]
------------------------------------------------------
flag 66890 term 16 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
flag 27052 term 16 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {319257626466516569 14 100}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {319257626466516569 14 100}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48781 term 16 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
flag 15516 term 16 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {319257626466516569 14 100}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {319257626466516569 14 100}]
------------------------------------------------------
flag 88602 term 16 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
flag 22916 term 16 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {319257626466516569 14 100}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {319257626466516569 14 100}]
------------------------------------------------------
flag 978 term 16 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
flag 95596 term 16 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {319257626466516569 14 100}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {319257626466516569 14 100}]
------------------------------------------------------
flag 99065 term 16 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
flag 48183 term 16 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {319257626466516569 14 100}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {319257626466516569 14 100}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31760 term 16 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
flag 55061 term 16 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {319257626466516569 14 100}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {319257626466516569 14 100}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8122474898319514566 (index 101) to leader 0
flag 28198 term 16 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
flag 74039 term 16 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {319257626466516569 14 100} {8122474898319514566 16 101}]
------------------------------------------------------
flag 55163 term 16 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 34503 term 16 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 16 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {319257626466516569 14 100} {8122474898319514566 16 101}]
------------------------------------------------------
client write log 6738853995904580377 (index 102) to leader 0
client write log 8268184849257820172 (index 103) to leader 0
client write log 2501965094645440385 (index 104) to leader 0
client write log 1742425200879793601 (index 105) to leader 0
client write log 1194389612695236774 (index 106) to leader 0
client write log 5667226179562145994 (index 107) to leader 0
client write log 2892583973029035181 (index 108) to leader 0
client write log 2222620716001175516 (index 109) to leader 0
client write log 6931712523501304214 (index 110) to leader 0
client write log 4942092182207996544 (index 111) to leader 0
client write log 8783553146735294671 (index 112) to leader 0
client write log 4226469509347069004 (index 113) to leader 0
client write log 2060724210212396489 (index 114) to leader 0
client write log 7279279672625229276 (index 115) to leader 0
client write log 3155084371112234637 (index 116) to leader 0
flag 57558 term 16 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 653 term 16 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 16 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 14 99} {319257626466516569 14 100} {8122474898319514566 16 101} {6738853995904580377 16 102} {8268184849257820172 16 103} {2501965094645440385 16 104} {1742425200879793601 16 105} {1194389612695236774 16 106} {5667226179562145994 16 107} {2892583973029035181 16 108} {2222620716001175516 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116}]
------------------------------------------------------
term 16 Server0 start snapshot! index=109
term 16 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=116
-------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 101  matchIndex[1]: 100
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 53384 term 16 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 16 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116}]
------------------------------------------------------
term 16 Server2 start snapshot! index=109
term 16 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=116
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2704169307505090015 (index 117) to leader 0
term 16 server 2 not vote for server 1, 日志不够新
term 16 server 0 not vote for server 1, 日志不够新
term 18 server 2 vote for server 0
term 18 server 0 get vote from server 2
term 18 server 0 become leader
------------------------------------------------------
term 18 server 1 vote for server 0
term 18 server 0 get outdate rpc reply from server 1
flag 33092 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 17521 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 118->117
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 118->117
------------------------------------------------------
term 18 server 1 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 1
term 18 leader 0 nextIndex[1]: 101  matchIndex[1]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 38435 term 18 leader 0 nextIndex[2]: 117  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 1 InstallSnapshot success
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
rf.lastIncludedIndex 109 rf.lastIncludedTerm 16 rf.commitIndex 109 rf.lastApplied 109
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29806 term 18 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 28742 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93217 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 52725 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82184 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 25394 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
term 18 server 2 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 2
flag 32361 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 1148 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
flag 57050 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 12070 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
flag 80359 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 34269 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87160 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 71526 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18242 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 7940 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
term 18 server 0 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 0
flag 65516 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 46751 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
flag 26146 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 49290 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
flag 77869 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 12718 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60683 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 30275 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69868 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 65806 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
flag 9057 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 67691 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
flag 86107 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 82382 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
flag 64986 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 4808 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60388 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 68992 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=116
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117}]
------------------------------------------------------
client write log 2704169307505090015 (index 118) to leader 0
flag 19291 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
flag 47650 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 16 leaderCommit: 116 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117} {2704169307505090015 18 118}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117} {2704169307505090015 18 118}]
------------------------------------------------------
flag 17281 term 18 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 44886 term 18 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
term 18 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117} {2704169307505090015 18 118}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117} {2704169307505090015 18 118}]
------------------------------------------------------
flag 13073 term 18 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 85258 term 18 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117} {2704169307505090015 18 118}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117} {2704169307505090015 18 118}]
------------------------------------------------------
flag 33510 term 18 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 85899 term 18 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117} {2704169307505090015 18 118}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117} {2704169307505090015 18 118}]
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68895 term 18 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 47781 term 18 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117} {2704169307505090015 18 118}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117} {2704169307505090015 18 118}]
------------------------------------------------------
flag 27897 term 18 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 40963 term 18 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117} {2704169307505090015 18 118}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117} {2704169307505090015 18 118}]
------------------------------------------------------
flag 91227 term 18 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 42377 term 18 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117} {2704169307505090015 18 118}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117} {2704169307505090015 18 118}]
------------------------------------------------------
term 18 server 0 not vote for server 1, 任期不够新
term 18 server 1 get outdate rpc reply from server 0
!!!!!!diconnect server 0
flag 58524 term 18 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 16619 term 18 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 67643 term 18 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 80036 term 18 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 86274 term 18 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 39463 term 18 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 vote for server 1
term 19 server 1 get vote from server 2
term 19 server 1 become leader
------------------------------------------------------
flag 23746 term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 31206 term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117} {2704169307505090015 18 118}]
------------------------------------------------------
client write log 836946248391395701 (index 119) to leader 1
flag 13726 term 18 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 45687 term 18 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 61214 term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 96238 term 19 leader 1 nextIndex[2]: 119  matchIndex[2]: 118
term 19 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 16 109} {6931712523501304214 16 110} {4942092182207996544 16 111} {8783553146735294671 16 112} {4226469509347069004 16 113} {2060724210212396489 16 114} {7279279672625229276 16 115} {3155084371112234637 16 116} {2704169307505090015 16 117} {2704169307505090015 18 118} {836946248391395701 19 119}]
------------------------------------------------------
term 19 Server1 start snapshot! index=119
term 19 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
flag 3776 term 18 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 11456 term 18 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 69254 term 19 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 19 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=119
leader log:
[{snapshot 19 119}]
------------------------------------------------------
term 19 Server2 start snapshot! index=119
term 19 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
client write log 4662547773323014673 (index 120) to leader 1
client write log 3264944933173892040 (index 121) to leader 1
client write log 4192218372785207654 (index 122) to leader 1
client write log 7009528053543697048 (index 123) to leader 1
client write log 611237869578065072 (index 124) to leader 1
client write log 5214756802309545981 (index 125) to leader 1
client write log 3359413058501777241 (index 126) to leader 1
client write log 2349562030419512179 (index 127) to leader 1
flag 23539 term 18 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 64649 term 18 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 86177 term 19 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 19 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 119 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 19 119} {4662547773323014673 19 120} {3264944933173892040 19 121} {4192218372785207654 19 122} {7009528053543697048 19 123} {611237869578065072 19 124} {5214756802309545981 19 125} {3359413058501777241 19 126} {2349562030419512179 19 127}]
------------------------------------------------------
flag 35011 term 18 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 84854 term 18 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 89427 term 19 leader 1 nextIndex[2]: 128  matchIndex[2]: 127
term 19 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 127 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 19 119} {4662547773323014673 19 120} {3264944933173892040 19 121} {4192218372785207654 19 122} {7009528053543697048 19 123} {611237869578065072 19 124} {5214756802309545981 19 125} {3359413058501777241 19 126} {2349562030419512179 19 127}]
------------------------------------------------------
!!!!!!connect server 0
client write log 1538805759818937176 (index 128) to leader 1
flag 21328 term 18 leader 0 nextIndex[1]: 119  matchIndex[1]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 14487 term 18 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 19 server 2 AppendEntries false 领导者任期过期 args.Term 18
term 19 server 1 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 1 nextIndex[0]: 119  matchIndex[0]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 96285 term 19 leader 1 nextIndex[2]: 128  matchIndex[2]: 127
term 19 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 127 
------------------------------------------------------
term 19 server 0 InstallSnapshot success
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 120 matchIndex[0] 119 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {4662547773323014673 19 120} {3264944933173892040 19 121} {4192218372785207654 19 122} {7009528053543697048 19 123} {611237869578065072 19 124} {5214756802309545981 19 125} {3359413058501777241 19 126} {2349562030419512179 19 127} {1538805759818937176 19 128}]
------------------------------------------------------
flag 35423 term 19 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 19 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 75375 term 19 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 19 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {4662547773323014673 19 120} {3264944933173892040 19 121} {4192218372785207654 19 122} {7009528053543697048 19 123} {611237869578065072 19 124} {5214756802309545981 19 125} {3359413058501777241 19 126} {2349562030419512179 19 127} {1538805759818937176 19 128}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {4662547773323014673 19 120} {3264944933173892040 19 121} {4192218372785207654 19 122} {7009528053543697048 19 123} {611237869578065072 19 124} {5214756802309545981 19 125} {3359413058501777241 19 126} {2349562030419512179 19 127} {1538805759818937176 19 128}]
------------------------------------------------------
flag 3806 term 19 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 19 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 64015 term 19 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 19 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {4662547773323014673 19 120} {3264944933173892040 19 121} {4192218372785207654 19 122} {7009528053543697048 19 123} {611237869578065072 19 124} {5214756802309545981 19 125} {3359413058501777241 19 126} {2349562030419512179 19 127} {1538805759818937176 19 128}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {4662547773323014673 19 120} {3264944933173892040 19 121} {4192218372785207654 19 122} {7009528053543697048 19 123} {611237869578065072 19 124} {5214756802309545981 19 125} {3359413058501777241 19 126} {2349562030419512179 19 127} {1538805759818937176 19 128}]
------------------------------------------------------
flag 2760 term 19 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 19 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 54021 term 19 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 19 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {4662547773323014673 19 120} {3264944933173892040 19 121} {4192218372785207654 19 122} {7009528053543697048 19 123} {611237869578065072 19 124} {5214756802309545981 19 125} {3359413058501777241 19 126} {2349562030419512179 19 127} {1538805759818937176 19 128}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {4662547773323014673 19 120} {3264944933173892040 19 121} {4192218372785207654 19 122} {7009528053543697048 19 123} {611237869578065072 19 124} {5214756802309545981 19 125} {3359413058501777241 19 126} {2349562030419512179 19 127} {1538805759818937176 19 128}]
------------------------------------------------------
flag 88050 term 19 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 19 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 515 term 19 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 19 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {4662547773323014673 19 120} {3264944933173892040 19 121} {4192218372785207654 19 122} {7009528053543697048 19 123} {611237869578065072 19 124} {5214756802309545981 19 125} {3359413058501777241 19 126} {2349562030419512179 19 127} {1538805759818937176 19 128}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {4662547773323014673 19 120} {3264944933173892040 19 121} {4192218372785207654 19 122} {7009528053543697048 19 123} {611237869578065072 19 124} {5214756802309545981 19 125} {3359413058501777241 19 126} {2349562030419512179 19 127} {1538805759818937176 19 128}]
------------------------------------------------------
flag 5705 term 19 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 19 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 76379 term 19 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 19 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {4662547773323014673 19 120} {3264944933173892040 19 121} {4192218372785207654 19 122} {7009528053543697048 19 123} {611237869578065072 19 124} {5214756802309545981 19 125} {3359413058501777241 19 126} {2349562030419512179 19 127} {1538805759818937176 19 128}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {4662547773323014673 19 120} {3264944933173892040 19 121} {4192218372785207654 19 122} {7009528053543697048 19 123} {611237869578065072 19 124} {5214756802309545981 19 125} {3359413058501777241 19 126} {2349562030419512179 19 127} {1538805759818937176 19 128}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71076 term 19 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 19 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 13836 term 19 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 19 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {4662547773323014673 19 120} {3264944933173892040 19 121} {4192218372785207654 19 122} {7009528053543697048 19 123} {611237869578065072 19 124} {5214756802309545981 19 125} {3359413058501777241 19 126} {2349562030419512179 19 127} {1538805759818937176 19 128}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {4662547773323014673 19 120} {3264944933173892040 19 121} {4192218372785207654 19 122} {7009528053543697048 19 123} {611237869578065072 19 124} {5214756802309545981 19 125} {3359413058501777241 19 126} {2349562030419512179 19 127} {1538805759818937176 19 128}]
------------------------------------------------------
term 19 server 2 not vote for server 1, 任期不够新
term 19 server 1 get outdate rpc reply from server 2
flag 64324 term 19 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 19 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 98302 term 19 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 19 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {4662547773323014673 19 120} {3264944933173892040 19 121} {4192218372785207654 19 122} {7009528053543697048 19 123} {611237869578065072 19 124} {5214756802309545981 19 125} {3359413058501777241 19 126} {2349562030419512179 19 127} {1538805759818937176 19 128}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 19 119} {4662547773323014673 19 120} {3264944933173892040 19 121} {4192218372785207654 19 122} {7009528053543697048 19 123} {611237869578065072 19 124} {5214756802309545981 19 125} {3359413058501777241 19 126} {2349562030419512179 19 127} {1538805759818937176 19 128}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6938323640212696919 (index 129) to leader 1
flag 84062 term 19 leader 1 nextIndex[0]: 129  matchIndex[0]: 128
term 19 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
flag 40622 term 19 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 19 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 19 119} {4662547773323014673 19 120} {3264944933173892040 19 121} {4192218372785207654 19 122} {7009528053543697048 19 123} {611237869578065072 19 124} {5214756802309545981 19 125} {3359413058501777241 19 126} {2349562030419512179 19 127} {1538805759818937176 19 128} {6938323640212696919 19 129}]
------------------------------------------------------
term 19 Server1 start snapshot! index=129
term 19 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
flag 3453 term 19 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 19 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 129 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 19 129}]
------------------------------------------------------
term 19 Server0 start snapshot! index=129
term 19 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
client write log 6016670776811642711 (index 130) to leader 1
client write log 3399026297406348210 (index 131) to leader 1
client write log 9080312125329634624 (index 132) to leader 1
client write log 8777247260554335809 (index 133) to leader 1
client write log 1033231906386711942 (index 134) to leader 1
client write log 6659136873903957407 (index 135) to leader 1
client write log 5151073533004809781 (index 136) to leader 1
client write log 8965254236692284603 (index 137) to leader 1
client write log 7567138570069513897 (index 138) to leader 1
flag 87156 term 19 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 19 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 129 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 936 term 19 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 19 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5169475543705558785 (index 139) to leader 1
flag 20670 term 19 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 19 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
term 20 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 2 vote for server 1
term 21 server 0 vote for server 1
term 21 server 1 get vote from server 2
term 21 server 1 become leader
------------------------------------------------------
term 21 server 1 get outdate rpc reply from server 0
flag 71985 term 21 leader 1 nextIndex[0]: 140  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 40671 term 21 leader 1 nextIndex[2]: 140  matchIndex[2]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 140->139
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12782 term 21 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 129  matchIndex[2]: 0
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 19
------------------------------------------------------
term 21 server 2 InstallSnapshot success
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 19 rf.commitIndex 129 rf.lastApplied 129
term 21 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31198 term 21 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 25247 term 21 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 21 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:129 
term 21 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98040 term 21 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 37835 term 21 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
flag 44976 term 21 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 8388 term 21 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
flag 87245 term 21 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 54126 term 21 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
term 21 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37277 term 21 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 32169 term 21 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49764 term 21 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 20096 term 21 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
flag 38600 term 21 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 43281 term 21 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
flag 24734 term 21 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 24067 term 21 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
flag 6461 term 21 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 92954 term 21 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
flag 21002 term 21 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 47619 term 21 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
flag 1119 term 21 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 46444 term 21 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
flag 5096 term 21 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 63007 term 21 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
flag 3024 term 21 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 80832 term 21 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
term 21 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
term 21 server 0 not vote for server 1, 任期不够新
term 21 server 1 get outdate rpc reply from server 0
flag 80084 term 21 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 98707 term 21 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
flag 32026 term 21 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 78800 term 21 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45283 term 21 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 23813 term 21 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=140
update matchIndex[2]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=138
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5169475543705558785 (index 140) to leader 1
flag 83428 term 21 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
flag 45706 term 21 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 138 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139} {5169475543705558785 21 140}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 129} {6016670776811642711 19 130} {3399026297406348210 19 131} {9080312125329634624 19 132} {8777247260554335809 19 133} {1033231906386711942 19 134} {6659136873903957407 19 135} {5151073533004809781 19 136} {8965254236692284603 19 137} {7567138570069513897 19 138} {5169475543705558785 19 139} {5169475543705558785 21 140}]
------------------------------------------------------
term 21 Server1 start snapshot! index=139
term 21 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
flag 76790 term 21 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 21 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 32996 term 21 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 21 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
[{snapshot 19 139} {5169475543705558785 21 140}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5169475543705558785 21 140}]
------------------------------------------------------
term 21 Server0 start snapshot! index=139
term 21 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
term 21 Server2 start snapshot! index=139
term 21 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
flag 54015 term 21 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 21 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 10459 term 21 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 21 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5169475543705558785 21 140}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5169475543705558785 21 140}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88718 term 21 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 21 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 17060 term 21 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 21 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5169475543705558785 21 140}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5169475543705558785 21 140}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82001 term 21 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 21 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 81641 term 21 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 21 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5169475543705558785 21 140}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5169475543705558785 21 140}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23136 term 21 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 21 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 10129 term 21 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 21 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5169475543705558785 21 140}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 19 139} {5169475543705558785 21 140}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6572924657779880397 (index 141) to leader 1
flag 70455 term 21 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 21 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
flag 43267 term 21 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 21 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 140 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 19 139} {5169475543705558785 21 140} {6572924657779880397 21 141}]
------------------------------------------------------
flag 1864 term 21 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 14890 term 21 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 21 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 19 139} {5169475543705558785 21 140} {6572924657779880397 21 141}]
------------------------------------------------------
client write log 8684843713171714988 (index 142) to leader 1
client write log 6507984383184688030 (index 143) to leader 1
client write log 6261496269517560882 (index 144) to leader 1
client write log 468535764327418864 (index 145) to leader 1
client write log 5676257868264748975 (index 146) to leader 1
client write log 1993472264404453197 (index 147) to leader 1
client write log 5032891055049657473 (index 148) to leader 1
client write log 5692403804826009329 (index 149) to leader 1
client write log 3691095583077228736 (index 150) to leader 1
client write log 783432869882768202 (index 151) to leader 1
client write log 4301529885192521478 (index 152) to leader 1
client write log 269374252207596724 (index 153) to leader 1
client write log 4765334983361976341 (index 154) to leader 1
flag 20965 term 21 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 21 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
flag 70183 term 21 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 21 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 21 leaderCommit: 141 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 19 139} {5169475543705558785 21 140} {6572924657779880397 21 141} {8684843713171714988 21 142} {6507984383184688030 21 143} {6261496269517560882 21 144} {468535764327418864 21 145} {5676257868264748975 21 146} {1993472264404453197 21 147} {5032891055049657473 21 148} {5692403804826009329 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154}]
------------------------------------------------------
term 21 Server1 start snapshot! index=149
term 21 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=154
-------------------------------------------------------------
flag 27830 term 21 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 21 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154}]
------------------------------------------------------
term 21 Server0 start snapshot! index=149
term 21 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=154
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3498102402186660198 (index 155) to leader 1
term 21 server 0 not vote for server 2, 日志不够新
term 21 server 1 not vote for server 2, 日志不够新
term 23 server 2 vote for server 1
term 23 server 0 vote for server 1
term 23 server 1 get vote from server 2
term 23 server 1 become leader
------------------------------------------------------
term 23 server 1 get outdate rpc reply from server 0
flag 14505 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 11626 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 156->155
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 156->155
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66397 term 23 leader 1 nextIndex[0]: 155  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 141  matchIndex[2]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
term 23 server 2 InstallSnapshot success
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 21 rf.commitIndex 149 rf.lastApplied 149
term 23 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96479 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 71891 term 23 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 23 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76053 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 9052 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34859 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 20664 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
flag 38354 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 73563 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 23 server 0 not vote for server 2, 任期不够新
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
term 23 server 2 get outdate rpc reply from server 0
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
term 23 server 1 not vote for server 2, 任期不够新
term 23 server 2 get outdate rpc reply from server 1
flag 81184 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 65326 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38310 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 24859 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78044 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 86550 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
flag 98619 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 25146 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
term 23 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
flag 89031 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 4508 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9674 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 23125 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
flag 63776 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 15715 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
flag 55741 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 69514 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20447 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 74305 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
flag 1061 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 81142 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
flag 12461 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 37778 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19689 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 43995 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
flag 76347 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 80034 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155}]
------------------------------------------------------
term 23 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 3498102402186660198 (index 156) to leader 1
flag 19404 term 23 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 80118 term 23 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155} {3498102402186660198 23 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155} {3498102402186660198 23 156}]
------------------------------------------------------
flag 87639 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 26336 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155} {3498102402186660198 23 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155} {3498102402186660198 23 156}]
------------------------------------------------------
flag 87401 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 3377 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155} {3498102402186660198 23 156}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155} {3498102402186660198 23 156}]
------------------------------------------------------
flag 51834 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 59272 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155} {3498102402186660198 23 156}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155} {3498102402186660198 23 156}]
------------------------------------------------------
flag 16947 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 47773 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155} {3498102402186660198 23 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155} {3498102402186660198 23 156}]
------------------------------------------------------
flag 55457 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 20362 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155} {3498102402186660198 23 156}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155} {3498102402186660198 23 156}]
------------------------------------------------------
flag 42906 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 41196 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155} {3498102402186660198 23 156}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155} {3498102402186660198 23 156}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 92084 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 87205 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 93731 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 13288 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 8514 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 77643 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 86674 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 18407 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
term 24 server 0 vote for server 2
term 24 server 2 get vote from server 0
term 24 server 2 become leader
------------------------------------------------------
client write log 8236278944502474275 (index 157) to leader 2
flag 21185 term 24 leader 2 nextIndex[0]: 157  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 32398 term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155} {3498102402186660198 23 156} {8236278944502474275 24 157}]
------------------------------------------------------
flag 42512 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 57779 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 63403 term 24 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 24 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
flag 11827 term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155} {3498102402186660198 23 156} {8236278944502474275 24 157}]
------------------------------------------------------
client write log 2278283583145927122 (index 158) to leader 2
client write log 1151353669007458497 (index 159) to leader 2
client write log 7957419420332374479 (index 160) to leader 2
client write log 318421409626410825 (index 161) to leader 2
client write log 4257893906067713537 (index 162) to leader 2
client write log 3643771643096677460 (index 163) to leader 2
client write log 698853937350530740 (index 164) to leader 2
client write log 2167459104550436522 (index 165) to leader 2
client write log 5873616404308619392 (index 166) to leader 2
client write log 9006589753822651555 (index 167) to leader 2
client write log 8919384010283821119 (index 168) to leader 2
flag 74340 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 34154 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 57569 term 24 leader 2 nextIndex[0]: 158  matchIndex[0]: 157
term 24 leader 2 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 24 leaderCommit: 157 
------------------------------------------------------
flag 4528 term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 21 149} {3691095583077228736 21 150} {783432869882768202 21 151} {4301529885192521478 21 152} {269374252207596724 21 153} {4765334983361976341 21 154} {3498102402186660198 21 155} {3498102402186660198 23 156} {8236278944502474275 24 157} {2278283583145927122 24 158} {1151353669007458497 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
term 24 Server2 start snapshot! index=159
term 24 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=168
-------------------------------------------------------------
flag 52084 term 23 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 48065 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 157->156
------------------------------------------------------
flag 93757 term 24 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
term 24 Server0 start snapshot! index=159
term 24 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=168
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3913333077805303328 (index 157) to leader 1
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 leader 1 nextIndex[0]: 0  matchIndex[0]: 156
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
flag 32508 term 23 leader 1 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
term 24 server 2 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 24 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74607 term 24 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 157  matchIndex[1]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 InstallSnapshot success
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 24 rf.commitIndex 159 rf.lastApplied 159
flag 6442 term 24 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 85059 term 24 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 24 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
flag 71842 term 24 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 42296 term 24 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2306 term 24 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 38027 term 24 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57498 term 24 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 27364 term 24 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
flag 19135 term 24 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 74605 term 24 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
flag 97015 term 24 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 55605 term 24 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
flag 44461 term 24 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 5094 term 24 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
flag 89383 term 24 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 86095 term 24 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
flag 17663 term 24 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 14961 term 24 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
flag 44186 term 24 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 7156 term 24 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95232 term 24 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 47457 term 24 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
flag 12772 term 24 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 73819 term 24 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
flag 81708 term 24 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 11293 term 24 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30758 term 24 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 15886 term 24 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
flag 59418 term 24 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 55254 term 24 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63509 term 24 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 89410 term 24 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56716 term 24 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 58910 term 24 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
flag 86106 term 24 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 47126 term 24 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
flag 13003 term 24 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 28501 term 24 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168}]
------------------------------------------------------
client write log 3913333077805303328 (index 169) to leader 2
flag 45362 term 24 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
flag 69871 term 24 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 24 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 24 leaderCommit: 168 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:168 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168} {3913333077805303328 24 169}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 24 159} {7957419420332374479 24 160} {318421409626410825 24 161} {4257893906067713537 24 162} {3643771643096677460 24 163} {698853937350530740 24 164} {2167459104550436522 24 165} {5873616404308619392 24 166} {9006589753822651555 24 167} {8919384010283821119 24 168} {3913333077805303328 24 169}]
------------------------------------------------------
term 24 Server2 start snapshot! index=169
term 24 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
flag 47196 term 24 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 24 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 169 
------------------------------------------------------
flag 75714 term 24 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 24 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 169 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 24 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 24 169}]
------------------------------------------------------
term 24 Server1 start snapshot! index=169
term 24 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
term 24 Server0 start snapshot! index=169
term 24 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
flag 68534 term 24 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 24 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 169 
------------------------------------------------------
flag 57422 term 24 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 24 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 169 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 24 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 24 169}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22205 term 24 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 24 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 169 
------------------------------------------------------
flag 37541 term 24 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 24 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 169 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:169 
term 24 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 24 169}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 24 169}]
------------------------------------------------------
flag 70960 term 24 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 24 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 169 
------------------------------------------------------
flag 68719 term 24 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 24 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 169 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 24 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 24 169}]
------------------------------------------------------
flag 52620 term 24 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 24 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 169 
------------------------------------------------------
flag 16563 term 24 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 24 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 169 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 24 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 24 169}]
------------------------------------------------------
flag 51322 term 24 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 24 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 169 
------------------------------------------------------
flag 47165 term 24 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 24 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 169 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 24 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 24 169}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1256766421007030604 (index 170) to leader 2
flag 8338 term 24 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 24 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 169 
------------------------------------------------------
flag 30359 term 24 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 24 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 169 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {1256766421007030604 24 170}]
------------------------------------------------------
flag 97249 term 24 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 24 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
flag 68006 term 24 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 24 169} {1256766421007030604 24 170}]
------------------------------------------------------
client write log 1276395538300281019 (index 171) to leader 2
client write log 1668790170905669708 (index 172) to leader 2
client write log 8741013423895949249 (index 173) to leader 2
client write log 3279436990494854336 (index 174) to leader 2
client write log 5162042213739488703 (index 175) to leader 2
client write log 6967026836762471008 (index 176) to leader 2
client write log 2724553572367346594 (index 177) to leader 2
client write log 8614147326058748344 (index 178) to leader 2
client write log 6782559290268042262 (index 179) to leader 2
client write log 2561359970592381261 (index 180) to leader 2
client write log 1114362780200382581 (index 181) to leader 2
client write log 2399831560320545945 (index 182) to leader 2
client write log 8854478391855290312 (index 183) to leader 2
client write log 4321546851320432326 (index 184) to leader 2
flag 52849 term 24 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 24 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
flag 17294 term 24 leader 2 nextIndex[1]: 171  matchIndex[1]: 170
term 24 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 24 leaderCommit: 170 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 169} {1256766421007030604 24 170} {1276395538300281019 24 171} {1668790170905669708 24 172} {8741013423895949249 24 173} {3279436990494854336 24 174} {5162042213739488703 24 175} {6967026836762471008 24 176} {2724553572367346594 24 177} {8614147326058748344 24 178} {6782559290268042262 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184}]
------------------------------------------------------
term 24 Server2 start snapshot! index=179
term 24 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=184
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 185->184
------------------------------------------------------
term 24 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 24
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 184
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 InstallSnapshot success
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 24 rf.commitIndex 179 rf.lastApplied 179
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 24
------------------------------------------------------
flag 76513 term 24 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 24 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8163544311676174684 (index 185) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 24
------------------------------------------------------
flag 65831 term 24 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 24 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 25 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 1 vote for server 2
term 26 server 2 get vote from server 1
term 26 server 2 become leader
------------------------------------------------------
term 26 server 0 vote for server 2
term 26 server 2 get outdate rpc reply from server 0
flag 77536 term 26 leader 2 nextIndex[0]: 186  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 14482 term 26 leader 2 nextIndex[1]: 186  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 186->185
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 170  matchIndex[0]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 24
------------------------------------------------------
flag 90405 term 26 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 26 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 180 matchIndex[0] 179 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 24 rf.commitIndex 179 rf.lastApplied 179
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16227 term 26 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 26 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 21787 term 26 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44829 term 26 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 26219 term 26 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
flag 90552 term 26 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 21590 term 26 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82752 term 26 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 41894 term 26 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
flag 23677 term 26 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 49728 term 26 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
flag 8129 term 26 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 15358 term 26 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
flag 20997 term 26 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 39196 term 26 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
flag 22495 term 26 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 44217 term 26 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1212 term 26 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 51882 term 26 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55045 term 26 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 83414 term 26 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
flag 54461 term 26 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 15088 term 26 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
flag 25565 term 26 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 98772 term 26 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86663 term 26 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 71450 term 26 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
flag 4946 term 26 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 21186 term 26 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70718 term 26 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 67151 term 26 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
flag 8860 term 26 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 55678 term 26 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
flag 46225 term 26 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 71151 term 26 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185}]
------------------------------------------------------
client write log 8163544311676174684 (index 186) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5661 term 26 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 79928 term 26 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185} {8163544311676174684 26 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185} {8163544311676174684 26 186}]
------------------------------------------------------
flag 91827 term 26 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 26 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
flag 83439 term 26 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 26 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185} {8163544311676174684 26 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185} {8163544311676174684 26 186}]
------------------------------------------------------
term 26 server 1 not vote for server 2, 任期不够新
term 26 server 2 get outdate rpc reply from server 1
flag 55944 term 26 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 26 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
flag 37348 term 26 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 26 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185} {8163544311676174684 26 186}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185} {8163544311676174684 26 186}]
------------------------------------------------------
flag 20084 term 26 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 26 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
flag 67535 term 26 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 26 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185} {8163544311676174684 26 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185} {8163544311676174684 26 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87094 term 26 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 26 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
flag 1037 term 26 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 26 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185} {8163544311676174684 26 186}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185} {8163544311676174684 26 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35368 term 26 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 26 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
flag 91744 term 26 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 26 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=187
update matchIndex[0]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185} {8163544311676174684 26 186}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185} {8163544311676174684 26 186}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7583900625390724969 (index 187) to leader 2
flag 18673 term 26 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 26 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
flag 50035 term 26 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 26 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185} {8163544311676174684 26 186} {7583900625390724969 26 187}]
------------------------------------------------------
flag 26996 term 26 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 26 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 187 
------------------------------------------------------
flag 26078 term 26 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 26 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 26 leaderCommit: 187 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=188
update matchIndex[1]=187
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185} {8163544311676174684 26 186} {7583900625390724969 26 187}]
------------------------------------------------------
client write log 1964944665886150373 (index 188) to leader 2
client write log 3621845770811790719 (index 189) to leader 2
client write log 916797493688021892 (index 190) to leader 2
client write log 771897777996136640 (index 191) to leader 2
client write log 4081907980931338718 (index 192) to leader 2
client write log 3627701757441654111 (index 193) to leader 2
client write log 1516402337718574236 (index 194) to leader 2
client write log 4897458662387257033 (index 195) to leader 2
client write log 4577446171543448492 (index 196) to leader 2
client write log 7699585564338674731 (index 197) to leader 2
client write log 704203061290179463 (index 198) to leader 2
flag 40702 term 26 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 26 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 187 
------------------------------------------------------
flag 92310 term 26 leader 2 nextIndex[1]: 188  matchIndex[1]: 187
term 26 leader 2 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 26 leaderCommit: 187 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 24 179} {2561359970592381261 24 180} {1114362780200382581 24 181} {2399831560320545945 24 182} {8854478391855290312 24 183} {4321546851320432326 24 184} {8163544311676174684 24 185} {8163544311676174684 26 186} {7583900625390724969 26 187} {1964944665886150373 26 188} {3621845770811790719 26 189} {916797493688021892 26 190} {771897777996136640 26 191} {4081907980931338718 26 192} {3627701757441654111 26 193} {1516402337718574236 26 194} {4897458662387257033 26 195} {4577446171543448492 26 196} {7699585564338674731 26 197} {704203061290179463 26 198}]
------------------------------------------------------
term 26 Server2 start snapshot! index=189
term 26 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=198
-------------------------------------------------------------
term 26 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
flag 83493 term 26 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 26 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 26 leaderCommit: 198 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=198
leader log:
[{snapshot 26 189} {916797493688021892 26 190} {771897777996136640 26 191} {4081907980931338718 26 192} {3627701757441654111 26 193} {1516402337718574236 26 194} {4897458662387257033 26 195} {4577446171543448492 26 196} {7699585564338674731 26 197} {704203061290179463 26 198}]
------------------------------------------------------
term 26 Server1 start snapshot! index=189
term 26 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=198
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8710357625837671852 (index 199) to leader 2
term 26 leader 2 nextIndex[0]: 187  matchIndex[0]: 186
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
flag 55905 term 26 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 26 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 26 leaderCommit: 198 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:198 
------------------------------------------------------
term 27 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 189} {916797493688021892 26 190} {771897777996136640 26 191} {4081907980931338718 26 192} {3627701757441654111 26 193} {1516402337718574236 26 194} {4897458662387257033 26 195} {4577446171543448492 26 196} {7699585564338674731 26 197} {704203061290179463 26 198} {8710357625837671852 26 199}]
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 27 Server2 start snapshot! index=199
term 27 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
term 28 server 1 vote for server 2
term 28 server 2 get vote from server 1
term 28 server 2 become leader
------------------------------------------------------
term 28 server 0 vote for server 2
term 28 server 2 get outdate rpc reply from server 0
flag 14377 term 28 leader 2 nextIndex[0]: 200  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 75073 term 28 leader 2 nextIndex[1]: 200  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 200->199
------------------------------------------------------
term 28 Server1 start snapshot! index=199
term 28 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
term 28 server 1 not vote for server 0, 任期不够新
term 28 server 0 get outdate rpc reply from server 1
term 28 leader 2 nextIndex[0]: 187  matchIndex[0]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
flag 24845 term 28 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 26 rf.commitIndex 199 rf.lastApplied 199
term 28 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 200 matchIndex[0] 199 
------------------------------------------------------------------------
flag 87185 term 28 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 42082 term 28 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
flag 75111 term 28 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 59114 term 28 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69847 term 28 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 47765 term 28 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
flag 72889 term 28 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 67374 term 28 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25246 term 28 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 18197 term 28 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 47827 term 28 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 11342 term 28 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2081 term 28 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 89825 term 28 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 74854 term 28 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 35087 term 28 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 13239 term 28 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 90479 term 28 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 29 server 0 vote for server 1
term 29 server 1 get vote from server 0
term 29 server 1 become leader
------------------------------------------------------
flag 7595 term 29 leader 1 nextIndex[0]: 200  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 67292 term 29 leader 1 nextIndex[2]: 200  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 200->199
------------------------------------------------------
client write log 8497662256937842516 (index 200) to leader 1
flag 71416 term 28 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 199
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
flag 98422 term 29 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 29 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 64331 term 29 leader 1 nextIndex[2]: 200  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 26 199} {8497662256937842516 29 200}]
------------------------------------------------------
flag 86439 term 28 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 199
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
flag 3244 term 29 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 29 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 41133 term 29 leader 1 nextIndex[2]: 200  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 200 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 26 199} {8497662256937842516 29 200}]
------------------------------------------------------
client write log 4967827691675941198 (index 201) to leader 1
flag 74143 term 28 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 199
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
flag 40566 term 29 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 29 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 68490 term 29 leader 1 nextIndex[2]: 200  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 200 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 26 199} {8497662256937842516 29 200} {4967827691675941198 29 201}]
------------------------------------------------------
flag 48803 term 28 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 199
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
flag 48624 term 29 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 48589 term 29 leader 1 nextIndex[2]: 200  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 201 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 26 199} {8497662256937842516 29 200} {4967827691675941198 29 201}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1360179606328568184 (index 202) to leader 1
flag 8800 term 28 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 199
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
term 29 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 server 0 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85832 term 29 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 29 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 201 
------------------------------------------------------
flag 3872 term 29 leader 1 nextIndex[2]: 200  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 201 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {8497662256937842516 29 200} {4967827691675941198 29 201} {1360179606328568184 29 202}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {8497662256937842516 29 200} {4967827691675941198 29 201} {1360179606328568184 29 202}]
------------------------------------------------------
flag 76065 term 29 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 29 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 46655 term 29 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 29 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {8497662256937842516 29 200} {4967827691675941198 29 201} {1360179606328568184 29 202}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {8497662256937842516 29 200} {4967827691675941198 29 201} {1360179606328568184 29 202}]
------------------------------------------------------
flag 44522 term 29 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 29 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 35121 term 29 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 29 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {8497662256937842516 29 200} {4967827691675941198 29 201} {1360179606328568184 29 202}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {8497662256937842516 29 200} {4967827691675941198 29 201} {1360179606328568184 29 202}]
------------------------------------------------------
flag 55949 term 29 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 29 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 61571 term 29 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 29 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {8497662256937842516 29 200} {4967827691675941198 29 201} {1360179606328568184 29 202}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {8497662256937842516 29 200} {4967827691675941198 29 201} {1360179606328568184 29 202}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 203->202
------------------------------------------------------
term 29 server 2 not vote for server 0, 任期不够新
term 29 server 0 get outdate rpc reply from server 2
flag 54402 term 29 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 29 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 0  matchIndex[2]: 202
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
term 29 server 2 InstallSnapshot fail
rf.commitIndex 202 args.LastIncludedIndex 199
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {8497662256937842516 29 200} {4967827691675941198 29 201} {1360179606328568184 29 202}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11788 term 29 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 29 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 85998 term 29 leader 1 nextIndex[2]: 200  matchIndex[2]: 199
term 29 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 202 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {8497662256937842516 29 200} {4967827691675941198 29 201} {1360179606328568184 29 202}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {8497662256937842516 29 200} {4967827691675941198 29 201} {1360179606328568184 29 202}]
------------------------------------------------------
flag 13493 term 29 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 29 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 17039 term 29 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 29 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {8497662256937842516 29 200} {4967827691675941198 29 201} {1360179606328568184 29 202}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {8497662256937842516 29 200} {4967827691675941198 29 201} {1360179606328568184 29 202}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 870863754368928580 (index 203) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63217 term 29 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 29 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
flag 6287 term 29 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 29 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 26 199} {8497662256937842516 29 200} {4967827691675941198 29 201} {1360179606328568184 29 202} {870863754368928580 29 203}]
------------------------------------------------------
flag 28711 term 29 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 29 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
flag 96207 term 29 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 29 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 26 199} {8497662256937842516 29 200} {4967827691675941198 29 201} {1360179606328568184 29 202} {870863754368928580 29 203}]
------------------------------------------------------
client write log 6906584380414546883 (index 204) to leader 1
client write log 1344238584323348921 (index 205) to leader 1
client write log 4617415320054517747 (index 206) to leader 1
client write log 1065892017386965501 (index 207) to leader 1
client write log 1625351841543518434 (index 208) to leader 1
client write log 7064641701321717337 (index 209) to leader 1
client write log 2084858588598783686 (index 210) to leader 1
client write log 4591500850680315886 (index 211) to leader 1
flag 20923 term 29 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 29 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
flag 96209 term 29 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 29 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 26 199} {8497662256937842516 29 200} {4967827691675941198 29 201} {1360179606328568184 29 202} {870863754368928580 29 203} {6906584380414546883 29 204} {1344238584323348921 29 205} {4617415320054517747 29 206} {1065892017386965501 29 207} {1625351841543518434 29 208} {7064641701321717337 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211}]
------------------------------------------------------
term 29 Server1 start snapshot! index=209
term 29 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=211
-------------------------------------------------------------
flag 51160 term 29 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 29 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211}]
------------------------------------------------------
term 29 Server0 start snapshot! index=209
term 29 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=211
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1535837042424217548 (index 212) to leader 1
term 29 server 1 not vote for server 2, 日志不够新
term 29 server 0 not vote for server 2, 日志不够新
term 31 server 2 vote for server 1
term 31 server 1 get vote from server 2
term 31 server 1 become leader
------------------------------------------------------
term 31 server 0 vote for server 1
term 31 server 1 get outdate rpc reply from server 0
flag 32217 term 31 leader 1 nextIndex[0]: 213  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 87024 term 31 leader 1 nextIndex[2]: 213  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 213->212
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 213->212
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32701 term 31 leader 1 nextIndex[0]: 212  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 203  matchIndex[2]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 29
------------------------------------------------------
term 31 server 2 InstallSnapshot success
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 29 rf.commitIndex 209 rf.lastApplied 209
term 31 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96004 term 31 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 73950 term 31 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 31 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
flag 45459 term 31 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 82320 term 31 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:211 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
term 31 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65643 term 31 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 37239 term 31 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
term 31 server 2 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 2
flag 5368 term 31 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 14892 term 31 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
flag 82045 term 31 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 39567 term 31 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
flag 11234 term 31 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 52581 term 31 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
flag 98218 term 31 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 92772 term 31 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
term 31 server 1 not vote for server 0, 任期不够新
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
term 31 server 0 get outdate rpc reply from server 1
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73023 term 31 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 3610 term 31 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6959 term 31 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 85282 term 31 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8929 term 31 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 10329 term 31 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
flag 9042 term 31 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 80393 term 31 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74916 term 31 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 88988 term 31 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
flag 45677 term 31 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 18319 term 31 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
flag 82397 term 31 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 42461 term 31 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
flag 29816 term 31 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 9240 term 31 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
term 31 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88721 term 31 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 98295 term 31 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
term 31 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49418 term 31 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 38971 term 31 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
flag 39809 term 31 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 52825 term 31 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
term 31 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=211
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212}]
------------------------------------------------------
client write log 1535837042424217548 (index 213) to leader 1
flag 48631 term 31 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
flag 82659 term 31 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 29 leaderCommit: 211 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212} {1535837042424217548 31 213}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212} {1535837042424217548 31 213}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77022 term 31 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 31 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 40156 term 31 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 31 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212} {1535837042424217548 31 213}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212} {1535837042424217548 31 213}]
------------------------------------------------------
flag 49651 term 31 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 31 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 6463 term 31 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 31 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212} {1535837042424217548 31 213}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212} {1535837042424217548 31 213}]
------------------------------------------------------
flag 1177 term 31 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 31 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 23089 term 31 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 31 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212} {1535837042424217548 31 213}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212} {1535837042424217548 31 213}]
------------------------------------------------------
flag 98405 term 31 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 31 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 75497 term 31 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 31 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212} {1535837042424217548 31 213}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212} {1535837042424217548 31 213}]
------------------------------------------------------
flag 2532 term 31 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 31 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 20389 term 31 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 31 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212} {1535837042424217548 31 213}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212} {1535837042424217548 31 213}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79537 term 31 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 31 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 2958 term 31 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 31 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212} {1535837042424217548 31 213}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212} {1535837042424217548 31 213}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5158471389437202390 (index 214) to leader 1
flag 37177 term 31 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 31 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 91930 term 31 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 31 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212} {1535837042424217548 31 213} {5158471389437202390 31 214}]
------------------------------------------------------
flag 18500 term 31 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 5111 term 31 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 31 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212} {1535837042424217548 31 213} {5158471389437202390 31 214}]
------------------------------------------------------
client write log 9086036755424530669 (index 215) to leader 1
client write log 7050554940125483940 (index 216) to leader 1
client write log 8013553778215358698 (index 217) to leader 1
client write log 9120501312499668244 (index 218) to leader 1
client write log 1144254039985717022 (index 219) to leader 1
client write log 6442922675542308467 (index 220) to leader 1
client write log 4776834681160266510 (index 221) to leader 1
client write log 5379772201554168267 (index 222) to leader 1
client write log 8072107481455342922 (index 223) to leader 1
client write log 7537822389896268007 (index 224) to leader 1
flag 26380 term 31 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 8370 term 31 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 31 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 29 209} {2084858588598783686 29 210} {4591500850680315886 29 211} {1535837042424217548 29 212} {1535837042424217548 31 213} {5158471389437202390 31 214} {9086036755424530669 31 215} {7050554940125483940 31 216} {8013553778215358698 31 217} {9120501312499668244 31 218} {1144254039985717022 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224}]
------------------------------------------------------
term 31 Server1 start snapshot! index=219
term 31 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=224
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20311 term 31 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 31 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224}]
------------------------------------------------------
term 31 Server0 start snapshot! index=219
term 31 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=224
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2175297620793249182 (index 225) to leader 1
flag 44059 term 31 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 31 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 31 leaderCommit: 224 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
term 32 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224} {2175297620793249182 31 225}]
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 server 2 vote for server 1
term 33 server 0 vote for server 1
term 33 server 1 get vote from server 2
term 33 server 1 become leader
------------------------------------------------------
term 33 server 1 get outdate rpc reply from server 0
flag 60099 term 33 leader 1 nextIndex[0]: 226  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 63508 term 33 leader 1 nextIndex[2]: 226  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 226->225
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224} {2175297620793249182 31 225}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69125 term 33 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 214  matchIndex[2]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 31 rf.commitIndex 219 rf.lastApplied 219
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224} {2175297620793249182 31 225}]
------------------------------------------------------
term 33 server 1 not vote for server 2, 任期不够新
term 33 server 2 get outdate rpc reply from server 1
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22067 term 33 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 37783 term 33 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224} {2175297620793249182 31 225}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224} {2175297620793249182 31 225}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36236 term 33 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 56166 term 33 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224} {2175297620793249182 31 225}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224} {2175297620793249182 31 225}]
------------------------------------------------------
flag 90075 term 33 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 71669 term 33 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224} {2175297620793249182 31 225}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224} {2175297620793249182 31 225}]
------------------------------------------------------
flag 58530 term 33 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 29232 term 33 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224} {2175297620793249182 31 225}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224} {2175297620793249182 31 225}]
------------------------------------------------------
term 33 server 2 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 2
flag 77743 term 33 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 96378 term 33 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224} {2175297620793249182 31 225}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224} {2175297620793249182 31 225}]
------------------------------------------------------
flag 89411 term 33 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 22377 term 33 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224} {2175297620793249182 31 225}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224} {2175297620793249182 31 225}]
------------------------------------------------------
flag 20033 term 33 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 51477 term 33 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224} {2175297620793249182 31 225}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224} {2175297620793249182 31 225}]
------------------------------------------------------
!!!!!!diconnect server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92882 term 33 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 80084 term 33 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 51940 term 33 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 70055 term 33 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93195 term 33 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 6683 term 33 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 34 server 0 vote for server 2
term 34 server 2 get vote from server 0
term 34 server 2 become leader
------------------------------------------------------
flag 89649 term 33 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 53571 term 33 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 67613 term 34 leader 2 nextIndex[0]: 226  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 87004 term 34 leader 2 nextIndex[1]: 226  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224} {2175297620793249182 31 225}]
------------------------------------------------------
client write log 3378318661236181977 (index 226) to leader 2
flag 43013 term 33 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 92501 term 33 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 80117 term 34 leader 2 nextIndex[0]: 226  matchIndex[0]: 225
term 34 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 6639 term 34 leader 2 nextIndex[1]: 226  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224} {2175297620793249182 31 225} {3378318661236181977 34 226}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55745 term 33 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 61995 term 33 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 72609 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 44459 term 34 leader 2 nextIndex[1]: 226  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224} {2175297620793249182 31 225} {3378318661236181977 34 226}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 226->225
------------------------------------------------------
client write log 1887335178041143787 (index 227) to leader 2
client write log 6456742191171729638 (index 228) to leader 2
client write log 5362681402136939253 (index 229) to leader 2
client write log 4686246053142616803 (index 230) to leader 2
client write log 3331516837621788693 (index 231) to leader 2
client write log 7391923967542316790 (index 232) to leader 2
client write log 3133961323961555038 (index 233) to leader 2
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 71297 term 33 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 0  matchIndex[2]: 225
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
flag 20989 term 34 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 73431 term 34 leader 2 nextIndex[1]: 226  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 226 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 31 219} {6442922675542308467 31 220} {4776834681160266510 31 221} {5379772201554168267 31 222} {8072107481455342922 31 223} {7537822389896268007 31 224} {2175297620793249182 31 225} {3378318661236181977 34 226} {1887335178041143787 34 227} {6456742191171729638 34 228} {5362681402136939253 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
term 34 Server2 start snapshot! index=229
term 34 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=233
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 226->225
------------------------------------------------------
flag 92369 term 33 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 0  matchIndex[2]: 225
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
flag 23058 term 34 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
term 34 Server0 start snapshot! index=229
term 34 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=233
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7470648500176476726 (index 226) to leader 1
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41823 term 33 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 33 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 0  matchIndex[2]: 225
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 34 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 0 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67503 term 34 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 10895 term 34 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 230->229
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30538 term 34 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 227  matchIndex[1]: 229
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
term 34 server 1 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 34 rf.commitIndex 229 rf.lastApplied 229
flag 40917 term 34 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 44256 term 34 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8149 term 34 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 84435 term 34 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
flag 72545 term 34 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 1269 term 34 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
flag 99520 term 34 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 48412 term 34 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14633 term 34 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 22466 term 34 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
flag 58646 term 34 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 53741 term 34 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
flag 82451 term 34 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 91384 term 34 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
flag 67765 term 34 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 94720 term 34 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82289 term 34 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 82832 term 34 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
flag 95921 term 34 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 88968 term 34 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
flag 88476 term 34 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 81045 term 34 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68317 term 34 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 55319 term 34 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 234->233
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35863 term 34 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 leader 2 nextIndex[1]: 0  matchIndex[1]: 233
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
term 34 server 1 InstallSnapshot fail
rf.commitIndex 233 args.LastIncludedIndex 229
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
flag 88537 term 34 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 35179 term 34 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 34 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
flag 53627 term 34 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 32907 term 34 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92132 term 34 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 30367 term 34 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79665 term 34 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 54093 term 34 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233}]
------------------------------------------------------
client write log 7470648500176476726 (index 234) to leader 2
flag 36226 term 34 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 40436 term 34 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 34 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233} {7470648500176476726 34 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233} {7470648500176476726 34 234}]
------------------------------------------------------
flag 84279 term 34 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 34 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 71186 term 34 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 34 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233} {7470648500176476726 34 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233} {7470648500176476726 34 234}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56793 term 34 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 34 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 81673 term 34 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 34 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233} {7470648500176476726 34 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233} {7470648500176476726 34 234}]
------------------------------------------------------
flag 49507 term 34 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 34 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 5324 term 34 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 34 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233} {7470648500176476726 34 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233} {7470648500176476726 34 234}]
------------------------------------------------------
flag 65177 term 34 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 34 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 32713 term 34 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 34 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233} {7470648500176476726 34 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233} {7470648500176476726 34 234}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30792 term 34 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 34 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 82541 term 34 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 34 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233} {7470648500176476726 34 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233} {7470648500176476726 34 234}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5614574444995686226 (index 235) to leader 2
flag 70220 term 34 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 34 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 44267 term 34 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 34 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233} {7470648500176476726 34 234} {5614574444995686226 34 235}]
------------------------------------------------------
flag 28480 term 34 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 34 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
flag 27555 term 34 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233} {7470648500176476726 34 234} {5614574444995686226 34 235}]
------------------------------------------------------
client write log 68675558188572595 (index 236) to leader 2
client write log 1136897074904736014 (index 237) to leader 2
client write log 5012973220342031441 (index 238) to leader 2
client write log 7036551065112755053 (index 239) to leader 2
client write log 129390165341325646 (index 240) to leader 2
client write log 1487151044856978682 (index 241) to leader 2
client write log 7683147037397339907 (index 242) to leader 2
client write log 82457680622395905 (index 243) to leader 2
client write log 773570348109764634 (index 244) to leader 2
client write log 8006713959971127698 (index 245) to leader 2
client write log 1471051297816384603 (index 246) to leader 2
client write log 4331382707811307674 (index 247) to leader 2
flag 780 term 34 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 34 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
flag 77860 term 34 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 34 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 235 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 34 229} {4686246053142616803 34 230} {3331516837621788693 34 231} {7391923967542316790 34 232} {3133961323961555038 34 233} {7470648500176476726 34 234} {5614574444995686226 34 235} {68675558188572595 34 236} {1136897074904736014 34 237} {5012973220342031441 34 238} {7036551065112755053 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247}]
------------------------------------------------------
term 34 Server2 start snapshot! index=239
term 34 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=247
-------------------------------------------------------------
term 34 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 34
------------------------------------------------------
flag 59136 term 34 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 34 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247}]
------------------------------------------------------
term 34 Server1 start snapshot! index=239
term 34 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=247
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6814388394209628227 (index 248) to leader 2
term 34 server 2 not vote for server 0, 日志不够新
term 34 server 1 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 1 vote for server 2
term 36 server 2 get vote from server 1
term 36 server 2 become leader
------------------------------------------------------
term 36 server 0 vote for server 2
term 36 server 2 get outdate rpc reply from server 0
flag 21379 term 36 leader 2 nextIndex[0]: 249  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
flag 7052 term 36 leader 2 nextIndex[1]: 249  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 249->248
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 249->248
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 34
------------------------------------------------------
flag 73338 term 36 leader 2 nextIndex[1]: 248  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
term 36 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 34 rf.commitIndex 239 rf.lastApplied 239
flag 19438 term 36 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 36 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
flag 40286 term 36 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
flag 59082 term 36 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
flag 30846 term 36 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
flag 77141 term 36 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
flag 74307 term 36 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
flag 95289 term 36 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
flag 29994 term 36 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
flag 97333 term 36 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
flag 93873 term 36 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33772 term 36 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
flag 78656 term 36 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
flag 46776 term 36 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
flag 76099 term 36 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
flag 53329 term 36 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
flag 4198 term 36 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
flag 63039 term 36 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
flag 61449 term 36 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
flag 73327 term 36 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
flag 14842 term 36 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
flag 67192 term 36 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
flag 88183 term 36 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
flag 24777 term 36 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
flag 64780 term 36 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
term 36 server 0 not vote for server 2, 任期不够新
term 36 server 2 get outdate rpc reply from server 0
flag 91138 term 36 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
flag 12005 term 36 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
term 36 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37934 term 36 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
flag 27883 term 36 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 36 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
update nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
flag 42589 term 36 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
flag 53335 term 36 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
flag 15785 term 36 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
flag 34797 term 36 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
flag 78850 term 36 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
flag 72904 term 36 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
flag 65601 term 36 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
flag 31412 term 36 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248}]
------------------------------------------------------
client write log 6814388394209628227 (index 249) to leader 2
flag 50334 term 36 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
flag 75379 term 36 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 36 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 34 leaderCommit: 247 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248} {6814388394209628227 36 249}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 34 239} {129390165341325646 34 240} {1487151044856978682 34 241} {7683147037397339907 34 242} {82457680622395905 34 243} {773570348109764634 34 244} {8006713959971127698 34 245} {1471051297816384603 34 246} {4331382707811307674 34 247} {6814388394209628227 34 248} {6814388394209628227 36 249}]
------------------------------------------------------
term 36 Server2 start snapshot! index=249
term 36 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 55195 term 36 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 72001 term 36 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
term 36 Server1 start snapshot! index=249
term 36 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 36 Server0 start snapshot! index=249
term 36 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 87230 term 36 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 53008 term 36 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
flag 3387 term 36 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 89762 term 36 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48763 term 36 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 57711 term 36 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
flag 15379 term 36 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 35805 term 36 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26739 term 36 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 45184 term 36 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 249}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8690859084357829965 (index 250) to leader 2
flag 94451 term 36 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
flag 73174 term 36 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 249 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {8690859084357829965 36 250}]
------------------------------------------------------
flag 73337 term 36 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 64675 term 36 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 36 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 36 249} {8690859084357829965 36 250}]
------------------------------------------------------
client write log 84882252449288408 (index 251) to leader 2
client write log 6152471984132093079 (index 252) to leader 2
client write log 3346093680670344132 (index 253) to leader 2
client write log 5119878263975765998 (index 254) to leader 2
client write log 2973673916988016141 (index 255) to leader 2
client write log 2025737067174067296 (index 256) to leader 2
client write log 6332134384570250917 (index 257) to leader 2
client write log 1409118816216605191 (index 258) to leader 2
client write log 703212417977350929 (index 259) to leader 2
client write log 1689826528876138862 (index 260) to leader 2
client write log 663828899507856069 (index 261) to leader 2
client write log 4449396892700528583 (index 262) to leader 2
client write log 8570744620927936940 (index 263) to leader 2
client write log 5269618147306422818 (index 264) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40723 term 36 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 36 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
flag 58289 term 36 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 36 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 36 leaderCommit: 250 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 36 249} {8690859084357829965 36 250} {84882252449288408 36 251} {6152471984132093079 36 252} {3346093680670344132 36 253} {5119878263975765998 36 254} {2973673916988016141 36 255} {2025737067174067296 36 256} {6332134384570250917 36 257} {1409118816216605191 36 258} {703212417977350929 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264}]
------------------------------------------------------
term 36 Server2 start snapshot! index=259
term 36 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=264
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
flag 39261 term 36 leader 2 nextIndex[1]: 265  matchIndex[1]: 264
term 36 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264}]
------------------------------------------------------
term 36 Server1 start snapshot! index=259
term 36 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=264
-------------------------------------------------------------
!!!!!!connect server 0
client write log 158985323598690017 (index 265) to leader 2
term 36 server 1 not vote for server 2, 任期不够新
term 36 server 2 not vote for server 0, 日志不够新
term 36 server 1 not vote for server 0, 日志不够新
term 37 server 2 get outdate rpc reply from server 1
term 38 server 1 vote for server 2
term 38 server 2 get vote from server 1
term 38 server 2 become leader
------------------------------------------------------
term 38 server 0 vote for server 2
term 38 server 2 get outdate rpc reply from server 0
flag 58024 term 38 leader 2 nextIndex[0]: 266  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
flag 61323 term 38 leader 2 nextIndex[1]: 266  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
term 38 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 266->265
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 266->265
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 250  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
flag 12701 term 38 leader 2 nextIndex[1]: 265  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 36 rf.commitIndex 259 rf.lastApplied 259
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68907 term 38 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
flag 35018 term 38 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68356 term 38 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
flag 77996 term 38 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17268 term 38 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
flag 12881 term 38 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
flag 38907 term 38 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
flag 19782 term 38 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
flag 90956 term 38 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
flag 44437 term 38 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
term 38 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
flag 94129 term 38 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
flag 27035 term 38 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
flag 29351 term 38 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
flag 73804 term 38 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
flag 96905 term 38 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
flag 21960 term 38 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
flag 58898 term 38 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
flag 931 term 38 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
flag 22675 term 38 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
flag 64128 term 38 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35407 term 38 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
flag 66040 term 38 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42000 term 38 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
flag 89331 term 38 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:264 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
flag 45915 term 38 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
flag 49621 term 38 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96228 term 38 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
flag 84996 term 38 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57280 term 38 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
flag 14772 term 38 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
flag 92523 term 38 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
flag 92224 term 38 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
flag 26748 term 38 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
flag 17065 term 38 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
flag 70419 term 38 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
flag 15994 term 38 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265}]
------------------------------------------------------
client write log 158985323598690017 (index 266) to leader 2
flag 69678 term 38 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
flag 82434 term 38 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 38 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 36 leaderCommit: 264 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265} {158985323598690017 38 266}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265} {158985323598690017 38 266}]
------------------------------------------------------
flag 15201 term 38 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 71486 term 38 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265} {158985323598690017 38 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265} {158985323598690017 38 266}]
------------------------------------------------------
flag 30259 term 38 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 7050 term 38 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265} {158985323598690017 38 266}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265} {158985323598690017 38 266}]
------------------------------------------------------
flag 9708 term 38 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 34169 term 38 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265} {158985323598690017 38 266}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265} {158985323598690017 38 266}]
------------------------------------------------------
flag 12740 term 38 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 56997 term 38 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265} {158985323598690017 38 266}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265} {158985323598690017 38 266}]
------------------------------------------------------
flag 86225 term 38 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 68268 term 38 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265} {158985323598690017 38 266}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265} {158985323598690017 38 266}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 18506 term 38 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 49701 term 38 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 22030 term 38 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 46434 term 38 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 69655 term 38 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 56366 term 38 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 31267 term 38 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 56000 term 38 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
term 39 server 0 vote for server 1
term 39 server 1 get vote from server 0
term 39 server 1 become leader
------------------------------------------------------
flag 86675 term 39 leader 1 nextIndex[0]: 267  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 2852 term 39 leader 1 nextIndex[2]: 267  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265} {158985323598690017 38 266}]
------------------------------------------------------
client write log 1359468283275670950 (index 267) to leader 1
flag 21025 term 38 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 69676 term 38 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 92335 term 39 leader 1 nextIndex[0]: 267  matchIndex[0]: 266
term 39 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 99567 term 39 leader 1 nextIndex[2]: 267  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265} {158985323598690017 38 266} {1359468283275670950 39 267}]
------------------------------------------------------
flag 34585 term 38 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 77837 term 38 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 4641 term 39 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 65711 term 39 leader 1 nextIndex[2]: 267  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 267 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=268
update matchIndex[0]=267
update leader CommitIndex=267
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265} {158985323598690017 38 266} {1359468283275670950 39 267}]
------------------------------------------------------
client write log 1301226261511703111 (index 268) to leader 1
flag 96666 term 38 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 51567 term 38 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 93244 term 39 leader 1 nextIndex[0]: 268  matchIndex[0]: 267
term 39 leader 1 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 39 leaderCommit: 267 
------------------------------------------------------
flag 31057 term 39 leader 1 nextIndex[2]: 267  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 267 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265} {158985323598690017 38 266} {1359468283275670950 39 267} {1301226261511703111 39 268}]
------------------------------------------------------
flag 8852 term 38 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 73203 term 38 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 8581 term 39 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
flag 50113 term 39 leader 1 nextIndex[2]: 267  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=269
update matchIndex[0]=268
update leader CommitIndex=268
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265} {158985323598690017 38 266} {1359468283275670950 39 267} {1301226261511703111 39 268}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3134376539973805485 (index 269) to leader 1
flag 46519 term 38 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
flag 96034 term 38 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 38 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 38 leaderCommit: 266 
------------------------------------------------------
term 39 server 1 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
term 39 server 0 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 267->266
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90998 term 39 leader 1 nextIndex[0]: 269  matchIndex[0]: 268
term 39 leader 1 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 39 leaderCommit: 268 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
term 39 server 2 InstallSnapshot fail
rf.commitIndex 266 args.LastIncludedIndex 259
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 36 259} {1689826528876138862 36 260} {663828899507856069 36 261} {4449396892700528583 36 262} {8570744620927936940 36 263} {5269618147306422818 36 264} {158985323598690017 36 265} {158985323598690017 38 266} {1359468283275670950 39 267} {1301226261511703111 39 268} {3134376539973805485 39 269}]
------------------------------------------------------
term 39 Server1 start snapshot! index=269
term 39 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42694 term 39 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 39 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 269 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 39 269}]
------------------------------------------------------
term 39 server 2 InstallSnapshot success
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 39 rf.commitIndex 269 rf.lastApplied 269
term 39 Server0 start snapshot! index=269
term 39 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=269
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90696 term 39 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 39 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 269 
------------------------------------------------------
flag 42120 term 39 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 39 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 269 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 39 269}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 39 269}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 270->269
------------------------------------------------------
flag 31241 term 39 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 39 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 269 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 0  matchIndex[2]: 269
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 2 InstallSnapshot fail
rf.commitIndex 269 args.LastIncludedIndex 269
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 39 269}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36358 term 39 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 39 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 269 
------------------------------------------------------
flag 87297 term 39 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 39 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 269 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 39 269}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 39 269}]
------------------------------------------------------
flag 66219 term 39 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 39 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 269 
------------------------------------------------------
flag 21939 term 39 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 39 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 269 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 39 269}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 39 269}]
------------------------------------------------------
flag 77247 term 39 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 39 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 269 
------------------------------------------------------
flag 68206 term 39 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 39 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 269 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=269
leader log:
[{snapshot 39 269}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=269
leader log:
[{snapshot 39 269}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1194850903568188303 (index 270) to leader 1
flag 50275 term 39 leader 1 nextIndex[0]: 270  matchIndex[0]: 269
term 39 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 269 
------------------------------------------------------
flag 35095 term 39 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 39 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 269 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 39 269} {1194850903568188303 39 270}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32956 term 39 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 39 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 39 leaderCommit: 270 
------------------------------------------------------
flag 32379 term 39 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 39 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 270 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 39 269} {1194850903568188303 39 270}]
------------------------------------------------------
client write log 4659611966044530957 (index 271) to leader 1
client write log 110178264031784602 (index 272) to leader 1
client write log 7873376251588301208 (index 273) to leader 1
client write log 4563514271506772184 (index 274) to leader 1
client write log 4418793596084272536 (index 275) to leader 1
client write log 5051738462396539251 (index 276) to leader 1
client write log 7842619216360209251 (index 277) to leader 1
client write log 4799767007991250450 (index 278) to leader 1
client write log 2558957570274261138 (index 279) to leader 1
client write log 8732911502340104266 (index 280) to leader 1
client write log 7607474566955864821 (index 281) to leader 1
flag 78806 term 39 leader 1 nextIndex[0]: 271  matchIndex[0]: 270
term 39 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 39 leaderCommit: 270 
------------------------------------------------------
flag 46516 term 39 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 39 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 39 leaderCommit: 270 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 39 269} {1194850903568188303 39 270} {4659611966044530957 39 271} {110178264031784602 39 272} {7873376251588301208 39 273} {4563514271506772184 39 274} {4418793596084272536 39 275} {5051738462396539251 39 276} {7842619216360209251 39 277} {4799767007991250450 39 278} {2558957570274261138 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281}]
------------------------------------------------------
term 39 Server1 start snapshot! index=279
term 39 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=281
-------------------------------------------------------------
flag 2679 term 39 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 39 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281}]
------------------------------------------------------
term 39 Server0 start snapshot! index=279
term 39 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=281
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8238728735806517965 (index 282) to leader 1
term 39 server 1 not vote for server 2, 日志不够新
term 39 server 0 not vote for server 2, 日志不够新
term 41 server 2 vote for server 1
term 41 server 0 vote for server 1
term 41 server 1 get vote from server 2
term 41 server 1 become leader
------------------------------------------------------
term 41 server 1 get outdate rpc reply from server 0
flag 32674 term 41 leader 1 nextIndex[0]: 283  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 77743 term 41 leader 1 nextIndex[2]: 283  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 41 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 283->282
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 283->282
------------------------------------------------------
flag 60105 term 41 leader 1 nextIndex[0]: 282  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 270  matchIndex[2]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 39
------------------------------------------------------
term 41 server 2 InstallSnapshot success
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 280 matchIndex[2] 279 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 39 rf.commitIndex 279 rf.lastApplied 279
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
flag 64698 term 41 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 84634 term 41 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 41 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17394 term 41 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 63961 term 41 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41993 term 41 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 27473 term 41 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
flag 27279 term 41 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 90452 term 41 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
flag 68880 term 41 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 70978 term 41 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
flag 92581 term 41 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 60923 term 41 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
flag 15443 term 41 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 33685 term 41 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73228 term 41 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 47700 term 41 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83766 term 41 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 9864 term 41 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
flag 73067 term 41 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 5818 term 41 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
term 41 server 2 not vote for server 1, 任期不够新
term 41 server 1 get outdate rpc reply from server 2
flag 91108 term 41 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 35298 term 41 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
flag 27861 term 41 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 38321 term 41 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40066 term 41 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 39803 term 41 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
flag 36006 term 41 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 96238 term 41 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43273 term 41 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 62357 term 41 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
flag 19221 term 41 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 98213 term 41 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
flag 87995 term 41 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 3920 term 41 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=281
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282}]
------------------------------------------------------
client write log 8238728735806517965 (index 283) to leader 1
flag 37612 term 41 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
flag 19491 term 41 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 39 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282} {8238728735806517965 41 283}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282} {8238728735806517965 41 283}]
------------------------------------------------------
flag 57793 term 41 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
flag 81879 term 41 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282} {8238728735806517965 41 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282} {8238728735806517965 41 283}]
------------------------------------------------------
flag 88698 term 41 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
flag 4714 term 41 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282} {8238728735806517965 41 283}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282} {8238728735806517965 41 283}]
------------------------------------------------------
flag 87998 term 41 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
flag 1885 term 41 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282} {8238728735806517965 41 283}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282} {8238728735806517965 41 283}]
------------------------------------------------------
flag 15183 term 41 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
flag 46936 term 41 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282} {8238728735806517965 41 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282} {8238728735806517965 41 283}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76277 term 41 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
flag 37671 term 41 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282} {8238728735806517965 41 283}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282} {8238728735806517965 41 283}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5153381809307869007 (index 284) to leader 1
flag 17123 term 41 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
flag 89031 term 41 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 283 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282} {8238728735806517965 41 283} {5153381809307869007 41 284}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92126 term 41 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 41 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 41 leaderCommit: 284 
------------------------------------------------------
flag 26819 term 41 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 284 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282} {8238728735806517965 41 283} {5153381809307869007 41 284}]
------------------------------------------------------
client write log 840329582839252395 (index 285) to leader 1
client write log 3709041162660976181 (index 286) to leader 1
client write log 8415070607319227939 (index 287) to leader 1
client write log 7522849081326106916 (index 288) to leader 1
client write log 135448152589250660 (index 289) to leader 1
client write log 483747832828696916 (index 290) to leader 1
client write log 3753085247731174205 (index 291) to leader 1
client write log 5237003509036890602 (index 292) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17852 term 41 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 41 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 41 leaderCommit: 284 
------------------------------------------------------
flag 47503 term 41 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 41 leaderCommit: 284 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 39 279} {8732911502340104266 39 280} {7607474566955864821 39 281} {8238728735806517965 39 282} {8238728735806517965 41 283} {5153381809307869007 41 284} {840329582839252395 41 285} {3709041162660976181 41 286} {8415070607319227939 41 287} {7522849081326106916 41 288} {135448152589250660 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292}]
------------------------------------------------------
term 41 Server1 start snapshot! index=289
term 41 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=292
-------------------------------------------------------------
flag 33616 term 41 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 41 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292}]
------------------------------------------------------
term 41 Server0 start snapshot! index=289
term 41 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=292
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2698895391633107858 (index 293) to leader 1
term 41 server 1 not vote for server 2, 日志不够新
term 41 server 0 not vote for server 2, 日志不够新
term 43 server 2 vote for server 1
term 43 server 0 vote for server 1
term 43 server 1 get vote from server 2
term 43 server 1 become leader
------------------------------------------------------
term 43 server 1 get outdate rpc reply from server 0
flag 10304 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 15622 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 294->293
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 294->293
------------------------------------------------------
flag 352 term 43 leader 1 nextIndex[0]: 293  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 284  matchIndex[2]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
term 43 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 41 rf.commitIndex 289 rf.lastApplied 289
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
flag 74333 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 5191 term 43 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
flag 74017 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 44444 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
flag 8667 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 33212 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
flag 40410 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 22150 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35527 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 31841 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
flag 43936 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 9205 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
flag 73619 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 28791 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
flag 91180 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 93928 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51403 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 72867 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
flag 17608 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 20047 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
flag 5355 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 81522 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42060 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 25137 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
flag 57062 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 75032 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
flag 64737 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 24567 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
update nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
flag 51534 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 12321 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
flag 17778 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 98061 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50220 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 15346 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293}]
------------------------------------------------------
client write log 2698895391633107858 (index 294) to leader 1
flag 43077 term 43 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
flag 98330 term 43 leader 1 nextIndex[2]: 294  matchIndex[2]: 293
term 43 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32137 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 27163 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294}]
------------------------------------------------------
flag 49431 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 68681 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17432 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 16993 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294}]
------------------------------------------------------
flag 30424 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 50711 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85474 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 76481 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294}]
------------------------------------------------------
flag 58445 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 46433 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 47882 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 47199 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89586 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 70031 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 39966 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 59351 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 12366 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 40275 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 44 server 2 vote for server 0
term 44 server 0 get vote from server 2
term 44 server 0 become leader
------------------------------------------------------
flag 53920 term 44 leader 0 nextIndex[1]: 295  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 87285 term 44 leader 0 nextIndex[2]: 295  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294}]
------------------------------------------------------
client write log 3271395018031582847 (index 295) to leader 0
flag 48427 term 43 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 15792 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 63425 term 44 leader 0 nextIndex[1]: 295  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 81794 term 44 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 44 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 295->294
------------------------------------------------------
term 43 leader 1 nextIndex[0]: 0  matchIndex[0]: 294
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 407 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 57348 term 44 leader 0 nextIndex[1]: 295  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 295 
------------------------------------------------------
flag 20966 term 44 leader 0 nextIndex[2]: 296  matchIndex[2]: 295
term 44 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295}]
------------------------------------------------------
client write log 3014931733924590264 (index 296) to leader 0
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 43 leader 1 nextIndex[0]: 0  matchIndex[0]: 294
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 94164 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 92253 term 44 leader 0 nextIndex[1]: 295  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 295 
------------------------------------------------------
flag 23070 term 44 leader 0 nextIndex[2]: 296  matchIndex[2]: 295
term 44 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 44 leaderCommit: 295 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
term 43 leader 1 nextIndex[0]: 0  matchIndex[0]: 294
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 18809 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
flag 6815 term 44 leader 0 nextIndex[1]: 295  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 296 
------------------------------------------------------
flag 98862 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
!!!!!!connect server 1
client write log 6735948266971109429 (index 295) to leader 1
term 43 leader 1 nextIndex[0]: 0  matchIndex[0]: 294
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 14258 term 43 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 43 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 294 
------------------------------------------------------
term 44 server 2 AppendEntries false 领导者任期过期 args.Term 43
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 44 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 44 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69060 term 44 leader 0 nextIndex[1]: 295  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 43 leaderCommit: 296 
------------------------------------------------------
flag 47580 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62781 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 52078 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71001 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 65719 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
flag 174 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 39754 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71853 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 46303 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76672 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 98553 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
flag 1649 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 18894 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 1 not vote for server 0, 日志不够新
term 44 server 0 get outdate rpc reply from server 1
flag 41453 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 93704 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
flag 55848 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 71414 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76225 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 86518 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
flag 55085 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 40285 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
flag 35224 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 79300 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
flag 59268 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 68886 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 297->296
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 0  matchIndex[1]: 296
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 64232 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
term 44 server 1 InstallSnapshot fail
rf.commitIndex 296 args.LastIncludedIndex 289
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
flag 78196 term 44 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 44 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 296 
------------------------------------------------------
flag 69266 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
flag 2922 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 87926 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
flag 74893 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 2879 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
flag 33353 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 12312 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
flag 4465 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 23305 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
flag 46448 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 38189 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=296
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296}]
------------------------------------------------------
client write log 6735948266971109429 (index 297) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64552 term 44 leader 0 nextIndex[1]: 297  matchIndex[1]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
flag 93034 term 44 leader 0 nextIndex[2]: 297  matchIndex[2]: 296
term 44 leader 0 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 44 leaderCommit: 296 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296} {6735948266971109429 44 297}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296} {6735948266971109429 44 297}]
------------------------------------------------------
flag 99007 term 44 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
flag 42083 term 44 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296} {6735948266971109429 44 297}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296} {6735948266971109429 44 297}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29747 term 44 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
flag 2561 term 44 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296} {6735948266971109429 44 297}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296} {6735948266971109429 44 297}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65906 term 44 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
flag 50885 term 44 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296} {6735948266971109429 44 297}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296} {6735948266971109429 44 297}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63943 term 44 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
flag 86106 term 44 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296} {6735948266971109429 44 297}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296} {6735948266971109429 44 297}]
------------------------------------------------------
flag 1387 term 44 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
flag 17612 term 44 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296} {6735948266971109429 44 297}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296} {6735948266971109429 44 297}]
------------------------------------------------------
flag 10440 term 44 leader 0 nextIndex[1]: 298  matchIndex[1]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
flag 10834 term 44 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296} {6735948266971109429 44 297}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296} {6735948266971109429 44 297}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8610776284276880448 (index 298) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 298->297
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 0  matchIndex[1]: 297
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 46795 term 44 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 44 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 44 leaderCommit: 297 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296} {6735948266971109429 44 297} {8610776284276880448 44 298}]
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 0  matchIndex[1]: 297
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 37362 term 44 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 44 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 44 leaderCommit: 298 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296} {6735948266971109429 44 297} {8610776284276880448 44 298}]
------------------------------------------------------
client write log 1719876585676809375 (index 299) to leader 0
client write log 2482251899443395333 (index 300) to leader 0
client write log 1761177881489820808 (index 301) to leader 0
client write log 765886024519303531 (index 302) to leader 0
client write log 6645209754090002594 (index 303) to leader 0
client write log 1557586515460348699 (index 304) to leader 0
client write log 5294845310323151734 (index 305) to leader 0
client write log 1235545386120897933 (index 306) to leader 0
client write log 3471158554767399943 (index 307) to leader 0
client write log 5947818175293236199 (index 308) to leader 0
term 44 leader 0 nextIndex[1]: 0  matchIndex[1]: 297
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
flag 98162 term 44 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 44 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 44 leaderCommit: 298 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 41 289} {483747832828696916 41 290} {3753085247731174205 41 291} {5237003509036890602 41 292} {2698895391633107858 41 293} {2698895391633107858 43 294} {3271395018031582847 44 295} {3014931733924590264 44 296} {6735948266971109429 44 297} {8610776284276880448 44 298} {1719876585676809375 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308}]
------------------------------------------------------
term 44 Server0 start snapshot! index=299
term 44 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=308
-------------------------------------------------------------
term 44 leader 0 nextIndex[1]: 0  matchIndex[1]: 297
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
flag 76443 term 44 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 44 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308}]
------------------------------------------------------
term 44 Server2 start snapshot! index=299
term 44 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=308
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4283824498827956666 (index 309) to leader 0
term 45 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 leader 0 nextIndex[1]: 0  matchIndex[1]: 297
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
flag 89334 term 44 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 44 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 45 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 2 vote for server 0
term 46 server 1 vote for server 0
term 46 server 0 get vote from server 1
term 46 server 0 become leader
------------------------------------------------------
term 46 server 0 get outdate rpc reply from server 2
flag 54370 term 46 leader 0 nextIndex[1]: 310  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
flag 9756 term 46 leader 0 nextIndex[2]: 310  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 46 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 310->309
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 298  matchIndex[1]: 0
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 44
------------------------------------------------------
flag 93713 term 46 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
term 46 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
rf.lastIncludedIndex 299 rf.lastIncludedTerm 44 rf.commitIndex 299 rf.lastApplied 299
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67205 term 46 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 46 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
flag 89805 term 46 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78784 term 46 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
flag 27435 term 46 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
term 46 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26027 term 46 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
flag 80579 term 46 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
flag 34092 term 46 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
flag 20177 term 46 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55192 term 46 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
flag 14610 term 46 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
flag 41180 term 46 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
flag 41626 term 46 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
flag 84389 term 46 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
flag 9789 term 46 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
flag 74 term 46 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
flag 80907 term 46 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
flag 16758 term 46 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
flag 17454 term 46 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69861 term 46 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
flag 99133 term 46 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
flag 24550 term 46 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
flag 63866 term 46 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
flag 772 term 46 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
flag 86790 term 46 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
flag 95560 term 46 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
flag 57827 term 46 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
flag 36879 term 46 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
flag 76941 term 46 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
term 46 server 0 not vote for server 1, 任期不够新
term 46 server 1 get outdate rpc reply from server 0
flag 25576 term 46 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
flag 51896 term 46 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51144 term 46 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
flag 18542 term 46 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87391 term 46 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
flag 42898 term 46 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=308
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309}]
------------------------------------------------------
client write log 4283824498827956666 (index 310) to leader 0
term 46 server 2 not vote for server 1, 任期不够新
term 46 server 1 get outdate rpc reply from server 2
flag 30324 term 46 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
flag 18909 term 46 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 46 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 44 leaderCommit: 308 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309} {4283824498827956666 46 310}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 299} {2482251899443395333 44 300} {1761177881489820808 44 301} {765886024519303531 44 302} {6645209754090002594 44 303} {1557586515460348699 44 304} {5294845310323151734 44 305} {1235545386120897933 44 306} {3471158554767399943 44 307} {5947818175293236199 44 308} {4283824498827956666 44 309} {4283824498827956666 46 310}]
------------------------------------------------------
term 46 Server0 start snapshot! index=309
term 46 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=310
-------------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22333 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 64916 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {4283824498827956666 46 310}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {4283824498827956666 46 310}]
------------------------------------------------------
term 46 Server1 start snapshot! index=309
term 46 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=310
-------------------------------------------------------------
term 46 Server2 start snapshot! index=309
term 46 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=310
-------------------------------------------------------------
flag 55947 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 94283 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {4283824498827956666 46 310}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {4283824498827956666 46 310}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17380 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 81140 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {4283824498827956666 46 310}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {4283824498827956666 46 310}]
------------------------------------------------------
flag 82853 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 30951 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {4283824498827956666 46 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {4283824498827956666 46 310}]
------------------------------------------------------
flag 82151 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 86530 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {4283824498827956666 46 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 44 309} {4283824498827956666 46 310}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6067501248235073214 (index 311) to leader 0
flag 53327 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
flag 86217 term 46 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 310 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 44 309} {4283824498827956666 46 310} {6067501248235073214 46 311}]
------------------------------------------------------
flag 39963 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 82732 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 44 309} {4283824498827956666 46 310} {6067501248235073214 46 311}]
------------------------------------------------------
client write log 3323855282858602976 (index 312) to leader 0
client write log 623884997344918257 (index 313) to leader 0
client write log 7736346448551988378 (index 314) to leader 0
client write log 8966603459589598892 (index 315) to leader 0
client write log 5075241102416272332 (index 316) to leader 0
client write log 3763214416908519805 (index 317) to leader 0
client write log 104054038690533545 (index 318) to leader 0
client write log 119045188451583149 (index 319) to leader 0
client write log 5479205149623518012 (index 320) to leader 0
client write log 646524503488511956 (index 321) to leader 0
client write log 5367866274809491312 (index 322) to leader 0
client write log 3365002855014266162 (index 323) to leader 0
client write log 1623855059423135017 (index 324) to leader 0
client write log 787977681396945655 (index 325) to leader 0
client write log 4130807760351071208 (index 326) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67810 term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 92689 term 46 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 46 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 44 309} {4283824498827956666 46 310} {6067501248235073214 46 311} {3323855282858602976 46 312} {623884997344918257 46 313} {7736346448551988378 46 314} {8966603459589598892 46 315} {5075241102416272332 46 316} {3763214416908519805 46 317} {104054038690533545 46 318} {119045188451583149 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326}]
------------------------------------------------------
term 46 Server0 start snapshot! index=319
term 46 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=326
-------------------------------------------------------------
term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
flag 99112 term 46 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 46 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326}]
------------------------------------------------------
term 46 Server2 start snapshot! index=319
term 46 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=326
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6524839911883934341 (index 327) to leader 0
term 46 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
flag 1532 term 46 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 46 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326} {6524839911883934341 46 327}]
------------------------------------------------------
term 47 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 server 1 vote for server 0
term 48 server 0 get vote from server 1
term 48 server 0 become leader
------------------------------------------------------
term 48 server 2 vote for server 0
term 48 server 0 get outdate rpc reply from server 2
flag 5100 term 48 leader 0 nextIndex[1]: 328  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
flag 63192 term 48 leader 0 nextIndex[2]: 328  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 328->327
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326} {6524839911883934341 46 327}]
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 311  matchIndex[1]: 0
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
flag 35999 term 48 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326} {6524839911883934341 46 327}]
------------------------------------------------------
term 48 server 1 InstallSnapshot success
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 46 rf.commitIndex 319 rf.lastApplied 319
flag 86663 term 48 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 48 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
flag 13420 term 48 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326} {6524839911883934341 46 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326} {6524839911883934341 46 327}]
------------------------------------------------------
flag 50041 term 48 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
flag 13058 term 48 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326} {6524839911883934341 46 327}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326} {6524839911883934341 46 327}]
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95818 term 48 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
flag 53215 term 48 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326} {6524839911883934341 46 327}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326} {6524839911883934341 46 327}]
------------------------------------------------------
flag 53763 term 48 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
flag 34119 term 48 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326} {6524839911883934341 46 327}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326} {6524839911883934341 46 327}]
------------------------------------------------------
flag 43363 term 48 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
flag 71982 term 48 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326} {6524839911883934341 46 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326} {6524839911883934341 46 327}]
------------------------------------------------------
flag 1764 term 48 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
flag 57934 term 48 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326} {6524839911883934341 46 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326} {6524839911883934341 46 327}]
------------------------------------------------------
flag 89651 term 48 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
flag 45980 term 48 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326} {6524839911883934341 46 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326} {6524839911883934341 46 327}]
------------------------------------------------------
!!!!!!diconnect server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75534 term 48 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
flag 10228 term 48 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
flag 8509 term 48 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
flag 90102 term 48 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
flag 82455 term 48 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
flag 38780 term 48 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
term 49 server 2 vote for server 1
term 49 server 1 get vote from server 2
term 49 server 1 become leader
------------------------------------------------------
flag 11856 term 49 leader 1 nextIndex[0]: 328  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
flag 48849 term 49 leader 1 nextIndex[2]: 328  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326} {6524839911883934341 46 327}]
------------------------------------------------------
flag 6689 term 48 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
flag 52916 term 48 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
client write log 839820644651189839 (index 328) to leader 1
flag 6581 term 49 leader 1 nextIndex[0]: 328  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
flag 60013 term 49 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 49 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326} {6524839911883934341 46 327} {839820644651189839 49 328}]
------------------------------------------------------
flag 4584 term 48 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
flag 49521 term 48 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
flag 35868 term 49 leader 1 nextIndex[0]: 328  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 60360 term 49 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 49 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 49 leaderCommit: 328 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326} {6524839911883934341 46 327} {839820644651189839 49 328}]
------------------------------------------------------
flag 84447 term 48 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
flag 7456 term 48 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
client write log 7975016963992587553 (index 329) to leader 1
client write log 3960375415098937729 (index 330) to leader 1
client write log 8674476051579565699 (index 331) to leader 1
client write log 1517446479677902858 (index 332) to leader 1
client write log 1871621332538163305 (index 333) to leader 1
client write log 3000403606998746999 (index 334) to leader 1
client write log 5528061220471523002 (index 335) to leader 1
client write log 4346442835959408030 (index 336) to leader 1
client write log 8096698705250147697 (index 337) to leader 1
client write log 5137547525930589436 (index 338) to leader 1
client write log 6517417149462711317 (index 339) to leader 1
client write log 1908985654127393547 (index 340) to leader 1
client write log 8320323605725687119 (index 341) to leader 1
client write log 2827069324233633616 (index 342) to leader 1
flag 91541 term 49 leader 1 nextIndex[0]: 328  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 328 
------------------------------------------------------
flag 92140 term 49 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 49 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 49 leaderCommit: 328 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 46 319} {5479205149623518012 46 320} {646524503488511956 46 321} {5367866274809491312 46 322} {3365002855014266162 46 323} {1623855059423135017 46 324} {787977681396945655 46 325} {4130807760351071208 46 326} {6524839911883934341 46 327} {839820644651189839 49 328} {7975016963992587553 49 329} {3960375415098937729 49 330} {8674476051579565699 49 331} {1517446479677902858 49 332} {1871621332538163305 49 333} {3000403606998746999 49 334} {5528061220471523002 49 335} {4346442835959408030 49 336} {8096698705250147697 49 337} {5137547525930589436 49 338} {6517417149462711317 49 339} {1908985654127393547 49 340} {8320323605725687119 49 341} {2827069324233633616 49 342}]
------------------------------------------------------
term 49 Server1 start snapshot! index=329
term 49 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=342
-------------------------------------------------------------
term 49 Server1 start snapshot! index=339
term 49 server1 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=342
-------------------------------------------------------------
flag 45314 term 48 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
flag 2809 term 48 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
term 49 leader 1 nextIndex[0]: 328  matchIndex[0]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
flag 76720 term 49 leader 1 nextIndex[2]: 343  matchIndex[2]: 342
term 49 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 49 leaderCommit: 342 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 49 339} {1908985654127393547 49 340} {8320323605725687119 49 341} {2827069324233633616 49 342}]
------------------------------------------------------
term 49 Server2 start snapshot! index=329
term 49 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=342
-------------------------------------------------------------
term 49 Server2 start snapshot! index=339
term 49 server2 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=342
-------------------------------------------------------------
flag 54494 term 48 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
flag 11688 term 48 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 327 
------------------------------------------------------
!!!!!!connect server 0
client write log 1132060761483145006 (index 343) to leader 1
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 leader 1 nextIndex[0]: 328  matchIndex[0]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
flag 14439 term 49 leader 1 nextIndex[2]: 343  matchIndex[2]: 342
term 49 leader 1 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 49 leaderCommit: 342 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {1908985654127393547 49 340} {8320323605725687119 49 341} {2827069324233633616 49 342} {1132060761483145006 49 343}]
------------------------------------------------------
term 49 server 0 InstallSnapshot success
------------------------------------------------------
term 49 leader 1 -> server 0 sendInstallSnapshot success
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 49 rf.commitIndex 339 rf.lastApplied 339
nextIndex[0] 340 matchIndex[0] 339 
------------------------------------------------------------------------
flag 49021 term 49 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 49 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 903 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {1908985654127393547 49 340} {8320323605725687119 49 341} {2827069324233633616 49 342} {1132060761483145006 49 343}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {1908985654127393547 49 340} {8320323605725687119 49 341} {2827069324233633616 49 342} {1132060761483145006 49 343}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 344->343
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 leader 1 nextIndex[0]: 0  matchIndex[0]: 343
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 49
------------------------------------------------------
flag 55755 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
term 49 server 0 InstallSnapshot fail
rf.commitIndex 339 args.LastIncludedIndex 339
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {1908985654127393547 49 340} {8320323605725687119 49 341} {2827069324233633616 49 342} {1132060761483145006 49 343}]
------------------------------------------------------
term 49 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 340 matchIndex[0] 339 
------------------------------------------------------------------------
flag 92359 term 49 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 49 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 23616 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
term 49 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
[{snapshot 49 339} {1908985654127393547 49 340} {8320323605725687119 49 341} {2827069324233633616 49 342} {1132060761483145006 49 343}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {1908985654127393547 49 340} {8320323605725687119 49 341} {2827069324233633616 49 342} {1132060761483145006 49 343}]
------------------------------------------------------
flag 4681 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 79385 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {1908985654127393547 49 340} {8320323605725687119 49 341} {2827069324233633616 49 342} {1132060761483145006 49 343}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {1908985654127393547 49 340} {8320323605725687119 49 341} {2827069324233633616 49 342} {1132060761483145006 49 343}]
------------------------------------------------------
flag 57999 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 87238 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {1908985654127393547 49 340} {8320323605725687119 49 341} {2827069324233633616 49 342} {1132060761483145006 49 343}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {1908985654127393547 49 340} {8320323605725687119 49 341} {2827069324233633616 49 342} {1132060761483145006 49 343}]
------------------------------------------------------
flag 57144 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 97986 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {1908985654127393547 49 340} {8320323605725687119 49 341} {2827069324233633616 49 342} {1132060761483145006 49 343}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {1908985654127393547 49 340} {8320323605725687119 49 341} {2827069324233633616 49 342} {1132060761483145006 49 343}]
------------------------------------------------------
flag 58676 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 86081 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {1908985654127393547 49 340} {8320323605725687119 49 341} {2827069324233633616 49 342} {1132060761483145006 49 343}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {1908985654127393547 49 340} {8320323605725687119 49 341} {2827069324233633616 49 342} {1132060761483145006 49 343}]
------------------------------------------------------
flag 70324 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 59859 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {1908985654127393547 49 340} {8320323605725687119 49 341} {2827069324233633616 49 342} {1132060761483145006 49 343}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=344
update matchIndex[0]=343
update leader CommitIndex=343
leader log:
[{snapshot 49 339} {1908985654127393547 49 340} {8320323605725687119 49 341} {2827069324233633616 49 342} {1132060761483145006 49 343}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8732626547101312866 (index 344) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38280 term 49 leader 1 nextIndex[0]: 344  matchIndex[0]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
flag 87064 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 343 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {1908985654127393547 49 340} {8320323605725687119 49 341} {2827069324233633616 49 342} {1132060761483145006 49 343} {8732626547101312866 49 344}]
------------------------------------------------------
term 49 server 0 not vote for server 1, 任期不够新
term 49 server 1 get outdate rpc reply from server 0
flag 78770 term 49 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 28079 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=345
update matchIndex[0]=344
update leader CommitIndex=344
leader log:
[{snapshot 49 339} {1908985654127393547 49 340} {8320323605725687119 49 341} {2827069324233633616 49 342} {1132060761483145006 49 343} {8732626547101312866 49 344}]
------------------------------------------------------
client write log 384784225438564397 (index 345) to leader 1
client write log 8943655338341624069 (index 346) to leader 1
client write log 8140474554361211781 (index 347) to leader 1
client write log 1897295588406538603 (index 348) to leader 1
client write log 6216175145720155585 (index 349) to leader 1
client write log 7589511361590705516 (index 350) to leader 1
client write log 2961674034292493138 (index 351) to leader 1
client write log 310226194241377879 (index 352) to leader 1
client write log 3829897376983404014 (index 353) to leader 1
client write log 6820961327507141298 (index 354) to leader 1
client write log 1120266247669421987 (index 355) to leader 1
client write log 2493078608869230208 (index 356) to leader 1
client write log 3375656219513006672 (index 357) to leader 1
flag 27680 term 49 leader 1 nextIndex[0]: 345  matchIndex[0]: 344
term 49 leader 1 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
flag 159 term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 49 leaderCommit: 344 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 49 339} {1908985654127393547 49 340} {8320323605725687119 49 341} {2827069324233633616 49 342} {1132060761483145006 49 343} {8732626547101312866 49 344} {384784225438564397 49 345} {8943655338341624069 49 346} {8140474554361211781 49 347} {1897295588406538603 49 348} {6216175145720155585 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357}]
------------------------------------------------------
term 49 Server1 start snapshot! index=349
term 49 server1 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=357
-------------------------------------------------------------
flag 91511 term 49 leader 1 nextIndex[0]: 358  matchIndex[0]: 357
term 49 leader 1 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 344  matchIndex[2]: 343
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=358
update matchIndex[0]=357
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357}]
------------------------------------------------------
term 49 Server0 start snapshot! index=349
term 49 server0 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=357
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5375489117164666610 (index 358) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 49 server 1 not vote for server 2, 日志不够新
term 49 server 0 not vote for server 2, 日志不够新
term 51 server 2 vote for server 1
term 51 server 0 vote for server 1
term 51 server 1 get vote from server 2
term 51 server 1 become leader
------------------------------------------------------
term 51 server 1 get outdate rpc reply from server 0
flag 24326 term 51 leader 1 nextIndex[0]: 359  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
flag 51012 term 51 leader 1 nextIndex[2]: 359  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
term 51 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 359->358
------------------------------------------------------
term 51 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 359->358
------------------------------------------------------
flag 56672 term 51 leader 1 nextIndex[0]: 358  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 344  matchIndex[2]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 49
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
term 51 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 49 rf.commitIndex 349 rf.lastApplied 349
term 51 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 350 matchIndex[2] 349 
------------------------------------------------------------------------
flag 83438 term 51 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
flag 70906 term 51 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 51 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
flag 88781 term 51 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
flag 3897 term 51 leader 1 nextIndex[2]: 359  matchIndex[2]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
flag 98777 term 51 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
flag 49174 term 51 leader 1 nextIndex[2]: 359  matchIndex[2]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76654 term 51 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
flag 8247 term 51 leader 1 nextIndex[2]: 359  matchIndex[2]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83247 term 51 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
flag 69414 term 51 leader 1 nextIndex[2]: 359  matchIndex[2]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15799 term 51 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
flag 55352 term 51 leader 1 nextIndex[2]: 359  matchIndex[2]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63724 term 51 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
flag 42970 term 51 leader 1 nextIndex[2]: 359  matchIndex[2]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75852 term 51 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
flag 93489 term 51 leader 1 nextIndex[2]: 359  matchIndex[2]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:357 
term 51 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
term 51 server 2 not vote for server 1, 任期不够新
term 51 server 1 get outdate rpc reply from server 2
flag 27629 term 51 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
flag 96735 term 51 leader 1 nextIndex[2]: 359  matchIndex[2]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
flag 22957 term 51 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
flag 958 term 51 leader 1 nextIndex[2]: 359  matchIndex[2]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
flag 95554 term 51 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
flag 8127 term 51 leader 1 nextIndex[2]: 359  matchIndex[2]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
flag 46297 term 51 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
flag 89439 term 51 leader 1 nextIndex[2]: 359  matchIndex[2]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:357 
term 51 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
term 51 server 0 not vote for server 1, 任期不够新
term 51 server 1 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84861 term 51 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
flag 76079 term 51 leader 1 nextIndex[2]: 359  matchIndex[2]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
term 51 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
flag 96842 term 51 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
flag 38706 term 51 leader 1 nextIndex[2]: 359  matchIndex[2]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
flag 5747 term 51 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
flag 67766 term 51 leader 1 nextIndex[2]: 359  matchIndex[2]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
flag 81639 term 51 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
flag 12358 term 51 leader 1 nextIndex[2]: 359  matchIndex[2]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46831 term 51 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
flag 38716 term 51 leader 1 nextIndex[2]: 359  matchIndex[2]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
flag 2842 term 51 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
flag 19695 term 51 leader 1 nextIndex[2]: 359  matchIndex[2]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=359
update matchIndex[0]=358
update leader CommitIndex=357
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358}]
------------------------------------------------------
client write log 5375489117164666610 (index 359) to leader 1
flag 50577 term 51 leader 1 nextIndex[0]: 359  matchIndex[0]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
flag 29652 term 51 leader 1 nextIndex[2]: 359  matchIndex[2]: 358
term 51 leader 1 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 49 leaderCommit: 357 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358} {5375489117164666610 51 359}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=359
leader log:
[{snapshot 49 349} {7589511361590705516 49 350} {2961674034292493138 49 351} {310226194241377879 49 352} {3829897376983404014 49 353} {6820961327507141298 49 354} {1120266247669421987 49 355} {2493078608869230208 49 356} {3375656219513006672 49 357} {5375489117164666610 49 358} {5375489117164666610 51 359}]
------------------------------------------------------
term 51 Server1 start snapshot! index=359
term 51 server1 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
flag 48817 term 51 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 51 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 359 
------------------------------------------------------
flag 40572 term 51 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 51 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 359 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 51 359}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=359
leader log:
[{snapshot 51 359}]
------------------------------------------------------
term 51 Server2 start snapshot! index=359
term 51 server2 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
term 51 Server0 start snapshot! index=359
term 51 server0 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
flag 69967 term 51 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 51 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 359 
------------------------------------------------------
flag 84532 term 51 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 51 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 359 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 51 359}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=359
leader log:
[{snapshot 51 359}]
------------------------------------------------------
flag 59302 term 51 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 51 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 359 
------------------------------------------------------
flag 58380 term 51 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 51 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 359 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 51 359}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=359
leader log:
[{snapshot 51 359}]
------------------------------------------------------
flag 24456 term 51 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 51 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 359 
------------------------------------------------------
flag 41086 term 51 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 51 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 359 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 51 359}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=359
leader log:
[{snapshot 51 359}]
------------------------------------------------------
flag 23361 term 51 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 51 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 359 
------------------------------------------------------
flag 26690 term 51 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 51 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 359 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 51 359}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=359
leader log:
[{snapshot 51 359}]
------------------------------------------------------
flag 13425 term 51 leader 1 nextIndex[0]: 360  matchIndex[0]: 359
term 51 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 359 
------------------------------------------------------
flag 43669 term 51 leader 1 nextIndex[2]: 360  matchIndex[2]: 359
term 51 leader 1 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 51 leaderCommit: 359 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 51 359}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=360
update matchIndex[0]=359
update leader CommitIndex=359
leader log:
[{snapshot 51 359}]
------------------------------------------------------
  ... Passed --  75.3  3 1733  790476  359
--- PASS: TestSnapshotInstall2D (75.28s)
PASS
