=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 0 vote for server 2
term 1 server 2 get vote from server 0
term 1 server 2 become leader
------------------------------------------------------
term 1 server 2 get outdate rpc reply from server 1
flag 86509 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 49004 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 5489357850527992873 (index 1) to leader 2
flag 72025 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 51866 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5489357850527992873 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5489357850527992873 1 1}]
------------------------------------------------------
flag 8930 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 64595 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5489357850527992873 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5489357850527992873 1 1}]
------------------------------------------------------
flag 88040 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 37895 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5489357850527992873 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5489357850527992873 1 1}]
------------------------------------------------------
flag 15374 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 30679 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5489357850527992873 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5489357850527992873 1 1}]
------------------------------------------------------
flag 36903 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 3879 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5489357850527992873 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5489357850527992873 1 1}]
------------------------------------------------------
flag 52597 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 8397 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
[{<nil> 0 0} {5489357850527992873 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5489357850527992873 1 1}]
------------------------------------------------------
flag 8364 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 43333 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5489357850527992873 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5489357850527992873 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3790994231999869666 (index 2) to leader 2
flag 44366 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 36929 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {5489357850527992873 1 1} {3790994231999869666 1 2}]
------------------------------------------------------
flag 73013 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 8139 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {5489357850527992873 1 1} {3790994231999869666 1 2}]
------------------------------------------------------
client write log 7150737590472783503 (index 3) to leader 2
client write log 3287791815884753189 (index 4) to leader 2
client write log 3919712923137632783 (index 5) to leader 2
client write log 70237299632851573 (index 6) to leader 2
client write log 2819933185292351812 (index 7) to leader 2
client write log 6672839091080155974 (index 8) to leader 2
client write log 2716718607017256203 (index 9) to leader 2
client write log 58935904007732165 (index 10) to leader 2
client write log 6797140563894432537 (index 11) to leader 2
client write log 8492359383612905976 (index 12) to leader 2
client write log 3450682334510581985 (index 13) to leader 2
client write log 6971117471909214703 (index 14) to leader 2
client write log 7362257879096285043 (index 15) to leader 2
client write log 7643421055107983245 (index 16) to leader 2
client write log 6514943265847385016 (index 17) to leader 2
flag 68434 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 8498 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{<nil> 0 0} {5489357850527992873 1 1} {3790994231999869666 1 2} {7150737590472783503 1 3} {3287791815884753189 1 4} {3919712923137632783 1 5} {70237299632851573 1 6} {2819933185292351812 1 7} {6672839091080155974 1 8} {2716718607017256203 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=17
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 69127 term 1 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 1 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=17
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3276451448568103687 (index 18) to leader 2
term 1 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 27642 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 9830 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 19->18
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 19->18
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 58863 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 31363 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 9938 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
flag 15869 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 93572 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
flag 64162 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 74969 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
flag 95222 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 32704 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
flag 20188 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 81193 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
flag 52677 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 53187 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29516 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 39673 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
flag 85215 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 89142 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
flag 65351 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 50657 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
flag 12297 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 37269 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
flag 23506 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 72499 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
flag 54148 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 87365 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
flag 94721 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 26220 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95056 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 55532 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
flag 2341 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 30665 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
flag 57324 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 90290 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
flag 25509 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 42710 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
flag 94567 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 23290 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18}]
------------------------------------------------------
client write log 3276451448568103687 (index 19) to leader 2
flag 94299 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 44111 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18} {3276451448568103687 3 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {58935904007732165 1 10} {6797140563894432537 1 11} {8492359383612905976 1 12} {3450682334510581985 1 13} {6971117471909214703 1 14} {7362257879096285043 1 15} {7643421055107983245 1 16} {6514943265847385016 1 17} {3276451448568103687 1 18} {3276451448568103687 3 19}]
------------------------------------------------------
term 3 Server2 start snapshot! index=19
term 3 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 28688 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 10966 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 Server1 start snapshot! index=19
term 3 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 3 Server0 start snapshot! index=19
term 3 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 49873 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 11967 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 92058 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 69534 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 80445 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 90502 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 48791 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 28660 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 33004 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 1545 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 65607 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 16440 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 42575 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 37267 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 72687 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 21775 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 1
term 4 server 0 become leader
------------------------------------------------------
flag 16561 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 44276 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
client write log 8599373124897391353 (index 20) to leader 0
flag 91972 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 56244 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 84208 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 30367 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 3 19} {8599373124897391353 4 20}]
------------------------------------------------------
flag 33738 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 81713 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 10085 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 68068 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 3 19} {8599373124897391353 4 20}]
------------------------------------------------------
client write log 4853116843149146761 (index 21) to leader 0
client write log 3774584934701249620 (index 22) to leader 0
client write log 5021389064108084901 (index 23) to leader 0
client write log 1726756790212879494 (index 24) to leader 0
client write log 3030390929738067347 (index 25) to leader 0
client write log 5283560819309242571 (index 26) to leader 0
client write log 8212433367186412277 (index 27) to leader 0
client write log 7873069844403409171 (index 28) to leader 0
client write log 7255022722286830224 (index 29) to leader 0
client write log 8538095757946831071 (index 30) to leader 0
client write log 240483946345530702 (index 31) to leader 0
client write log 4334617703592051426 (index 32) to leader 0
client write log 7304056167137848651 (index 33) to leader 0
flag 29624 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 86723 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48781 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 27236 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 19} {8599373124897391353 4 20} {4853116843149146761 4 21} {3774584934701249620 4 22} {5021389064108084901 4 23} {1726756790212879494 4 24} {3030390929738067347 4 25} {5283560819309242571 4 26} {8212433367186412277 4 27} {7873069844403409171 4 28} {7255022722286830224 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=33
-------------------------------------------------------------
flag 17468 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 99901 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 43323 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=33
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8384765923483331852 (index 20) to leader 2
flag 90575 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 55050 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 20->19
------------------------------------------------------
flag 79248 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 4 server 2 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
flag 6062 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 17790 term 4 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22235 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 84852 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
flag 5842 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 25702 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
flag 1481 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 7999 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
flag 13193 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 14382 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
flag 67743 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 32564 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
flag 84697 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 30783 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63060 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 19717 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
flag 76136 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 60462 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
flag 56056 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 99383 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
flag 19064 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 39068 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
flag 66930 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 26956 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 34->33
------------------------------------------------------
flag 65128 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 33
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 33 args.LastIncludedIndex 29
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
flag 73715 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 68404 term 4 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
flag 97075 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 82799 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33989 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 74791 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
flag 71973 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 30320 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
flag 24105 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 8050 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
flag 99508 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 5140 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=34
update matchIndex[1]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33}]
------------------------------------------------------
client write log 8384765923483331852 (index 34) to leader 0
flag 73560 term 4 leader 0 nextIndex[1]: 34  matchIndex[1]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
flag 16604 term 4 leader 0 nextIndex[2]: 34  matchIndex[2]: 33
term 4 leader 0 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 4 leaderCommit: 33 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:33 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33} {8384765923483331852 4 34}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33} {8384765923483331852 4 34}]
------------------------------------------------------
flag 9717 term 4 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 54445 term 4 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33} {8384765923483331852 4 34}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33} {8384765923483331852 4 34}]
------------------------------------------------------
flag 72557 term 4 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 43096 term 4 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33} {8384765923483331852 4 34}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33} {8384765923483331852 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25280 term 4 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 58036 term 4 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33} {8384765923483331852 4 34}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33} {8384765923483331852 4 34}]
------------------------------------------------------
flag 76139 term 4 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 35407 term 4 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33} {8384765923483331852 4 34}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33} {8384765923483331852 4 34}]
------------------------------------------------------
flag 19363 term 4 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 56838 term 4 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33} {8384765923483331852 4 34}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33} {8384765923483331852 4 34}]
------------------------------------------------------
flag 94899 term 4 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 60163 term 4 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33} {8384765923483331852 4 34}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33} {8384765923483331852 4 34}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 752403109617067117 (index 35) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60663 term 4 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 92460 term 4 leader 0 nextIndex[2]: 35  matchIndex[2]: 34
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33} {8384765923483331852 4 34} {752403109617067117 4 35}]
------------------------------------------------------
flag 81130 term 4 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 32935 term 4 leader 0 nextIndex[2]: 36  matchIndex[2]: 35
term 4 leader 0 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33} {8384765923483331852 4 34} {752403109617067117 4 35}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 36->35
------------------------------------------------------
client write log 2325624142415817739 (index 36) to leader 0
client write log 7970669150858653261 (index 37) to leader 0
client write log 2106834011105261520 (index 38) to leader 0
client write log 8283607517844889797 (index 39) to leader 0
client write log 4279754388966537278 (index 40) to leader 0
client write log 3614649487496446789 (index 41) to leader 0
client write log 8583079229699480370 (index 42) to leader 0
client write log 6788622727291709500 (index 43) to leader 0
flag 14443 term 4 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 35
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 35 args.LastIncludedIndex 29
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
flag 75829 term 4 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 0 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
flag 30817 term 4 leader 0 nextIndex[2]: 30  matchIndex[2]: 29
term 4 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 35 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 29} {8538095757946831071 4 30} {240483946345530702 4 31} {4334617703592051426 4 32} {7304056167137848651 4 33} {8384765923483331852 4 34} {752403109617067117 4 35} {2325624142415817739 4 36} {7970669150858653261 4 37} {2106834011105261520 4 38} {8283607517844889797 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43}]
------------------------------------------------------
term 4 Server0 start snapshot! index=39
term 4 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=43
-------------------------------------------------------------
term 4 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
flag 38581 term 4 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 4 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43}]
------------------------------------------------------
term 4 Server2 start snapshot! index=39
term 4 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=43
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1705446963679135546 (index 44) to leader 0
term 4 leader 0 nextIndex[1]: 35  matchIndex[1]: 34
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
flag 14720 term 4 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 4 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 5 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 5 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 2 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 1 vote for server 0
term 6 server 0 become leader
------------------------------------------------------
term 6 server 0 get outdate rpc reply from server 1
flag 25944 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 49825 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 45->44
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 35  matchIndex[1]: 0
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
flag 61753 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 6 server 1 InstallSnapshot success
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 4 rf.commitIndex 39 rf.lastApplied 39
flag 28082 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 71809 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
flag 51328 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 16495 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
flag 34202 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 74565 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4669 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 38857 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
flag 77044 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 46222 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41925 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 76162 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
flag 13456 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 84027 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
flag 24634 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 75445 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
flag 60628 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 48071 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
flag 17921 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 3114 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
flag 52793 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 4503 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84642 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 90516 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
flag 18597 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 27026 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
term 6 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11016 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 8193 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4401 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 31362 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94762 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 36547 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
flag 60969 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 48513 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44}]
------------------------------------------------------
client write log 1705446963679135546 (index 45) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32722 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 92963 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44} {1705446963679135546 6 45}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44} {1705446963679135546 6 45}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15006 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
flag 58538 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44} {1705446963679135546 6 45}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44} {1705446963679135546 6 45}]
------------------------------------------------------
flag 66118 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
flag 82882 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44} {1705446963679135546 6 45}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44} {1705446963679135546 6 45}]
------------------------------------------------------
flag 1008 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
flag 58229 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44} {1705446963679135546 6 45}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44} {1705446963679135546 6 45}]
------------------------------------------------------
flag 82548 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
flag 49381 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44} {1705446963679135546 6 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44} {1705446963679135546 6 45}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78617 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
flag 88750 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44} {1705446963679135546 6 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44} {1705446963679135546 6 45}]
------------------------------------------------------
flag 65718 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
flag 46669 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44} {1705446963679135546 6 45}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44} {1705446963679135546 6 45}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1907237176670757881 (index 46) to leader 0
flag 68319 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
flag 53398 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44} {1705446963679135546 6 45} {1907237176670757881 6 46}]
------------------------------------------------------
flag 93935 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 62325 term 6 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 6 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44} {1705446963679135546 6 45} {1907237176670757881 6 46}]
------------------------------------------------------
client write log 4480389197952333625 (index 47) to leader 0
client write log 6518367351478771881 (index 48) to leader 0
client write log 1646193203642145067 (index 49) to leader 0
client write log 2283247956244527499 (index 50) to leader 0
client write log 6019460175909932313 (index 51) to leader 0
client write log 1550488099498626006 (index 52) to leader 0
client write log 8686535604116975002 (index 53) to leader 0
client write log 8962987437544037039 (index 54) to leader 0
client write log 7756774037039140409 (index 55) to leader 0
client write log 5083666709729614507 (index 56) to leader 0
client write log 8017718924318654727 (index 57) to leader 0
flag 31245 term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 89570 term 6 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 6 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 4 39} {4279754388966537278 4 40} {3614649487496446789 4 41} {8583079229699480370 4 42} {6788622727291709500 4 43} {1705446963679135546 4 44} {1705446963679135546 6 45} {1907237176670757881 6 46} {4480389197952333625 6 47} {6518367351478771881 6 48} {1646193203642145067 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57}]
------------------------------------------------------
term 6 Server0 start snapshot! index=49
term 6 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=57
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 23558 term 6 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 6 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57}]
------------------------------------------------------
term 6 Server2 start snapshot! index=49
term 6 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=57
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 3810461221860566449 (index 58) to leader 0
term 6 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 65704 term 6 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 6 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 7 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 not vote for server 1, 日志不够新
term 8 server 2 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 1 vote for server 0
term 8 server 0 get outdate rpc reply from server 1
term 8 server 2 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 2
flag 94292 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 11491 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 59->58
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 46  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 28740 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 6 rf.commitIndex 49 rf.lastApplied 49
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
flag 88072 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 38653 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10349 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 38524 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
flag 96325 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 50590 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
flag 67279 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 70310 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
flag 42239 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 79598 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
flag 25787 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 40472 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
flag 90609 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 82251 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
flag 90504 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 26288 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
flag 27830 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 46175 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
flag 4754 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 82264 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
flag 66173 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 67377 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64028 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 36460 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
flag 84666 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 74299 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
flag 79571 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 40746 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
term 8 server 0 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 0
flag 26735 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 53783 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
flag 2594 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 60517 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
flag 52620 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 39272 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58}]
------------------------------------------------------
client write log 3810461221860566449 (index 59) to leader 0
flag 96695 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
flag 85982 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58} {3810461221860566449 8 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 6 49} {2283247956244527499 6 50} {6019460175909932313 6 51} {1550488099498626006 6 52} {8686535604116975002 6 53} {8962987437544037039 6 54} {7756774037039140409 6 55} {5083666709729614507 6 56} {8017718924318654727 6 57} {3810461221860566449 6 58} {3810461221860566449 8 59}]
------------------------------------------------------
term 8 Server0 start snapshot! index=59
term 8 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 22155 term 8 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 42240 term 8 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
term 8 Server1 start snapshot! index=59
term 8 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 8 Server2 start snapshot! index=59
term 8 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 2682 term 8 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 28005 term 8 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
flag 92275 term 8 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 83959 term 8 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
term 8 server 0 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23579 term 8 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 82940 term 8 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
flag 56813 term 8 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 97874 term 8 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
flag 58037 term 8 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 58973 term 8 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 88625 term 8 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 26653 term 8 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 60235 term 8 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 37355 term 8 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 79840 term 8 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 60117 term 8 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 9 server 2 vote for server 1
term 9 server 1 get vote from server 2
term 9 server 1 become leader
------------------------------------------------------
flag 88908 term 9 leader 1 nextIndex[0]: 60  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 22903 term 9 leader 1 nextIndex[2]: 60  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
client write log 2024022556089117953 (index 60) to leader 1
flag 89836 term 8 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 84216 term 8 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 21734 term 9 leader 1 nextIndex[0]: 60  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 50062 term 9 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 9 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 8 59} {2024022556089117953 9 60}]
------------------------------------------------------
flag 63018 term 8 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 26967 term 8 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 70139 term 9 leader 1 nextIndex[0]: 60  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 60 
------------------------------------------------------
flag 76906 term 9 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 8 59} {2024022556089117953 9 60}]
------------------------------------------------------
client write log 325334544563960790 (index 61) to leader 1
client write log 3473236434578838413 (index 62) to leader 1
client write log 8630150903574310836 (index 63) to leader 1
client write log 7485394471238568491 (index 64) to leader 1
client write log 6097027318802669615 (index 65) to leader 1
client write log 5334527219686847837 (index 66) to leader 1
client write log 8132865491062697161 (index 67) to leader 1
client write log 2133016546667146069 (index 68) to leader 1
client write log 497007645396144103 (index 69) to leader 1
client write log 3601665655817852459 (index 70) to leader 1
client write log 3075149234732490557 (index 71) to leader 1
client write log 6573734303503858728 (index 72) to leader 1
client write log 1834887279715950505 (index 73) to leader 1
flag 77970 term 8 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 21797 term 8 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 16108 term 9 leader 1 nextIndex[0]: 60  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 60 
------------------------------------------------------
flag 92202 term 9 leader 1 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 8 59} {2024022556089117953 9 60} {325334544563960790 9 61} {3473236434578838413 9 62} {8630150903574310836 9 63} {7485394471238568491 9 64} {6097027318802669615 9 65} {5334527219686847837 9 66} {8132865491062697161 9 67} {2133016546667146069 9 68} {497007645396144103 9 69} {3601665655817852459 9 70} {3075149234732490557 9 71} {6573734303503858728 9 72} {1834887279715950505 9 73}]
------------------------------------------------------
term 9 Server1 start snapshot! index=69
term 9 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=73
-------------------------------------------------------------
flag 55675 term 8 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 67632 term 8 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 9 leader 1 nextIndex[0]: 60  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 52745 term 9 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 9 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 9 69} {3601665655817852459 9 70} {3075149234732490557 9 71} {6573734303503858728 9 72} {1834887279715950505 9 73}]
------------------------------------------------------
term 9 Server2 start snapshot! index=69
term 9 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=73
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1123668679751183494 (index 74) to leader 1
flag 72830 term 8 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 53025 term 8 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 8 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 1 nextIndex[0]: 60  matchIndex[0]: 0
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 45616 term 9 leader 1 nextIndex[2]: 74  matchIndex[2]: 73
term 9 leader 1 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 9 leaderCommit: 73 
------------------------------------------------------
term 9 server 0 InstallSnapshot success
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 9 rf.commitIndex 69 rf.lastApplied 69
term 9 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 69} {3601665655817852459 9 70} {3075149234732490557 9 71} {6573734303503858728 9 72} {1834887279715950505 9 73} {1123668679751183494 9 74}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37342 term 9 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 9 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 74 
------------------------------------------------------
flag 70598 term 9 leader 1 nextIndex[2]: 75  matchIndex[2]: 74
term 9 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 74 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 69} {3601665655817852459 9 70} {3075149234732490557 9 71} {6573734303503858728 9 72} {1834887279715950505 9 73} {1123668679751183494 9 74}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 69} {3601665655817852459 9 70} {3075149234732490557 9 71} {6573734303503858728 9 72} {1834887279715950505 9 73} {1123668679751183494 9 74}]
------------------------------------------------------
flag 85394 term 9 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 9 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 74 
------------------------------------------------------
flag 98661 term 9 leader 1 nextIndex[2]: 75  matchIndex[2]: 74
term 9 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 74 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 69} {3601665655817852459 9 70} {3075149234732490557 9 71} {6573734303503858728 9 72} {1834887279715950505 9 73} {1123668679751183494 9 74}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 69} {3601665655817852459 9 70} {3075149234732490557 9 71} {6573734303503858728 9 72} {1834887279715950505 9 73} {1123668679751183494 9 74}]
------------------------------------------------------
flag 86210 term 9 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 9 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 74 
------------------------------------------------------
flag 79658 term 9 leader 1 nextIndex[2]: 75  matchIndex[2]: 74
term 9 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 74 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 69} {3601665655817852459 9 70} {3075149234732490557 9 71} {6573734303503858728 9 72} {1834887279715950505 9 73} {1123668679751183494 9 74}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 69} {3601665655817852459 9 70} {3075149234732490557 9 71} {6573734303503858728 9 72} {1834887279715950505 9 73} {1123668679751183494 9 74}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83949 term 9 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 9 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 74 
------------------------------------------------------
flag 77683 term 9 leader 1 nextIndex[2]: 75  matchIndex[2]: 74
term 9 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 74 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 69} {3601665655817852459 9 70} {3075149234732490557 9 71} {6573734303503858728 9 72} {1834887279715950505 9 73} {1123668679751183494 9 74}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 69} {3601665655817852459 9 70} {3075149234732490557 9 71} {6573734303503858728 9 72} {1834887279715950505 9 73} {1123668679751183494 9 74}]
------------------------------------------------------
flag 39666 term 9 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 9 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 74 
------------------------------------------------------
flag 45463 term 9 leader 1 nextIndex[2]: 75  matchIndex[2]: 74
term 9 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 74 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 69} {3601665655817852459 9 70} {3075149234732490557 9 71} {6573734303503858728 9 72} {1834887279715950505 9 73} {1123668679751183494 9 74}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 69} {3601665655817852459 9 70} {3075149234732490557 9 71} {6573734303503858728 9 72} {1834887279715950505 9 73} {1123668679751183494 9 74}]
------------------------------------------------------
flag 27907 term 9 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 9 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 74 
------------------------------------------------------
flag 20214 term 9 leader 1 nextIndex[2]: 75  matchIndex[2]: 74
term 9 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 74 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 69} {3601665655817852459 9 70} {3075149234732490557 9 71} {6573734303503858728 9 72} {1834887279715950505 9 73} {1123668679751183494 9 74}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 69} {3601665655817852459 9 70} {3075149234732490557 9 71} {6573734303503858728 9 72} {1834887279715950505 9 73} {1123668679751183494 9 74}]
------------------------------------------------------
flag 48910 term 9 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 9 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 74 
------------------------------------------------------
flag 40264 term 9 leader 1 nextIndex[2]: 75  matchIndex[2]: 74
term 9 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 74 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:74 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=75
update matchIndex[2]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 69} {3601665655817852459 9 70} {3075149234732490557 9 71} {6573734303503858728 9 72} {1834887279715950505 9 73} {1123668679751183494 9 74}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 69} {3601665655817852459 9 70} {3075149234732490557 9 71} {6573734303503858728 9 72} {1834887279715950505 9 73} {1123668679751183494 9 74}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4939521813499680569 (index 75) to leader 1
flag 74734 term 9 leader 1 nextIndex[0]: 75  matchIndex[0]: 74
term 9 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 74 
------------------------------------------------------
flag 51935 term 9 leader 1 nextIndex[2]: 75  matchIndex[2]: 74
term 9 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 74 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {3601665655817852459 9 70} {3075149234732490557 9 71} {6573734303503858728 9 72} {1834887279715950505 9 73} {1123668679751183494 9 74} {4939521813499680569 9 75}]
------------------------------------------------------
flag 64848 term 9 leader 1 nextIndex[0]: 76  matchIndex[0]: 75
term 9 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
flag 63035 term 9 leader 1 nextIndex[2]: 75  matchIndex[2]: 74
term 9 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {3601665655817852459 9 70} {3075149234732490557 9 71} {6573734303503858728 9 72} {1834887279715950505 9 73} {1123668679751183494 9 74} {4939521813499680569 9 75}]
------------------------------------------------------
client write log 7253694753775920097 (index 76) to leader 1
client write log 8618704732782010282 (index 77) to leader 1
client write log 813723819918691625 (index 78) to leader 1
client write log 8709576956597989238 (index 79) to leader 1
client write log 1507434889022984984 (index 80) to leader 1
client write log 7363528156383590077 (index 81) to leader 1
client write log 4374111843543883824 (index 82) to leader 1
client write log 6584802135712783369 (index 83) to leader 1
client write log 4816987808087543284 (index 84) to leader 1
client write log 7535874522301477303 (index 85) to leader 1
client write log 8637375545687941669 (index 86) to leader 1
client write log 4147315728796678042 (index 87) to leader 1
flag 7137 term 9 leader 1 nextIndex[0]: 76  matchIndex[0]: 75
term 9 leader 1 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
flag 34310 term 9 leader 1 nextIndex[2]: 75  matchIndex[2]: 74
term 9 leader 1 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 69} {3601665655817852459 9 70} {3075149234732490557 9 71} {6573734303503858728 9 72} {1834887279715950505 9 73} {1123668679751183494 9 74} {4939521813499680569 9 75} {7253694753775920097 9 76} {8618704732782010282 9 77} {813723819918691625 9 78} {8709576956597989238 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87}]
------------------------------------------------------
term 9 Server1 start snapshot! index=79
term 9 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=87
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 75->74
------------------------------------------------------
flag 62507 term 9 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 9 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 0  matchIndex[2]: 74
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87}]
------------------------------------------------------
term 9 Server0 start snapshot! index=79
term 9 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=87
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6447075272796711391 (index 88) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 88->87
------------------------------------------------------
term 9 server 1 not vote for server 2, 日志不够新
term 9 server 0 not vote for server 2, 日志不够新
term 11 server 2 vote for server 1
term 11 server 1 get vote from server 2
term 11 server 1 become leader
------------------------------------------------------
term 11 server 0 vote for server 1
term 11 server 1 get outdate rpc reply from server 0
flag 96638 term 11 leader 1 nextIndex[0]: 89  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
flag 3541 term 11 leader 1 nextIndex[2]: 89  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 89->88
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 89->88
------------------------------------------------------
flag 63470 term 11 leader 1 nextIndex[0]: 88  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 75  matchIndex[2]: 0
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 9
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
term 11 server 2 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 9 rf.commitIndex 79 rf.lastApplied 79
flag 84891 term 11 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
flag 21602 term 11 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 11 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61454 term 11 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
flag 49366 term 11 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
flag 42796 term 11 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
flag 41032 term 11 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
flag 59902 term 11 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
flag 84589 term 11 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
flag 80439 term 11 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
flag 23204 term 11 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
flag 20206 term 11 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
flag 86095 term 11 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
flag 43157 term 11 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
flag 68785 term 11 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
flag 65279 term 11 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
flag 32999 term 11 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
flag 69556 term 11 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
flag 34874 term 11 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35965 term 11 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
flag 39214 term 11 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76376 term 11 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
flag 72262 term 11 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47259 term 11 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
flag 60676 term 11 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79464 term 11 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
flag 91204 term 11 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
flag 91839 term 11 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
flag 21493 term 11 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
flag 48286 term 11 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
flag 48743 term 11 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82641 term 11 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
flag 14081 term 11 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77228 term 11 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
flag 10540 term 11 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
flag 71419 term 11 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
flag 519 term 11 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=87
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88}]
------------------------------------------------------
client write log 6447075272796711391 (index 89) to leader 1
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 0 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 0
flag 21008 term 11 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
flag 97616 term 11 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 11 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 9 leaderCommit: 87 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88} {6447075272796711391 11 89}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 9 79} {1507434889022984984 9 80} {7363528156383590077 9 81} {4374111843543883824 9 82} {6584802135712783369 9 83} {4816987808087543284 9 84} {7535874522301477303 9 85} {8637375545687941669 9 86} {4147315728796678042 9 87} {6447075272796711391 9 88} {6447075272796711391 11 89}]
------------------------------------------------------
term 11 Server1 start snapshot! index=89
term 11 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
flag 35377 term 11 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 11 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 38421 term 11 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 11 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
term 11 Server2 start snapshot! index=89
term 11 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
term 11 Server0 start snapshot! index=89
term 11 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
flag 21199 term 11 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 11 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 47129 term 11 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 11 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
flag 8442 term 11 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 11 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 2225 term 11 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 11 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41951 term 11 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 11 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 643 term 11 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 11 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
flag 95838 term 11 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 11 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 24639 term 11 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 11 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
flag 68517 term 11 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 11 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 38586 term 11 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 11 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8449719609205764871 (index 90) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8790 term 11 leader 1 nextIndex[0]: 90  matchIndex[0]: 89
term 11 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 90519 term 11 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 11 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {8449719609205764871 11 90}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65129 term 11 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 11 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 43902 term 11 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 11 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {8449719609205764871 11 90}]
------------------------------------------------------
client write log 197711801927248181 (index 91) to leader 1
client write log 7991412563633003217 (index 92) to leader 1
client write log 4386187041473575641 (index 93) to leader 1
client write log 6924089133480463326 (index 94) to leader 1
client write log 8365610726761186272 (index 95) to leader 1
client write log 3528277558348703283 (index 96) to leader 1
client write log 8066175086809082394 (index 97) to leader 1
client write log 9213869663448265961 (index 98) to leader 1
flag 57625 term 11 leader 1 nextIndex[0]: 91  matchIndex[0]: 90
term 11 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
flag 87660 term 11 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 11 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98}]
------------------------------------------------------
flag 49226 term 11 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 11 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 16088 term 11 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 11 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1419187895310672883 (index 99) to leader 1
term 11 server 1 not vote for server 2, 日志不够新
term 11 server 0 not vote for server 2, 日志不够新
term 13 server 2 vote for server 1
term 13 server 1 get vote from server 2
term 13 server 1 become leader
------------------------------------------------------
term 13 server 0 vote for server 1
term 13 server 1 get outdate rpc reply from server 0
flag 91784 term 13 leader 1 nextIndex[0]: 100  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 73786 term 13 leader 1 nextIndex[2]: 100  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 100->99
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 100->99
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66693 term 13 leader 1 nextIndex[0]: 99  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 9972 term 13 leader 1 nextIndex[2]: 90  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
flag 16128 term 13 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 2059 term 13 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
flag 1610 term 13 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 664 term 13 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32811 term 13 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 61463 term 13 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
flag 70617 term 13 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 14536 term 13 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11154 term 13 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 34267 term 13 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
flag 43655 term 13 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 35561 term 13 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
term 13 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
flag 7654 term 13 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 92280 term 13 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
flag 98888 term 13 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 83809 term 13 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
flag 37978 term 13 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 30802 term 13 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
flag 32066 term 13 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 1243 term 13 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
flag 45813 term 13 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 70457 term 13 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
flag 81961 term 13 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 83578 term 13 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52865 term 13 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 50255 term 13 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
term 13 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48762 term 13 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 26906 term 13 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
flag 82465 term 13 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 12775 term 13 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47047 term 13 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 71490 term 13 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
flag 53093 term 13 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 85042 term 13 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=98
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99}]
------------------------------------------------------
client write log 1419187895310672883 (index 100) to leader 1
flag 32563 term 13 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
flag 39032 term 13 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 13 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 98 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
term 13 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99} {1419187895310672883 13 100}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 11 89} {8449719609205764871 11 90} {197711801927248181 11 91} {7991412563633003217 11 92} {4386187041473575641 11 93} {6924089133480463326 11 94} {8365610726761186272 11 95} {3528277558348703283 11 96} {8066175086809082394 11 97} {9213869663448265961 11 98} {1419187895310672883 11 99} {1419187895310672883 13 100}]
------------------------------------------------------
term 13 Server1 start snapshot! index=99
term 13 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
flag 26197 term 13 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
flag 48678 term 13 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 11 99} {1419187895310672883 13 100}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 11 99} {1419187895310672883 13 100}]
------------------------------------------------------
term 13 Server2 start snapshot! index=99
term 13 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
term 13 Server0 start snapshot! index=99
term 13 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
flag 23148 term 13 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
flag 74350 term 13 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 11 99} {1419187895310672883 13 100}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 11 99} {1419187895310672883 13 100}]
------------------------------------------------------
flag 73554 term 13 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
flag 26980 term 13 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 11 99} {1419187895310672883 13 100}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 11 99} {1419187895310672883 13 100}]
------------------------------------------------------
flag 77733 term 13 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
flag 51358 term 13 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 11 99} {1419187895310672883 13 100}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 11 99} {1419187895310672883 13 100}]
------------------------------------------------------
flag 79852 term 13 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
flag 84699 term 13 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 11 99} {1419187895310672883 13 100}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 11 99} {1419187895310672883 13 100}]
------------------------------------------------------
flag 62414 term 13 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
flag 26062 term 13 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 11 99} {1419187895310672883 13 100}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 11 99} {1419187895310672883 13 100}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 99051 term 13 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
flag 53952 term 13 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
flag 10224 term 13 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
flag 37628 term 13 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
flag 49805 term 13 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
flag 23257 term 13 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
term 14 server 2 vote for server 0
term 14 server 0 get vote from server 2
term 14 server 0 become leader
------------------------------------------------------
flag 85228 term 14 leader 0 nextIndex[1]: 101  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
flag 51998 term 14 leader 0 nextIndex[2]: 101  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 11 99} {1419187895310672883 13 100}]
------------------------------------------------------
flag 24111 term 13 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
flag 63716 term 13 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
client write log 6156406834937749788 (index 101) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38645 term 14 leader 0 nextIndex[1]: 101  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
flag 53666 term 14 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 14 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101}]
------------------------------------------------------
flag 50721 term 13 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
flag 47406 term 13 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
flag 37223 term 14 leader 0 nextIndex[1]: 101  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 101 
------------------------------------------------------
flag 10336 term 14 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=102
update matchIndex[2]=101
update leader CommitIndex=101
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101}]
------------------------------------------------------
flag 17694 term 13 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
flag 22596 term 13 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
client write log 2357530495666436322 (index 102) to leader 0
flag 60919 term 14 leader 0 nextIndex[1]: 101  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 101 
------------------------------------------------------
flag 99550 term 14 leader 0 nextIndex[2]: 102  matchIndex[2]: 101
term 14 leader 0 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
flag 13832 term 13 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
flag 11992 term 13 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
flag 30023 term 14 leader 0 nextIndex[1]: 101  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 102 
------------------------------------------------------
flag 84004 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
flag 73024 term 13 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
flag 32314 term 13 leader 1 nextIndex[2]: 101  matchIndex[2]: 100
term 13 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 100 
------------------------------------------------------
!!!!!!connect server 1
client write log 421464327513408781 (index 101) to leader 1
flag 86900 term 14 leader 0 nextIndex[1]: 101  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 13 leaderCommit: 102 
------------------------------------------------------
flag 31614 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
flag 61925 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 91193 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
flag 26190 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 12478 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
flag 7450 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 45776 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
flag 9773 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 4939 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76442 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 67927 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
term 14 server 1 not vote for server 0, 日志不够新
term 14 server 0 get outdate rpc reply from server 1
flag 1463 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 18037 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
flag 59680 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 61318 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
flag 79532 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 49129 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96309 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 86206 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
flag 81103 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 52051 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
flag 54002 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 24948 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
flag 49216 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 37077 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 103->102
------------------------------------------------------
term 14 leader 0 nextIndex[1]: 0  matchIndex[1]: 102
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 11
------------------------------------------------------
flag 59883 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
term 14 server 1 InstallSnapshot fail
rf.commitIndex 102 args.LastIncludedIndex 99
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
flag 581 term 14 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 11 leaderCommit: 102 
------------------------------------------------------
flag 84281 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79455 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 17080 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
flag 30230 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 83894 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
flag 72941 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 77239 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80357 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 47314 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31224 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 15720 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102}]
------------------------------------------------------
client write log 421464327513408781 (index 103) to leader 0
flag 56654 term 14 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 96753 term 14 leader 0 nextIndex[2]: 103  matchIndex[2]: 102
term 14 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102} {421464327513408781 14 103}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102} {421464327513408781 14 103}]
------------------------------------------------------
flag 97344 term 14 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 14 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 36080 term 14 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 14 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102} {421464327513408781 14 103}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102} {421464327513408781 14 103}]
------------------------------------------------------
flag 28028 term 14 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 14 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 18670 term 14 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 14 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102} {421464327513408781 14 103}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102} {421464327513408781 14 103}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65717 term 14 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 14 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 44087 term 14 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 14 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102} {421464327513408781 14 103}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102} {421464327513408781 14 103}]
------------------------------------------------------
flag 17561 term 14 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 14 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 58922 term 14 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 14 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102} {421464327513408781 14 103}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102} {421464327513408781 14 103}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92977 term 14 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 14 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 73873 term 14 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 14 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102} {421464327513408781 14 103}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102} {421464327513408781 14 103}]
------------------------------------------------------
flag 44605 term 14 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 14 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 90816 term 14 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 14 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102} {421464327513408781 14 103}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102} {421464327513408781 14 103}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1423528429684654838 (index 104) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78096 term 14 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 14 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
flag 56412 term 14 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 14 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 103 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102} {421464327513408781 14 103} {1423528429684654838 14 104}]
------------------------------------------------------
flag 2790 term 14 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 14 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
flag 62248 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102} {421464327513408781 14 103} {1423528429684654838 14 104}]
------------------------------------------------------
client write log 7948094678105856447 (index 105) to leader 0
client write log 2855540731854595728 (index 106) to leader 0
client write log 109968804641553244 (index 107) to leader 0
client write log 9122459163103068053 (index 108) to leader 0
client write log 6486206635135182919 (index 109) to leader 0
client write log 4223488834400853266 (index 110) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53860 term 14 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 14 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
flag 76623 term 14 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 14 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 14 leaderCommit: 104 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 11 99} {1419187895310672883 13 100} {6156406834937749788 14 101} {2357530495666436322 14 102} {421464327513408781 14 103} {1423528429684654838 14 104} {7948094678105856447 14 105} {2855540731854595728 14 106} {109968804641553244 14 107} {9122459163103068053 14 108} {6486206635135182919 14 109} {4223488834400853266 14 110}]
------------------------------------------------------
term 14 Server0 start snapshot! index=109
term 14 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=110
-------------------------------------------------------------
term 14 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
flag 492 term 14 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 14 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110}]
------------------------------------------------------
term 14 Server2 start snapshot! index=109
term 14 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=110
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2532261960796849595 (index 111) to leader 0
term 14 server 2 not vote for server 1, 日志不够新
term 14 server 0 not vote for server 1, 日志不够新
term 16 server 2 vote for server 0
term 16 server 1 vote for server 0
term 16 server 0 get vote from server 1
term 16 server 0 become leader
------------------------------------------------------
term 16 server 0 get outdate rpc reply from server 2
flag 11521 term 16 leader 0 nextIndex[1]: 112  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 98524 term 16 leader 0 nextIndex[2]: 112  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 112->111
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 112->111
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 104  matchIndex[1]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
flag 45822 term 16 leader 0 nextIndex[2]: 111  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
term 16 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 14 rf.commitIndex 109 rf.lastApplied 109
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53255 term 16 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 16 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 13472 term 16 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
flag 93475 term 16 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 16241 term 16 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96938 term 16 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 2061 term 16 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
flag 96373 term 16 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 80603 term 16 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
flag 60560 term 16 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 43011 term 16 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33772 term 16 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 53563 term 16 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
flag 9118 term 16 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 48131 term 16 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
flag 84403 term 16 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 12838 term 16 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13211 term 16 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 52766 term 16 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
flag 52747 term 16 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 87543 term 16 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99454 term 16 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 38335 term 16 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
flag 162 term 16 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 29205 term 16 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
flag 59711 term 16 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 90055 term 16 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
flag 2484 term 16 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 3151 term 16 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
flag 26551 term 16 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 35644 term 16 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21241 term 16 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 42356 term 16 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
flag 35238 term 16 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 96825 term 16 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
flag 44239 term 16 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 85468 term 16 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=110
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111}]
------------------------------------------------------
client write log 2532261960796849595 (index 112) to leader 0
flag 95648 term 16 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
flag 10653 term 16 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 16 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 14 leaderCommit: 110 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111} {2532261960796849595 16 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111} {2532261960796849595 16 112}]
------------------------------------------------------
flag 44270 term 16 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 16 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 95558 term 16 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 16 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111} {2532261960796849595 16 112}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111} {2532261960796849595 16 112}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52860 term 16 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 16 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 45970 term 16 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 16 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111} {2532261960796849595 16 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111} {2532261960796849595 16 112}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71969 term 16 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 16 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 99925 term 16 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 16 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111} {2532261960796849595 16 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111} {2532261960796849595 16 112}]
------------------------------------------------------
flag 8022 term 16 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 16 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 50835 term 16 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 16 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111} {2532261960796849595 16 112}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111} {2532261960796849595 16 112}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4415 term 16 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 16 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 18005 term 16 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 16 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
term 16 server 1 AppendEntries true commitIndex:112 
------------------------------------------------------
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111} {2532261960796849595 16 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=112
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111} {2532261960796849595 16 112}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8422957507431641697 (index 113) to leader 0
flag 8998 term 16 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 16 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
flag 44854 term 16 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 16 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 112 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111} {2532261960796849595 16 112} {8422957507431641697 16 113}]
------------------------------------------------------
flag 25158 term 16 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 16 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 113 
------------------------------------------------------
flag 63854 term 16 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 16 leaderCommit: 113 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111} {2532261960796849595 16 112} {8422957507431641697 16 113}]
------------------------------------------------------
client write log 4731663108401882227 (index 114) to leader 0
client write log 6473243367111483586 (index 115) to leader 0
client write log 3612659503611062453 (index 116) to leader 0
client write log 3628922748235801548 (index 117) to leader 0
client write log 8064428334624194242 (index 118) to leader 0
client write log 4226345982231792468 (index 119) to leader 0
client write log 4751699822758539352 (index 120) to leader 0
client write log 1818272696350649952 (index 121) to leader 0
flag 81134 term 16 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 16 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 16 leaderCommit: 113 
------------------------------------------------------
flag 13749 term 16 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 16 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 16 leaderCommit: 113 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 14 109} {4223488834400853266 14 110} {2532261960796849595 14 111} {2532261960796849595 16 112} {8422957507431641697 16 113} {4731663108401882227 16 114} {6473243367111483586 16 115} {3612659503611062453 16 116} {3628922748235801548 16 117} {8064428334624194242 16 118} {4226345982231792468 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121}]
------------------------------------------------------
term 16 Server0 start snapshot! index=119
term 16 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=121
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 113  matchIndex[1]: 112
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 54097 term 16 leader 0 nextIndex[2]: 122  matchIndex[2]: 121
term 16 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=122
update matchIndex[2]=121
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121}]
------------------------------------------------------
term 16 Server2 start snapshot! index=119
term 16 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=121
-------------------------------------------------------------
!!!!!!connect server 1
client write log 171591725652795387 (index 122) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 not vote for server 1, 日志不够新
term 16 server 0 not vote for server 1, 日志不够新
term 18 server 1 vote for server 0
term 18 server 0 get vote from server 1
term 18 server 0 become leader
------------------------------------------------------
term 18 server 2 vote for server 0
term 18 server 0 get outdate rpc reply from server 2
flag 37872 term 18 leader 0 nextIndex[1]: 123  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 11701 term 18 leader 0 nextIndex[2]: 123  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 123->122
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 123->122
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 35365 term 18 leader 0 nextIndex[2]: 122  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
term 18 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 16 rf.commitIndex 119 rf.lastApplied 119
term 18 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46536 term 18 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 18 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 80879 term 18 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62545 term 18 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 68256 term 18 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
flag 11345 term 18 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 85462 term 18 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
flag 80086 term 18 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 53858 term 18 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
flag 9766 term 18 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 99676 term 18 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
flag 20005 term 18 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 71124 term 18 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
flag 37930 term 18 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 60957 term 18 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
flag 84209 term 18 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 24119 term 18 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
flag 64568 term 18 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 64012 term 18 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
flag 56387 term 18 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 60810 term 18 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
flag 10515 term 18 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 7263 term 18 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
flag 47311 term 18 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 49191 term 18 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92343 term 18 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 37083 term 18 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
flag 53632 term 18 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 43738 term 18 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
flag 89342 term 18 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 61087 term 18 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
flag 91939 term 18 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 99787 term 18 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66500 term 18 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 8906 term 18 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73653 term 18 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 56733 term 18 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=123
update matchIndex[1]=122
update leader CommitIndex=121
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122}]
------------------------------------------------------
client write log 171591725652795387 (index 123) to leader 0
flag 18042 term 18 leader 0 nextIndex[1]: 123  matchIndex[1]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
flag 78484 term 18 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 18 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 16 leaderCommit: 121 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123}]
------------------------------------------------------
flag 5123 term 18 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 52470 term 18 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123}]
------------------------------------------------------
flag 89183 term 18 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 73926 term 18 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123}]
------------------------------------------------------
flag 59515 term 18 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 93124 term 18 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123}]
------------------------------------------------------
flag 12565 term 18 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 96151 term 18 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123}]
------------------------------------------------------
flag 79967 term 18 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 28102 term 18 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123}]
------------------------------------------------------
flag 16947 term 18 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 9849 term 18 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 58573 term 18 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 22319 term 18 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 79461 term 18 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 82836 term 18 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 4193 term 18 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 66272 term 18 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 72094 term 18 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 41234 term 18 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
term 19 server 1 vote for server 2
term 19 server 2 get vote from server 1
term 19 server 2 become leader
------------------------------------------------------
flag 6553 term 19 leader 2 nextIndex[0]: 124  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 66050 term 19 leader 2 nextIndex[1]: 124  matchIndex[1]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=123
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123}]
------------------------------------------------------
client write log 6969511726393871421 (index 124) to leader 2
flag 57290 term 18 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 85361 term 18 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 53996 term 19 leader 2 nextIndex[0]: 124  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 62317 term 19 leader 2 nextIndex[1]: 124  matchIndex[1]: 123
term 19 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123} {6969511726393871421 19 124}]
------------------------------------------------------
flag 69767 term 18 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 30069 term 18 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 29169 term 19 leader 2 nextIndex[0]: 124  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 124 
------------------------------------------------------
flag 35197 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123} {6969511726393871421 19 124}]
------------------------------------------------------
client write log 5129465233272830520 (index 125) to leader 2
flag 72334 term 18 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 4108 term 18 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 91168 term 19 leader 2 nextIndex[0]: 124  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 124 
------------------------------------------------------
flag 99873 term 19 leader 2 nextIndex[1]: 125  matchIndex[1]: 124
term 19 leader 2 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123} {6969511726393871421 19 124} {5129465233272830520 19 125}]
------------------------------------------------------
flag 14460 term 18 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
flag 56091 term 18 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 124->123
------------------------------------------------------
flag 21953 term 19 leader 2 nextIndex[0]: 124  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 25895 term 19 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123} {6969511726393871421 19 124} {5129465233272830520 19 125}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2467373078011484524 (index 126) to leader 2
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 123
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 95837 term 18 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 18 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 123 
------------------------------------------------------
term 19 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 server 2 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64472 term 19 leader 2 nextIndex[0]: 124  matchIndex[0]: 0
term 19 leader 2 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 18 leaderCommit: 125 
------------------------------------------------------
flag 54376 term 19 leader 2 nextIndex[1]: 126  matchIndex[1]: 125
term 19 leader 2 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 125 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:123 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123} {6969511726393871421 19 124} {5129465233272830520 19 125} {2467373078011484524 19 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123} {6969511726393871421 19 124} {5129465233272830520 19 125} {2467373078011484524 19 126}]
------------------------------------------------------
flag 3252 term 19 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 36706 term 19 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123} {6969511726393871421 19 124} {5129465233272830520 19 125} {2467373078011484524 19 126}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123} {6969511726393871421 19 124} {5129465233272830520 19 125} {2467373078011484524 19 126}]
------------------------------------------------------
flag 8952 term 19 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 24239 term 19 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123} {6969511726393871421 19 124} {5129465233272830520 19 125} {2467373078011484524 19 126}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123} {6969511726393871421 19 124} {5129465233272830520 19 125} {2467373078011484524 19 126}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40359 term 19 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 46705 term 19 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123} {6969511726393871421 19 124} {5129465233272830520 19 125} {2467373078011484524 19 126}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123} {6969511726393871421 19 124} {5129465233272830520 19 125} {2467373078011484524 19 126}]
------------------------------------------------------
flag 33711 term 19 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 41913 term 19 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123} {6969511726393871421 19 124} {5129465233272830520 19 125} {2467373078011484524 19 126}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123} {6969511726393871421 19 124} {5129465233272830520 19 125} {2467373078011484524 19 126}]
------------------------------------------------------
flag 27158 term 19 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 30130 term 19 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123} {6969511726393871421 19 124} {5129465233272830520 19 125} {2467373078011484524 19 126}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123} {6969511726393871421 19 124} {5129465233272830520 19 125} {2467373078011484524 19 126}]
------------------------------------------------------
flag 34533 term 19 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 90343 term 19 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123} {6969511726393871421 19 124} {5129465233272830520 19 125} {2467373078011484524 19 126}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123} {6969511726393871421 19 124} {5129465233272830520 19 125} {2467373078011484524 19 126}]
------------------------------------------------------
term 19 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 0
client write log 1065567155116118441 (index 127) to leader 2
flag 2429 term 19 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
flag 81381 term 19 leader 2 nextIndex[1]: 127  matchIndex[1]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 126 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123} {6969511726393871421 19 124} {5129465233272830520 19 125} {2467373078011484524 19 126} {1065567155116118441 19 127}]
------------------------------------------------------
flag 48261 term 19 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 127 
------------------------------------------------------
flag 74516 term 19 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 19 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 127 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123} {6969511726393871421 19 124} {5129465233272830520 19 125} {2467373078011484524 19 126} {1065567155116118441 19 127}]
------------------------------------------------------
client write log 3709982762746651122 (index 128) to leader 2
client write log 5034425455732695918 (index 129) to leader 2
client write log 1933203293653640918 (index 130) to leader 2
client write log 7588168451187458195 (index 131) to leader 2
client write log 7446969510676223876 (index 132) to leader 2
client write log 952878141960250661 (index 133) to leader 2
client write log 1924423560489934709 (index 134) to leader 2
client write log 4190283482129914297 (index 135) to leader 2
client write log 3178143127390285825 (index 136) to leader 2
client write log 6840264175072196515 (index 137) to leader 2
client write log 2207690391587526124 (index 138) to leader 2
client write log 4211528437778137443 (index 139) to leader 2
client write log 7821791343197031878 (index 140) to leader 2
client write log 2151191703730975463 (index 141) to leader 2
client write log 6309970251530289343 (index 142) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12700 term 19 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 19 leader 2 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 19 leaderCommit: 127 
------------------------------------------------------
flag 19337 term 19 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 19 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 19 leaderCommit: 127 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 16 119} {4751699822758539352 16 120} {1818272696350649952 16 121} {171591725652795387 16 122} {171591725652795387 18 123} {6969511726393871421 19 124} {5129465233272830520 19 125} {2467373078011484524 19 126} {1065567155116118441 19 127} {3709982762746651122 19 128} {5034425455732695918 19 129} {1933203293653640918 19 130} {7588168451187458195 19 131} {7446969510676223876 19 132} {952878141960250661 19 133} {1924423560489934709 19 134} {4190283482129914297 19 135} {3178143127390285825 19 136} {6840264175072196515 19 137} {2207690391587526124 19 138} {4211528437778137443 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142}]
------------------------------------------------------
term 19 Server2 start snapshot! index=129
term 19 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=142
-------------------------------------------------------------
term 19 Server2 start snapshot! index=139
term 19 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=142
-------------------------------------------------------------
term 19 leader 2 nextIndex[0]: 127  matchIndex[0]: 126
term 19 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
flag 22326 term 19 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 19 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142}]
------------------------------------------------------
term 19 Server1 start snapshot! index=129
term 19 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=142
-------------------------------------------------------------
term 19 Server1 start snapshot! index=139
term 19 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=142
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2447160098907435817 (index 143) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 2 not vote for server 0, 日志不够新
term 19 server 1 not vote for server 0, 日志不够新
term 21 server 1 vote for server 2
term 21 server 0 vote for server 2
term 21 server 2 get vote from server 1
term 21 server 2 become leader
------------------------------------------------------
term 21 server 2 get outdate rpc reply from server 0
flag 48031 term 21 leader 2 nextIndex[0]: 144  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 40194 term 21 leader 2 nextIndex[1]: 144  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 144->143
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 144->143
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 127  matchIndex[0]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
flag 90189 term 21 leader 2 nextIndex[1]: 143  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 19 rf.commitIndex 139 rf.lastApplied 139
term 21 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
flag 63792 term 21 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 21 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 7368 term 21 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43739 term 21 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 10901 term 21 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
flag 91166 term 21 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 11747 term 21 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
flag 10067 term 21 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 49590 term 21 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
term 21 server 0 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 0
flag 23008 term 21 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 87873 term 21 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
flag 20721 term 21 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 12403 term 21 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
flag 65654 term 21 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 23524 term 21 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
flag 23299 term 21 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 64214 term 21 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
flag 78570 term 21 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 90706 term 21 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
flag 19800 term 21 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 1035 term 21 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
flag 38455 term 21 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 1916 term 21 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26586 term 21 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 42048 term 21 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66041 term 21 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 376 term 21 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97855 term 21 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 724 term 21 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:142 
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
flag 40180 term 21 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 15314 term 21 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
flag 41056 term 21 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 95054 term 21 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49896 term 21 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 82559 term 21 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143}]
------------------------------------------------------
flag 74063 term 21 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 83790 term 21 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
client write log 2447160098907435817 (index 144) to leader 2
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143} {2447160098907435817 21 144}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143} {2447160098907435817 21 144}]
------------------------------------------------------
flag 44479 term 21 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 63214 term 21 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143} {2447160098907435817 21 144}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143} {2447160098907435817 21 144}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56685 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 20687 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143} {2447160098907435817 21 144}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143} {2447160098907435817 21 144}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53989 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 19696 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143} {2447160098907435817 21 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143} {2447160098907435817 21 144}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38008 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 2889 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
term 21 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143} {2447160098907435817 21 144}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143} {2447160098907435817 21 144}]
------------------------------------------------------
flag 95192 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 31402 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143} {2447160098907435817 21 144}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143} {2447160098907435817 21 144}]
------------------------------------------------------
flag 28425 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 100 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143} {2447160098907435817 21 144}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143} {2447160098907435817 21 144}]
------------------------------------------------------
flag 16196 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 69211 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143} {2447160098907435817 21 144}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=145
update matchIndex[0]=144
update leader CommitIndex=144
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143} {2447160098907435817 21 144}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5261014929344167216 (index 145) to leader 2
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24260 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 52865 term 21 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143} {2447160098907435817 21 144} {5261014929344167216 21 145}]
------------------------------------------------------
flag 57410 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 145 
------------------------------------------------------
flag 43582 term 21 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 21 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 145 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143} {2447160098907435817 21 144} {5261014929344167216 21 145}]
------------------------------------------------------
client write log 443607046291090803 (index 146) to leader 2
client write log 6914054196085321666 (index 147) to leader 2
client write log 892355343537053366 (index 148) to leader 2
client write log 626180052431724879 (index 149) to leader 2
client write log 5981640592006703224 (index 150) to leader 2
client write log 2140566463864183925 (index 151) to leader 2
client write log 357619810589278553 (index 152) to leader 2
client write log 7053942122484779428 (index 153) to leader 2
client write log 1289501136592688496 (index 154) to leader 2
client write log 2293974309490110033 (index 155) to leader 2
client write log 5467714181075021937 (index 156) to leader 2
client write log 8374951932773622679 (index 157) to leader 2
client write log 1110450963538624497 (index 158) to leader 2
client write log 2954957655330499401 (index 159) to leader 2
client write log 1886262236243250473 (index 160) to leader 2
flag 19506 term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 145 
------------------------------------------------------
flag 11510 term 21 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 21 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 145 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 19 139} {7821791343197031878 19 140} {2151191703730975463 19 141} {6309970251530289343 19 142} {2447160098907435817 19 143} {2447160098907435817 21 144} {5261014929344167216 21 145} {443607046291090803 21 146} {6914054196085321666 21 147} {892355343537053366 21 148} {626180052431724879 21 149} {5981640592006703224 21 150} {2140566463864183925 21 151} {357619810589278553 21 152} {7053942122484779428 21 153} {1289501136592688496 21 154} {2293974309490110033 21 155} {5467714181075021937 21 156} {8374951932773622679 21 157} {1110450963538624497 21 158} {2954957655330499401 21 159} {1886262236243250473 21 160}]
------------------------------------------------------
term 21 Server2 start snapshot! index=149
term 21 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=160
-------------------------------------------------------------
term 21 Server2 start snapshot! index=159
term 21 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=160
-------------------------------------------------------------
term 21 leader 2 nextIndex[0]: 145  matchIndex[0]: 144
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 21
------------------------------------------------------
flag 84305 term 21 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 21 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160}]
------------------------------------------------------
term 21 Server1 start snapshot! index=149
term 21 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=160
-------------------------------------------------------------
term 21 Server1 start snapshot! index=159
term 21 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=160
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5471457133060991215 (index 161) to leader 2
term 21 server 2 not vote for server 0, 日志不够新
term 21 server 1 not vote for server 0, 日志不够新
term 23 server 1 vote for server 2
term 23 server 2 get vote from server 1
term 23 server 2 become leader
------------------------------------------------------
term 23 server 0 vote for server 2
term 23 server 2 get outdate rpc reply from server 0
flag 54949 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
flag 4718 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 162->161
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 162->161
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 145  matchIndex[0]: 0
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 21
------------------------------------------------------
flag 36407 term 23 leader 2 nextIndex[1]: 161  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
term 23 server 0 InstallSnapshot success
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 21 rf.commitIndex 159 rf.lastApplied 159
flag 25515 term 23 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 23 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
flag 72666 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
term 23 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22114 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
flag 53418 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85157 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
flag 36904 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
flag 60230 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
flag 57229 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
flag 84417 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
flag 19431 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
flag 95726 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
flag 26875 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
flag 47693 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
flag 55207 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
flag 70816 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
flag 39842 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
flag 29744 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
flag 5938 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21346 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
flag 6039 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21670 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
flag 66265 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9202 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
flag 6764 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
flag 17048 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
flag 27697 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
flag 66936 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
flag 99006 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78831 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
flag 83614 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
flag 64498 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
flag 25908 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
flag 3232 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
flag 85154 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82273 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
flag 80757 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=162
update matchIndex[0]=161
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5471457133060991215 (index 162) to leader 2
flag 64848 term 23 leader 2 nextIndex[0]: 162  matchIndex[0]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
flag 23721 term 23 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 23 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161} {5471457133060991215 23 162}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161} {5471457133060991215 23 162}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73330 term 23 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
flag 17306 term 23 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161} {5471457133060991215 23 162}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161} {5471457133060991215 23 162}]
------------------------------------------------------
flag 44172 term 23 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
flag 33333 term 23 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161} {5471457133060991215 23 162}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161} {5471457133060991215 23 162}]
------------------------------------------------------
flag 63244 term 23 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
flag 49941 term 23 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161} {5471457133060991215 23 162}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161} {5471457133060991215 23 162}]
------------------------------------------------------
flag 47390 term 23 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
flag 38719 term 23 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161} {5471457133060991215 23 162}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161} {5471457133060991215 23 162}]
------------------------------------------------------
flag 72247 term 23 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
flag 60925 term 23 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161} {5471457133060991215 23 162}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161} {5471457133060991215 23 162}]
------------------------------------------------------
flag 40682 term 23 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
flag 5340 term 23 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
term 23 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161} {5471457133060991215 23 162}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=163
update matchIndex[0]=162
update leader CommitIndex=162
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161} {5471457133060991215 23 162}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 25336 term 23 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
flag 85763 term 23 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
flag 68099 term 23 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
flag 26440 term 23 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79905 term 23 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
flag 60832 term 23 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
term 24 server 1 vote for server 0
term 24 server 0 get vote from server 1
term 24 server 0 become leader
------------------------------------------------------
flag 97441 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
flag 3424 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161} {5471457133060991215 23 162}]
------------------------------------------------------
flag 84803 term 23 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
flag 24281 term 23 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
client write log 3742944025966278906 (index 163) to leader 0
flag 35481 term 24 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
flag 49120 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161} {5471457133060991215 23 162} {3742944025966278906 24 163}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92129 term 23 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
flag 7530 term 23 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
flag 68121 term 24 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 24 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
flag 86965 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161} {5471457133060991215 23 162} {3742944025966278906 24 163}]
------------------------------------------------------
client write log 7667866240172491024 (index 164) to leader 0
client write log 421607696587600282 (index 165) to leader 0
client write log 3721461784280142693 (index 166) to leader 0
client write log 1222845894974528857 (index 167) to leader 0
client write log 6240555244246353018 (index 168) to leader 0
client write log 4104405739038455731 (index 169) to leader 0
client write log 6637207656271248660 (index 170) to leader 0
client write log 7635610455438851840 (index 171) to leader 0
flag 9114 term 23 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
flag 56582 term 23 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
flag 47642 term 24 leader 0 nextIndex[1]: 164  matchIndex[1]: 163
term 24 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 24 leaderCommit: 163 
------------------------------------------------------
flag 91685 term 24 leader 0 nextIndex[2]: 163  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 21 159} {1886262236243250473 21 160} {5471457133060991215 21 161} {5471457133060991215 23 162} {3742944025966278906 24 163} {7667866240172491024 24 164} {421607696587600282 24 165} {3721461784280142693 24 166} {1222845894974528857 24 167} {6240555244246353018 24 168} {4104405739038455731 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 163->162
------------------------------------------------------
term 24 Server0 start snapshot! index=169
term 24 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=171
-------------------------------------------------------------
flag 84115 term 23 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
flag 96371 term 23 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
flag 59863 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
term 24 Server1 start snapshot! index=169
term 24 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=171
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3508019080133839973 (index 163) to leader 2
flag 34976 term 23 leader 2 nextIndex[0]: 163  matchIndex[0]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
flag 83524 term 23 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 23 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 23 leaderCommit: 162 
------------------------------------------------------
term 24 server 1 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 24 server 0 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57125 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 2 InstallSnapshot success
------------------------------------------------------
term 24 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 24 rf.commitIndex 169 rf.lastApplied 169
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56254 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 20215 term 24 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 24 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
flag 66291 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 89679 term 24 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
term 24 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
flag 62695 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 69148 term 24 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 24 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
flag 42612 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 98628 term 24 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 172->171
------------------------------------------------------
flag 37151 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 171
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 2 InstallSnapshot fail
rf.commitIndex 171 args.LastIncludedIndex 169
------------------------------------------------------
term 24 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
flag 1386 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 69468 term 24 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 24 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
flag 21262 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 14726 term 24 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
flag 26063 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 68331 term 24 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
flag 36455 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 6645 term 24 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25613 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 76963 term 24 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
flag 27135 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 10459 term 24 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
flag 41583 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 6281 term 24 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84940 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 49710 term 24 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
flag 50119 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 80864 term 24 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
flag 87741 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 83738 term 24 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
flag 79215 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 84758 term 24 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 715 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 56431 term 24 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
flag 89152 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 3529 term 24 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171}]
------------------------------------------------------
client write log 3508019080133839973 (index 172) to leader 0
flag 94381 term 24 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
flag 98062 term 24 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 24 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 24 leaderCommit: 171 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171} {3508019080133839973 24 172}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171} {3508019080133839973 24 172}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 173->172
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53257 term 24 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 24 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 24 leader 0 nextIndex[2]: 0  matchIndex[2]: 172
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 2 InstallSnapshot fail
rf.commitIndex 171 args.LastIncludedIndex 169
------------------------------------------------------
term 24 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171} {3508019080133839973 24 172}]
------------------------------------------------------
flag 31834 term 24 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 24 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 70186 term 24 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 24 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171} {3508019080133839973 24 172}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171} {3508019080133839973 24 172}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59499 term 24 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 24 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 89585 term 24 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 24 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171} {3508019080133839973 24 172}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171} {3508019080133839973 24 172}]
------------------------------------------------------
flag 11025 term 24 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 24 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 10880 term 24 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 24 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171} {3508019080133839973 24 172}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171} {3508019080133839973 24 172}]
------------------------------------------------------
flag 72321 term 24 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 24 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 34486 term 24 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 24 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171} {3508019080133839973 24 172}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171} {3508019080133839973 24 172}]
------------------------------------------------------
flag 29549 term 24 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 24 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 60285 term 24 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 24 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
term 24 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171} {3508019080133839973 24 172}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171} {3508019080133839973 24 172}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97405 term 24 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 24 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 51661 term 24 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 24 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171} {3508019080133839973 24 172}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171} {3508019080133839973 24 172}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7410716107549951402 (index 173) to leader 0
flag 42800 term 24 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 24 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
flag 63643 term 24 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 24 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 172 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171} {3508019080133839973 24 172} {7410716107549951402 24 173}]
------------------------------------------------------
flag 94934 term 24 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 24 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 173 
------------------------------------------------------
flag 46710 term 24 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 24 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 173 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=174
update matchIndex[2]=173
update leader CommitIndex=173
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171} {3508019080133839973 24 172} {7410716107549951402 24 173}]
------------------------------------------------------
client write log 8074703277167159661 (index 174) to leader 0
client write log 9172225932523636716 (index 175) to leader 0
client write log 4611130236129252030 (index 176) to leader 0
client write log 5854127519410467166 (index 177) to leader 0
client write log 2566315871103768427 (index 178) to leader 0
client write log 3573890593113961753 (index 179) to leader 0
client write log 8555933751931306289 (index 180) to leader 0
client write log 8311590801802675086 (index 181) to leader 0
client write log 7104475598526508635 (index 182) to leader 0
client write log 5604356995548652971 (index 183) to leader 0
client write log 5676725961989074476 (index 184) to leader 0
flag 36698 term 24 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 24 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 24 leaderCommit: 173 
------------------------------------------------------
flag 14196 term 24 leader 0 nextIndex[2]: 174  matchIndex[2]: 173
term 24 leader 0 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 24 leaderCommit: 173 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:173 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 169} {6637207656271248660 24 170} {7635610455438851840 24 171} {3508019080133839973 24 172} {7410716107549951402 24 173} {8074703277167159661 24 174} {9172225932523636716 24 175} {4611130236129252030 24 176} {5854127519410467166 24 177} {2566315871103768427 24 178} {3573890593113961753 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184}]
------------------------------------------------------
term 24 Server0 start snapshot! index=179
term 24 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=184
-------------------------------------------------------------
term 24 leader 0 nextIndex[1]: 173  matchIndex[1]: 172
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 24
------------------------------------------------------
flag 88475 term 24 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 24 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184}]
------------------------------------------------------
term 24 Server2 start snapshot! index=179
term 24 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=184
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6263611405692369050 (index 185) to leader 0
term 24 server 2 not vote for server 1, 日志不够新
term 24 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 2 vote for server 0
term 26 server 0 get vote from server 2
term 26 server 0 become leader
------------------------------------------------------
term 26 server 1 vote for server 0
term 26 server 0 get outdate rpc reply from server 1
flag 44743 term 26 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 56150 term 26 leader 0 nextIndex[2]: 186  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 186->185
------------------------------------------------------
term 26 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 186->185
------------------------------------------------------
term 26 server 2 not vote for server 0, 任期不够新
term 26 server 0 get outdate rpc reply from server 2
term 26 leader 0 nextIndex[1]: 173  matchIndex[1]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 24
------------------------------------------------------
flag 22868 term 26 leader 0 nextIndex[2]: 185  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 26 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 24 rf.commitIndex 179 rf.lastApplied 179
term 26 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
flag 1614 term 26 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 26 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 31092 term 26 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
flag 47742 term 26 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 87744 term 26 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
flag 99513 term 26 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 69997 term 26 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
flag 79242 term 26 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 41607 term 26 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
flag 46188 term 26 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 58679 term 26 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
flag 21706 term 26 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 80373 term 26 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
flag 78990 term 26 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 92388 term 26 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
flag 75389 term 26 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 11348 term 26 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
flag 36365 term 26 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 4769 term 26 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
flag 39411 term 26 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 57209 term 26 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
flag 56419 term 26 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 444 term 26 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
flag 88282 term 26 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 5226 term 26 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
flag 76037 term 26 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 41829 term 26 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
flag 36563 term 26 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 91457 term 26 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
flag 35429 term 26 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 88232 term 26 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
flag 48192 term 26 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 88310 term 26 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
flag 83644 term 26 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 51791 term 26 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
flag 32679 term 26 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 4813 term 26 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185}]
------------------------------------------------------
client write log 6263611405692369050 (index 186) to leader 0
flag 991 term 26 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
flag 4492 term 26 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 26 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 24 leaderCommit: 184 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185} {6263611405692369050 26 186}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185} {6263611405692369050 26 186}]
------------------------------------------------------
flag 16786 term 26 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 26 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
flag 92010 term 26 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 26 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185} {6263611405692369050 26 186}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185} {6263611405692369050 26 186}]
------------------------------------------------------
flag 13188 term 26 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 26 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
flag 93828 term 26 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 26 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185} {6263611405692369050 26 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185} {6263611405692369050 26 186}]
------------------------------------------------------
flag 42894 term 26 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 26 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
flag 44327 term 26 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 26 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185} {6263611405692369050 26 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185} {6263611405692369050 26 186}]
------------------------------------------------------
flag 88633 term 26 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 26 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
flag 86508 term 26 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 26 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185} {6263611405692369050 26 186}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185} {6263611405692369050 26 186}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53829 term 26 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 26 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
flag 84960 term 26 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 26 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
term 26 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185} {6263611405692369050 26 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185} {6263611405692369050 26 186}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2324338942242557040 (index 187) to leader 0
flag 9659 term 26 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 26 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
flag 32478 term 26 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 26 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 186 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185} {6263611405692369050 26 186} {2324338942242557040 26 187}]
------------------------------------------------------
flag 37637 term 26 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 26 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 187 
------------------------------------------------------
flag 83819 term 26 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 26 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 26 leaderCommit: 187 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185} {6263611405692369050 26 186} {2324338942242557040 26 187}]
------------------------------------------------------
client write log 4753803434453339140 (index 188) to leader 0
client write log 3766920370445729139 (index 189) to leader 0
client write log 2343258200597948104 (index 190) to leader 0
client write log 8765322475650803127 (index 191) to leader 0
client write log 3177438795864645940 (index 192) to leader 0
client write log 3461519714108265162 (index 193) to leader 0
client write log 6444397720729215856 (index 194) to leader 0
client write log 8100110459904357687 (index 195) to leader 0
client write log 5821304324050508080 (index 196) to leader 0
client write log 2230948306074162358 (index 197) to leader 0
client write log 6715699242378764714 (index 198) to leader 0
client write log 248887153604638906 (index 199) to leader 0
flag 29085 term 26 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 26 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 26 leaderCommit: 187 
------------------------------------------------------
flag 58555 term 26 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 26 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 26 leaderCommit: 187 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 24 179} {8555933751931306289 24 180} {8311590801802675086 24 181} {7104475598526508635 24 182} {5604356995548652971 24 183} {5676725961989074476 24 184} {6263611405692369050 24 185} {6263611405692369050 26 186} {2324338942242557040 26 187} {4753803434453339140 26 188} {3766920370445729139 26 189} {2343258200597948104 26 190} {8765322475650803127 26 191} {3177438795864645940 26 192} {3461519714108265162 26 193} {6444397720729215856 26 194} {8100110459904357687 26 195} {5821304324050508080 26 196} {2230948306074162358 26 197} {6715699242378764714 26 198} {248887153604638906 26 199}]
------------------------------------------------------
term 26 Server0 start snapshot! index=189
term 26 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=199
-------------------------------------------------------------
term 26 Server0 start snapshot! index=199
term 26 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
flag 76588 term 26 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 26 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 26 199}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 Server2 start snapshot! index=189
term 26 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=199
-------------------------------------------------------------
term 26 Server2 start snapshot! index=199
term 26 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7687300328649766855 (index 200) to leader 0
term 26 server 2 not vote for server 1, 日志不够新
term 26 server 0 not vote for server 1, 日志不够新
term 28 server 2 vote for server 0
term 28 server 1 vote for server 0
term 28 server 0 get vote from server 2
term 28 server 0 become leader
------------------------------------------------------
term 28 server 0 get outdate rpc reply from server 1
flag 26235 term 28 leader 0 nextIndex[1]: 201  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 2215 term 28 leader 0 nextIndex[2]: 201  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 201->200
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 201->200
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 187  matchIndex[1]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
flag 90385 term 28 leader 0 nextIndex[2]: 200  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 1 InstallSnapshot success
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 26 rf.commitIndex 199 rf.lastApplied 199
term 28 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
flag 20726 term 28 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 28 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 18731 term 28 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
flag 17766 term 28 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 7826 term 28 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
flag 16473 term 28 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 18028 term 28 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
flag 8685 term 28 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 59403 term 28 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
flag 14947 term 28 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 52719 term 28 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11210 term 28 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 66537 term 28 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
flag 55238 term 28 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 90715 term 28 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
flag 6248 term 28 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 18086 term 28 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
flag 19679 term 28 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 17523 term 28 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
flag 87703 term 28 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 18942 term 28 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
flag 67022 term 28 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 27777 term 28 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16536 term 28 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 90693 term 28 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
flag 58505 term 28 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 39478 term 28 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
flag 69704 term 28 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 46361 term 28 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
flag 14296 term 28 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 80892 term 28 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
flag 22615 term 28 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 1045 term 28 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
flag 25576 term 28 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 14283 term 28 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=199
leader log:
[{snapshot 26 199} {7687300328649766855 26 200}]
------------------------------------------------------
client write log 7687300328649766855 (index 201) to leader 0
flag 10197 term 28 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
flag 94635 term 28 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 28 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 26 leaderCommit: 199 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48911 term 28 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 68368 term 28 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:201 
term 28 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201}]
------------------------------------------------------
flag 17665 term 28 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 26956 term 28 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8829 term 28 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 17737 term 28 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201}]
term 28 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201}]
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78820 term 28 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 86456 term 28 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201}]
------------------------------------------------------
flag 66369 term 28 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 1434 term 28 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201}]
------------------------------------------------------
flag 81564 term 28 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 73818 term 28 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 95704 term 28 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 67765 term 28 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 65861 term 28 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 93778 term 28 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 2984 term 28 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 69467 term 28 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 92790 term 28 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 64502 term 28 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 29 server 1 vote for server 2
term 29 server 2 get vote from server 1
term 29 server 2 become leader
------------------------------------------------------
flag 1323 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 28734 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201}]
------------------------------------------------------
flag 96742 term 28 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 57692 term 28 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
client write log 6945817348988490150 (index 202) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34437 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 11938 term 29 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201} {6945817348988490150 29 202}]
------------------------------------------------------
flag 39581 term 28 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 30057 term 28 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 11615 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 202 
------------------------------------------------------
flag 48449 term 29 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 29 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201} {6945817348988490150 29 202}]
------------------------------------------------------
flag 21328 term 28 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
flag 52878 term 28 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
client write log 8085626216592738352 (index 203) to leader 2
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 202->201
------------------------------------------------------
flag 7200 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 202 
------------------------------------------------------
flag 85426 term 29 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 29 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 29 leaderCommit: 202 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201} {6945817348988490150 29 202} {8085626216592738352 29 203}]
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 0  matchIndex[1]: 201
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
flag 45667 term 28 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
flag 4094 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 203 
------------------------------------------------------
flag 3199 term 29 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 29 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201} {6945817348988490150 29 202} {8085626216592738352 29 203}]
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 0  matchIndex[1]: 201
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
flag 25621 term 28 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 28 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 201 
------------------------------------------------------
!!!!!!connect server 0
client write log 1852835690717769389 (index 204) to leader 2
flag 7510 term 29 leader 2 nextIndex[0]: 202  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 28 leaderCommit: 203 
------------------------------------------------------
flag 45007 term 29 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 29 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 29 leaderCommit: 203 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201} {6945817348988490150 29 202} {8085626216592738352 29 203} {1852835690717769389 29 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201} {6945817348988490150 29 202} {8085626216592738352 29 203} {1852835690717769389 29 204}]
------------------------------------------------------
flag 77309 term 29 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 29 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 29 leaderCommit: 204 
------------------------------------------------------
flag 83529 term 29 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 29 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 29 leaderCommit: 204 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201} {6945817348988490150 29 202} {8085626216592738352 29 203} {1852835690717769389 29 204}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201} {6945817348988490150 29 202} {8085626216592738352 29 203} {1852835690717769389 29 204}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66942 term 29 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 29 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 29 leaderCommit: 204 
------------------------------------------------------
flag 30000 term 29 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 29 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 29 leaderCommit: 204 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201} {6945817348988490150 29 202} {8085626216592738352 29 203} {1852835690717769389 29 204}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201} {6945817348988490150 29 202} {8085626216592738352 29 203} {1852835690717769389 29 204}]
------------------------------------------------------
flag 38825 term 29 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 29 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 29 leaderCommit: 204 
------------------------------------------------------
flag 7713 term 29 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 29 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 29 leaderCommit: 204 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201} {6945817348988490150 29 202} {8085626216592738352 29 203} {1852835690717769389 29 204}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201} {6945817348988490150 29 202} {8085626216592738352 29 203} {1852835690717769389 29 204}]
------------------------------------------------------
flag 19906 term 29 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 29 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 29 leaderCommit: 204 
------------------------------------------------------
flag 2913 term 29 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 29 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 29 leaderCommit: 204 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201} {6945817348988490150 29 202} {8085626216592738352 29 203} {1852835690717769389 29 204}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201} {6945817348988490150 29 202} {8085626216592738352 29 203} {1852835690717769389 29 204}]
------------------------------------------------------
flag 78230 term 29 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 29 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 29 leaderCommit: 204 
------------------------------------------------------
flag 91770 term 29 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 29 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 29 leaderCommit: 204 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
term 29 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201} {6945817348988490150 29 202} {8085626216592738352 29 203} {1852835690717769389 29 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201} {6945817348988490150 29 202} {8085626216592738352 29 203} {1852835690717769389 29 204}]
------------------------------------------------------
flag 52943 term 29 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 29 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 29 leaderCommit: 204 
------------------------------------------------------
flag 91623 term 29 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 29 leaderCommit: 204 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201} {6945817348988490150 29 202} {8085626216592738352 29 203} {1852835690717769389 29 204}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201} {6945817348988490150 29 202} {8085626216592738352 29 203} {1852835690717769389 29 204}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2638914062794631788 (index 205) to leader 2
flag 54130 term 29 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 29 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 29 leaderCommit: 204 
------------------------------------------------------
flag 1106 term 29 leader 2 nextIndex[1]: 205  matchIndex[1]: 204
term 29 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 29 leaderCommit: 204 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201} {6945817348988490150 29 202} {8085626216592738352 29 203} {1852835690717769389 29 204} {2638914062794631788 29 205}]
------------------------------------------------------
flag 89684 term 29 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 29 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 44007 term 29 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201} {6945817348988490150 29 202} {8085626216592738352 29 203} {1852835690717769389 29 204} {2638914062794631788 29 205}]
------------------------------------------------------
client write log 2389021173878528124 (index 206) to leader 2
client write log 5788411187069405216 (index 207) to leader 2
client write log 6207952641348558176 (index 208) to leader 2
client write log 4325494874227412786 (index 209) to leader 2
client write log 5112142715501258518 (index 210) to leader 2
client write log 7662725036384493172 (index 211) to leader 2
client write log 4470331840332928556 (index 212) to leader 2
client write log 9172093716765964231 (index 213) to leader 2
client write log 3464259060181901339 (index 214) to leader 2
client write log 993787041265072617 (index 215) to leader 2
client write log 4240953506720708373 (index 216) to leader 2
flag 75743 term 29 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 29 leader 2 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
flag 31272 term 29 leader 2 nextIndex[1]: 206  matchIndex[1]: 205
term 29 leader 2 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 29 leaderCommit: 205 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 26 199} {7687300328649766855 26 200} {7687300328649766855 28 201} {6945817348988490150 29 202} {8085626216592738352 29 203} {1852835690717769389 29 204} {2638914062794631788 29 205} {2389021173878528124 29 206} {5788411187069405216 29 207} {6207952641348558176 29 208} {4325494874227412786 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216}]
------------------------------------------------------
term 29 Server2 start snapshot! index=209
term 29 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=216
-------------------------------------------------------------
term 29 leader 2 nextIndex[0]: 205  matchIndex[0]: 204
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 29
------------------------------------------------------
flag 51511 term 29 leader 2 nextIndex[1]: 217  matchIndex[1]: 216
term 29 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=217
update matchIndex[1]=216
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216}]
------------------------------------------------------
term 29 Server1 start snapshot! index=209
term 29 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=216
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1905533109118753116 (index 217) to leader 2
term 29 server 2 not vote for server 0, 日志不够新
term 29 server 1 not vote for server 0, 日志不够新
term 31 server 1 vote for server 2
term 31 server 2 get vote from server 1
term 31 server 2 become leader
------------------------------------------------------
term 31 server 0 vote for server 2
term 31 server 2 get outdate rpc reply from server 0
flag 47742 term 31 leader 2 nextIndex[0]: 218  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
flag 66799 term 31 leader 2 nextIndex[1]: 218  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
term 31 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 218->217
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 218->217
------------------------------------------------------
term 31 leader 2 nextIndex[0]: 205  matchIndex[0]: 0
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 29
------------------------------------------------------
flag 92421 term 31 leader 2 nextIndex[1]: 217  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
term 31 server 0 InstallSnapshot success
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 29 rf.commitIndex 209 rf.lastApplied 209
flag 9578 term 31 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 31 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
flag 13678 term 31 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
flag 84085 term 31 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
flag 57149 term 31 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35932 term 31 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
flag 74104 term 31 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
term 31 server 0 not vote for server 2, 任期不够新
term 31 server 2 get outdate rpc reply from server 0
flag 64685 term 31 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
flag 51965 term 31 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
flag 86186 term 31 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
flag 252 term 31 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
flag 13059 term 31 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
flag 97831 term 31 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
flag 17720 term 31 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
flag 56254 term 31 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
flag 94183 term 31 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
flag 32553 term 31 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
flag 18750 term 31 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
flag 1520 term 31 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
flag 35884 term 31 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
flag 83772 term 31 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95916 term 31 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
flag 56050 term 31 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
flag 75695 term 31 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
flag 37256 term 31 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
flag 6546 term 31 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
flag 95511 term 31 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11330 term 31 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
flag 98729 term 31 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81244 term 31 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
flag 49352 term 31 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
flag 87157 term 31 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
flag 55887 term 31 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
flag 11448 term 31 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
flag 21551 term 31 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=216
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217}]
------------------------------------------------------
client write log 1905533109118753116 (index 218) to leader 2
flag 81277 term 31 leader 2 nextIndex[0]: 218  matchIndex[0]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
flag 61153 term 31 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 31 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 29 leaderCommit: 216 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:216 
term 31 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217} {1905533109118753116 31 218}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217} {1905533109118753116 31 218}]
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48953 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 43966 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217} {1905533109118753116 31 218}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217} {1905533109118753116 31 218}]
------------------------------------------------------
flag 56609 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 40006 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217} {1905533109118753116 31 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217} {1905533109118753116 31 218}]
------------------------------------------------------
flag 38510 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 86284 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217} {1905533109118753116 31 218}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217} {1905533109118753116 31 218}]
------------------------------------------------------
flag 83723 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 83077 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217} {1905533109118753116 31 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217} {1905533109118753116 31 218}]
------------------------------------------------------
flag 75053 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 53001 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217} {1905533109118753116 31 218}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217} {1905533109118753116 31 218}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2470464720862078038 (index 219) to leader 2
flag 78036 term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 77049 term 31 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 31 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 29 209} {5112142715501258518 29 210} {7662725036384493172 29 211} {4470331840332928556 29 212} {9172093716765964231 29 213} {3464259060181901339 29 214} {993787041265072617 29 215} {4240953506720708373 29 216} {1905533109118753116 29 217} {1905533109118753116 31 218} {2470464720862078038 31 219}]
------------------------------------------------------
term 31 Server2 start snapshot! index=219
term 31 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
flag 32559 term 31 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 219}]
------------------------------------------------------
term 31 Server1 start snapshot! index=219
term 31 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
client write log 8918581866872729533 (index 220) to leader 2
client write log 4377454038876693337 (index 221) to leader 2
client write log 3959431478914735905 (index 222) to leader 2
client write log 7529928906679525759 (index 223) to leader 2
client write log 7992657020655999218 (index 224) to leader 2
client write log 4385904193913081374 (index 225) to leader 2
client write log 4321326578048396096 (index 226) to leader 2
client write log 2659653612242215939 (index 227) to leader 2
client write log 45023906198260179 (index 228) to leader 2
term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
flag 63419 term 31 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 31 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
flag 62272 term 31 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 31 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2521530145647514853 (index 229) to leader 2
term 31 server 1 not vote for server 0, 日志不够新
term 31 server 2 not vote for server 0, 日志不够新
term 33 server 1 vote for server 2
term 33 server 2 get vote from server 1
term 33 server 2 become leader
------------------------------------------------------
term 33 server 0 vote for server 2
term 33 server 2 get outdate rpc reply from server 0
flag 23377 term 33 leader 2 nextIndex[0]: 230  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
flag 59488 term 33 leader 2 nextIndex[1]: 230  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 230->229
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 230->229
------------------------------------------------------
term 33 leader 2 nextIndex[0]: 219  matchIndex[0]: 0
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
flag 85363 term 33 leader 2 nextIndex[1]: 229  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
term 33 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 31 rf.commitIndex 219 rf.lastApplied 219
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60869 term 33 leader 2 nextIndex[0]: 220  matchIndex[0]: 219
term 33 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
flag 75833 term 33 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
flag 35301 term 33 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
flag 11908 term 33 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
flag 15306 term 33 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
flag 16773 term 33 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
flag 23434 term 33 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
flag 31482 term 33 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98855 term 33 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
flag 15479 term 33 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54465 term 33 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
flag 46181 term 33 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79012 term 33 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
flag 41570 term 33 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
flag 98232 term 33 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
flag 22584 term 33 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
flag 17441 term 33 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
flag 80767 term 33 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17965 term 33 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
flag 71549 term 33 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
flag 49402 term 33 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
flag 86495 term 33 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
flag 59802 term 33 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
flag 18636 term 33 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95775 term 33 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
flag 28729 term 33 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
flag 75915 term 33 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
flag 40515 term 33 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81749 term 33 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
flag 35587 term 33 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37085 term 33 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
flag 27457 term 33 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77046 term 33 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
flag 8369 term 33 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
flag 15319 term 33 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
flag 45895 term 33 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229}]
------------------------------------------------------
client write log 2521530145647514853 (index 230) to leader 2
flag 35188 term 33 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
flag 58387 term 33 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 33 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 31 leaderCommit: 228 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229} {2521530145647514853 33 230}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 31 219} {8918581866872729533 31 220} {4377454038876693337 31 221} {3959431478914735905 31 222} {7529928906679525759 31 223} {7992657020655999218 31 224} {4385904193913081374 31 225} {4321326578048396096 31 226} {2659653612242215939 31 227} {45023906198260179 31 228} {2521530145647514853 31 229} {2521530145647514853 33 230}]
------------------------------------------------------
term 33 Server2 start snapshot! index=229
term 33 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71846 term 33 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
flag 26816 term 33 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 31 229} {2521530145647514853 33 230}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 31 229} {2521530145647514853 33 230}]
------------------------------------------------------
term 33 Server0 start snapshot! index=229
term 33 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
term 33 Server1 start snapshot! index=229
term 33 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
flag 89730 term 33 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
flag 20160 term 33 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 31 229} {2521530145647514853 33 230}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 31 229} {2521530145647514853 33 230}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41132 term 33 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
flag 76331 term 33 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 31 229} {2521530145647514853 33 230}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 31 229} {2521530145647514853 33 230}]
------------------------------------------------------
flag 43137 term 33 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
flag 91875 term 33 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 31 229} {2521530145647514853 33 230}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 31 229} {2521530145647514853 33 230}]
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23187 term 33 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
flag 24733 term 33 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 31 229} {2521530145647514853 33 230}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 31 229} {2521530145647514853 33 230}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 46586 term 33 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
flag 37807 term 33 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
flag 97686 term 33 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
flag 47774 term 33 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
flag 42928 term 33 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
flag 31395 term 33 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35156 term 33 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
flag 59122 term 33 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
term 34 server 0 vote for server 1
term 34 server 1 get vote from server 0
term 34 server 1 become leader
------------------------------------------------------
flag 89499 term 34 leader 1 nextIndex[0]: 231  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
flag 37013 term 34 leader 1 nextIndex[2]: 231  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 31 229} {2521530145647514853 33 230}]
------------------------------------------------------
client write log 5359908401542854105 (index 231) to leader 1
flag 58809 term 33 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
flag 5862 term 33 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 231->230
------------------------------------------------------
flag 42756 term 34 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 34 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
flag 86684 term 34 leader 1 nextIndex[2]: 231  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 31 229} {2521530145647514853 33 230} {5359908401542854105 34 231}]
------------------------------------------------------
flag 53055 term 33 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
term 33 leader 2 nextIndex[1]: 0  matchIndex[1]: 230
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 31
------------------------------------------------------
flag 71213 term 34 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 34 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 231 
------------------------------------------------------
flag 20342 term 34 leader 1 nextIndex[2]: 231  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 31 229} {2521530145647514853 33 230} {5359908401542854105 34 231}]
------------------------------------------------------
client write log 3964188367237743301 (index 232) to leader 1
flag 25501 term 33 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
term 33 leader 2 nextIndex[1]: 0  matchIndex[1]: 230
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 31
------------------------------------------------------
flag 41159 term 34 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 34 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 34 leaderCommit: 231 
------------------------------------------------------
flag 47163 term 34 leader 1 nextIndex[2]: 231  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 31 229} {2521530145647514853 33 230} {5359908401542854105 34 231} {3964188367237743301 34 232}]
------------------------------------------------------
flag 6515 term 33 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
term 33 leader 2 nextIndex[1]: 0  matchIndex[1]: 230
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 31
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56126 term 34 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 34 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 93995 term 34 leader 1 nextIndex[2]: 231  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 232 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 31 229} {2521530145647514853 33 230} {5359908401542854105 34 231} {3964188367237743301 34 232}]
------------------------------------------------------
!!!!!!connect server 2
client write log 8519974206786679867 (index 233) to leader 1
flag 1292 term 33 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 33 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 230 
------------------------------------------------------
term 33 leader 2 nextIndex[1]: 0  matchIndex[1]: 230
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 31
------------------------------------------------------
term 34 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 0 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29897 term 34 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 34 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 34 leaderCommit: 232 
------------------------------------------------------
flag 21118 term 34 leader 1 nextIndex[2]: 231  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 232 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 31 229} {2521530145647514853 33 230} {5359908401542854105 34 231} {3964188367237743301 34 232} {8519974206786679867 34 233}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 31 229} {2521530145647514853 33 230} {5359908401542854105 34 231} {3964188367237743301 34 232} {8519974206786679867 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24522 term 34 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 81728 term 34 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 34 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 31 229} {2521530145647514853 33 230} {5359908401542854105 34 231} {3964188367237743301 34 232} {8519974206786679867 34 233}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 31 229} {2521530145647514853 33 230} {5359908401542854105 34 231} {3964188367237743301 34 232} {8519974206786679867 34 233}]
------------------------------------------------------
flag 58802 term 34 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 39021 term 34 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 34 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 31 229} {2521530145647514853 33 230} {5359908401542854105 34 231} {3964188367237743301 34 232} {8519974206786679867 34 233}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 31 229} {2521530145647514853 33 230} {5359908401542854105 34 231} {3964188367237743301 34 232} {8519974206786679867 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70803 term 34 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 43320 term 34 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 34 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 31 229} {2521530145647514853 33 230} {5359908401542854105 34 231} {3964188367237743301 34 232} {8519974206786679867 34 233}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 31 229} {2521530145647514853 33 230} {5359908401542854105 34 231} {3964188367237743301 34 232} {8519974206786679867 34 233}]
------------------------------------------------------
flag 10131 term 34 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 50122 term 34 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 34 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 31 229} {2521530145647514853 33 230} {5359908401542854105 34 231} {3964188367237743301 34 232} {8519974206786679867 34 233}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 31 229} {2521530145647514853 33 230} {5359908401542854105 34 231} {3964188367237743301 34 232} {8519974206786679867 34 233}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48724 term 34 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 33976 term 34 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 34 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 31 229} {2521530145647514853 33 230} {5359908401542854105 34 231} {3964188367237743301 34 232} {8519974206786679867 34 233}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 31 229} {2521530145647514853 33 230} {5359908401542854105 34 231} {3964188367237743301 34 232} {8519974206786679867 34 233}]
------------------------------------------------------
term 34 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1556 term 34 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 4146 term 34 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 34 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 31 229} {2521530145647514853 33 230} {5359908401542854105 34 231} {3964188367237743301 34 232} {8519974206786679867 34 233}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 31 229} {2521530145647514853 33 230} {5359908401542854105 34 231} {3964188367237743301 34 232} {8519974206786679867 34 233}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3610170284513370547 (index 234) to leader 1
flag 93204 term 34 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 34 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
flag 16315 term 34 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 34 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 233 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {2521530145647514853 33 230} {5359908401542854105 34 231} {3964188367237743301 34 232} {8519974206786679867 34 233} {3610170284513370547 34 234}]
------------------------------------------------------
flag 26655 term 34 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 34 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 35073 term 34 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 34 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 31 229} {2521530145647514853 33 230} {5359908401542854105 34 231} {3964188367237743301 34 232} {8519974206786679867 34 233} {3610170284513370547 34 234}]
------------------------------------------------------
client write log 2295148237779173456 (index 235) to leader 1
client write log 3353862219144656487 (index 236) to leader 1
client write log 6821391708415259102 (index 237) to leader 1
client write log 2066126411662651765 (index 238) to leader 1
client write log 2155068100787171649 (index 239) to leader 1
client write log 6448788346624544782 (index 240) to leader 1
client write log 6351471228687242475 (index 241) to leader 1
client write log 4660711296298201098 (index 242) to leader 1
flag 87979 term 34 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 34 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 61626 term 34 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 34 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 31 229} {2521530145647514853 33 230} {5359908401542854105 34 231} {3964188367237743301 34 232} {8519974206786679867 34 233} {3610170284513370547 34 234} {2295148237779173456 34 235} {3353862219144656487 34 236} {6821391708415259102 34 237} {2066126411662651765 34 238} {2155068100787171649 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242}]
------------------------------------------------------
term 34 Server1 start snapshot! index=239
term 34 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=242
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44681 term 34 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 34 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242}]
------------------------------------------------------
term 34 Server0 start snapshot! index=239
term 34 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=242
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7360362931550761688 (index 243) to leader 1
flag 64146 term 34 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 34 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 34
------------------------------------------------------
term 35 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 2 vote for server 1
term 36 server 0 vote for server 1
term 36 server 1 get vote from server 2
term 36 server 1 become leader
------------------------------------------------------
term 36 server 1 get outdate rpc reply from server 0
flag 47424 term 36 leader 1 nextIndex[0]: 244  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
flag 19207 term 36 leader 1 nextIndex[2]: 244  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
term 36 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 244->243
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74632 term 36 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 234  matchIndex[2]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 34
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
term 36 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 34 rf.commitIndex 239 rf.lastApplied 239
term 36 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
flag 26398 term 36 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
flag 15241 term 36 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 36 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
flag 4272 term 36 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
flag 79265 term 36 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
flag 22944 term 36 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
flag 38948 term 36 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
flag 43887 term 36 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
flag 15120 term 36 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
flag 58968 term 36 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
flag 67381 term 36 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
flag 83368 term 36 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
flag 51237 term 36 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
flag 20205 term 36 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
flag 28414 term 36 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
term 36 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
term 36 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91927 term 36 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
flag 31022 term 36 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
flag 16310 term 36 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
flag 87911 term 36 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
term 36 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11191 term 36 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
flag 32126 term 36 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
flag 83701 term 36 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
flag 76399 term 36 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
flag 61797 term 36 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
flag 44611 term 36 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
flag 30807 term 36 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
flag 10017 term 36 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
flag 33287 term 36 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
flag 10707 term 36 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
flag 64352 term 36 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
flag 71840 term 36 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62711 term 36 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
flag 34776 term 36 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95620 term 36 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
flag 4264 term 36 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243}]
------------------------------------------------------
client write log 7360362931550761688 (index 244) to leader 1
flag 84694 term 36 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
flag 73651 term 36 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 34 leaderCommit: 242 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243} {7360362931550761688 36 244}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243} {7360362931550761688 36 244}]
------------------------------------------------------
flag 83263 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 99638 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243} {7360362931550761688 36 244}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243} {7360362931550761688 36 244}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15807 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 59599 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243} {7360362931550761688 36 244}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243} {7360362931550761688 36 244}]
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52766 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 8713 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243} {7360362931550761688 36 244}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243} {7360362931550761688 36 244}]
------------------------------------------------------
flag 48055 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 85536 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243} {7360362931550761688 36 244}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243} {7360362931550761688 36 244}]
------------------------------------------------------
flag 22164 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 97339 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243} {7360362931550761688 36 244}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243} {7360362931550761688 36 244}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7541 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 72906 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243} {7360362931550761688 36 244}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243} {7360362931550761688 36 244}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1108190501332687382 (index 245) to leader 1
flag 32048 term 36 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 93826 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243} {7360362931550761688 36 244} {1108190501332687382 36 245}]
------------------------------------------------------
flag 89452 term 36 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 36 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 6285 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243} {7360362931550761688 36 244} {1108190501332687382 36 245}]
------------------------------------------------------
client write log 6718451435167617888 (index 246) to leader 1
client write log 8950961194766123915 (index 247) to leader 1
client write log 606589602879499164 (index 248) to leader 1
client write log 1772084481731444179 (index 249) to leader 1
client write log 4825942090319255052 (index 250) to leader 1
client write log 5007872421067427796 (index 251) to leader 1
client write log 7791591436206810323 (index 252) to leader 1
client write log 4948666160912825750 (index 253) to leader 1
client write log 4963904209996680104 (index 254) to leader 1
client write log 1995668970914766208 (index 255) to leader 1
client write log 3210618261373778124 (index 256) to leader 1
client write log 4699838956777340534 (index 257) to leader 1
client write log 338727995724524163 (index 258) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12950 term 36 leader 1 nextIndex[0]: 246  matchIndex[0]: 245
term 36 leader 1 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 90498 term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 34 239} {6448788346624544782 34 240} {6351471228687242475 34 241} {4660711296298201098 34 242} {7360362931550761688 34 243} {7360362931550761688 36 244} {1108190501332687382 36 245} {6718451435167617888 36 246} {8950961194766123915 36 247} {606589602879499164 36 248} {1772084481731444179 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258}]
------------------------------------------------------
term 36 Server1 start snapshot! index=249
term 36 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=258
-------------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44460 term 36 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 36 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258}]
------------------------------------------------------
term 36 Server0 start snapshot! index=249
term 36 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=258
-------------------------------------------------------------
!!!!!!connect server 2
client write log 9057389340801335650 (index 259) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 245->244
------------------------------------------------------
flag 19929 term 36 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 36 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 0  matchIndex[2]: 244
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
term 37 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 2 vote for server 1
term 38 server 0 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
term 38 server 1 get outdate rpc reply from server 0
flag 74877 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 29931 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 260->259
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
flag 44096 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 245  matchIndex[2]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
term 38 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 36 rf.commitIndex 249 rf.lastApplied 249
term 38 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
term 38 server 1 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 1
flag 58680 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 52292 term 38 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 38 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85537 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 55567 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
flag 23609 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 92910 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
flag 32366 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 79003 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
flag 39674 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 1073 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17281 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 86963 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43877 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 4730 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
term 38 server 1 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 1
flag 56100 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 49138 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
flag 57840 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 30586 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
flag 25652 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 76043 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
flag 90652 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 68744 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
flag 55087 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 77366 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
flag 65157 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 8832 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10951 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 94319 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
flag 47896 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 13825 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 0 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19054 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 62666 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259}]
------------------------------------------------------
term 38 server 2 not vote for server 1, 任期不够新
term 38 server 1 get outdate rpc reply from server 2
client write log 9057389340801335650 (index 260) to leader 1
flag 23607 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 23488 term 38 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259} {9057389340801335650 38 260}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 249} {4825942090319255052 36 250} {5007872421067427796 36 251} {7791591436206810323 36 252} {4948666160912825750 36 253} {4963904209996680104 36 254} {1995668970914766208 36 255} {3210618261373778124 36 256} {4699838956777340534 36 257} {338727995724524163 36 258} {9057389340801335650 36 259} {9057389340801335650 38 260}]
------------------------------------------------------
term 38 Server1 start snapshot! index=259
term 38 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
flag 17081 term 38 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 38 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
flag 6333 term 38 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 38 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9057389340801335650 38 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9057389340801335650 38 260}]
------------------------------------------------------
term 38 Server0 start snapshot! index=259
term 38 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
term 38 Server2 start snapshot! index=259
term 38 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
flag 77252 term 38 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 38 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
flag 20179 term 38 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 38 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9057389340801335650 38 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9057389340801335650 38 260}]
------------------------------------------------------
flag 20207 term 38 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 38 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
flag 41527 term 38 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 38 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9057389340801335650 38 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9057389340801335650 38 260}]
------------------------------------------------------
flag 89945 term 38 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 38 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
flag 93398 term 38 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 38 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 38 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
update nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9057389340801335650 38 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9057389340801335650 38 260}]
------------------------------------------------------
flag 36507 term 38 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 38 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
flag 3766 term 38 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 38 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9057389340801335650 38 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9057389340801335650 38 260}]
------------------------------------------------------
flag 58015 term 38 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 38 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
flag 84145 term 38 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 38 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9057389340801335650 38 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9057389340801335650 38 260}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 7548 term 38 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 38 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
flag 9815 term 38 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 38 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
flag 33841 term 38 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 38 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
flag 59417 term 38 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 38 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91477 term 38 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 38 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
flag 59052 term 38 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 38 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 261->260
------------------------------------------------------
flag 75978 term 38 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 38 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 260
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 261->260
------------------------------------------------------
term 39 server 2 vote for server 0
term 39 server 0 get vote from server 2
term 39 server 0 become leader
------------------------------------------------------
flag 98039 term 39 leader 0 nextIndex[1]: 261  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
flag 63269 term 39 leader 0 nextIndex[2]: 261  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 36 259} {9057389340801335650 38 260}]
------------------------------------------------------
client write log 2295378093037558734 (index 261) to leader 0
term 38 leader 1 nextIndex[0]: 0  matchIndex[0]: 260
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 260
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
flag 29432 term 39 leader 0 nextIndex[1]: 261  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
flag 34643 term 39 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 39 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261}]
------------------------------------------------------
term 38 leader 1 nextIndex[0]: 0  matchIndex[0]: 260
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 260
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
flag 6362 term 39 leader 0 nextIndex[1]: 261  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 261 
------------------------------------------------------
flag 68708 term 39 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 39 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=261
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261}]
------------------------------------------------------
client write log 530729360160742614 (index 262) to leader 0
term 38 leader 1 nextIndex[0]: 0  matchIndex[0]: 260
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 260
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
flag 35889 term 39 leader 0 nextIndex[1]: 261  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 261 
------------------------------------------------------
flag 21400 term 39 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 39 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 261 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
term 38 leader 1 nextIndex[0]: 0  matchIndex[0]: 260
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 260
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
flag 14419 term 39 leader 0 nextIndex[1]: 261  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 262 
------------------------------------------------------
flag 96224 term 39 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
!!!!!!connect server 1
client write log 2306353581987881208 (index 261) to leader 1
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 261->260
------------------------------------------------------
term 38 leader 1 nextIndex[0]: 0  matchIndex[0]: 260
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 260
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
term 39 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 39 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 36
------------------------------------------------------
flag 95231 term 39 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 39 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 39 server 1 InstallSnapshot fail
rf.commitIndex 260 args.LastIncludedIndex 259
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
term 39 server 2 not vote for server 1, 日志不够新
term 39 server 0 not vote for server 1, 日志不够新
term 41 server 2 vote for server 0
term 41 server 1 vote for server 0
term 41 server 0 get vote from server 2
term 41 server 0 become leader
------------------------------------------------------
term 41 server 0 get outdate rpc reply from server 1
flag 94666 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 23451 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 41 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 263->262
------------------------------------------------------
flag 58973 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 46554 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
term 41 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 262->261
------------------------------------------------------
flag 53303 term 41 leader 0 nextIndex[1]: 261  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 262 
------------------------------------------------------
flag 14065 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
flag 3950 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 7901 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83506 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 11088 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
flag 99828 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 43945 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37825 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 95074 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
flag 32395 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 9591 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
flag 31341 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 70936 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
flag 69749 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 50522 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
flag 5931 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 40625 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
flag 55517 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 65502 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
flag 65335 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 62813 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32496 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 34731 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
flag 88485 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 41581 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
flag 61117 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 45693 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49842 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 62015 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32395 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 37564 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262}]
------------------------------------------------------
client write log 2306353581987881208 (index 263) to leader 0
flag 50010 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
flag 54696 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 39 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262} {2306353581987881208 41 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262} {2306353581987881208 41 263}]
------------------------------------------------------
flag 78821 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 41587 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262} {2306353581987881208 41 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262} {2306353581987881208 41 263}]
------------------------------------------------------
flag 76678 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 91181 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262} {2306353581987881208 41 263}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262} {2306353581987881208 41 263}]
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66989 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 17641 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262} {2306353581987881208 41 263}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262} {2306353581987881208 41 263}]
------------------------------------------------------
flag 64219 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 68370 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262} {2306353581987881208 41 263}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262} {2306353581987881208 41 263}]
------------------------------------------------------
term 41 server 0 not vote for server 2, 任期不够新
term 41 server 2 get outdate rpc reply from server 0
flag 20723 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 75483 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262} {2306353581987881208 41 263}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262} {2306353581987881208 41 263}]
------------------------------------------------------
flag 52863 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 17428 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262} {2306353581987881208 41 263}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=264
update matchIndex[1]=263
update leader CommitIndex=263
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262} {2306353581987881208 41 263}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3582256321057243857 (index 264) to leader 0
flag 59546 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 40660 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262} {2306353581987881208 41 263} {3582256321057243857 41 264}]
------------------------------------------------------
flag 79545 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 25510 term 41 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=264
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262} {2306353581987881208 41 263} {3582256321057243857 41 264}]
------------------------------------------------------
client write log 5265700496181602879 (index 265) to leader 0
client write log 7061300235568585694 (index 266) to leader 0
client write log 8099165206484837198 (index 267) to leader 0
client write log 4283143008957262936 (index 268) to leader 0
client write log 845908476518534448 (index 269) to leader 0
client write log 6371289638093078589 (index 270) to leader 0
client write log 1354754864334602914 (index 271) to leader 0
client write log 918017987176506415 (index 272) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62716 term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
flag 89059 term 41 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 41 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 41 leaderCommit: 264 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:264 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 36 259} {9057389340801335650 38 260} {2295378093037558734 39 261} {530729360160742614 39 262} {2306353581987881208 41 263} {3582256321057243857 41 264} {5265700496181602879 41 265} {7061300235568585694 41 266} {8099165206484837198 41 267} {4283143008957262936 41 268} {845908476518534448 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272}]
------------------------------------------------------
term 41 Server0 start snapshot! index=269
term 41 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=272
-------------------------------------------------------------
term 41 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 leader 0 nextIndex[1]: 264  matchIndex[1]: 263
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
flag 35318 term 41 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 41 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272}]
------------------------------------------------------
term 41 Server2 start snapshot! index=269
term 41 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=272
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1095862316252120411 (index 273) to leader 0
term 41 server 0 not vote for server 1, 日志不够新
term 41 server 2 not vote for server 1, 日志不够新
term 43 server 2 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
term 43 server 1 vote for server 0
term 43 server 0 get outdate rpc reply from server 1
flag 89516 term 43 leader 0 nextIndex[1]: 274  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 11472 term 43 leader 0 nextIndex[2]: 274  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 274->273
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 274->273
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 264  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
flag 18242 term 43 leader 0 nextIndex[2]: 273  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 41 rf.commitIndex 269 rf.lastApplied 269
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64010 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 38722 term 43 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
flag 20050 term 43 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 37828 term 43 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
flag 84327 term 43 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 3454 term 43 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
term 43 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18784 term 43 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 54160 term 43 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
flag 55760 term 43 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 83589 term 43 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
flag 98299 term 43 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 95296 term 43 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36249 term 43 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 79664 term 43 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40641 term 43 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 37408 term 43 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 516 term 43 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 75180 term 43 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28263 term 43 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 25672 term 43 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
flag 30682 term 43 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 60834 term 43 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
flag 42561 term 43 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 61906 term 43 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
flag 14435 term 43 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 63029 term 43 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueterm 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
update nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
flag 30455 term 43 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 9679 term 43 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
flag 79280 term 43 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 16689 term 43 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
term 43 server 1 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 1
flag 38152 term 43 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 52507 term 43 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
term 43 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5838 term 43 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 73174 term 43 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
flag 45581 term 43 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 4487 term 43 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273}]
------------------------------------------------------
client write log 1095862316252120411 (index 274) to leader 0
flag 27791 term 43 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 41208 term 43 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273} {1095862316252120411 43 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273} {1095862316252120411 43 274}]
------------------------------------------------------
flag 37741 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 21788 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273} {1095862316252120411 43 274}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273} {1095862316252120411 43 274}]
------------------------------------------------------
term 43 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58265 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 55646 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273} {1095862316252120411 43 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273} {1095862316252120411 43 274}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60507 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 16136 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273} {1095862316252120411 43 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273} {1095862316252120411 43 274}]
------------------------------------------------------
flag 55069 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 88113 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273} {1095862316252120411 43 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273} {1095862316252120411 43 274}]
------------------------------------------------------
flag 67193 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 45011 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273} {1095862316252120411 43 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273} {1095862316252120411 43 274}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8230546451492887643 (index 275) to leader 0
flag 36706 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
flag 40018 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 274 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273} {1095862316252120411 43 274} {8230546451492887643 43 275}]
------------------------------------------------------
flag 75803 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 27480 term 43 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273} {1095862316252120411 43 274} {8230546451492887643 43 275}]
------------------------------------------------------
client write log 1536939450545882904 (index 276) to leader 0
client write log 2243098786135900377 (index 277) to leader 0
client write log 8371335149562023717 (index 278) to leader 0
client write log 6793589001671669336 (index 279) to leader 0
client write log 5837174183473219938 (index 280) to leader 0
client write log 8887387937414671963 (index 281) to leader 0
client write log 3107802012653217179 (index 282) to leader 0
client write log 1730110845770805253 (index 283) to leader 0
client write log 2499504192647842863 (index 284) to leader 0
client write log 5769487029864665679 (index 285) to leader 0
client write log 7326772830640161676 (index 286) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31042 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 62373 term 43 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 41 269} {6371289638093078589 41 270} {1354754864334602914 41 271} {918017987176506415 41 272} {1095862316252120411 41 273} {1095862316252120411 43 274} {8230546451492887643 43 275} {1536939450545882904 43 276} {2243098786135900377 43 277} {8371335149562023717 43 278} {6793589001671669336 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286}]
------------------------------------------------------
term 43 Server0 start snapshot! index=279
term 43 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=286
-------------------------------------------------------------
term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 25612 term 43 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 43 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 Server2 start snapshot! index=279
term 43 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=286
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6376392865262741683 (index 287) to leader 0
term 43 server 0 not vote for server 1, 日志不够新
term 43 server 2 not vote for server 1, 日志不够新
term 45 server 2 vote for server 0
term 45 server 1 vote for server 0
term 45 server 0 get vote from server 2
term 45 server 0 become leader
------------------------------------------------------
term 45 server 0 get outdate rpc reply from server 1
flag 51423 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
flag 82129 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 288->287
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 288->287
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 275  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 20524 term 45 leader 0 nextIndex[2]: 287  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
term 45 server 1 InstallSnapshot success
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 43 rf.commitIndex 279 rf.lastApplied 279
flag 37673 term 45 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
flag 74877 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
flag 22082 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
flag 27396 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10845 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
flag 79958 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
flag 60361 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
flag 95881 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
flag 66527 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
flag 58709 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
flag 60861 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
flag 5444 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
flag 18324 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
flag 67819 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
flag 7954 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
flag 57015 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
flag 10797 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
flag 61920 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
flag 1343 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
flag 61413 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
flag 1548 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
flag 68354 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
flag 94465 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
flag 69917 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
flag 96807 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
flag 73911 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
flag 16229 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
flag 4806 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
flag 56075 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
flag 72138 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
flag 5884 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
flag 76292 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
flag 80865 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
flag 2248 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287}]
------------------------------------------------------
client write log 6376392865262741683 (index 288) to leader 0
flag 36658 term 45 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
flag 48664 term 45 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 45 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287} {6376392865262741683 45 288}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287} {6376392865262741683 45 288}]
------------------------------------------------------
flag 82136 term 45 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 38167 term 45 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287} {6376392865262741683 45 288}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287} {6376392865262741683 45 288}]
------------------------------------------------------
flag 12920 term 45 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 45191 term 45 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287} {6376392865262741683 45 288}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287} {6376392865262741683 45 288}]
------------------------------------------------------
flag 96040 term 45 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 43249 term 45 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287} {6376392865262741683 45 288}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287} {6376392865262741683 45 288}]
------------------------------------------------------
flag 73798 term 45 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 93253 term 45 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287} {6376392865262741683 45 288}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287} {6376392865262741683 45 288}]
------------------------------------------------------
flag 95962 term 45 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 74544 term 45 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287} {6376392865262741683 45 288}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287} {6376392865262741683 45 288}]
------------------------------------------------------
flag 33694 term 45 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 77496 term 45 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287} {6376392865262741683 45 288}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287} {6376392865262741683 45 288}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 21712 term 45 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 74312 term 45 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 79376 term 45 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 41706 term 45 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 77710 term 45 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 25125 term 45 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 48612 term 45 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 31986 term 45 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
term 46 server 1 vote for server 2
term 46 server 2 get vote from server 1
term 46 server 2 become leader
------------------------------------------------------
flag 53513 term 46 leader 2 nextIndex[0]: 289  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 62427 term 46 leader 2 nextIndex[1]: 289  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287} {6376392865262741683 45 288}]
------------------------------------------------------
client write log 1734814308546422857 (index 289) to leader 2
flag 53230 term 45 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 79511 term 45 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 82517 term 46 leader 2 nextIndex[0]: 289  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 99672 term 46 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 46 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 43 279} {5837174183473219938 43 280} {8887387937414671963 43 281} {3107802012653217179 43 282} {1730110845770805253 43 283} {2499504192647842863 43 284} {5769487029864665679 43 285} {7326772830640161676 43 286} {6376392865262741683 43 287} {6376392865262741683 45 288} {1734814308546422857 46 289}]
------------------------------------------------------
term 46 Server2 start snapshot! index=289
term 46 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 289->288
------------------------------------------------------
flag 50011 term 45 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
term 45 leader 0 nextIndex[2]: 0  matchIndex[2]: 288
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 289  matchIndex[0]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 32180 term 46 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 46 289}]
------------------------------------------------------
term 46 Server1 start snapshot! index=289
term 46 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
client write log 5972679929623082384 (index 290) to leader 2
flag 19912 term 45 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
term 45 leader 0 nextIndex[2]: 0  matchIndex[2]: 288
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 289  matchIndex[0]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 16818 term 46 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {5972679929623082384 46 290}]
------------------------------------------------------
flag 40138 term 45 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
term 45 leader 0 nextIndex[2]: 0  matchIndex[2]: 288
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 289  matchIndex[0]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 69147 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {5972679929623082384 46 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
!!!!!!connect server 0
client write log 8266496617065295921 (index 291) to leader 2
flag 40476 term 45 leader 0 nextIndex[1]: 289  matchIndex[1]: 288
term 45 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
term 45 leader 0 nextIndex[2]: 0  matchIndex[2]: 288
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
term 46 server 1 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 46 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 leader 2 nextIndex[0]: 289  matchIndex[0]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 50698 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
term 46 server 0 InstallSnapshot success
------------------------------------------------------
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 46 rf.commitIndex 289 rf.lastApplied 289
term 46 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
flag 73689 term 46 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 82616 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291}]
------------------------------------------------------
flag 76892 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 57690 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291}]
------------------------------------------------------
flag 90077 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 90794 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291}]
------------------------------------------------------
flag 8188 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 85835 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291}]
------------------------------------------------------
flag 71634 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 61336 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291}]
------------------------------------------------------
term 46 server 0 not vote for server 2, 日志不够新
term 46 server 2 get outdate rpc reply from server 0
flag 79489 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 15666 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291}]
------------------------------------------------------
flag 26057 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 95647 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7300940637795355864 (index 292) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72567 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 71785 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292}]
------------------------------------------------------
flag 19616 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 66067 term 46 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 46 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292}]
------------------------------------------------------
client write log 5741949004158036901 (index 293) to leader 2
client write log 8080352295985801611 (index 294) to leader 2
client write log 5240673064537503512 (index 295) to leader 2
client write log 4932170138281766256 (index 296) to leader 2
client write log 7505893368277798444 (index 297) to leader 2
client write log 1515643047306196349 (index 298) to leader 2
flag 89697 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 77026 term 46 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 46 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298}]
------------------------------------------------------
flag 37121 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 53351 term 46 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 46 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2019106259618250067 (index 299) to leader 2
term 46 server 2 not vote for server 0, 日志不够新
term 46 server 1 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 1 vote for server 2
term 48 server 0 vote for server 2
term 48 server 2 get vote from server 1
term 48 server 2 become leader
------------------------------------------------------
term 48 server 2 get outdate rpc reply from server 0
flag 63763 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 63392 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 300->299
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 300->299
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12695 term 48 leader 2 nextIndex[0]: 292  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 82259 term 48 leader 2 nextIndex[1]: 299  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
flag 33661 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 1436 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
flag 71961 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 94877 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85010 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 61791 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
flag 62339 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 95567 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
flag 62374 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 26924 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49934 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 80806 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
flag 19096 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 98833 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77285 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 44737 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
flag 67233 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 98832 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23253 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 85135 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31227 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 28423 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
flag 1336 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 93965 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88882 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 7447 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89563 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 70009 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
flag 3574 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 80919 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
flag 1270 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 49355 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19058 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 79343 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
flag 74621 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 30668 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=298
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299}]
------------------------------------------------------
client write log 2019106259618250067 (index 300) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95914 term 48 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
flag 75670 term 48 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 298 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299} {2019106259618250067 48 300}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 46 289} {5972679929623082384 46 290} {8266496617065295921 46 291} {7300940637795355864 46 292} {5741949004158036901 46 293} {8080352295985801611 46 294} {5240673064537503512 46 295} {4932170138281766256 46 296} {7505893368277798444 46 297} {1515643047306196349 46 298} {2019106259618250067 46 299} {2019106259618250067 48 300}]
------------------------------------------------------
term 48 Server2 start snapshot! index=299
term 48 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=300
-------------------------------------------------------------
flag 5831 term 48 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 48 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 99210 term 48 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 48 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 46 299} {2019106259618250067 48 300}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 46 299} {2019106259618250067 48 300}]
------------------------------------------------------
term 48 Server0 start snapshot! index=299
term 48 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=300
-------------------------------------------------------------
term 48 Server1 start snapshot! index=299
term 48 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=300
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75563 term 48 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 48 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 38413 term 48 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 48 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 46 299} {2019106259618250067 48 300}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 46 299} {2019106259618250067 48 300}]
------------------------------------------------------
flag 46707 term 48 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 48 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 7669 term 48 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 48 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 46 299} {2019106259618250067 48 300}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 46 299} {2019106259618250067 48 300}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20006 term 48 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 48 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 74953 term 48 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 48 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
term 48 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
[{snapshot 46 299} {2019106259618250067 48 300}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 46 299} {2019106259618250067 48 300}]
------------------------------------------------------
flag 91889 term 48 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 48 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 11130 term 48 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 48 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 46 299} {2019106259618250067 48 300}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 46 299} {2019106259618250067 48 300}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79934 term 48 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 48 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 68366 term 48 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 48 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 46 299} {2019106259618250067 48 300}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 46 299} {2019106259618250067 48 300}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3396697730445817745 (index 301) to leader 2
flag 87310 term 48 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 48 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 81344 term 48 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 48 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {2019106259618250067 48 300} {3396697730445817745 48 301}]
------------------------------------------------------
flag 61221 term 48 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 48 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 301 
------------------------------------------------------
flag 62612 term 48 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 48 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 301 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=302
update matchIndex[1]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {2019106259618250067 48 300} {3396697730445817745 48 301}]
------------------------------------------------------
term 48 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 37433184245802971 (index 302) to leader 2
client write log 3026659428723275788 (index 303) to leader 2
client write log 4019075474216701198 (index 304) to leader 2
client write log 3090409863871484320 (index 305) to leader 2
client write log 6270633492387089365 (index 306) to leader 2
client write log 2068154097239360750 (index 307) to leader 2
client write log 1410826767472188145 (index 308) to leader 2
client write log 8171589431757497124 (index 309) to leader 2
client write log 478341815522824740 (index 310) to leader 2
flag 69690 term 48 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 48 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 301 
------------------------------------------------------
flag 2990 term 48 leader 2 nextIndex[1]: 302  matchIndex[1]: 301
term 48 leader 2 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 48 leaderCommit: 301 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 46 299} {2019106259618250067 48 300} {3396697730445817745 48 301} {37433184245802971 48 302} {3026659428723275788 48 303} {4019075474216701198 48 304} {3090409863871484320 48 305} {6270633492387089365 48 306} {2068154097239360750 48 307} {1410826767472188145 48 308} {8171589431757497124 48 309} {478341815522824740 48 310}]
------------------------------------------------------
term 48 Server2 start snapshot! index=309
term 48 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=310
-------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 301  matchIndex[0]: 300
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
flag 92925 term 48 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 48 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310}]
------------------------------------------------------
term 48 Server1 start snapshot! index=309
term 48 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=310
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4288544947580492198 (index 311) to leader 2
term 48 server 2 not vote for server 0, 日志不够新
term 48 server 1 not vote for server 0, 日志不够新
term 50 server 1 vote for server 2
term 50 server 0 vote for server 2
term 50 server 2 get vote from server 1
term 50 server 2 become leader
------------------------------------------------------
term 50 server 2 get outdate rpc reply from server 0
flag 78683 term 50 leader 2 nextIndex[0]: 312  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
flag 10020 term 50 leader 2 nextIndex[1]: 312  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 312->311
------------------------------------------------------
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 312->311
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 301  matchIndex[0]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
flag 75922 term 50 leader 2 nextIndex[1]: 311  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
term 50 server 0 InstallSnapshot success
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 48 rf.commitIndex 309 rf.lastApplied 309
term 50 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87681 term 50 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 50 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
flag 72234 term 50 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
flag 93857 term 50 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
flag 36353 term 50 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49297 term 50 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
flag 59565 term 50 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61258 term 50 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
flag 27777 term 50 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
flag 58648 term 50 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
flag 79158 term 50 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
flag 41998 term 50 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
flag 4009 term 50 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
flag 30700 term 50 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
flag 41557 term 50 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
flag 48712 term 50 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
flag 78040 term 50 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
flag 82406 term 50 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
flag 4191 term 50 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20217 term 50 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
flag 12455 term 50 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
flag 48636 term 50 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
flag 2946 term 50 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
flag 95906 term 50 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
flag 8583 term 50 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58483 term 50 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
flag 13998 term 50 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16382 term 50 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
flag 83744 term 50 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
flag 89199 term 50 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
flag 70569 term 50 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
flag 25574 term 50 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
flag 38363 term 50 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
flag 50911 term 50 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
flag 99521 term 50 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=310
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4288544947580492198 (index 312) to leader 2
flag 27689 term 50 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
flag 27413 term 50 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 50 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311} {4288544947580492198 50 312}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311} {4288544947580492198 50 312}]
------------------------------------------------------
flag 30775 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
flag 96570 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311} {4288544947580492198 50 312}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311} {4288544947580492198 50 312}]
------------------------------------------------------
term 50 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60317 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
flag 53373 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311} {4288544947580492198 50 312}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311} {4288544947580492198 50 312}]
------------------------------------------------------
flag 57926 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
flag 50907 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311} {4288544947580492198 50 312}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311} {4288544947580492198 50 312}]
------------------------------------------------------
flag 1520 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
flag 4751 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311} {4288544947580492198 50 312}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311} {4288544947580492198 50 312}]
------------------------------------------------------
flag 41117 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
flag 29817 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311} {4288544947580492198 50 312}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311} {4288544947580492198 50 312}]
------------------------------------------------------
flag 82139 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
flag 78276 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311} {4288544947580492198 50 312}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311} {4288544947580492198 50 312}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 30287 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
flag 90809 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61122 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
flag 36551 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
flag 91265 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
flag 43065 term 50 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 313->312
------------------------------------------------------
term 51 server 1 vote for server 0
term 51 server 0 get vote from server 1
term 51 server 0 become leader
------------------------------------------------------
flag 6930 term 51 leader 0 nextIndex[1]: 313  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
flag 60210 term 51 leader 0 nextIndex[2]: 313  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311} {4288544947580492198 50 312}]
------------------------------------------------------
flag 69943 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 0  matchIndex[1]: 312
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
client write log 3309512483784290146 (index 313) to leader 0
flag 61051 term 51 leader 0 nextIndex[1]: 313  matchIndex[1]: 312
term 51 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
flag 41661 term 51 leader 0 nextIndex[2]: 313  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311} {4288544947580492198 50 312} {3309512483784290146 51 313}]
------------------------------------------------------
flag 55801 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 0  matchIndex[1]: 312
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
flag 18461 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 83163 term 51 leader 0 nextIndex[2]: 313  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311} {4288544947580492198 50 312} {3309512483784290146 51 313}]
------------------------------------------------------
client write log 1917480480584349709 (index 314) to leader 0
client write log 7956763560824197684 (index 315) to leader 0
client write log 5277846717339117588 (index 316) to leader 0
client write log 6265998545704174511 (index 317) to leader 0
client write log 2968696399493429296 (index 318) to leader 0
client write log 627487081948684632 (index 319) to leader 0
client write log 4889576257748890958 (index 320) to leader 0
client write log 395713787692528041 (index 321) to leader 0
client write log 8793351571152591559 (index 322) to leader 0
client write log 7623684938540820310 (index 323) to leader 0
client write log 3810020395785294181 (index 324) to leader 0
client write log 3636986125937499473 (index 325) to leader 0
client write log 2330232352426629244 (index 326) to leader 0
flag 74415 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 0  matchIndex[1]: 312
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
flag 4475 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 56824 term 51 leader 0 nextIndex[2]: 313  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 48 309} {478341815522824740 48 310} {4288544947580492198 48 311} {4288544947580492198 50 312} {3309512483784290146 51 313} {1917480480584349709 51 314} {7956763560824197684 51 315} {5277846717339117588 51 316} {6265998545704174511 51 317} {2968696399493429296 51 318} {627487081948684632 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
term 51 Server0 start snapshot! index=319
term 51 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=326
-------------------------------------------------------------
flag 10678 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 0  matchIndex[1]: 312
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
flag 92064 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 313  matchIndex[2]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
term 51 Server1 start snapshot! index=319
term 51 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=326
-------------------------------------------------------------
flag 5612 term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 50 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 50 leaderCommit: 312 
------------------------------------------------------
term 50 leader 2 nextIndex[1]: 0  matchIndex[1]: 312
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
!!!!!!connect server 2
client write log 969292592590943001 (index 313) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 313->312
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
flag 87870 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 313  matchIndex[2]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 51 server 2 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 51 rf.commitIndex 319 rf.lastApplied 319
term 51 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
flag 94705 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 36953 term 51 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 51 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
term 51 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59178 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 40055 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44449 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 1985 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
flag 30844 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 80279 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
flag 20560 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 36544 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
flag 90518 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 93827 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
flag 51257 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 8165 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9637 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 45979 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
flag 23693 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 16227 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 2 not vote for server 0, 日志不够新
term 51 server 0 get outdate rpc reply from server 2
flag 92035 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 9466 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80260 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 12576 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
flag 58791 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 45333 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
flag 51251 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 87911 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 327->326
------------------------------------------------------
flag 68143 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 0  matchIndex[2]: 326
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 2 InstallSnapshot fail
rf.commitIndex 326 args.LastIncludedIndex 319
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
flag 15971 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 25432 term 51 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 51 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
flag 53640 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 8281 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
flag 82844 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 69105 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82086 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 62063 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19048 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 60378 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326}]
------------------------------------------------------
client write log 969292592590943001 (index 327) to leader 0
flag 32371 term 51 leader 0 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 57159 term 51 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326} {969292592590943001 51 327}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326} {969292592590943001 51 327}]
------------------------------------------------------
flag 22580 term 51 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 83646 term 51 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326} {969292592590943001 51 327}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326} {969292592590943001 51 327}]
------------------------------------------------------
term 51 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 328->327
------------------------------------------------------
flag 62857 term 51 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 0  matchIndex[2]: 327
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 2 InstallSnapshot fail
rf.commitIndex 327 args.LastIncludedIndex 319
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326} {969292592590943001 51 327}]
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
flag 91513 term 51 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 52482 term 51 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 51 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326} {969292592590943001 51 327}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326} {969292592590943001 51 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 328->327
------------------------------------------------------
flag 31341 term 51 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 0  matchIndex[2]: 327
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 2 InstallSnapshot fail
rf.commitIndex 327 args.LastIncludedIndex 319
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326} {969292592590943001 51 327}]
------------------------------------------------------
flag 93258 term 51 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 73082 term 51 leader 0 nextIndex[2]: 320  matchIndex[2]: 319
term 51 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326} {969292592590943001 51 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326} {969292592590943001 51 327}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8793974274215949105 (index 328) to leader 0
flag 46299 term 51 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 88851 term 51 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326} {969292592590943001 51 327} {8793974274215949105 51 328}]
------------------------------------------------------
flag 69016 term 51 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 73855 term 51 leader 0 nextIndex[2]: 329  matchIndex[2]: 328
term 51 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326} {969292592590943001 51 327} {8793974274215949105 51 328}]
------------------------------------------------------
client write log 3825212572278070416 (index 329) to leader 0
client write log 4183628347944133870 (index 330) to leader 0
client write log 6619381163858211204 (index 331) to leader 0
client write log 6788148673554480150 (index 332) to leader 0
client write log 7957859921197873032 (index 333) to leader 0
client write log 7645034113012963595 (index 334) to leader 0
client write log 1638870949287261090 (index 335) to leader 0
client write log 6570850738600026628 (index 336) to leader 0
client write log 8138983249171204536 (index 337) to leader 0
client write log 860518702694333425 (index 338) to leader 0
client write log 4991861277947618426 (index 339) to leader 0
flag 60115 term 51 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
flag 29483 term 51 leader 0 nextIndex[2]: 329  matchIndex[2]: 328
term 51 leader 0 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 51 leaderCommit: 328 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=339
leader log:
[{snapshot 51 319} {4889576257748890958 51 320} {395713787692528041 51 321} {8793351571152591559 51 322} {7623684938540820310 51 323} {3810020395785294181 51 324} {3636986125937499473 51 325} {2330232352426629244 51 326} {969292592590943001 51 327} {8793974274215949105 51 328} {3825212572278070416 51 329} {4183628347944133870 51 330} {6619381163858211204 51 331} {6788148673554480150 51 332} {7957859921197873032 51 333} {7645034113012963595 51 334} {1638870949287261090 51 335} {6570850738600026628 51 336} {8138983249171204536 51 337} {860518702694333425 51 338} {4991861277947618426 51 339}]
------------------------------------------------------
term 51 Server0 start snapshot! index=329
term 51 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=339
-------------------------------------------------------------
term 51 Server0 start snapshot! index=339
term 51 server0 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
term 51 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 51
------------------------------------------------------
flag 58066 term 51 leader 0 nextIndex[2]: 340  matchIndex[2]: 339
term 51 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=339
leader log:
[{snapshot 51 339}]
------------------------------------------------------
term 51 Server2 start snapshot! index=329
term 51 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=339
-------------------------------------------------------------
term 51 Server2 start snapshot! index=339
term 51 server2 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4862101356219613866 (index 340) to leader 0
term 51 server 2 not vote for server 1, 日志不够新
term 51 server 0 not vote for server 1, 日志不够新
term 53 server 2 vote for server 0
term 53 server 0 get vote from server 2
term 53 server 0 become leader
------------------------------------------------------
term 53 server 1 vote for server 0
term 53 server 0 get outdate rpc reply from server 1
flag 98074 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 76147 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 53 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 341->340
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 341->340
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 328  matchIndex[1]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 51
------------------------------------------------------
flag 36585 term 53 leader 0 nextIndex[2]: 340  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 1 InstallSnapshot success
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 51 rf.commitIndex 339 rf.lastApplied 339
flag 35097 term 53 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 10510 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14492 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 10043 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
flag 93311 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 88219 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
flag 85055 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 54190 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
flag 65386 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 35493 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
flag 8491 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 1135 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
flag 28707 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 37896 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94059 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 30033 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
term 53 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9470 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 4400 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
flag 87692 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 86797 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
flag 46936 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 49416 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
flag 56224 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 37744 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
flag 69081 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 96761 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
flag 97800 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 77307 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
flag 13335 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 27030 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
flag 614 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 58173 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
flag 45842 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 68121 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
flag 44903 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 94390 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=339
leader log:
[{snapshot 51 339} {4862101356219613866 51 340}]
------------------------------------------------------
client write log 4862101356219613866 (index 341) to leader 0
flag 88046 term 53 leader 0 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
flag 27028 term 53 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 53 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 51 leaderCommit: 339 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {4862101356219613866 51 340} {4862101356219613866 53 341}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {4862101356219613866 51 340} {4862101356219613866 53 341}]
------------------------------------------------------
flag 6129 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 40985 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {4862101356219613866 51 340} {4862101356219613866 53 341}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {4862101356219613866 51 340} {4862101356219613866 53 341}]
------------------------------------------------------
flag 17126 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 76297 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {4862101356219613866 51 340} {4862101356219613866 53 341}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {4862101356219613866 51 340} {4862101356219613866 53 341}]
------------------------------------------------------
flag 93462 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 42911 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {4862101356219613866 51 340} {4862101356219613866 53 341}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {4862101356219613866 51 340} {4862101356219613866 53 341}]
------------------------------------------------------
term 53 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 93718 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 99418 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {4862101356219613866 51 340} {4862101356219613866 53 341}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {4862101356219613866 51 340} {4862101356219613866 53 341}]
------------------------------------------------------
flag 20678 term 53 leader 0 nextIndex[1]: 342  matchIndex[1]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
flag 84551 term 53 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 53 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 53 leaderCommit: 341 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {4862101356219613866 51 340} {4862101356219613866 53 341}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 51 339} {4862101356219613866 51 340} {4862101356219613866 53 341}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
  ... Passed --  87.8  3 1969  875494  341
--- PASS: TestSnapshotInstall2D (87.76s)
PASS
