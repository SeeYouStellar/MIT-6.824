=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 0 vote for server 1
term 1 server 1 get outdate rpc reply from server 0
flag 22464 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 12963 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
term 1 server 0 AppendEntries true commitIndex:0 
[{<nil> 0 0}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 458405291619033618 (index 1) to leader 1
flag 84730 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 65904 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {458405291619033618 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {458405291619033618 1 1}]
------------------------------------------------------
flag 24462 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 76587 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {458405291619033618 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {458405291619033618 1 1}]
------------------------------------------------------
flag 38676 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 42855 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {458405291619033618 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {458405291619033618 1 1}]
------------------------------------------------------
flag 27830 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 16018 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {458405291619033618 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {458405291619033618 1 1}]
------------------------------------------------------
flag 75646 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 2292 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {458405291619033618 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {458405291619033618 1 1}]
------------------------------------------------------
flag 93305 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 16289 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {458405291619033618 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {458405291619033618 1 1}]
------------------------------------------------------
flag 40941 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 52100 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {458405291619033618 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {458405291619033618 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4024038993435943147 (index 2) to leader 1
flag 65902 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 62937 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {458405291619033618 1 1} {4024038993435943147 1 2}]
------------------------------------------------------
flag 95329 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 91235 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {458405291619033618 1 1} {4024038993435943147 1 2}]
------------------------------------------------------
client write log 475133399669588116 (index 3) to leader 1
client write log 7033915888902618698 (index 4) to leader 1
client write log 4378784230435935168 (index 5) to leader 1
client write log 4180439680532296085 (index 6) to leader 1
client write log 3066421336565942952 (index 7) to leader 1
client write log 7337250818868307753 (index 8) to leader 1
client write log 5956641975236587289 (index 9) to leader 1
client write log 7369635325309226535 (index 10) to leader 1
client write log 9174607688162632097 (index 11) to leader 1
client write log 5418746024513207876 (index 12) to leader 1
client write log 8964113377839720516 (index 13) to leader 1
client write log 2532216480565038461 (index 14) to leader 1
client write log 8380131801890374997 (index 15) to leader 1
client write log 1625891215133679863 (index 16) to leader 1
flag 49584 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 39049 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{<nil> 0 0} {458405291619033618 1 1} {4024038993435943147 1 2} {475133399669588116 1 3} {7033915888902618698 1 4} {4378784230435935168 1 5} {4180439680532296085 1 6} {3066421336565942952 1 7} {7337250818868307753 1 8} {5956641975236587289 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=16
-------------------------------------------------------------
flag 68589 term 1 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 1 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=16
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4540923657948564064 (index 17) to leader 1
term 1 server 1 not vote for server 2, 日志不够新
term 1 server 0 not vote for server 2, 日志不够新
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 0 vote for server 1
term 3 server 1 get outdate rpc reply from server 0
flag 10277 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 6798 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 18->17
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 18->17
------------------------------------------------------
flag 3184 term 3 leader 1 nextIndex[0]: 17  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 28599 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 11016 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
flag 83884 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 42144 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
flag 92493 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 570 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
flag 81387 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 35436 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
flag 29760 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 5498 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
flag 80508 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 82367 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
flag 97460 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 22561 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
flag 84337 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 79632 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
flag 1355 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 94759 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
flag 27215 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 64277 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
flag 39582 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 23493 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
flag 98123 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 15218 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
flag 3018 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 15148 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
flag 64561 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 87100 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
flag 78245 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 57757 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
flag 98324 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 16207 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
flag 15063 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 43187 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17}]
------------------------------------------------------
flag 1916 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 24518 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
client write log 4540923657948564064 (index 18) to leader 1
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17} {4540923657948564064 3 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17} {4540923657948564064 3 18}]
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34528 term 3 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
flag 7811 term 3 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 3 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17} {4540923657948564064 3 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17} {4540923657948564064 3 18}]
------------------------------------------------------
flag 73532 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 79351 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17} {4540923657948564064 3 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17} {4540923657948564064 3 18}]
------------------------------------------------------
flag 77972 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 1282 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17} {4540923657948564064 3 18}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17} {4540923657948564064 3 18}]
------------------------------------------------------
flag 65386 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 67744 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17} {4540923657948564064 3 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17} {4540923657948564064 3 18}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83773 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 19901 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17} {4540923657948564064 3 18}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17} {4540923657948564064 3 18}]
------------------------------------------------------
flag 94669 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 84372 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17} {4540923657948564064 3 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17} {4540923657948564064 3 18}]
------------------------------------------------------
flag 33023 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 59360 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17} {4540923657948564064 3 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17} {4540923657948564064 3 18}]
------------------------------------------------------
!!!!!!diconnect server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58770 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 86139 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 91559 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 62213 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 33674 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 92924 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 41841 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 67403 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
flag 96504 term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 37667 term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17} {4540923657948564064 3 18}]
------------------------------------------------------
client write log 2613229978074378171 (index 19) to leader 2
flag 18976 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 60627 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 65260 term 4 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 85886 term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:18 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {7369635325309226535 1 10} {9174607688162632097 1 11} {5418746024513207876 1 12} {8964113377839720516 1 13} {2532216480565038461 1 14} {8380131801890374997 1 15} {1625891215133679863 1 16} {4540923657948564064 1 17} {4540923657948564064 3 18} {2613229978074378171 4 19}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 31294 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 54868 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 22155 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
client write log 9113578693166967905 (index 20) to leader 2
client write log 8741119794395958766 (index 21) to leader 2
client write log 4410457398931689386 (index 22) to leader 2
client write log 8127725930213017966 (index 23) to leader 2
client write log 8167660574107226941 (index 24) to leader 2
client write log 4675477931475617356 (index 25) to leader 2
client write log 8172411779235702431 (index 26) to leader 2
client write log 5346829063765097544 (index 27) to leader 2
client write log 5102461703080845168 (index 28) to leader 2
client write log 1120266228599812102 (index 29) to leader 2
client write log 1453253082000637320 (index 30) to leader 2
client write log 4791710302406237361 (index 31) to leader 2
client write log 429172264726473267 (index 32) to leader 2
client write log 6989293304968321147 (index 33) to leader 2
client write log 1426149871784010502 (index 34) to leader 2
flag 1993 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 98971 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 97305 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 19} {9113578693166967905 4 20} {8741119794395958766 4 21} {4410457398931689386 4 22} {8127725930213017966 4 23} {8167660574107226941 4 24} {4675477931475617356 4 25} {8172411779235702431 4 26} {5346829063765097544 4 27} {5102461703080845168 4 28} {1120266228599812102 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=34
-------------------------------------------------------------
flag 75373 term 3 leader 1 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 75033 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
flag 27463 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=34
-------------------------------------------------------------
!!!!!!connect server 1
client write log 614188523078962466 (index 19) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 19->18
------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 18
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 5813 term 3 leader 1 nextIndex[2]: 19  matchIndex[2]: 18
term 3 leader 1 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 3 leaderCommit: 18 
------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 3 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85403 term 4 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 4 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 19  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot success
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 4 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
term 4 server 2 not vote for server 1, 日志不够新
term 4 server 0 not vote for server 1, 日志不够新
term 6 server 1 vote for server 2
term 6 server 0 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 2 get outdate rpc reply from server 0
flag 6917 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 60952 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 35->34
------------------------------------------------------
flag 85133 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 33124 term 6 leader 2 nextIndex[1]: 30  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
flag 73918 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 4260 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7691 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 35532 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44167 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 94447 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
flag 14708 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 45631 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
flag 65708 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 55548 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36653 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 63467 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4588 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 20396 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71543 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 84372 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
flag 63691 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 62160 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
flag 59265 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 20794 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
flag 24498 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 67492 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
flag 72277 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 50121 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7962 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 63656 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29447 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 88300 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92892 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 84660 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91096 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 78694 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88212 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 48086 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=35
update matchIndex[1]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34}]
------------------------------------------------------
client write log 614188523078962466 (index 35) to leader 2
flag 37826 term 6 leader 2 nextIndex[0]: 35  matchIndex[0]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
flag 3517 term 6 leader 2 nextIndex[1]: 35  matchIndex[1]: 34
term 6 leader 2 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 4 leaderCommit: 34 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34} {614188523078962466 6 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:34 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34} {614188523078962466 6 35}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30911 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 85612 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34} {614188523078962466 6 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34} {614188523078962466 6 35}]
------------------------------------------------------
flag 64810 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 61885 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34} {614188523078962466 6 35}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34} {614188523078962466 6 35}]
------------------------------------------------------
flag 80713 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 26827 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34} {614188523078962466 6 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34} {614188523078962466 6 35}]
------------------------------------------------------
flag 19569 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 41812 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34} {614188523078962466 6 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34} {614188523078962466 6 35}]
------------------------------------------------------
flag 70948 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 94056 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34} {614188523078962466 6 35}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34} {614188523078962466 6 35}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5294834023211034606 (index 36) to leader 2
flag 76852 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 66155 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34} {614188523078962466 6 35} {5294834023211034606 6 36}]
------------------------------------------------------
flag 95784 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 99443 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=36
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34} {614188523078962466 6 35} {5294834023211034606 6 36}]
------------------------------------------------------
client write log 5398378741324741554 (index 37) to leader 2
client write log 8340445192791247839 (index 38) to leader 2
client write log 1227262767429701858 (index 39) to leader 2
client write log 7026935572556558855 (index 40) to leader 2
client write log 8203299961012734984 (index 41) to leader 2
client write log 7362953400949664630 (index 42) to leader 2
client write log 4705078683890447420 (index 43) to leader 2
client write log 2656573103733325278 (index 44) to leader 2
client write log 8347892648983735892 (index 45) to leader 2
client write log 6537194798763458932 (index 46) to leader 2
flag 50625 term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
flag 26001 term 6 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 6 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 36 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:36 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 29} {1453253082000637320 4 30} {4791710302406237361 4 31} {429172264726473267 4 32} {6989293304968321147 4 33} {1426149871784010502 4 34} {614188523078962466 6 35} {5294834023211034606 6 36} {5398378741324741554 6 37} {8340445192791247839 6 38} {1227262767429701858 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=46
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 24644 term 6 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 6 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=46
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6910267559243762102 (index 47) to leader 2
term 6 leader 2 nextIndex[0]: 36  matchIndex[0]: 35
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 29427 term 6 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
term 6 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 7 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 server 1 vote for server 2
term 8 server 0 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 2 become leader
------------------------------------------------------
term 8 server 2 get outdate rpc reply from server 0
flag 23756 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 15089 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 48->47
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 36  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 97328 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
flag 30522 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 4530 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
flag 51444 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 22102 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57921 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 80736 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
flag 33245 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 36846 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
flag 50772 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 99862 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46681 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 17581 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
flag 94719 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 87991 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
flag 210 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 73226 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85455 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 7197 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
flag 80016 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 84603 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
flag 81118 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 5179 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
flag 44679 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 28486 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
flag 906 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 37860 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
flag 97527 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 38173 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
term 8 server 2 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 2
flag 37553 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 30443 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72565 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 76723 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47}]
------------------------------------------------------
client write log 6910267559243762102 (index 48) to leader 2
flag 89467 term 8 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 35543 term 8 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
term 8 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47} {6910267559243762102 8 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47} {6910267559243762102 8 48}]
------------------------------------------------------
flag 92258 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 68035 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47} {6910267559243762102 8 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47} {6910267559243762102 8 48}]
------------------------------------------------------
term 8 server 1 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 1
flag 21394 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 66089 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47} {6910267559243762102 8 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47} {6910267559243762102 8 48}]
------------------------------------------------------
flag 4927 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 34992 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47} {6910267559243762102 8 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47} {6910267559243762102 8 48}]
------------------------------------------------------
flag 74857 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 7311 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47} {6910267559243762102 8 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47} {6910267559243762102 8 48}]
------------------------------------------------------
flag 70677 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 23163 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47} {6910267559243762102 8 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47} {6910267559243762102 8 48}]
------------------------------------------------------
flag 65424 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 60360 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47} {6910267559243762102 8 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47} {6910267559243762102 8 48}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1652082193145409889 (index 49) to leader 2
flag 88404 term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 52402 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {7026935572556558855 6 40} {8203299961012734984 6 41} {7362953400949664630 6 42} {4705078683890447420 6 43} {2656573103733325278 6 44} {8347892648983735892 6 45} {6537194798763458932 6 46} {6910267559243762102 6 47} {6910267559243762102 8 48} {1652082193145409889 8 49}]
------------------------------------------------------
term 8 Server2 start snapshot! index=49
term 8 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 83981 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 Server1 start snapshot! index=49
term 8 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
client write log 2690426662916327930 (index 50) to leader 2
client write log 4634421289522182172 (index 51) to leader 2
client write log 7293666285990158877 (index 52) to leader 2
client write log 3312649666932641445 (index 53) to leader 2
client write log 50401540417243622 (index 54) to leader 2
client write log 842851982864924046 (index 55) to leader 2
client write log 1612477293074150821 (index 56) to leader 2
client write log 409094896895728024 (index 57) to leader 2
client write log 1275756913283079666 (index 58) to leader 2
client write log 8379248665778527755 (index 59) to leader 2
term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 27569 term 8 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 49} {2690426662916327930 8 50} {4634421289522182172 8 51} {7293666285990158877 8 52} {3312649666932641445 8 53} {50401540417243622 8 54} {842851982864924046 8 55} {1612477293074150821 8 56} {409094896895728024 8 57} {1275756913283079666 8 58} {8379248665778527755 8 59}]
------------------------------------------------------
term 8 Server2 start snapshot! index=59
term 8 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 8
------------------------------------------------------
flag 21815 term 8 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 8 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 59}]
------------------------------------------------------
term 8 Server1 start snapshot! index=59
term 8 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3881921983755112430 (index 60) to leader 2
term 8 server 2 not vote for server 0, 日志不够新
term 8 server 1 not vote for server 0, 日志不够新
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 10 server 1 vote for server 2
term 10 server 0 vote for server 2
term 10 server 2 get vote from server 1
term 10 server 2 become leader
------------------------------------------------------
term 10 server 2 get outdate rpc reply from server 0
flag 45693 term 10 leader 2 nextIndex[0]: 61  matchIndex[0]: 0
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 15741 term 10 leader 2 nextIndex[1]: 61  matchIndex[1]: 0
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 61->60
------------------------------------------------------
term 10 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 61->60
------------------------------------------------------
term 10 leader 2 nextIndex[0]: 49  matchIndex[0]: 0
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 8
------------------------------------------------------
flag 16400 term 10 leader 2 nextIndex[1]: 60  matchIndex[1]: 0
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 8 rf.commitIndex 59 rf.lastApplied 59
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
term 10 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
flag 77171 term 10 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 10 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 67847 term 10 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
term 10 server 1 not vote for server 2, 任期不够新
term 10 server 2 get outdate rpc reply from server 1
flag 67293 term 10 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 74712 term 10 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
flag 92835 term 10 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 63813 term 10 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33086 term 10 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 24927 term 10 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
flag 26996 term 10 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 38576 term 10 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
flag 64824 term 10 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 21480 term 10 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70143 term 10 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 91145 term 10 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
flag 60368 term 10 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 71446 term 10 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
flag 23161 term 10 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 30891 term 10 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
flag 47184 term 10 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 12492 term 10 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
flag 36155 term 10 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 56497 term 10 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
flag 83953 term 10 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 26937 term 10 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
flag 98106 term 10 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 79532 term 10 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48754 term 10 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 5179 term 10 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
flag 61730 term 10 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 66772 term 10 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
flag 93997 term 10 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 13303 term 10 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
flag 11179 term 10 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 9278 term 10 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=59
leader log:
[{snapshot 8 59} {3881921983755112430 8 60}]
------------------------------------------------------
client write log 3881921983755112430 (index 61) to leader 2
flag 69332 term 10 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
flag 58462 term 10 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 10 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 8 leaderCommit: 59 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61}]
------------------------------------------------------
flag 76689 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 56017 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33300 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 60523 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61}]
------------------------------------------------------
flag 61103 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 24428 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61}]
------------------------------------------------------
flag 75839 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 65893 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61}]
------------------------------------------------------
flag 53574 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 21528 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61}]
------------------------------------------------------
flag 80962 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 76653 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 44988 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 21886 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 18091 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 68851 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 34281 term 10 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 89089 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 62->61
------------------------------------------------------
term 10 leader 2 nextIndex[0]: 0  matchIndex[0]: 61
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 8
------------------------------------------------------
flag 94491 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 vote for server 1
term 11 server 1 get vote from server 0
term 11 server 1 become leader
------------------------------------------------------
flag 61864 term 11 leader 1 nextIndex[0]: 62  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 468 term 11 leader 1 nextIndex[2]: 62  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61}]
------------------------------------------------------
client write log 3057149639091843548 (index 62) to leader 1
term 10 leader 2 nextIndex[0]: 0  matchIndex[0]: 61
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 8
------------------------------------------------------
flag 56899 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 42442 term 11 leader 1 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 437 term 11 leader 1 nextIndex[2]: 62  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61} {3057149639091843548 11 62}]
------------------------------------------------------
term 10 leader 2 nextIndex[0]: 0  matchIndex[0]: 61
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 8
------------------------------------------------------
flag 78456 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
flag 7690 term 11 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 46482 term 11 leader 1 nextIndex[2]: 62  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 62 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=62
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61} {3057149639091843548 11 62}]
------------------------------------------------------
client write log 4693152060527945810 (index 63) to leader 1
term 10 leader 2 nextIndex[0]: 0  matchIndex[0]: 61
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 8
------------------------------------------------------
flag 25270 term 10 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 10 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 62->61
------------------------------------------------------
flag 64720 term 11 leader 1 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 1 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 48042 term 11 leader 1 nextIndex[2]: 62  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 62 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61} {3057149639091843548 11 62} {4693152060527945810 11 63}]
------------------------------------------------------
term 10 leader 2 nextIndex[0]: 0  matchIndex[0]: 61
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 8
------------------------------------------------------
term 10 leader 2 nextIndex[1]: 0  matchIndex[1]: 61
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 8
------------------------------------------------------
flag 14451 term 11 leader 1 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 84995 term 11 leader 1 nextIndex[2]: 62  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 63 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61} {3057149639091843548 11 62} {4693152060527945810 11 63}]
------------------------------------------------------
!!!!!!connect server 2
client write log 8416130056406355613 (index 64) to leader 1
term 10 leader 2 nextIndex[0]: 0  matchIndex[0]: 61
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 8
------------------------------------------------------
term 10 leader 2 nextIndex[1]: 0  matchIndex[1]: 61
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 8
------------------------------------------------------
term 11 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 10 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85375 term 11 leader 1 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 1 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 15748 term 11 leader 1 nextIndex[2]: 62  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 10 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61} {3057149639091843548 11 62} {4693152060527945810 11 63} {8416130056406355613 11 64}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61} {3057149639091843548 11 62} {4693152060527945810 11 63} {8416130056406355613 11 64}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2678 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 82039 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61} {3057149639091843548 11 62} {4693152060527945810 11 63} {8416130056406355613 11 64}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61} {3057149639091843548 11 62} {4693152060527945810 11 63} {8416130056406355613 11 64}]
------------------------------------------------------
flag 2064 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 19338 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61} {3057149639091843548 11 62} {4693152060527945810 11 63} {8416130056406355613 11 64}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61} {3057149639091843548 11 62} {4693152060527945810 11 63} {8416130056406355613 11 64}]
------------------------------------------------------
flag 25675 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 87705 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61} {3057149639091843548 11 62} {4693152060527945810 11 63} {8416130056406355613 11 64}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61} {3057149639091843548 11 62} {4693152060527945810 11 63} {8416130056406355613 11 64}]
------------------------------------------------------
flag 24931 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 98415 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61} {3057149639091843548 11 62} {4693152060527945810 11 63} {8416130056406355613 11 64}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61} {3057149639091843548 11 62} {4693152060527945810 11 63} {8416130056406355613 11 64}]
------------------------------------------------------
flag 21529 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 89517 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61} {3057149639091843548 11 62} {4693152060527945810 11 63} {8416130056406355613 11 64}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61} {3057149639091843548 11 62} {4693152060527945810 11 63} {8416130056406355613 11 64}]
------------------------------------------------------
flag 57592 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 29841 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61} {3057149639091843548 11 62} {4693152060527945810 11 63} {8416130056406355613 11 64}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61} {3057149639091843548 11 62} {4693152060527945810 11 63} {8416130056406355613 11 64}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7988621866383258067 (index 65) to leader 1
flag 81428 term 11 leader 1 nextIndex[0]: 65  matchIndex[0]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 8366 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61} {3057149639091843548 11 62} {4693152060527945810 11 63} {8416130056406355613 11 64} {7988621866383258067 11 65}]
------------------------------------------------------
flag 77756 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 3376 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61} {3057149639091843548 11 62} {4693152060527945810 11 63} {8416130056406355613 11 64} {7988621866383258067 11 65}]
------------------------------------------------------
client write log 3233984735133275833 (index 66) to leader 1
client write log 7454798127687135389 (index 67) to leader 1
client write log 598521802307085281 (index 68) to leader 1
client write log 5843215996260614080 (index 69) to leader 1
client write log 4247401048737852978 (index 70) to leader 1
client write log 1921208275542379933 (index 71) to leader 1
client write log 6934316978755116920 (index 72) to leader 1
client write log 129349194238447940 (index 73) to leader 1
client write log 3424680428805573715 (index 74) to leader 1
client write log 932815315027853536 (index 75) to leader 1
client write log 7531464092784762656 (index 76) to leader 1
client write log 1290477180246827881 (index 77) to leader 1
flag 18679 term 11 leader 1 nextIndex[0]: 66  matchIndex[0]: 65
term 11 leader 1 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
flag 92354 term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 65 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 8 59} {3881921983755112430 8 60} {3881921983755112430 10 61} {3057149639091843548 11 62} {4693152060527945810 11 63} {8416130056406355613 11 64} {7988621866383258067 11 65} {3233984735133275833 11 66} {7454798127687135389 11 67} {598521802307085281 11 68} {5843215996260614080 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77}]
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=77
-------------------------------------------------------------
flag 36342 term 11 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 11 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77}]
------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=77
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 65->64
------------------------------------------------------
!!!!!!connect server 2
client write log 2723566944199289944 (index 78) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 76774 term 11 leader 1 nextIndex[0]: 78  matchIndex[0]: 77
term 11 leader 1 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 0  matchIndex[2]: 64
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 12 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 2 vote for server 1
term 13 server 0 vote for server 1
term 13 server 1 get vote from server 2
term 13 server 1 become leader
------------------------------------------------------
term 13 server 1 get outdate rpc reply from server 0
flag 47327 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 34834 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 0
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 79->78
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
flag 39711 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 65  matchIndex[2]: 0
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
term 13 server 2 InstallSnapshot success
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot success
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
nextIndex[2] 70 matchIndex[2] 69 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61569 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 98201 term 13 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 13 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55105 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 74188 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64903 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 11446 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
flag 63656 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 12423 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99671 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 22929 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33127 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 79397 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
flag 48827 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 41517 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47457 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 58037 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8666 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 75924 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78268 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 22081 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
flag 38204 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 50142 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
flag 9907 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 12648 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16803 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 10025 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
flag 76497 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 94540 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
flag 83941 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 3305 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57721 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 92907 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
flag 71036 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 60380 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=79
update matchIndex[2]=78
update leader CommitIndex=77
leader log:
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78}]
------------------------------------------------------
client write log 2723566944199289944 (index 79) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69782 term 13 leader 1 nextIndex[0]: 79  matchIndex[0]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 28813 term 13 leader 1 nextIndex[2]: 79  matchIndex[2]: 78
term 13 leader 1 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78} {2723566944199289944 13 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 11 69} {4247401048737852978 11 70} {1921208275542379933 11 71} {6934316978755116920 11 72} {129349194238447940 11 73} {3424680428805573715 11 74} {932815315027853536 11 75} {7531464092784762656 11 76} {1290477180246827881 11 77} {2723566944199289944 11 78} {2723566944199289944 13 79}]
------------------------------------------------------
term 13 Server1 start snapshot! index=79
term 13 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
flag 50781 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 4177 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
term 13 Server2 start snapshot! index=79
term 13 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
term 13 Server0 start snapshot! index=79
term 13 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
flag 54500 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 55469 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
flag 97610 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 67724 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73140 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 88515 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
flag 70457 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 75343 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 13 79}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7437008542154245003 (index 80) to leader 1
flag 61239 term 13 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
flag 8134 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 79 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {7437008542154245003 13 80}]
------------------------------------------------------
term 13 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4367 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 94289 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=81
update matchIndex[0]=80
update leader CommitIndex=80
leader log:
[{snapshot 13 79} {7437008542154245003 13 80}]
------------------------------------------------------
client write log 5137637320162957185 (index 81) to leader 1
client write log 6473641928859545179 (index 82) to leader 1
client write log 9105471937149808043 (index 83) to leader 1
client write log 1629938649667074776 (index 84) to leader 1
client write log 8605938022146542846 (index 85) to leader 1
client write log 9154906242971206954 (index 86) to leader 1
client write log 5976400873990172102 (index 87) to leader 1
client write log 1361824485397499136 (index 88) to leader 1
client write log 7503498313017587757 (index 89) to leader 1
client write log 2534879241657519705 (index 90) to leader 1
client write log 658985783817905656 (index 91) to leader 1
client write log 4243472836207247781 (index 92) to leader 1
client write log 5787918075835458415 (index 93) to leader 1
client write log 1687656343697880610 (index 94) to leader 1
flag 67049 term 13 leader 1 nextIndex[0]: 81  matchIndex[0]: 80
term 13 leader 1 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
flag 55489 term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 80 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 79} {7437008542154245003 13 80} {5137637320162957185 13 81} {6473641928859545179 13 82} {9105471937149808043 13 83} {1629938649667074776 13 84} {8605938022146542846 13 85} {9154906242971206954 13 86} {5976400873990172102 13 87} {1361824485397499136 13 88} {7503498313017587757 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94}]
------------------------------------------------------
term 13 Server1 start snapshot! index=89
term 13 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=94
-------------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80040 term 13 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 13 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94}]
------------------------------------------------------
term 13 Server0 start snapshot! index=89
term 13 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=94
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8334741526138469859 (index 95) to leader 1
flag 52931 term 13 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 13 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
term 13 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 13 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
term 14 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 server 2 vote for server 1
term 15 server 0 vote for server 1
term 15 server 1 get vote from server 2
term 15 server 1 become leader
------------------------------------------------------
term 15 server 1 get outdate rpc reply from server 0
flag 89005 term 15 leader 1 nextIndex[0]: 96  matchIndex[0]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
flag 16532 term 15 leader 1 nextIndex[2]: 96  matchIndex[2]: 0
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
term 15 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 96->95
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
flag 53737 term 15 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
term 15 leader 1 nextIndex[2]: 80  matchIndex[2]: 0
term 15 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
term 15 server 2 InstallSnapshot success
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 13 rf.commitIndex 89 rf.lastApplied 89
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
flag 31011 term 15 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
flag 27281 term 15 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 15 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
flag 26236 term 15 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
flag 25525 term 15 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
flag 86690 term 15 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
flag 43308 term 15 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
flag 71995 term 15 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
flag 85490 term 15 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47156 term 15 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
flag 86534 term 15 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
flag 47095 term 15 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
flag 14941 term 15 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
flag 79469 term 15 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
flag 20371 term 15 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41528 term 15 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
flag 44950 term 15 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
flag 60994 term 15 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
flag 56181 term 15 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
term 15 server 0 not vote for server 2, 任期不够新
term 15 server 2 get outdate rpc reply from server 0
flag 84543 term 15 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
flag 89545 term 15 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10811 term 15 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
flag 27777 term 15 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
flag 4109 term 15 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
flag 71500 term 15 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
flag 79313 term 15 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
flag 7899 term 15 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 server 2 not vote for server 1, 任期不够新
term 15 server 1 get outdate rpc reply from server 2
flag 13660 term 15 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
flag 32710 term 15 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55943 term 15 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
flag 85681 term 15 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1341 term 15 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
flag 92601 term 15 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
flag 96726 term 15 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
flag 94175 term 15 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95}]
------------------------------------------------------
client write log 8334741526138469859 (index 96) to leader 1
term 15 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28385 term 15 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
flag 63969 term 15 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 13 leaderCommit: 94 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96}]
------------------------------------------------------
term 15 server 1 not vote for server 2, 任期不够新
term 15 server 2 get outdate rpc reply from server 1
flag 66953 term 15 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
flag 11607 term 15 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96}]
------------------------------------------------------
flag 56557 term 15 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
flag 59986 term 15 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96}]
------------------------------------------------------
flag 47531 term 15 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
flag 976 term 15 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:96 
term 15 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96}]
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20898 term 15 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
flag 80224 term 15 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96}]
------------------------------------------------------
flag 53668 term 15 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
flag 19823 term 15 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 45997 term 15 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
flag 21592 term 15 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
flag 13559 term 15 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
flag 9391 term 15 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
flag 26616 term 15 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
flag 29650 term 15 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 vote for server 0
term 16 server 0 get vote from server 2
term 16 server 0 become leader
------------------------------------------------------
flag 60306 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
flag 20554 term 16 leader 0 nextIndex[2]: 97  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96}]
------------------------------------------------------
flag 76554 term 15 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
flag 85668 term 15 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
client write log 270865103924359404 (index 97) to leader 0
flag 21887 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
flag 3467 term 16 leader 0 nextIndex[2]: 97  matchIndex[2]: 96
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97}]
------------------------------------------------------
flag 73167 term 15 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
flag 39808 term 15 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
flag 48775 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 97 
------------------------------------------------------
flag 16277 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=98
update matchIndex[2]=97
update leader CommitIndex=97
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97}]
------------------------------------------------------
client write log 1630411988026515337 (index 98) to leader 0
flag 8916 term 15 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
flag 19076 term 15 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
flag 73455 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 97 
------------------------------------------------------
flag 74530 term 16 leader 0 nextIndex[2]: 98  matchIndex[2]: 97
term 16 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
flag 23835 term 15 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
flag 6187 term 15 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
flag 76925 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 65511 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5401690481253236950 (index 97) to leader 1
flag 46065 term 15 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
flag 2600 term 15 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 15 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 16 server 0 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30602 term 16 leader 0 nextIndex[1]: 97  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 15 leaderCommit: 98 
------------------------------------------------------
flag 65786 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
flag 81743 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 71029 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
flag 30691 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 2523 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20009 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 8964 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
flag 69275 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 20421 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 99->98
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 0  matchIndex[1]: 98
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
flag 25889 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
term 16 server 1 InstallSnapshot fail
rf.commitIndex 98 args.LastIncludedIndex 89
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
flag 10252 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
flag 25226 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
flag 62376 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 79314 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
flag 12426 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 49169 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83829 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 23439 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
flag 23782 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 60113 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
flag 15266 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 2425 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 99->98
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 0  matchIndex[1]: 98
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
flag 92685 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
term 16 server 1 InstallSnapshot fail
rf.commitIndex 98 args.LastIncludedIndex 89
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
term 16 server 0 not vote for server 2, 任期不够新
term 16 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88626 term 16 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 98 
------------------------------------------------------
flag 5297 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41531 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 13314 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
flag 52180 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 90526 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39349 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 68436 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
flag 79227 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 26820 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
flag 77211 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 97891 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
flag 68987 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 38227 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98}]
------------------------------------------------------
client write log 5401690481253236950 (index 99) to leader 0
flag 90464 term 16 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
flag 92500 term 16 leader 0 nextIndex[2]: 99  matchIndex[2]: 98
term 16 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 98 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98} {5401690481253236950 16 99}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 13 89} {2534879241657519705 13 90} {658985783817905656 13 91} {4243472836207247781 13 92} {5787918075835458415 13 93} {1687656343697880610 13 94} {8334741526138469859 13 95} {8334741526138469859 15 96} {270865103924359404 16 97} {1630411988026515337 16 98} {5401690481253236950 16 99}]
------------------------------------------------------
term 16 Server0 start snapshot! index=99
term 16 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
term 16 server 1 not vote for server 2, 任期不够新
term 16 server 2 get outdate rpc reply from server 1
flag 25010 term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
flag 7558 term 16 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
term 16 Server2 start snapshot! index=99
term 16 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
term 16 Server1 start snapshot! index=99
term 16 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
flag 53860 term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
flag 59619 term 16 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
flag 31873 term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
flag 76970 term 16 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
flag 26809 term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
flag 22747 term 16 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
flag 57015 term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
flag 45979 term 16 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
flag 40511 term 16 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
flag 12133 term 16 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=100
update matchIndex[1]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 99}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3726968785834964963 (index 100) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 100->99
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 0  matchIndex[1]: 99
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 45377 term 16 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 16 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 99 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {3726968785834964963 16 100}]
------------------------------------------------------
term 16 leader 0 nextIndex[1]: 0  matchIndex[1]: 99
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 6245 term 16 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=101
update matchIndex[2]=100
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {3726968785834964963 16 100}]
------------------------------------------------------
client write log 5061622238308727190 (index 101) to leader 0
client write log 9028968231534835598 (index 102) to leader 0
client write log 9019566979644064020 (index 103) to leader 0
client write log 3082152254502621265 (index 104) to leader 0
client write log 7582000135418401136 (index 105) to leader 0
client write log 2804248032266062562 (index 106) to leader 0
client write log 1973139210563787967 (index 107) to leader 0
client write log 475666409151149769 (index 108) to leader 0
client write log 1959215826877919836 (index 109) to leader 0
client write log 7939873165866698950 (index 110) to leader 0
client write log 5971689107679739800 (index 111) to leader 0
client write log 3773591562918236299 (index 112) to leader 0
client write log 1413221891757322296 (index 113) to leader 0
client write log 4847334221674384716 (index 114) to leader 0
client write log 9132107982603746539 (index 115) to leader 0
term 16 leader 0 nextIndex[1]: 0  matchIndex[1]: 99
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 22564 term 16 leader 0 nextIndex[2]: 101  matchIndex[2]: 100
term 16 leader 0 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 99} {3726968785834964963 16 100} {5061622238308727190 16 101} {9028968231534835598 16 102} {9019566979644064020 16 103} {3082152254502621265 16 104} {7582000135418401136 16 105} {2804248032266062562 16 106} {1973139210563787967 16 107} {475666409151149769 16 108} {1959215826877919836 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115}]
------------------------------------------------------
term 16 Server0 start snapshot! index=109
term 16 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=115
-------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 0  matchIndex[1]: 99
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 34468 term 16 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 16 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115}]
------------------------------------------------------
term 16 Server2 start snapshot! index=109
term 16 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=115
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4143658535544780494 (index 116) to leader 0
term 16 server 2 not vote for server 1, 日志不够新
term 16 server 0 not vote for server 1, 日志不够新
term 18 server 2 vote for server 0
term 18 server 0 get vote from server 2
term 18 server 0 become leader
------------------------------------------------------
term 18 server 1 vote for server 0
term 18 server 0 get outdate rpc reply from server 1
flag 10051 term 18 leader 0 nextIndex[1]: 117  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 99754 term 18 leader 0 nextIndex[2]: 117  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 117->116
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 117->116
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 100  matchIndex[1]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 97644 term 18 leader 0 nextIndex[2]: 116  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
term 18 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 16 rf.commitIndex 109 rf.lastApplied 109
term 18 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83685 term 18 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 18 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 84885 term 18 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
flag 25092 term 18 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 10246 term 18 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
flag 20233 term 18 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 72843 term 18 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
flag 64676 term 18 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 72879 term 18 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
flag 8952 term 18 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 69957 term 18 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
flag 86975 term 18 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 5086 term 18 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43250 term 18 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 36636 term 18 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
flag 93734 term 18 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 71550 term 18 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
flag 84555 term 18 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 84914 term 18 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20137 term 18 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 78229 term 18 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
flag 61884 term 18 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 13749 term 18 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
term 18 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
flag 16886 term 18 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 7064 term 18 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17765 term 18 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 43068 term 18 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65069 term 18 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 4025 term 18 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
flag 35155 term 18 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 29739 term 18 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
flag 8183 term 18 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 23994 term 18 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53951 term 18 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 18794 term 18 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
flag 23508 term 18 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 50693 term 18 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116}]
------------------------------------------------------
client write log 4143658535544780494 (index 117) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77515 term 18 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
flag 34273 term 18 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 18 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 16 leaderCommit: 115 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116} {4143658535544780494 18 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116} {4143658535544780494 18 117}]
------------------------------------------------------
flag 1626 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 63810 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116} {4143658535544780494 18 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116} {4143658535544780494 18 117}]
------------------------------------------------------
term 18 server 1 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 1
flag 33646 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 4332 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116} {4143658535544780494 18 117}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116} {4143658535544780494 18 117}]
------------------------------------------------------
flag 94492 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 53353 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116} {4143658535544780494 18 117}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116} {4143658535544780494 18 117}]
------------------------------------------------------
flag 92190 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 83925 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116} {4143658535544780494 18 117}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116} {4143658535544780494 18 117}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4698 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 23500 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116} {4143658535544780494 18 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116} {4143658535544780494 18 117}]
------------------------------------------------------
flag 64980 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 18782 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116} {4143658535544780494 18 117}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116} {4143658535544780494 18 117}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4206465129846902076 (index 118) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22816 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
flag 25513 term 18 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 18 leaderCommit: 117 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116} {4143658535544780494 18 117} {4206465129846902076 18 118}]
------------------------------------------------------
flag 64673 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 48431 term 18 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116} {4143658535544780494 18 117} {4206465129846902076 18 118}]
------------------------------------------------------
client write log 4425068258470020444 (index 119) to leader 0
client write log 5846442834303622417 (index 120) to leader 0
client write log 2400116734761682068 (index 121) to leader 0
client write log 1469931255046737646 (index 122) to leader 0
client write log 2853067456958814598 (index 123) to leader 0
client write log 3525893954829798672 (index 124) to leader 0
client write log 5268653423789287172 (index 125) to leader 0
client write log 7559030898061393730 (index 126) to leader 0
client write log 9133398590508161402 (index 127) to leader 0
client write log 2829809439833037045 (index 128) to leader 0
flag 59620 term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 80197 term 18 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 18 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 16 109} {7939873165866698950 16 110} {5971689107679739800 16 111} {3773591562918236299 16 112} {1413221891757322296 16 113} {4847334221674384716 16 114} {9132107982603746539 16 115} {4143658535544780494 16 116} {4143658535544780494 18 117} {4206465129846902076 18 118} {4425068258470020444 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128}]
------------------------------------------------------
term 18 Server0 start snapshot! index=119
term 18 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=128
-------------------------------------------------------------
term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 18
------------------------------------------------------
flag 90985 term 18 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 18 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128}]
------------------------------------------------------
term 18 Server2 start snapshot! index=119
term 18 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=128
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4008857273249959817 (index 129) to leader 0
term 18 server 2 not vote for server 1, 日志不够新
term 18 server 0 not vote for server 1, 日志不够新
term 20 server 2 vote for server 0
term 20 server 1 vote for server 0
term 20 server 0 get vote from server 2
term 20 server 0 become leader
------------------------------------------------------
term 20 server 0 get outdate rpc reply from server 1
flag 87486 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
flag 28590 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
term 20 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 130->129
------------------------------------------------------
term 20 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 130->129
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 leader 0 nextIndex[1]: 118  matchIndex[1]: 0
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 18
------------------------------------------------------
flag 65156 term 20 leader 0 nextIndex[2]: 129  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
term 20 server 1 InstallSnapshot success
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 18 rf.commitIndex 119 rf.lastApplied 119
flag 66716 term 20 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 20 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
flag 22008 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65834 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
flag 1287 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
flag 62256 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
flag 55733 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98548 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
flag 50522 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
flag 30500 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
flag 29923 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
flag 16720 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
flag 87864 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93477 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
flag 26679 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
flag 1837 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
flag 14217 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
flag 57619 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
flag 89554 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
flag 90909 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
flag 4649 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
flag 10632 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
flag 74658 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
flag 88094 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
flag 17360 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
flag 36456 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
flag 86806 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
flag 69490 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
flag 4246 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
flag 35478 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
flag 71832 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
flag 48610 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
flag 23543 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83333 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
flag 372 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=128
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129}]
------------------------------------------------------
client write log 4008857273249959817 (index 130) to leader 0
flag 84310 term 20 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
flag 58165 term 20 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 20 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129} {4008857273249959817 20 130}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 18 119} {5846442834303622417 18 120} {2400116734761682068 18 121} {1469931255046737646 18 122} {2853067456958814598 18 123} {3525893954829798672 18 124} {5268653423789287172 18 125} {7559030898061393730 18 126} {9133398590508161402 18 127} {2829809439833037045 18 128} {4008857273249959817 18 129} {4008857273249959817 20 130}]
------------------------------------------------------
term 20 Server0 start snapshot! index=129
term 20 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
flag 1208 term 20 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 24387 term 20 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 18 129} {4008857273249959817 20 130}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 18 129} {4008857273249959817 20 130}]
------------------------------------------------------
term 20 Server1 start snapshot! index=129
term 20 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
term 20 Server2 start snapshot! index=129
term 20 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
flag 93258 term 20 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 51530 term 20 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 18 129} {4008857273249959817 20 130}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 18 129} {4008857273249959817 20 130}]
------------------------------------------------------
flag 29548 term 20 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 19717 term 20 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 18 129} {4008857273249959817 20 130}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 18 129} {4008857273249959817 20 130}]
------------------------------------------------------
flag 48830 term 20 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 17395 term 20 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 18 129} {4008857273249959817 20 130}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 18 129} {4008857273249959817 20 130}]
------------------------------------------------------
flag 20953 term 20 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 85677 term 20 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 18 129} {4008857273249959817 20 130}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 18 129} {4008857273249959817 20 130}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 73071 term 20 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 82324 term 20 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 60745 term 20 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 26453 term 20 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 98373 term 20 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 4561 term 20 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 11464 term 20 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 3389 term 20 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 21 server 1 vote for server 2
term 21 server 2 get vote from server 1
term 21 server 2 become leader
------------------------------------------------------
client write log 543383228347685315 (index 131) to leader 2
flag 52180 term 21 leader 2 nextIndex[0]: 131  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 4848 term 21 leader 2 nextIndex[1]: 131  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {4008857273249959817 20 130} {543383228347685315 21 131}]
------------------------------------------------------
flag 83400 term 20 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 57482 term 20 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 37244 term 21 leader 2 nextIndex[0]: 131  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 131 
------------------------------------------------------
flag 5714 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 18 129} {4008857273249959817 20 130} {543383228347685315 21 131}]
------------------------------------------------------
client write log 8254495189038821832 (index 132) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 131->130
------------------------------------------------------
flag 15770 term 20 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
flag 11749 term 20 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 18
------------------------------------------------------
flag 74977 term 21 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 21 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 21 leaderCommit: 131 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 18 129} {4008857273249959817 20 130} {543383228347685315 21 131} {8254495189038821832 21 132}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 131->130
------------------------------------------------------
flag 10164 term 20 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 20 leader 0 nextIndex[2]: 0  matchIndex[2]: 130
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 18
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 18
------------------------------------------------------
flag 1605 term 21 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=133
update matchIndex[1]=132
update leader CommitIndex=132
leader log:
[{snapshot 18 129} {4008857273249959817 20 130} {543383228347685315 21 131} {8254495189038821832 21 132}]
------------------------------------------------------
!!!!!!connect server 0
client write log 4822687893973347176 (index 133) to leader 2
flag 91727 term 20 leader 0 nextIndex[1]: 131  matchIndex[1]: 130
term 20 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 130 
------------------------------------------------------
term 20 leader 0 nextIndex[2]: 0  matchIndex[2]: 130
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 18
------------------------------------------------------
term 21 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 20 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 server 1 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 18
------------------------------------------------------
flag 27252 term 21 leader 2 nextIndex[1]: 133  matchIndex[1]: 132
term 21 leader 2 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 18 129} {4008857273249959817 20 130} {543383228347685315 21 131} {8254495189038821832 21 132} {4822687893973347176 21 133}]
------------------------------------------------------
term 21 server 0 InstallSnapshot fail
rf.commitIndex 130 args.LastIncludedIndex 129
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
term 21 server 2 not vote for server 0, 日志不够新
term 21 server 1 not vote for server 0, 日志不够新
term 23 server 1 vote for server 2
term 23 server 2 get vote from server 1
term 23 server 2 become leader
term 23 server 0 vote for server 2
------------------------------------------------------
term 23 server 2 get outdate rpc reply from server 0
flag 10443 term 23 leader 2 nextIndex[0]: 134  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 33816 term 23 leader 2 nextIndex[1]: 134  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 18 129} {4008857273249959817 20 130} {543383228347685315 21 131} {8254495189038821832 21 132} {4822687893973347176 21 133}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 134->133
------------------------------------------------------
flag 90373 term 23 leader 2 nextIndex[0]: 131  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 133 
------------------------------------------------------
flag 33919 term 23 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 18 129} {4008857273249959817 20 130} {543383228347685315 21 131} {8254495189038821832 21 132} {4822687893973347176 21 133}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 18 129} {4008857273249959817 20 130} {543383228347685315 21 131} {8254495189038821832 21 132} {4822687893973347176 21 133}]
------------------------------------------------------
flag 88361 term 23 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 24556 term 23 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 18 129} {4008857273249959817 20 130} {543383228347685315 21 131} {8254495189038821832 21 132} {4822687893973347176 21 133}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 18 129} {4008857273249959817 20 130} {543383228347685315 21 131} {8254495189038821832 21 132} {4822687893973347176 21 133}]
------------------------------------------------------
flag 41868 term 23 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 69857 term 23 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 18 129} {4008857273249959817 20 130} {543383228347685315 21 131} {8254495189038821832 21 132} {4822687893973347176 21 133}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 18 129} {4008857273249959817 20 130} {543383228347685315 21 131} {8254495189038821832 21 132} {4822687893973347176 21 133}]
------------------------------------------------------
flag 59524 term 23 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 21827 term 23 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 18 129} {4008857273249959817 20 130} {543383228347685315 21 131} {8254495189038821832 21 132} {4822687893973347176 21 133}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 18 129} {4008857273249959817 20 130} {543383228347685315 21 131} {8254495189038821832 21 132} {4822687893973347176 21 133}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21795 term 23 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 87213 term 23 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 18 129} {4008857273249959817 20 130} {543383228347685315 21 131} {8254495189038821832 21 132} {4822687893973347176 21 133}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 18 129} {4008857273249959817 20 130} {543383228347685315 21 131} {8254495189038821832 21 132} {4822687893973347176 21 133}]
------------------------------------------------------
flag 32774 term 23 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 69774 term 23 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 18 129} {4008857273249959817 20 130} {543383228347685315 21 131} {8254495189038821832 21 132} {4822687893973347176 21 133}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=133
leader log:
[{snapshot 18 129} {4008857273249959817 20 130} {543383228347685315 21 131} {8254495189038821832 21 132} {4822687893973347176 21 133}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2497046144242197287 (index 134) to leader 2
flag 95177 term 23 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
flag 1793 term 23 leader 2 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 18 129} {4008857273249959817 20 130} {543383228347685315 21 131} {8254495189038821832 21 132} {4822687893973347176 21 133} {2497046144242197287 23 134}]
------------------------------------------------------
flag 74382 term 23 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 96457 term 23 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 18 129} {4008857273249959817 20 130} {543383228347685315 21 131} {8254495189038821832 21 132} {4822687893973347176 21 133} {2497046144242197287 23 134}]
------------------------------------------------------
client write log 8372026700497988437 (index 135) to leader 2
client write log 4597635681613630327 (index 136) to leader 2
client write log 8657291847684871016 (index 137) to leader 2
client write log 5979735682216489206 (index 138) to leader 2
client write log 6106341826022218630 (index 139) to leader 2
client write log 390117682914905479 (index 140) to leader 2
flag 53797 term 23 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 2 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 30485 term 23 leader 2 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 18 129} {4008857273249959817 20 130} {543383228347685315 21 131} {8254495189038821832 21 132} {4822687893973347176 21 133} {2497046144242197287 23 134} {8372026700497988437 23 135} {4597635681613630327 23 136} {8657291847684871016 23 137} {5979735682216489206 23 138} {6106341826022218630 23 139} {390117682914905479 23 140}]
------------------------------------------------------
term 23 Server2 start snapshot! index=139
term 23 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
term 23 leader 2 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 68525 term 23 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140}]
------------------------------------------------------
term 23 Server1 start snapshot! index=139
term 23 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=140
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8087649490254562101 (index 141) to leader 2
term 23 server 2 not vote for server 0, 日志不够新
term 23 server 1 not vote for server 0, 日志不够新
term 25 server 1 vote for server 2
term 25 server 2 get vote from server 1
term 25 server 2 become leader
------------------------------------------------------
term 25 server 0 vote for server 2
term 25 server 2 get outdate rpc reply from server 0
flag 273 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 17009 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 142->141
------------------------------------------------------
term 25 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 142->141
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 server 0 not vote for server 2, 任期不够新
term 25 server 2 get outdate rpc reply from server 0
term 25 leader 2 nextIndex[0]: 134  matchIndex[0]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 11301 term 25 leader 2 nextIndex[1]: 141  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 0 InstallSnapshot success
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 23 rf.commitIndex 139 rf.lastApplied 139
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
flag 97126 term 25 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 41805 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
flag 64509 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 1124 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
flag 8844 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 73520 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
flag 37904 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 8667 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
flag 53643 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 94003 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68398 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 25078 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
term 25 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94330 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 42274 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
flag 68299 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 949 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6179 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 23791 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
flag 32049 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 21969 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
flag 80609 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 20896 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
flag 79293 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 88496 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
flag 99236 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 55386 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
flag 62982 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 85710 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98563 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 30703 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
flag 39526 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 60232 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
flag 28901 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 30684 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99298 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 27440 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141}]
------------------------------------------------------
client write log 8087649490254562101 (index 142) to leader 2
flag 74176 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 52592 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141} {8087649490254562101 25 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141} {8087649490254562101 25 142}]
------------------------------------------------------
flag 61652 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 97812 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141} {8087649490254562101 25 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141} {8087649490254562101 25 142}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67538 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 56177 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
term 25 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141} {8087649490254562101 25 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141} {8087649490254562101 25 142}]
------------------------------------------------------
flag 84214 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 64592 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141} {8087649490254562101 25 142}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141} {8087649490254562101 25 142}]
------------------------------------------------------
flag 25532 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 13260 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141} {8087649490254562101 25 142}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141} {8087649490254562101 25 142}]
------------------------------------------------------
flag 68414 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 80653 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141} {8087649490254562101 25 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141} {8087649490254562101 25 142}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1015270095602249964 (index 143) to leader 2
flag 93544 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
flag 64916 term 25 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141} {8087649490254562101 25 142} {1015270095602249964 25 143}]
------------------------------------------------------
flag 35477 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 39057 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141} {8087649490254562101 25 142} {1015270095602249964 25 143}]
------------------------------------------------------
client write log 542347782448011782 (index 144) to leader 2
client write log 3521641752218462438 (index 145) to leader 2
client write log 2455506642763765696 (index 146) to leader 2
client write log 9009234804401114807 (index 147) to leader 2
client write log 273631820248004769 (index 148) to leader 2
client write log 2690832613794854823 (index 149) to leader 2
client write log 7637598675134060027 (index 150) to leader 2
flag 15501 term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
flag 20544 term 25 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 23 139} {390117682914905479 23 140} {8087649490254562101 23 141} {8087649490254562101 25 142} {1015270095602249964 25 143} {542347782448011782 25 144} {3521641752218462438 25 145} {2455506642763765696 25 146} {9009234804401114807 25 147} {273631820248004769 25 148} {2690832613794854823 25 149} {7637598675134060027 25 150}]
------------------------------------------------------
term 25 Server2 start snapshot! index=149
term 25 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=150
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
flag 90776 term 25 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 25 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 25 149} {7637598675134060027 25 150}]
------------------------------------------------------
term 25 Server1 start snapshot! index=149
term 25 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=150
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1771705071539208204 (index 151) to leader 2
term 25 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
flag 59825 term 25 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 25 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 25 leaderCommit: 150 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151}]
------------------------------------------------------
term 26 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 27 server 1 vote for server 2
term 27 server 2 get vote from server 1
term 27 server 2 become leader
------------------------------------------------------
term 27 server 0 vote for server 2
term 27 server 2 get outdate rpc reply from server 0
flag 19094 term 27 leader 2 nextIndex[0]: 152  matchIndex[0]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
flag 24045 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 0
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
term 27 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 152->151
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 2 nextIndex[0]: 143  matchIndex[0]: 0
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
flag 78723 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 27 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151}]
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 25 rf.commitIndex 149 rf.lastApplied 149
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95069 term 27 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 27 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
flag 46013 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151}]
------------------------------------------------------
flag 72270 term 27 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
flag 5321 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18639 term 27 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
flag 32670 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98969 term 27 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
flag 21977 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151}]
------------------------------------------------------
flag 65724 term 27 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
flag 48103 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151}]
------------------------------------------------------
term 27 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56257 term 27 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
flag 17876 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
flag 10268 term 27 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
flag 8106 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5911 term 27 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
flag 32305 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
flag 28711 term 27 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
flag 94839 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 152->151
------------------------------------------------------
term 28 server 0 vote for server 1
term 28 server 1 get vote from server 0
term 28 server 1 become leader
------------------------------------------------------
flag 91054 term 28 leader 1 nextIndex[0]: 152  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
flag 96197 term 28 leader 1 nextIndex[2]: 152  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=151
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151}]
------------------------------------------------------
client write log 518316640662573544 (index 152) to leader 1
term 27 leader 2 nextIndex[0]: 0  matchIndex[0]: 151
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
flag 82638 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
flag 42018 term 28 leader 1 nextIndex[0]: 152  matchIndex[0]: 151
term 28 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
flag 98766 term 28 leader 1 nextIndex[2]: 152  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:151 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151} {518316640662573544 28 152}]
------------------------------------------------------
term 27 leader 2 nextIndex[0]: 0  matchIndex[0]: 151
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
flag 14047 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
flag 25729 term 28 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 152 
------------------------------------------------------
flag 93781 term 28 leader 1 nextIndex[2]: 152  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151} {518316640662573544 28 152}]
------------------------------------------------------
client write log 6078399670219420030 (index 153) to leader 1
term 27 leader 2 nextIndex[0]: 0  matchIndex[0]: 151
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
flag 55750 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
flag 32745 term 28 leader 1 nextIndex[0]: 153  matchIndex[0]: 152
term 28 leader 1 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 28 leaderCommit: 152 
------------------------------------------------------
flag 33213 term 28 leader 1 nextIndex[2]: 152  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151} {518316640662573544 28 152} {6078399670219420030 28 153}]
------------------------------------------------------
term 27 leader 2 nextIndex[0]: 0  matchIndex[0]: 151
term 27 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
flag 79193 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96618 term 28 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 4904 term 28 leader 1 nextIndex[2]: 152  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 153 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151} {518316640662573544 28 152} {6078399670219420030 28 153}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5939893062618868495 (index 154) to leader 1
term 27 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
flag 61393 term 27 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 27 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
flag 57439 term 27 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 27 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 151 
------------------------------------------------------
term 28 server 1 AppendEntries false 领导者任期过期 args.Term 27
------------------------------------------------------
term 28 server 0 AppendEntries false 领导者任期过期 args.Term 27
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47102 term 28 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 28 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 28 leaderCommit: 153 
------------------------------------------------------
flag 56742 term 28 leader 1 nextIndex[2]: 152  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 25 leaderCommit: 153 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:151 
term 28 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151} {518316640662573544 28 152} {6078399670219420030 28 153} {5939893062618868495 28 154}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151} {518316640662573544 28 152} {6078399670219420030 28 153} {5939893062618868495 28 154}]
------------------------------------------------------
flag 60438 term 28 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 28 leaderCommit: 154 
------------------------------------------------------
flag 21655 term 28 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 28 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151} {518316640662573544 28 152} {6078399670219420030 28 153} {5939893062618868495 28 154}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151} {518316640662573544 28 152} {6078399670219420030 28 153} {5939893062618868495 28 154}]
------------------------------------------------------
flag 46094 term 28 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 28 leaderCommit: 154 
------------------------------------------------------
flag 38145 term 28 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 28 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151} {518316640662573544 28 152} {6078399670219420030 28 153} {5939893062618868495 28 154}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151} {518316640662573544 28 152} {6078399670219420030 28 153} {5939893062618868495 28 154}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98947 term 28 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 28 leaderCommit: 154 
------------------------------------------------------
flag 4242 term 28 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 28 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151} {518316640662573544 28 152} {6078399670219420030 28 153} {5939893062618868495 28 154}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151} {518316640662573544 28 152} {6078399670219420030 28 153} {5939893062618868495 28 154}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59544 term 28 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 28 leaderCommit: 154 
------------------------------------------------------
flag 88917 term 28 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 28 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151} {518316640662573544 28 152} {6078399670219420030 28 153} {5939893062618868495 28 154}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151} {518316640662573544 28 152} {6078399670219420030 28 153} {5939893062618868495 28 154}]
------------------------------------------------------
flag 2114 term 28 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 28 leaderCommit: 154 
------------------------------------------------------
flag 84434 term 28 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 28 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151} {518316640662573544 28 152} {6078399670219420030 28 153} {5939893062618868495 28 154}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151} {518316640662573544 28 152} {6078399670219420030 28 153} {5939893062618868495 28 154}]
------------------------------------------------------
flag 86584 term 28 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 28 leaderCommit: 154 
------------------------------------------------------
flag 53594 term 28 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 28 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151} {518316640662573544 28 152} {6078399670219420030 28 153} {5939893062618868495 28 154}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151} {518316640662573544 28 152} {6078399670219420030 28 153} {5939893062618868495 28 154}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7831374952646012477 (index 155) to leader 1
flag 27126 term 28 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 28 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 28 leaderCommit: 154 
------------------------------------------------------
flag 93061 term 28 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 28 leaderCommit: 154 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151} {518316640662573544 28 152} {6078399670219420030 28 153} {5939893062618868495 28 154} {7831374952646012477 28 155}]
------------------------------------------------------
flag 65725 term 28 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
flag 55617 term 28 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151} {518316640662573544 28 152} {6078399670219420030 28 153} {5939893062618868495 28 154} {7831374952646012477 28 155}]
------------------------------------------------------
client write log 469498833834555556 (index 156) to leader 1
client write log 1048975605498738628 (index 157) to leader 1
client write log 4813937292079161830 (index 158) to leader 1
client write log 802248861407943656 (index 159) to leader 1
client write log 2695751445758995647 (index 160) to leader 1
client write log 7100235379261695566 (index 161) to leader 1
client write log 4072000864226667345 (index 162) to leader 1
client write log 5280763976971482318 (index 163) to leader 1
client write log 1034824391226255435 (index 164) to leader 1
client write log 1447618437421924200 (index 165) to leader 1
flag 32740 term 28 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 28 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
flag 80110 term 28 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 149} {7637598675134060027 25 150} {1771705071539208204 25 151} {518316640662573544 28 152} {6078399670219420030 28 153} {5939893062618868495 28 154} {7831374952646012477 28 155} {469498833834555556 28 156} {1048975605498738628 28 157} {4813937292079161830 28 158} {802248861407943656 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165}]
------------------------------------------------------
term 28 Server1 start snapshot! index=159
term 28 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=165
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17181 term 28 leader 1 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165}]
------------------------------------------------------
term 28 Server0 start snapshot! index=159
term 28 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=165
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6689818976897523426 (index 166) to leader 1
term 28 server 1 not vote for server 2, 日志不够新
term 28 server 0 not vote for server 2, 日志不够新
term 30 server 0 vote for server 1
term 30 server 2 vote for server 1
term 30 server 1 get vote from server 0
term 30 server 1 become leader
------------------------------------------------------
term 30 server 1 get outdate rpc reply from server 2
flag 53718 term 30 leader 1 nextIndex[0]: 167  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 31868 term 30 leader 1 nextIndex[2]: 167  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 167->166
------------------------------------------------------
term 30 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 167->166
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19302 term 30 leader 1 nextIndex[0]: 166  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 155  matchIndex[2]: 0
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
term 30 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 28 rf.commitIndex 159 rf.lastApplied 159
term 30 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3476 term 30 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 55888 term 30 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 30 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
term 30 server 1 not vote for server 0, 任期不够新
term 30 server 0 get outdate rpc reply from server 1
flag 24807 term 30 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 58316 term 30 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17008 term 30 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 60039 term 30 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
flag 84006 term 30 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 82370 term 30 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 2 not vote for server 1, 任期不够新
term 30 server 1 get outdate rpc reply from server 2
flag 39033 term 30 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 75299 term 30 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
flag 10654 term 30 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 30153 term 30 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
flag 61774 term 30 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 74848 term 30 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
flag 98967 term 30 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 12004 term 30 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
flag 85486 term 30 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 49254 term 30 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38241 term 30 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 87337 term 30 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1912 term 30 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 7270 term 30 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62761 term 30 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 71676 term 30 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
term 30 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3796 term 30 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 86240 term 30 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
flag 67104 term 30 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 42108 term 30 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
flag 54780 term 30 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 26527 term 30 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
flag 58014 term 30 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 23496 term 30 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
flag 33146 term 30 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 63027 term 30 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72521 term 30 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 31012 term 30 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166}]
------------------------------------------------------
client write log 6689818976897523426 (index 167) to leader 1
flag 54589 term 30 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 72932 term 30 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166} {6689818976897523426 30 167}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166} {6689818976897523426 30 167}]
------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 185 term 30 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 30 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
flag 20925 term 30 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166} {6689818976897523426 30 167}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166} {6689818976897523426 30 167}]
------------------------------------------------------
term 30 server 2 not vote for server 0, 任期不够新
term 30 server 0 get outdate rpc reply from server 2
flag 52343 term 30 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 30 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
flag 69516 term 30 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166} {6689818976897523426 30 167}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166} {6689818976897523426 30 167}]
------------------------------------------------------
flag 7939 term 30 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 30 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
flag 42815 term 30 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166} {6689818976897523426 30 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166} {6689818976897523426 30 167}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58247 term 30 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 30 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
flag 34684 term 30 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
term 30 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166} {6689818976897523426 30 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166} {6689818976897523426 30 167}]
------------------------------------------------------
flag 36772 term 30 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 30 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
flag 29776 term 30 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166} {6689818976897523426 30 167}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166} {6689818976897523426 30 167}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8342843796720501397 (index 168) to leader 1
flag 80658 term 30 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 30 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
flag 27511 term 30 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166} {6689818976897523426 30 167} {8342843796720501397 30 168}]
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32038 term 30 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 30 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 30 leaderCommit: 168 
------------------------------------------------------
flag 5649 term 30 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 168 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166} {6689818976897523426 30 167} {8342843796720501397 30 168}]
------------------------------------------------------
client write log 6115893431299054434 (index 169) to leader 1
client write log 950844944311388250 (index 170) to leader 1
client write log 8306963072212172014 (index 171) to leader 1
client write log 6464702258280071432 (index 172) to leader 1
client write log 4214662568654576911 (index 173) to leader 1
client write log 51387202287741131 (index 174) to leader 1
client write log 1707052317218019427 (index 175) to leader 1
flag 13905 term 30 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 30 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 30 leaderCommit: 168 
------------------------------------------------------
flag 50102 term 30 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 168 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 159} {2695751445758995647 28 160} {7100235379261695566 28 161} {4072000864226667345 28 162} {5280763976971482318 28 163} {1034824391226255435 28 164} {1447618437421924200 28 165} {6689818976897523426 28 166} {6689818976897523426 30 167} {8342843796720501397 30 168} {6115893431299054434 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175}]
------------------------------------------------------
term 30 Server1 start snapshot! index=169
term 30 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=175
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 168->167
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50230 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 0  matchIndex[2]: 167
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
term 30 Server0 start snapshot! index=169
term 30 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=175
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1968306628994032418 (index 176) to leader 1
term 30 server 1 not vote for server 2, 日志不够新
term 32 server 2 vote for server 1
term 32 server 1 get vote from server 2
term 32 server 1 become leader
------------------------------------------------------
term 32 server 0 vote for server 1
term 32 server 1 get outdate rpc reply from server 0
flag 99256 term 32 leader 1 nextIndex[0]: 177  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 49209 term 32 leader 1 nextIndex[2]: 177  matchIndex[2]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 177->176
------------------------------------------------------
term 32 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 177->176
------------------------------------------------------
flag 92663 term 32 leader 1 nextIndex[0]: 176  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 168  matchIndex[2]: 0
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
term 32 server 2 InstallSnapshot success
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
rf.lastIncludedIndex 169 rf.lastIncludedTerm 30 rf.commitIndex 169 rf.lastApplied 169
flag 74054 term 32 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 47691 term 32 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
flag 92682 term 32 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 78291 term 32 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
flag 26941 term 32 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 73687 term 32 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
flag 58664 term 32 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 97518 term 32 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48737 term 32 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 39322 term 32 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
flag 47808 term 32 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 66099 term 32 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
flag 37460 term 32 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 20225 term 32 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
flag 918 term 32 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 61651 term 32 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
flag 70915 term 32 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 80496 term 32 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27900 term 32 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 52473 term 32 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
flag 30363 term 32 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 87923 term 32 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77052 term 32 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 37362 term 32 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
flag 92388 term 32 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 7694 term 32 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
flag 76641 term 32 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 69506 term 32 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
flag 29847 term 32 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 1565 term 32 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
flag 52408 term 32 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 77869 term 32 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
flag 73716 term 32 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 31358 term 32 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3850 term 32 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 65955 term 32 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176}]
------------------------------------------------------
client write log 1968306628994032418 (index 177) to leader 1
flag 74919 term 32 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
flag 76483 term 32 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176} {1968306628994032418 32 177}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176} {1968306628994032418 32 177}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96378 term 32 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 59131 term 32 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176} {1968306628994032418 32 177}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176} {1968306628994032418 32 177}]
------------------------------------------------------
flag 31633 term 32 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 13562 term 32 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176} {1968306628994032418 32 177}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176} {1968306628994032418 32 177}]
------------------------------------------------------
flag 85840 term 32 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 49352 term 32 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176} {1968306628994032418 32 177}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176} {1968306628994032418 32 177}]
------------------------------------------------------
flag 17514 term 32 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 98413 term 32 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176} {1968306628994032418 32 177}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176} {1968306628994032418 32 177}]
------------------------------------------------------
flag 75380 term 32 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 36926 term 32 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:177 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176} {1968306628994032418 32 177}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176} {1968306628994032418 32 177}]
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89342 term 32 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 11933 term 32 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176} {1968306628994032418 32 177}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176} {1968306628994032418 32 177}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 93236 term 32 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 64385 term 32 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 72807 term 32 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 65781 term 32 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 78319 term 32 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 61753 term 32 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 79846 term 32 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 97148 term 32 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 178->177
------------------------------------------------------
term 33 server 2 vote for server 0
term 33 server 0 get vote from server 2
term 33 server 0 become leader
------------------------------------------------------
flag 59536 term 33 leader 0 nextIndex[1]: 178  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 30279 term 33 leader 0 nextIndex[2]: 178  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176} {1968306628994032418 32 177}]
------------------------------------------------------
client write log 2025558856959625911 (index 178) to leader 0
term 32 leader 1 nextIndex[0]: 0  matchIndex[0]: 177
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
flag 23907 term 32 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 32226 term 33 leader 0 nextIndex[1]: 178  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 46732 term 33 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 33 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176} {1968306628994032418 32 177} {2025558856959625911 33 178}]
------------------------------------------------------
term 32 leader 1 nextIndex[0]: 0  matchIndex[0]: 177
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
flag 860 term 32 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 90929 term 33 leader 0 nextIndex[1]: 178  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 178 
------------------------------------------------------
flag 8602 term 33 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 33 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 33 leaderCommit: 178 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176} {1968306628994032418 32 177} {2025558856959625911 33 178}]
------------------------------------------------------
client write log 8162491551002232546 (index 179) to leader 0
term 32 leader 1 nextIndex[0]: 0  matchIndex[0]: 177
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
flag 13416 term 32 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
flag 79479 term 33 leader 0 nextIndex[1]: 178  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 178 
------------------------------------------------------
flag 66604 term 33 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 33 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 33 leaderCommit: 178 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 169} {950844944311388250 30 170} {8306963072212172014 30 171} {6464702258280071432 30 172} {4214662568654576911 30 173} {51387202287741131 30 174} {1707052317218019427 30 175} {1968306628994032418 30 176} {1968306628994032418 32 177} {2025558856959625911 33 178} {8162491551002232546 33 179}]
------------------------------------------------------
term 33 Server0 start snapshot! index=179
term 33 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
term 32 leader 1 nextIndex[0]: 0  matchIndex[0]: 177
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
flag 94550 term 32 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 178  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 33
------------------------------------------------------
flag 49238 term 33 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
term 33 Server2 start snapshot! index=179
term 33 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1478669804118891511 (index 178) to leader 1
term 32 leader 1 nextIndex[0]: 0  matchIndex[0]: 177
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
flag 27244 term 32 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 32 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 32 leaderCommit: 177 
------------------------------------------------------
term 33 server 2 AppendEntries false 领导者任期过期 args.Term 32
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 33 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 leader 0 nextIndex[1]: 178  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 33
------------------------------------------------------
flag 8549 term 33 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 33 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 33 rf.commitIndex 179 rf.lastApplied 179
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40856 term 33 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 25071 term 33 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
flag 29965 term 33 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 18059 term 33 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 180->179
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 179
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 33
------------------------------------------------------
flag 92582 term 33 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 33 server 1 InstallSnapshot fail
rf.commitIndex 179 args.LastIncludedIndex 179
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
term 33 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58292 term 33 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 68803 term 33 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
flag 80033 term 33 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 50750 term 33 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
term 33 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31636 term 33 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 50953 term 33 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
flag 63771 term 33 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 64432 term 33 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
flag 37680 term 33 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 77140 term 33 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38773 term 33 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 47778 term 33 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 180->179
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 179
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 33
------------------------------------------------------
flag 10136 term 33 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 1 InstallSnapshot fail
rf.commitIndex 179 args.LastIncludedIndex 179
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
flag 31812 term 33 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 73125 term 33 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
flag 51285 term 33 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 50290 term 33 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
flag 41116 term 33 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 11204 term 33 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
flag 91486 term 33 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 63256 term 33 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
flag 63712 term 33 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 27849 term 33 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
flag 39532 term 33 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 50107 term 33 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
flag 85163 term 33 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 76057 term 33 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
flag 82720 term 33 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 33894 term 33 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
flag 62741 term 33 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 17980 term 33 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
client write log 1478669804118891511 (index 180) to leader 0
flag 59167 term 33 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 8787 term 33 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 33 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {1478669804118891511 33 180}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {1478669804118891511 33 180}]
------------------------------------------------------
flag 11472 term 33 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 33 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
flag 43148 term 33 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 33 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {1478669804118891511 33 180}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {1478669804118891511 33 180}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27829 term 33 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 33 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
flag 69552 term 33 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 33 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {1478669804118891511 33 180}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {1478669804118891511 33 180}]
------------------------------------------------------
term 33 server 1 not vote for server 0, 日志不够新
term 33 server 0 get outdate rpc reply from server 1
term 33 server 0 not vote for server 2, 任期不够新
term 33 server 2 get outdate rpc reply from server 0
flag 68972 term 33 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 33 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
flag 85281 term 33 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 33 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {1478669804118891511 33 180}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {1478669804118891511 33 180}]
------------------------------------------------------
flag 45920 term 33 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 33 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
flag 22643 term 33 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 33 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {1478669804118891511 33 180}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {1478669804118891511 33 180}]
------------------------------------------------------
flag 37761 term 33 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 33 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
flag 1186 term 33 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 33 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {1478669804118891511 33 180}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {1478669804118891511 33 180}]
------------------------------------------------------
flag 29648 term 33 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 33 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
flag 29829 term 33 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 33 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {1478669804118891511 33 180}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {1478669804118891511 33 180}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6967987230798171176 (index 181) to leader 0
flag 71150 term 33 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 33 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
flag 89027 term 33 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 33 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80764 term 33 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 33 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 181 
------------------------------------------------------
flag 7202 term 33 leader 0 nextIndex[2]: 182  matchIndex[2]: 181
term 33 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 33 leaderCommit: 181 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181}]
------------------------------------------------------
client write log 2523802476327461190 (index 182) to leader 0
client write log 2992743882532945416 (index 183) to leader 0
client write log 2879987521980035405 (index 184) to leader 0
client write log 2076895158956466064 (index 185) to leader 0
client write log 8961304738557880347 (index 186) to leader 0
client write log 607403576077770497 (index 187) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28479 term 33 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 33 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 181 
------------------------------------------------------
flag 3328 term 33 leader 0 nextIndex[2]: 182  matchIndex[2]: 181
term 33 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 33 leaderCommit: 181 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187}]
------------------------------------------------------
flag 8390 term 33 leader 0 nextIndex[1]: 181  matchIndex[1]: 180
term 33 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 22340 term 33 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 33 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7761159353115006300 (index 188) to leader 0
term 33 server 2 not vote for server 1, 日志不够新
term 33 server 0 not vote for server 1, 日志不够新
term 35 server 2 vote for server 0
term 35 server 1 vote for server 0
term 35 server 0 get vote from server 2
term 35 server 0 become leader
------------------------------------------------------
term 35 server 0 get outdate rpc reply from server 1
flag 76825 term 35 leader 0 nextIndex[1]: 189  matchIndex[1]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 11827 term 35 leader 0 nextIndex[2]: 189  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 189->188
------------------------------------------------------
term 35 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 189->188
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79447 term 35 leader 0 nextIndex[1]: 181  matchIndex[1]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 64164 term 35 leader 0 nextIndex[2]: 188  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
flag 75772 term 35 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 54015 term 35 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79497 term 35 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 82829 term 35 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:187 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
flag 57705 term 35 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 7503 term 35 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:187 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
flag 22773 term 35 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 59963 term 35 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
flag 83427 term 35 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 31427 term 35 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73377 term 35 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 47620 term 35 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30384 term 35 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 21363 term 35 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
flag 35294 term 35 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 32150 term 35 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
flag 80757 term 35 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 63808 term 35 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
flag 35904 term 35 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 69720 term 35 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
term 35 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93407 term 35 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 82314 term 35 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
flag 24754 term 35 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 19079 term 35 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
flag 56599 term 35 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 90409 term 35 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98377 term 35 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 27615 term 35 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
flag 12025 term 35 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 13403 term 35 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
flag 72244 term 35 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 12407 term 35 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
flag 35317 term 35 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 74519 term 35 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
flag 73211 term 35 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 14155 term 35 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=189
update matchIndex[1]=188
update leader CommitIndex=187
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188}]
------------------------------------------------------
client write log 7761159353115006300 (index 189) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35375 term 35 leader 0 nextIndex[1]: 189  matchIndex[1]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
flag 4359 term 35 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 35 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 33 leaderCommit: 187 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188} {7761159353115006300 35 189}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 33 179} {1478669804118891511 33 180} {6967987230798171176 33 181} {2523802476327461190 33 182} {2992743882532945416 33 183} {2879987521980035405 33 184} {2076895158956466064 33 185} {8961304738557880347 33 186} {607403576077770497 33 187} {7761159353115006300 33 188} {7761159353115006300 35 189}]
------------------------------------------------------
term 35 Server0 start snapshot! index=189
term 35 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17554 term 35 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 35 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 35 leaderCommit: 189 
------------------------------------------------------
flag 52899 term 35 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 35 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 35 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 35 189}]
------------------------------------------------------
term 35 Server2 start snapshot! index=189
term 35 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
term 35 Server1 start snapshot! index=189
term 35 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35182 term 35 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 35 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 35 leaderCommit: 189 
------------------------------------------------------
flag 26122 term 35 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 35 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 35 189}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 35 189}]
------------------------------------------------------
flag 72723 term 35 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 35 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 35 leaderCommit: 189 
------------------------------------------------------
flag 44829 term 35 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 35 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 35 189}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 35 189}]
------------------------------------------------------
flag 52209 term 35 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 35 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 35 leaderCommit: 189 
------------------------------------------------------
flag 14819 term 35 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 35 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 35 189}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 35 189}]
------------------------------------------------------
flag 8107 term 35 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 35 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 35 leaderCommit: 189 
------------------------------------------------------
flag 46786 term 35 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 35 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 35 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 35 189}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84411 term 35 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 35 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 35 leaderCommit: 189 
------------------------------------------------------
flag 38116 term 35 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 35 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 35 189}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 35 189}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4149677380492010590 (index 190) to leader 0
flag 7446 term 35 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 35 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 35 leaderCommit: 189 
------------------------------------------------------
flag 45267 term 35 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 35 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 35 leaderCommit: 189 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 35 189} {4149677380492010590 35 190}]
------------------------------------------------------
flag 36778 term 35 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 35 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 35 leaderCommit: 190 
------------------------------------------------------
flag 95134 term 35 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 35 leaderCommit: 190 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 35 189} {4149677380492010590 35 190}]
------------------------------------------------------
client write log 8853675713462051314 (index 191) to leader 0
client write log 7141925020397135988 (index 192) to leader 0
client write log 2593304710748146853 (index 193) to leader 0
client write log 7844050903087771119 (index 194) to leader 0
client write log 6491285396221569415 (index 195) to leader 0
client write log 3191575716875222152 (index 196) to leader 0
client write log 6139217020294127046 (index 197) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84321 term 35 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 35 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 35 leaderCommit: 190 
------------------------------------------------------
flag 17498 term 35 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 35 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 35 leaderCommit: 190 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197}]
------------------------------------------------------
flag 9802 term 35 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 35 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
flag 83124 term 35 leader 0 nextIndex[2]: 198  matchIndex[2]: 197
term 35 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197}]
------------------------------------------------------
!!!!!!connect server 1
client write log 2657345787847359036 (index 198) to leader 0
flag 35259 term 35 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 35 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
flag 79916 term 35 leader 0 nextIndex[2]: 198  matchIndex[2]: 197
term 35 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 36 server 1 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 35 server 2 not vote for server 1, 日志不够新
term 36 server 0 not vote for server 1, 日志不够新
term 38 server 1 vote for server 2
term 38 server 0 vote for server 2
term 38 server 2 get vote from server 0
term 38 server 2 become leader
------------------------------------------------------
term 38 server 2 get outdate rpc reply from server 1
flag 66760 term 38 leader 2 nextIndex[0]: 199  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
flag 82339 term 38 leader 2 nextIndex[1]: 199  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 38 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 199->198
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
flag 55377 term 38 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
flag 42514 term 38 leader 2 nextIndex[1]: 190  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
flag 89849 term 38 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
flag 79089 term 38 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
flag 9417 term 38 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
flag 61425 term 38 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
flag 59415 term 38 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
flag 30373 term 38 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
flag 1856 term 38 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
flag 49288 term 38 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
flag 96969 term 38 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
flag 49415 term 38 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
flag 72585 term 38 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
flag 37367 term 38 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
flag 58703 term 38 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
flag 8204 term 38 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
flag 41590 term 38 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
flag 33655 term 38 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
flag 66138 term 38 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
flag 16415 term 38 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
flag 11399 term 38 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
flag 37991 term 38 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
flag 66676 term 38 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
flag 54912 term 38 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
flag 52860 term 38 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
flag 51536 term 38 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
flag 37847 term 38 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
flag 34417 term 38 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
flag 3618 term 38 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
flag 86410 term 38 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198}]
------------------------------------------------------
client write log 2657345787847359036 (index 199) to leader 2
flag 79918 term 38 leader 2 nextIndex[0]: 199  matchIndex[0]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
flag 86364 term 38 leader 2 nextIndex[1]: 199  matchIndex[1]: 198
term 38 leader 2 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198} {2657345787847359036 38 199}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 35 189} {4149677380492010590 35 190} {8853675713462051314 35 191} {7141925020397135988 35 192} {2593304710748146853 35 193} {7844050903087771119 35 194} {6491285396221569415 35 195} {3191575716875222152 35 196} {6139217020294127046 35 197} {2657345787847359036 35 198} {2657345787847359036 38 199}]
------------------------------------------------------
term 38 Server2 start snapshot! index=199
term 38 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
flag 27056 term 38 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 47196 term 38 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 38 199}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 38 199}]
------------------------------------------------------
term 38 Server0 start snapshot! index=199
term 38 Server1 start snapshot! index=199
term 38 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
term 38 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
flag 14064 term 38 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 92239 term 38 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 38 199}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 38 199}]
------------------------------------------------------
flag 99806 term 38 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 93903 term 38 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 38 199}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 38 199}]
------------------------------------------------------
flag 54916 term 38 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 64436 term 38 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 38 199}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 38 199}]
------------------------------------------------------
flag 85706 term 38 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 29091 term 38 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 38 199}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 38 199}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 75383 term 38 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 84142 term 38 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 83231 term 38 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 22564 term 38 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 53488 term 38 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 5564 term 38 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 47440 term 38 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 34912 term 38 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
term 39 server 0 vote for server 1
term 39 server 1 get vote from server 0
term 39 server 1 become leader
------------------------------------------------------
flag 92163 term 39 leader 1 nextIndex[0]: 200  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 93594 term 39 leader 1 nextIndex[2]: 200  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=200
update matchIndex[0]=199
update leader CommitIndex=199
leader log:
[{snapshot 38 199}]
------------------------------------------------------
client write log 5999633331175686739 (index 200) to leader 1
flag 63163 term 38 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 9324 term 38 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 38166 term 39 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 39 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 77156 term 39 leader 1 nextIndex[2]: 200  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 38 199} {5999633331175686739 39 200}]
------------------------------------------------------
flag 32737 term 38 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 71508 term 38 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 80692 term 39 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 39 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 39 leaderCommit: 200 
------------------------------------------------------
flag 82475 term 39 leader 1 nextIndex[2]: 200  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 200 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=201
update matchIndex[0]=200
update leader CommitIndex=200
leader log:
[{snapshot 38 199} {5999633331175686739 39 200}]
------------------------------------------------------
client write log 944069175250161402 (index 201) to leader 1
flag 28898 term 38 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 35646 term 38 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 95858 term 39 leader 1 nextIndex[0]: 201  matchIndex[0]: 200
term 39 leader 1 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 39 leaderCommit: 200 
------------------------------------------------------
flag 42062 term 39 leader 1 nextIndex[2]: 200  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 200 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 38 199} {5999633331175686739 39 200} {944069175250161402 39 201}]
------------------------------------------------------
flag 48659 term 38 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 30683 term 38 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 38432 term 39 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 39 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 39 leaderCommit: 201 
------------------------------------------------------
flag 40284 term 39 leader 1 nextIndex[2]: 200  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 201 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=202
update matchIndex[0]=201
update leader CommitIndex=201
leader log:
[{snapshot 38 199} {5999633331175686739 39 200} {944069175250161402 39 201}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3717200031690167361 (index 202) to leader 1
flag 55216 term 38 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
flag 26167 term 38 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 38 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 199 
------------------------------------------------------
term 39 server 1 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 39 server 0 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29937 term 39 leader 1 nextIndex[0]: 202  matchIndex[0]: 201
term 39 leader 1 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 39 leaderCommit: 201 
------------------------------------------------------
flag 20267 term 39 leader 1 nextIndex[2]: 200  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 201 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {5999633331175686739 39 200} {944069175250161402 39 201} {3717200031690167361 39 202}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {5999633331175686739 39 200} {944069175250161402 39 201} {3717200031690167361 39 202}]
------------------------------------------------------
flag 70796 term 39 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 39 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 202 
------------------------------------------------------
flag 64599 term 39 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 39 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 202 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {5999633331175686739 39 200} {944069175250161402 39 201} {3717200031690167361 39 202}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {5999633331175686739 39 200} {944069175250161402 39 201} {3717200031690167361 39 202}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79147 term 39 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 39 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 202 
------------------------------------------------------
flag 82817 term 39 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 39 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 202 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {5999633331175686739 39 200} {944069175250161402 39 201} {3717200031690167361 39 202}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {5999633331175686739 39 200} {944069175250161402 39 201} {3717200031690167361 39 202}]
------------------------------------------------------
flag 26811 term 39 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 39 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 202 
------------------------------------------------------
flag 77398 term 39 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 39 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 202 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {5999633331175686739 39 200} {944069175250161402 39 201} {3717200031690167361 39 202}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {5999633331175686739 39 200} {944069175250161402 39 201} {3717200031690167361 39 202}]
------------------------------------------------------
flag 31547 term 39 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 39 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 202 
------------------------------------------------------
flag 94044 term 39 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 39 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 202 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {5999633331175686739 39 200} {944069175250161402 39 201} {3717200031690167361 39 202}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {5999633331175686739 39 200} {944069175250161402 39 201} {3717200031690167361 39 202}]
------------------------------------------------------
flag 97509 term 39 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 39 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 202 
------------------------------------------------------
flag 79904 term 39 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 39 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 202 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {5999633331175686739 39 200} {944069175250161402 39 201} {3717200031690167361 39 202}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 38 199} {5999633331175686739 39 200} {944069175250161402 39 201} {3717200031690167361 39 202}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6672056782383589232 (index 203) to leader 1
flag 11083 term 39 leader 1 nextIndex[0]: 203  matchIndex[0]: 202
term 39 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 202 
------------------------------------------------------
flag 28414 term 39 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 39 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 202 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {5999633331175686739 39 200} {944069175250161402 39 201} {3717200031690167361 39 202} {6672056782383589232 39 203}]
------------------------------------------------------
flag 35143 term 39 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 39 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 39 leaderCommit: 203 
------------------------------------------------------
flag 43912 term 39 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 39 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 203 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {5999633331175686739 39 200} {944069175250161402 39 201} {3717200031690167361 39 202} {6672056782383589232 39 203}]
------------------------------------------------------
client write log 4238808440201611936 (index 204) to leader 1
client write log 8007207348797149503 (index 205) to leader 1
client write log 2815479782963446139 (index 206) to leader 1
client write log 2580457664638158176 (index 207) to leader 1
client write log 3099077742232058416 (index 208) to leader 1
client write log 4159291743489294685 (index 209) to leader 1
client write log 6455203382749791357 (index 210) to leader 1
client write log 8100921204274129829 (index 211) to leader 1
client write log 2473196517377507851 (index 212) to leader 1
client write log 8498207275283964080 (index 213) to leader 1
flag 36959 term 39 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 39 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 39 leaderCommit: 203 
------------------------------------------------------
flag 4938 term 39 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 39 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 39 leaderCommit: 203 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 38 199} {5999633331175686739 39 200} {944069175250161402 39 201} {3717200031690167361 39 202} {6672056782383589232 39 203} {4238808440201611936 39 204} {8007207348797149503 39 205} {2815479782963446139 39 206} {2580457664638158176 39 207} {3099077742232058416 39 208} {4159291743489294685 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213}]
------------------------------------------------------
term 39 Server1 start snapshot! index=209
term 39 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=213
-------------------------------------------------------------
flag 76949 term 39 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 39 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213}]
------------------------------------------------------
term 39 Server0 start snapshot! index=209
term 39 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=213
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3838320359101122040 (index 214) to leader 1
term 39 server 1 not vote for server 2, 日志不够新
term 39 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 server 2 vote for server 1
term 41 server 1 get vote from server 2
term 41 server 1 become leader
------------------------------------------------------
term 41 server 0 vote for server 1
term 41 server 1 get outdate rpc reply from server 0
flag 94146 term 41 leader 1 nextIndex[0]: 215  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
flag 55953 term 41 leader 1 nextIndex[2]: 215  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 41 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 215->214
------------------------------------------------------
term 41 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 215->214
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83678 term 41 leader 1 nextIndex[0]: 214  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 203  matchIndex[2]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 39
------------------------------------------------------
term 41 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 39 rf.commitIndex 209 rf.lastApplied 209
term 41 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
flag 56060 term 41 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
flag 63798 term 41 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 41 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
flag 17223 term 41 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
flag 39666 term 41 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87427 term 41 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
flag 71606 term 41 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
flag 84860 term 41 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
flag 2123 term 41 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15253 term 41 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
flag 67785 term 41 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
flag 64915 term 41 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
flag 92866 term 41 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
flag 99238 term 41 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
flag 72009 term 41 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 server 0 not vote for server 1, 任期不够新
term 41 server 1 get outdate rpc reply from server 0
flag 80590 term 41 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
flag 71759 term 41 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
flag 69407 term 41 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
flag 7145 term 41 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53454 term 41 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
flag 54915 term 41 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
flag 27294 term 41 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
flag 53777 term 41 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
flag 69256 term 41 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
flag 91538 term 41 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
flag 29300 term 41 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
flag 94882 term 41 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55976 term 41 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
flag 12681 term 41 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90971 term 41 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
flag 90324 term 41 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
flag 93652 term 41 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
flag 35440 term 41 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47585 term 41 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
flag 7703 term 41 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
flag 74243 term 41 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
flag 66907 term 41 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=213
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214}]
------------------------------------------------------
client write log 3838320359101122040 (index 215) to leader 1
flag 85382 term 41 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
flag 76179 term 41 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 41 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 39 leaderCommit: 213 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214} {3838320359101122040 41 215}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214} {3838320359101122040 41 215}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31809 term 41 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 41 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 41 leaderCommit: 215 
------------------------------------------------------
flag 48626 term 41 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 41 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 41 leaderCommit: 215 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214} {3838320359101122040 41 215}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214} {3838320359101122040 41 215}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56154 term 41 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 41 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 41 leaderCommit: 215 
------------------------------------------------------
flag 31423 term 41 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 41 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 41 leaderCommit: 215 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214} {3838320359101122040 41 215}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214} {3838320359101122040 41 215}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88222 term 41 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 41 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 41 leaderCommit: 215 
------------------------------------------------------
flag 64268 term 41 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 41 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 41 leaderCommit: 215 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214} {3838320359101122040 41 215}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214} {3838320359101122040 41 215}]
------------------------------------------------------
term 41 server 2 not vote for server 1, 任期不够新
term 41 server 1 get outdate rpc reply from server 2
flag 29986 term 41 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 41 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 41 leaderCommit: 215 
------------------------------------------------------
flag 47175 term 41 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 41 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 41 leaderCommit: 215 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214} {3838320359101122040 41 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214} {3838320359101122040 41 215}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 server 2 not vote for server 1, 任期不够新
term 41 server 1 get outdate rpc reply from server 2
flag 34356 term 41 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 41 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 41 leaderCommit: 215 
------------------------------------------------------
flag 5504 term 41 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 41 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 41 leaderCommit: 215 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
term 41 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214} {3838320359101122040 41 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214} {3838320359101122040 41 215}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27678 term 41 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 41 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 41 leaderCommit: 215 
------------------------------------------------------
flag 32680 term 41 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 41 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 41 leaderCommit: 215 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214} {3838320359101122040 41 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214} {3838320359101122040 41 215}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2309924519021939715 (index 216) to leader 1
flag 54758 term 41 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 41 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 41 leaderCommit: 215 
------------------------------------------------------
flag 46396 term 41 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 41 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 41 leaderCommit: 215 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214} {3838320359101122040 41 215} {2309924519021939715 41 216}]
------------------------------------------------------
flag 49540 term 41 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 41 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 41 leaderCommit: 216 
------------------------------------------------------
flag 29136 term 41 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 41 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 41 leaderCommit: 216 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214} {3838320359101122040 41 215} {2309924519021939715 41 216}]
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 7958139924250847130 (index 217) to leader 1
client write log 3791180143961343466 (index 218) to leader 1
client write log 8540426040433583209 (index 219) to leader 1
client write log 5010641215555650727 (index 220) to leader 1
client write log 7050984883043654899 (index 221) to leader 1
client write log 4305343935028232469 (index 222) to leader 1
client write log 844986266813997924 (index 223) to leader 1
client write log 7044546930170001206 (index 224) to leader 1
flag 77346 term 41 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 41 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 41 leaderCommit: 216 
------------------------------------------------------
flag 81167 term 41 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 41 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 41 leaderCommit: 216 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 39 209} {6455203382749791357 39 210} {8100921204274129829 39 211} {2473196517377507851 39 212} {8498207275283964080 39 213} {3838320359101122040 39 214} {3838320359101122040 41 215} {2309924519021939715 41 216} {7958139924250847130 41 217} {3791180143961343466 41 218} {8540426040433583209 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224}]
------------------------------------------------------
term 41 Server1 start snapshot! index=219
term 41 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=224
-------------------------------------------------------------
flag 52128 term 41 leader 1 nextIndex[0]: 225  matchIndex[0]: 224
term 41 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=225
update matchIndex[0]=224
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224}]
------------------------------------------------------
term 41 Server0 start snapshot! index=219
term 41 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=224
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4014584593588493130 (index 225) to leader 1
term 41 server 1 not vote for server 2, 日志不够新
term 41 server 0 not vote for server 2, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 2 vote for server 1
term 43 server 0 vote for server 1
term 43 server 1 get vote from server 2
term 43 server 1 become leader
------------------------------------------------------
term 43 server 1 get outdate rpc reply from server 0
flag 23930 term 43 leader 1 nextIndex[0]: 226  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
flag 79198 term 43 leader 1 nextIndex[2]: 226  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 43 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 226->225
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 226->225
------------------------------------------------------
flag 11552 term 43 leader 1 nextIndex[0]: 225  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 216  matchIndex[2]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 41
------------------------------------------------------
term 43 server 2 InstallSnapshot success
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 41 rf.commitIndex 219 rf.lastApplied 219
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
flag 70787 term 43 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
flag 71975 term 43 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 43 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83703 term 43 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
flag 56356 term 43 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
flag 62573 term 43 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
flag 20130 term 43 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17385 term 43 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
flag 74997 term 43 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
flag 60938 term 43 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
flag 23132 term 43 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
flag 72228 term 43 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
flag 37795 term 43 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19047 term 43 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
flag 75783 term 43 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
flag 39681 term 43 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
flag 53214 term 43 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
flag 31810 term 43 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
flag 21755 term 43 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
flag 59785 term 43 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
flag 16808 term 43 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
flag 97122 term 43 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
flag 71991 term 43 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
flag 67349 term 43 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
flag 37871 term 43 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
flag 78620 term 43 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
flag 90132 term 43 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
flag 36622 term 43 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
flag 14223 term 43 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 893 term 43 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
flag 58130 term 43 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
flag 27484 term 43 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
flag 2773 term 43 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
flag 83442 term 43 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
flag 84432 term 43 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=224
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4014584593588493130 (index 226) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6192 term 43 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
flag 55379 term 43 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 43 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 41 leaderCommit: 224 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225} {4014584593588493130 43 226}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225} {4014584593588493130 43 226}]
------------------------------------------------------
flag 98649 term 43 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 5233 term 43 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225} {4014584593588493130 43 226}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225} {4014584593588493130 43 226}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54380 term 43 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 63009 term 43 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225} {4014584593588493130 43 226}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225} {4014584593588493130 43 226}]
------------------------------------------------------
flag 99123 term 43 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 43984 term 43 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225} {4014584593588493130 43 226}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225} {4014584593588493130 43 226}]
------------------------------------------------------
flag 77561 term 43 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 46491 term 43 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225} {4014584593588493130 43 226}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225} {4014584593588493130 43 226}]
------------------------------------------------------
flag 15596 term 43 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 70240 term 43 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225} {4014584593588493130 43 226}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225} {4014584593588493130 43 226}]
------------------------------------------------------
flag 45257 term 43 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 57858 term 43 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225} {4014584593588493130 43 226}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225} {4014584593588493130 43 226}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 36101 term 43 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 22911 term 43 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51883 term 43 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 15660 term 43 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 36139 term 43 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 8360 term 43 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
term 44 server 0 vote for server 2
term 44 server 2 get vote from server 0
term 44 server 2 become leader
------------------------------------------------------
flag 43011 term 44 leader 2 nextIndex[0]: 227  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 26863 term 44 leader 2 nextIndex[1]: 227  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225} {4014584593588493130 43 226}]
------------------------------------------------------
flag 33708 term 43 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 76084 term 43 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
client write log 1249943009436067722 (index 227) to leader 2
flag 43861 term 44 leader 2 nextIndex[0]: 227  matchIndex[0]: 226
term 44 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 60377 term 44 leader 2 nextIndex[1]: 227  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225} {4014584593588493130 43 226} {1249943009436067722 44 227}]
------------------------------------------------------
flag 29188 term 43 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 62397 term 43 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 3542 term 44 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 44 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 44 leaderCommit: 227 
------------------------------------------------------
flag 24530 term 44 leader 2 nextIndex[1]: 227  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 227 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225} {4014584593588493130 43 226} {1249943009436067722 44 227}]
------------------------------------------------------
client write log 6579541886138142992 (index 228) to leader 2
client write log 2637546440432361255 (index 229) to leader 2
client write log 5287244416740920883 (index 230) to leader 2
client write log 805651400732061761 (index 231) to leader 2
client write log 3026336897701858456 (index 232) to leader 2
client write log 699985434741055203 (index 233) to leader 2
client write log 4357194893040203899 (index 234) to leader 2
client write log 6005836468945507867 (index 235) to leader 2
flag 64466 term 43 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 20937 term 43 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 42917 term 44 leader 2 nextIndex[0]: 228  matchIndex[0]: 227
term 44 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 44 leaderCommit: 227 
------------------------------------------------------
flag 29773 term 44 leader 2 nextIndex[1]: 227  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 227 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 41 219} {5010641215555650727 41 220} {7050984883043654899 41 221} {4305343935028232469 41 222} {844986266813997924 41 223} {7044546930170001206 41 224} {4014584593588493130 41 225} {4014584593588493130 43 226} {1249943009436067722 44 227} {6579541886138142992 44 228} {2637546440432361255 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
term 44 Server2 start snapshot! index=229
term 44 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=235
-------------------------------------------------------------
flag 21187 term 43 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 14300 term 43 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 29681 term 44 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
term 44 leader 2 nextIndex[1]: 227  matchIndex[1]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
term 44 Server0 start snapshot! index=229
term 44 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=235
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6333387027294717943 (index 227) to leader 1
flag 13947 term 43 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
flag 75030 term 43 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 43 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 43 leaderCommit: 226 
------------------------------------------------------
term 44 server 2 AppendEntries false 领导者任期过期 args.Term 43
------------------------------------------------------
term 44 server 0 AppendEntries false 领导者任期过期 args.Term 43
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29508 term 44 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
term 44 leader 2 nextIndex[1]: 227  matchIndex[1]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 1 InstallSnapshot success
------------------------------------------------------
term 44 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 44 rf.commitIndex 229 rf.lastApplied 229
term 44 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
flag 69109 term 44 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
flag 58801 term 44 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 44 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
flag 36921 term 44 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
flag 19351 term 44 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
flag 83016 term 44 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
flag 69169 term 44 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
flag 31549 term 44 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
flag 73910 term 44 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
term 44 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
flag 10804 term 44 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
flag 2853 term 44 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33159 term 44 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
flag 89317 term 44 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
flag 92529 term 44 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
flag 98451 term 44 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
flag 62855 term 44 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
flag 52152 term 44 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45463 term 44 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
flag 8471 term 44 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
flag 18190 term 44 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
flag 94371 term 44 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
flag 93548 term 44 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
flag 12359 term 44 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
flag 10681 term 44 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
flag 92829 term 44 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 236->235
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67477 term 44 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
term 44 leader 2 nextIndex[1]: 0  matchIndex[1]: 235
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 44
------------------------------------------------------
term 44 server 1 InstallSnapshot fail
rf.commitIndex 235 args.LastIncludedIndex 229
------------------------------------------------------
term 44 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
flag 60112 term 44 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
flag 8948 term 44 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 44 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
flag 79522 term 44 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
flag 6775 term 44 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
flag 74731 term 44 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
flag 60896 term 44 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
flag 47485 term 44 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
flag 29591 term 44 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
flag 17481 term 44 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
flag 477 term 44 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
flag 49712 term 44 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
flag 29904 term 44 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
term 44 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235}]
------------------------------------------------------
client write log 6333387027294717943 (index 236) to leader 2
flag 1128 term 44 leader 2 nextIndex[0]: 236  matchIndex[0]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
flag 37658 term 44 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 44 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 44 leaderCommit: 235 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235} {6333387027294717943 44 236}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235} {6333387027294717943 44 236}]
------------------------------------------------------
flag 96007 term 44 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 44 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 44 leaderCommit: 236 
------------------------------------------------------
flag 39433 term 44 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 44 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 44 leaderCommit: 236 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235} {6333387027294717943 44 236}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235} {6333387027294717943 44 236}]
------------------------------------------------------
flag 95265 term 44 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 44 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 44 leaderCommit: 236 
------------------------------------------------------
flag 57790 term 44 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 44 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 44 leaderCommit: 236 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235} {6333387027294717943 44 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235} {6333387027294717943 44 236}]
------------------------------------------------------
flag 83964 term 44 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 44 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 44 leaderCommit: 236 
------------------------------------------------------
flag 40104 term 44 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 44 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 44 leaderCommit: 236 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235} {6333387027294717943 44 236}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235} {6333387027294717943 44 236}]
------------------------------------------------------
term 44 server 1 not vote for server 2, 日志不够新
term 44 server 2 get outdate rpc reply from server 1
flag 69164 term 44 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 44 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 44 leaderCommit: 236 
------------------------------------------------------
flag 69401 term 44 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 44 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 44 leaderCommit: 236 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235} {6333387027294717943 44 236}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235} {6333387027294717943 44 236}]
------------------------------------------------------
flag 4906 term 44 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 44 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 44 leaderCommit: 236 
------------------------------------------------------
flag 79307 term 44 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 44 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 44 leaderCommit: 236 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235} {6333387027294717943 44 236}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235} {6333387027294717943 44 236}]
------------------------------------------------------
flag 47168 term 44 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 44 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 44 leaderCommit: 236 
------------------------------------------------------
flag 24362 term 44 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 44 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 44 leaderCommit: 236 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=237
update matchIndex[1]=236
update leader CommitIndex=236
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235} {6333387027294717943 44 236}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235} {6333387027294717943 44 236}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2616907476158948636 (index 237) to leader 2
flag 92906 term 44 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 44 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 44 leaderCommit: 236 
------------------------------------------------------
flag 76168 term 44 leader 2 nextIndex[1]: 237  matchIndex[1]: 236
term 44 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 44 leaderCommit: 236 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235} {6333387027294717943 44 236} {2616907476158948636 44 237}]
------------------------------------------------------
flag 52926 term 44 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 44 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 44 leaderCommit: 237 
------------------------------------------------------
flag 35206 term 44 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 44 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 44 leaderCommit: 237 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=238
update matchIndex[1]=237
update leader CommitIndex=237
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235} {6333387027294717943 44 236} {2616907476158948636 44 237}]
------------------------------------------------------
client write log 6634318514127507563 (index 238) to leader 2
client write log 509418599956235326 (index 239) to leader 2
client write log 8173070777765148866 (index 240) to leader 2
client write log 8434853034010138259 (index 241) to leader 2
client write log 3420101342952849956 (index 242) to leader 2
client write log 5327101975120636168 (index 243) to leader 2
client write log 6800044558190332226 (index 244) to leader 2
client write log 6118231498955776908 (index 245) to leader 2
client write log 6530172740401977512 (index 246) to leader 2
client write log 2042901852736802894 (index 247) to leader 2
flag 76820 term 44 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 44 leader 2 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 44 leaderCommit: 237 
------------------------------------------------------
flag 32769 term 44 leader 2 nextIndex[1]: 238  matchIndex[1]: 237
term 44 leader 2 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 44 leaderCommit: 237 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 44 229} {5287244416740920883 44 230} {805651400732061761 44 231} {3026336897701858456 44 232} {699985434741055203 44 233} {4357194893040203899 44 234} {6005836468945507867 44 235} {6333387027294717943 44 236} {2616907476158948636 44 237} {6634318514127507563 44 238} {509418599956235326 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247}]
------------------------------------------------------
term 44 Server2 start snapshot! index=239
term 44 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=247
-------------------------------------------------------------
term 44 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 44
------------------------------------------------------
flag 28525 term 44 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 44 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=248
update matchIndex[1]=247
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247}]
------------------------------------------------------
term 44 Server1 start snapshot! index=239
term 44 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=247
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5287479118233866991 (index 248) to leader 2
term 44 leader 2 nextIndex[0]: 237  matchIndex[0]: 236
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 44
------------------------------------------------------
flag 70584 term 44 leader 2 nextIndex[1]: 248  matchIndex[1]: 247
term 44 leader 2 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 45 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 1 vote for server 2
term 46 server 0 vote for server 2
term 46 server 2 get vote from server 1
term 46 server 2 become leader
------------------------------------------------------
term 46 server 2 get outdate rpc reply from server 0
flag 33843 term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
flag 63360 term 46 leader 2 nextIndex[1]: 249  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
term 46 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 249->248
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 237  matchIndex[0]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 44
------------------------------------------------------
flag 42195 term 46 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
term 46 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 44 rf.commitIndex 239 rf.lastApplied 239
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95722 term 46 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 46 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
flag 46150 term 46 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94161 term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
flag 44318 term 46 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94114 term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
flag 97765 term 46 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 46 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
update nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
flag 94603 term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
flag 94778 term 46 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12478 term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
flag 91538 term 46 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3116 term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
flag 2951 term 46 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
flag 42728 term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
flag 42326 term 46 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65872 term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
flag 39341 term 46 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46792 term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
flag 11415 term 46 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
flag 37111 term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
flag 13376 term 46 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49491 term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
flag 21682 term 46 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
flag 40856 term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
flag 91029 term 46 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
flag 59021 term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
flag 32710 term 46 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48531 term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
flag 40335 term 46 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
flag 21822 term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
flag 35784 term 46 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
flag 18586 term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
flag 10780 term 46 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248}]
------------------------------------------------------
client write log 5287479118233866991 (index 249) to leader 2
flag 29390 term 46 leader 2 nextIndex[0]: 249  matchIndex[0]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
flag 9268 term 46 leader 2 nextIndex[1]: 249  matchIndex[1]: 248
term 46 leader 2 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 44 leaderCommit: 247 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248} {5287479118233866991 46 249}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 44 239} {8173070777765148866 44 240} {8434853034010138259 44 241} {3420101342952849956 44 242} {5327101975120636168 44 243} {6800044558190332226 44 244} {6118231498955776908 44 245} {6530172740401977512 44 246} {2042901852736802894 44 247} {5287479118233866991 44 248} {5287479118233866991 46 249}]
------------------------------------------------------
term 46 Server2 start snapshot! index=249
term 46 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 82017 term 46 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 46 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 249 
------------------------------------------------------
flag 83979 term 46 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 46 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 249 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 46 249}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 46 249}]
------------------------------------------------------
term 46 Server1 start snapshot! index=249
term 46 Server0 start snapshot! index=249
term 46 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 46 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62799 term 46 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 46 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 249 
------------------------------------------------------
flag 83886 term 46 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 46 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 249 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 46 249}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 46 249}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80744 term 46 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 46 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 249 
------------------------------------------------------
flag 51244 term 46 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 46 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 249 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 46 249}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 46 249}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95674 term 46 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 46 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 249 
------------------------------------------------------
flag 72392 term 46 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 46 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 249 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 46 249}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 46 249}]
------------------------------------------------------
flag 49810 term 46 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 46 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 249 
------------------------------------------------------
flag 52235 term 46 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 46 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 249 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 46 249}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 46 249}]
------------------------------------------------------
flag 43144 term 46 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 46 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 249 
------------------------------------------------------
flag 87744 term 46 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 46 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 249 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 46 249}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 46 249}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4128528588993116415 (index 250) to leader 2
flag 93796 term 46 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 46 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 249 
------------------------------------------------------
flag 2606 term 46 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 46 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 249 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4128528588993116415 46 250}]
------------------------------------------------------
flag 99217 term 46 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 46 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 48909 term 46 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 46 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 46 249} {4128528588993116415 46 250}]
------------------------------------------------------
client write log 4256719601477895312 (index 251) to leader 2
client write log 7977655471839190848 (index 252) to leader 2
client write log 3220182296779043868 (index 253) to leader 2
client write log 4867576163286963601 (index 254) to leader 2
client write log 3219568650962736832 (index 255) to leader 2
client write log 3914933287261659329 (index 256) to leader 2
client write log 3970588239606748302 (index 257) to leader 2
client write log 2119923416400572536 (index 258) to leader 2
client write log 1957611732355396369 (index 259) to leader 2
flag 72936 term 46 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 46 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
flag 34983 term 46 leader 2 nextIndex[1]: 251  matchIndex[1]: 250
term 46 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 46 leaderCommit: 250 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 46 249} {4128528588993116415 46 250} {4256719601477895312 46 251} {7977655471839190848 46 252} {3220182296779043868 46 253} {4867576163286963601 46 254} {3219568650962736832 46 255} {3914933287261659329 46 256} {3970588239606748302 46 257} {2119923416400572536 46 258} {1957611732355396369 46 259}]
------------------------------------------------------
term 46 Server2 start snapshot! index=259
term 46 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
term 46 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
flag 45848 term 46 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 46 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 259 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 46 259}]
------------------------------------------------------
term 46 Server1 start snapshot! index=259
term 46 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6610545486320377135 (index 260) to leader 2
term 46 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
flag 90329 term 46 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 46 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 259 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {6610545486320377135 46 260}]
------------------------------------------------------
term 47 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 server 1 vote for server 2
term 48 server 2 get vote from server 1
term 48 server 0 vote for server 2
term 48 server 2 become leader
------------------------------------------------------
term 48 server 2 get outdate rpc reply from server 0
flag 25193 term 48 leader 2 nextIndex[0]: 261  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
flag 93945 term 48 leader 2 nextIndex[1]: 261  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {6610545486320377135 46 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 261->260
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 250  matchIndex[0]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
flag 13640 term 48 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {6610545486320377135 46 260}]
------------------------------------------------------
term 48 server 0 InstallSnapshot success
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 46 rf.commitIndex 259 rf.lastApplied 259
flag 42129 term 48 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 48 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
flag 71811 term 48 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {6610545486320377135 46 260}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {6610545486320377135 46 260}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98394 term 48 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
flag 84475 term 48 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {6610545486320377135 46 260}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {6610545486320377135 46 260}]
------------------------------------------------------
flag 74732 term 48 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
flag 47763 term 48 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {6610545486320377135 46 260}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {6610545486320377135 46 260}]
------------------------------------------------------
flag 30801 term 48 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
flag 10108 term 48 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {6610545486320377135 46 260}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {6610545486320377135 46 260}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42519 term 48 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
flag 81549 term 48 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {6610545486320377135 46 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {6610545486320377135 46 260}]
------------------------------------------------------
flag 14555 term 48 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
flag 57001 term 48 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {6610545486320377135 46 260}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {6610545486320377135 46 260}]
------------------------------------------------------
flag 3749 term 48 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
flag 29141 term 48 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {6610545486320377135 46 260}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 46 259} {6610545486320377135 46 260}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 61401 term 48 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
flag 8622 term 48 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
flag 22110 term 48 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
flag 79929 term 48 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
term 48 server 1 not vote for server 0, 任期不够新
term 48 server 0 get outdate rpc reply from server 1
flag 60191 term 48 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
flag 40288 term 48 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
term 48 server 1 not vote for server 0, 任期不够新
term 48 server 0 get outdate rpc reply from server 1
flag 80262 term 48 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
flag 63808 term 48 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
term 49 server 1 vote for server 0
term 49 server 0 get vote from server 1
term 49 server 0 become leader
------------------------------------------------------
client write log 6076628268953911466 (index 261) to leader 0
flag 99641 term 49 leader 0 nextIndex[1]: 261  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
flag 69853 term 49 leader 0 nextIndex[2]: 261  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6610545486320377135 46 260} {6076628268953911466 49 261}]
------------------------------------------------------
flag 49257 term 48 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
flag 44885 term 48 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
flag 1350 term 49 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 49 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 261 
------------------------------------------------------
flag 46687 term 49 leader 0 nextIndex[2]: 261  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 46 259} {6610545486320377135 46 260} {6076628268953911466 49 261}]
------------------------------------------------------
client write log 368915032015867283 (index 262) to leader 0
client write log 5639043892045356524 (index 263) to leader 0
client write log 3966415896634320502 (index 264) to leader 0
client write log 9009058200958230986 (index 265) to leader 0
client write log 7012799117914986246 (index 266) to leader 0
client write log 2235531265448903395 (index 267) to leader 0
client write log 2607666954320664668 (index 268) to leader 0
client write log 4314257866761722186 (index 269) to leader 0
client write log 3997875589994159123 (index 270) to leader 0
client write log 2629949695538830098 (index 271) to leader 0
client write log 76371455983430882 (index 272) to leader 0
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 261->260
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 260
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
flag 30972 term 48 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78397 term 49 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 49 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 261 
------------------------------------------------------
flag 6500 term 49 leader 0 nextIndex[2]: 261  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 261 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 46 259} {6610545486320377135 46 260} {6076628268953911466 49 261} {368915032015867283 49 262} {5639043892045356524 49 263} {3966415896634320502 49 264} {9009058200958230986 49 265} {7012799117914986246 49 266} {2235531265448903395 49 267} {2607666954320664668 49 268} {4314257866761722186 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
term 49 Server0 start snapshot! index=269
term 49 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=272
-------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 260
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
flag 4087 term 48 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
flag 12333 term 49 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 261  matchIndex[2]: 0
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
term 49 Server1 start snapshot! index=269
term 49 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=272
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8900063000822328875 (index 261) to leader 2
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 260
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 46
------------------------------------------------------
flag 67487 term 48 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 48 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 46 leaderCommit: 260 
------------------------------------------------------
term 49 server 1 AppendEntries false 领导者任期过期 args.Term 48
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 49 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56698 term 49 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 261  matchIndex[2]: 0
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 49 rf.commitIndex 269 rf.lastApplied 269
term 49 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
term 49 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
flag 36611 term 49 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
flag 60511 term 49 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46694 term 49 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
flag 92101 term 49 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
flag 31146 term 49 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
flag 57417 term 49 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36165 term 49 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
flag 56315 term 49 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
flag 50840 term 49 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
flag 25563 term 49 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
flag 57875 term 49 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
flag 46753 term 49 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
term 49 server 2 not vote for server 0, 任期不够新
term 49 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 273->272
------------------------------------------------------
flag 20228 term 49 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
term 49 leader 0 nextIndex[2]: 0  matchIndex[2]: 272
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 2 InstallSnapshot fail
rf.commitIndex 272 args.LastIncludedIndex 269
------------------------------------------------------
term 49 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
flag 6807 term 49 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
flag 79945 term 49 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79234 term 49 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
flag 53020 term 49 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
flag 43914 term 49 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
flag 78506 term 49 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
flag 90964 term 49 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
flag 93958 term 49 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
flag 38977 term 49 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
flag 29252 term 49 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
flag 92600 term 49 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
flag 11443 term 49 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
flag 86361 term 49 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
flag 30782 term 49 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71702 term 49 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
flag 91090 term 49 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
flag 88917 term 49 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
flag 77401 term 49 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
flag 66589 term 49 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
flag 82357 term 49 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
flag 47229 term 49 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
flag 74788 term 49 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9841 term 49 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
flag 34286 term 49 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272}]
------------------------------------------------------
client write log 8900063000822328875 (index 273) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65296 term 49 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
flag 4340 term 49 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 49 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 49 leaderCommit: 272 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272} {8900063000822328875 49 273}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272} {8900063000822328875 49 273}]
------------------------------------------------------
flag 36379 term 49 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 49 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 49 leaderCommit: 273 
------------------------------------------------------
flag 42406 term 49 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 49 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 49 leaderCommit: 273 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272} {8900063000822328875 49 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272} {8900063000822328875 49 273}]
------------------------------------------------------
flag 16339 term 49 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 49 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 49 leaderCommit: 273 
------------------------------------------------------
flag 79135 term 49 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 49 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 49 leaderCommit: 273 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272} {8900063000822328875 49 273}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272} {8900063000822328875 49 273}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39821 term 49 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 49 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 49 leaderCommit: 273 
------------------------------------------------------
flag 30916 term 49 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 49 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 49 leaderCommit: 273 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272} {8900063000822328875 49 273}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272} {8900063000822328875 49 273}]
------------------------------------------------------
flag 29667 term 49 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 49 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 49 leaderCommit: 273 
------------------------------------------------------
flag 77417 term 49 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 49 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 49 leaderCommit: 273 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272} {8900063000822328875 49 273}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272} {8900063000822328875 49 273}]
------------------------------------------------------
flag 8078 term 49 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 49 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 49 leaderCommit: 273 
------------------------------------------------------
flag 88994 term 49 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 49 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 49 leaderCommit: 273 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272} {8900063000822328875 49 273}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272} {8900063000822328875 49 273}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1583330897873502755 (index 274) to leader 0
flag 25448 term 49 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 49 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 49 leaderCommit: 273 
------------------------------------------------------
flag 27173 term 49 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 49 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 49 leaderCommit: 273 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272} {8900063000822328875 49 273} {1583330897873502755 49 274}]
------------------------------------------------------
term 49 server 2 not vote for server 0, 任期不够新
term 49 server 0 get outdate rpc reply from server 2
flag 60715 term 49 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 49 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 49 leaderCommit: 274 
------------------------------------------------------
flag 91681 term 49 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 49 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 49 leaderCommit: 274 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272} {8900063000822328875 49 273} {1583330897873502755 49 274}]
------------------------------------------------------
client write log 7492184896315768177 (index 275) to leader 0
client write log 8302023664404397946 (index 276) to leader 0
client write log 4643081854164937942 (index 277) to leader 0
client write log 7217274157644775949 (index 278) to leader 0
client write log 2487543583756387183 (index 279) to leader 0
client write log 980897389027648140 (index 280) to leader 0
client write log 1763598534378007029 (index 281) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33198 term 49 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 49 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 49 leaderCommit: 274 
------------------------------------------------------
flag 97133 term 49 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 49 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 49 leaderCommit: 274 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 49 269} {3997875589994159123 49 270} {2629949695538830098 49 271} {76371455983430882 49 272} {8900063000822328875 49 273} {1583330897873502755 49 274} {7492184896315768177 49 275} {8302023664404397946 49 276} {4643081854164937942 49 277} {7217274157644775949 49 278} {2487543583756387183 49 279} {980897389027648140 49 280} {1763598534378007029 49 281}]
------------------------------------------------------
term 49 Server0 start snapshot! index=279
term 49 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=281
-------------------------------------------------------------
term 49 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 49
------------------------------------------------------
flag 69528 term 49 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 49 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281}]
------------------------------------------------------
term 49 Server2 start snapshot! index=279
term 49 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=281
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2681684186149956707 (index 282) to leader 0
term 49 server 2 not vote for server 1, 日志不够新
term 49 server 0 not vote for server 1, 日志不够新
term 51 server 2 vote for server 0
term 51 server 1 vote for server 0
term 51 server 0 get vote from server 2
term 51 server 0 become leader
------------------------------------------------------
term 51 server 0 get outdate rpc reply from server 1
flag 72183 term 51 leader 0 nextIndex[1]: 283  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
flag 12541 term 51 leader 0 nextIndex[2]: 283  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 51 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 283->282
------------------------------------------------------
term 51 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 283->282
------------------------------------------------------
term 51 leader 0 nextIndex[1]: 274  matchIndex[1]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 49
------------------------------------------------------
flag 20728 term 51 leader 0 nextIndex[2]: 282  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 51 server 1 InstallSnapshot success
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 49 rf.commitIndex 279 rf.lastApplied 279
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
flag 79720 term 51 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 51 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
flag 28162 term 51 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
flag 87538 term 51 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
flag 1614 term 51 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
flag 16340 term 51 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
flag 74338 term 51 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
flag 97867 term 51 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
flag 70494 term 51 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
flag 63866 term 51 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
flag 65497 term 51 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1495 term 51 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
flag 13364 term 51 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35431 term 51 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
flag 69561 term 51 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
flag 41887 term 51 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
flag 60341 term 51 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
flag 8114 term 51 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
flag 68116 term 51 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
flag 26896 term 51 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
flag 15364 term 51 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64381 term 51 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
flag 3570 term 51 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
flag 96027 term 51 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
flag 45255 term 51 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16908 term 51 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
flag 18422 term 51 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25430 term 51 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
flag 27486 term 51 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23953 term 51 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
flag 8441 term 51 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
flag 25808 term 51 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
flag 74663 term 51 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
flag 39001 term 51 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
flag 88059 term 51 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=281
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 2 not vote for server 0, 任期不够新
term 51 server 0 get outdate rpc reply from server 2
client write log 2681684186149956707 (index 283) to leader 0
flag 99959 term 51 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
flag 18097 term 51 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 51 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 49 leaderCommit: 281 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282} {2681684186149956707 51 283}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282} {2681684186149956707 51 283}]
------------------------------------------------------
flag 20536 term 51 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 51 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 51 leaderCommit: 283 
------------------------------------------------------
flag 14471 term 51 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 51 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 51 leaderCommit: 283 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282} {2681684186149956707 51 283}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282} {2681684186149956707 51 283}]
------------------------------------------------------
flag 5605 term 51 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 51 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 51 leaderCommit: 283 
------------------------------------------------------
flag 85369 term 51 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 51 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 51 leaderCommit: 283 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282} {2681684186149956707 51 283}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282} {2681684186149956707 51 283}]
------------------------------------------------------
flag 47700 term 51 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 51 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 51 leaderCommit: 283 
------------------------------------------------------
flag 86576 term 51 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 51 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 51 leaderCommit: 283 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282} {2681684186149956707 51 283}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282} {2681684186149956707 51 283}]
------------------------------------------------------
flag 64175 term 51 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 51 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 51 leaderCommit: 283 
------------------------------------------------------
flag 3108 term 51 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 51 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 51 leaderCommit: 283 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282} {2681684186149956707 51 283}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282} {2681684186149956707 51 283}]
------------------------------------------------------
flag 851 term 51 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 51 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 51 leaderCommit: 283 
------------------------------------------------------
flag 1450 term 51 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 51 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 51 leaderCommit: 283 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282} {2681684186149956707 51 283}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282} {2681684186149956707 51 283}]
------------------------------------------------------
flag 31496 term 51 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 51 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 51 leaderCommit: 283 
------------------------------------------------------
flag 55627 term 51 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 51 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 51 leaderCommit: 283 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282} {2681684186149956707 51 283}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282} {2681684186149956707 51 283}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3023753919892480942 (index 284) to leader 0
flag 153 term 51 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 51 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 51 leaderCommit: 283 
------------------------------------------------------
flag 92037 term 51 leader 0 nextIndex[2]: 284  matchIndex[2]: 283
term 51 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 51 leaderCommit: 283 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282} {2681684186149956707 51 283} {3023753919892480942 51 284}]
------------------------------------------------------
flag 24392 term 51 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 51 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 51 leaderCommit: 284 
------------------------------------------------------
flag 30015 term 51 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 51 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 51 leaderCommit: 284 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282} {2681684186149956707 51 283} {3023753919892480942 51 284}]
------------------------------------------------------
client write log 7362160000770703160 (index 285) to leader 0
client write log 923155734193965649 (index 286) to leader 0
client write log 4506458385556892114 (index 287) to leader 0
client write log 2329276485490876339 (index 288) to leader 0
client write log 200324090867694800 (index 289) to leader 0
client write log 2689459932834183670 (index 290) to leader 0
client write log 5094429503274719344 (index 291) to leader 0
client write log 5586757882446136574 (index 292) to leader 0
client write log 269500970673032791 (index 293) to leader 0
client write log 7618493246958315305 (index 294) to leader 0
client write log 6511551651775137187 (index 295) to leader 0
client write log 862255957337712422 (index 296) to leader 0
client write log 5869689931260852750 (index 297) to leader 0
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84468 term 51 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 51 leader 0 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 51 leaderCommit: 284 
------------------------------------------------------
flag 83401 term 51 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 51 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 51 leaderCommit: 284 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 49 279} {980897389027648140 49 280} {1763598534378007029 49 281} {2681684186149956707 49 282} {2681684186149956707 51 283} {3023753919892480942 51 284} {7362160000770703160 51 285} {923155734193965649 51 286} {4506458385556892114 51 287} {2329276485490876339 51 288} {200324090867694800 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297}]
------------------------------------------------------
term 51 Server0 start snapshot! index=289
term 51 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=297
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 0 nextIndex[1]: 284  matchIndex[1]: 283
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 51
------------------------------------------------------
flag 8166 term 51 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 51 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297}]
------------------------------------------------------
term 51 Server2 start snapshot! index=289
term 51 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=297
-------------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
!!!!!!connect server 1
client write log 3944293313872021569 (index 298) to leader 0
flag 75189 term 51 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 51 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 77261 term 51 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 51 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=298
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
term 52 server 1 AppendEntries false 领导者任期过期 args.Term 51
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 51 server 2 not vote for server 1, 日志不够新
term 52 server 0 not vote for server 1, 日志不够新
term 53 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 server 1 vote for server 2
term 54 server 0 vote for server 2
term 54 server 2 get vote from server 1
term 54 server 2 become leader
------------------------------------------------------
term 54 server 2 get outdate rpc reply from server 0
flag 71154 term 54 leader 2 nextIndex[0]: 299  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 71235 term 54 leader 2 nextIndex[1]: 299  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 54 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 299->298
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56595 term 54 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 284  matchIndex[1]: 0
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 51
------------------------------------------------------
term 54 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 51 rf.commitIndex 289 rf.lastApplied 289
term 54 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
term 54 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
flag 37468 term 54 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 59564 term 54 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 54 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
flag 14154 term 54 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 5899 term 54 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
flag 29546 term 54 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 1326 term 54 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
flag 9710 term 54 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 63163 term 54 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54409 term 54 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 53294 term 54 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
flag 70644 term 54 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 9536 term 54 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
flag 13067 term 54 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 69849 term 54 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
flag 93626 term 54 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 8410 term 54 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
flag 92093 term 54 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 31617 term 54 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
flag 51336 term 54 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 68686 term 54 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
flag 41697 term 54 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 6709 term 54 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
flag 18120 term 54 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 31099 term 54 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
flag 5840 term 54 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 60254 term 54 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
flag 9150 term 54 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 98660 term 54 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298}]
------------------------------------------------------
client write log 3944293313872021569 (index 299) to leader 2
flag 79515 term 54 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
flag 29526 term 54 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 54 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 51 leaderCommit: 297 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298} {3944293313872021569 54 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 51 289} {2689459932834183670 51 290} {5094429503274719344 51 291} {5586757882446136574 51 292} {269500970673032791 51 293} {7618493246958315305 51 294} {6511551651775137187 51 295} {862255957337712422 51 296} {5869689931260852750 51 297} {3944293313872021569 51 298} {3944293313872021569 54 299}]
------------------------------------------------------
term 54 Server2 start snapshot! index=299
term 54 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65086 term 54 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 54 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 299 
------------------------------------------------------
flag 87392 term 54 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 54 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 299 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 54 299}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 54 299}]
------------------------------------------------------
term 54 Server0 start snapshot! index=299
term 54 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
term 54 Server1 start snapshot! index=299
term 54 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
flag 18109 term 54 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 54 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 299 
------------------------------------------------------
flag 23559 term 54 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 54 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 299 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 54 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 54 299}]
------------------------------------------------------
flag 8796 term 54 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 54 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 299 
------------------------------------------------------
flag 3556 term 54 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 54 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 299 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 54 299}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 54 299}]
------------------------------------------------------
flag 88 term 54 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 54 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 299 
------------------------------------------------------
flag 15696 term 54 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 54 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 299 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 54 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 54 299}]
------------------------------------------------------
flag 91442 term 54 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 54 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 299 
------------------------------------------------------
flag 7265 term 54 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 54 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 299 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 54 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 54 299}]
------------------------------------------------------
flag 32993 term 54 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 54 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 299 
------------------------------------------------------
flag 63686 term 54 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 54 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 299 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 54 299}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 54 299}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 24933 term 54 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 54 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 299 
------------------------------------------------------
flag 21061 term 54 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 54 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 300->299
------------------------------------------------------
flag 51171 term 54 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 54 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 299 
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 0  matchIndex[1]: 299
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 54
------------------------------------------------------
flag 17704 term 54 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 54 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 299 
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 0  matchIndex[1]: 299
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 54
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 server 0 vote for server 1
term 55 server 1 get vote from server 0
term 55 server 1 become leader
------------------------------------------------------
client write log 4163431968257303625 (index 300) to leader 1
flag 67548 term 55 leader 1 nextIndex[0]: 300  matchIndex[0]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 299 
------------------------------------------------------
flag 77082 term 55 leader 1 nextIndex[2]: 300  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 299 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 54 299} {4163431968257303625 55 300}]
------------------------------------------------------
flag 22306 term 54 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 54 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 299 
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 0  matchIndex[1]: 299
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 54
------------------------------------------------------
flag 18902 term 55 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 55 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 55 leaderCommit: 300 
------------------------------------------------------
flag 70534 term 55 leader 1 nextIndex[2]: 300  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 300 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=301
update matchIndex[0]=300
update leader CommitIndex=300
leader log:
[{snapshot 54 299} {4163431968257303625 55 300}]
------------------------------------------------------
client write log 4614168064968645248 (index 301) to leader 1
flag 32009 term 54 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 54 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 299 
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 0  matchIndex[1]: 299
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 54
------------------------------------------------------
flag 36848 term 55 leader 1 nextIndex[0]: 301  matchIndex[0]: 300
term 55 leader 1 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 55 leaderCommit: 300 
------------------------------------------------------
flag 78839 term 55 leader 1 nextIndex[2]: 300  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 300 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 54 299} {4163431968257303625 55 300} {4614168064968645248 55 301}]
------------------------------------------------------
term 55 server 0 not vote for server 1, 任期不够新
term 55 server 1 get outdate rpc reply from server 0
flag 53075 term 54 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 54 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 299 
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 0  matchIndex[1]: 299
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 54
------------------------------------------------------
flag 54290 term 55 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 55 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 55 leaderCommit: 301 
------------------------------------------------------
flag 31825 term 55 leader 1 nextIndex[2]: 300  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 301 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 54 299} {4163431968257303625 55 300} {4614168064968645248 55 301}]
------------------------------------------------------
flag 41006 term 54 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 54 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 299 
------------------------------------------------------
term 54 leader 2 nextIndex[1]: 0  matchIndex[1]: 299
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 54
------------------------------------------------------
!!!!!!connect server 2
client write log 1361623157016990500 (index 302) to leader 1
flag 51997 term 55 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 55 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 55 leaderCommit: 301 
------------------------------------------------------
flag 20462 term 55 leader 1 nextIndex[2]: 300  matchIndex[2]: 0
term 55 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 54 leaderCommit: 301 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {4163431968257303625 55 300} {4614168064968645248 55 301} {1361623157016990500 55 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {4163431968257303625 55 300} {4614168064968645248 55 301} {1361623157016990500 55 302}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5682 term 55 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 55 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 55 leaderCommit: 302 
------------------------------------------------------
flag 28554 term 55 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 55 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 55 leaderCommit: 302 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {4163431968257303625 55 300} {4614168064968645248 55 301} {1361623157016990500 55 302}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {4163431968257303625 55 300} {4614168064968645248 55 301} {1361623157016990500 55 302}]
------------------------------------------------------
term 55 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47055 term 55 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 55 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 55 leaderCommit: 302 
------------------------------------------------------
flag 15508 term 55 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 55 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 55 leaderCommit: 302 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {4163431968257303625 55 300} {4614168064968645248 55 301} {1361623157016990500 55 302}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {4163431968257303625 55 300} {4614168064968645248 55 301} {1361623157016990500 55 302}]
------------------------------------------------------
flag 91597 term 55 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 55 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 55 leaderCommit: 302 
------------------------------------------------------
flag 44408 term 55 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 55 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 55 leaderCommit: 302 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {4163431968257303625 55 300} {4614168064968645248 55 301} {1361623157016990500 55 302}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {4163431968257303625 55 300} {4614168064968645248 55 301} {1361623157016990500 55 302}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79836 term 55 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 55 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 55 leaderCommit: 302 
------------------------------------------------------
flag 92907 term 55 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 55 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 55 leaderCommit: 302 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {4163431968257303625 55 300} {4614168064968645248 55 301} {1361623157016990500 55 302}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {4163431968257303625 55 300} {4614168064968645248 55 301} {1361623157016990500 55 302}]
------------------------------------------------------
flag 27191 term 55 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 55 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 55 leaderCommit: 302 
------------------------------------------------------
flag 70175 term 55 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 55 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 55 leaderCommit: 302 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {4163431968257303625 55 300} {4614168064968645248 55 301} {1361623157016990500 55 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 54 299} {4163431968257303625 55 300} {4614168064968645248 55 301} {1361623157016990500 55 302}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3371283208187623563 (index 303) to leader 1
flag 7049 term 55 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 55 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 55 leaderCommit: 302 
------------------------------------------------------
flag 90002 term 55 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 55 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 55 leaderCommit: 302 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 54 299} {4163431968257303625 55 300} {4614168064968645248 55 301} {1361623157016990500 55 302} {3371283208187623563 55 303}]
------------------------------------------------------
flag 7974 term 55 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 55 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 55 leaderCommit: 303 
------------------------------------------------------
flag 96359 term 55 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 55 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 55 leaderCommit: 303 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 54 299} {4163431968257303625 55 300} {4614168064968645248 55 301} {1361623157016990500 55 302} {3371283208187623563 55 303}]
------------------------------------------------------
client write log 6957759865277751836 (index 304) to leader 1
client write log 5784042373789507113 (index 305) to leader 1
client write log 1559688508823313606 (index 306) to leader 1
client write log 6673084859107213196 (index 307) to leader 1
client write log 7840918815763827287 (index 308) to leader 1
client write log 1330559750501719121 (index 309) to leader 1
client write log 1360355256099926543 (index 310) to leader 1
client write log 3966979622841663240 (index 311) to leader 1
client write log 1647703989361728888 (index 312) to leader 1
client write log 8668879670909265753 (index 313) to leader 1
client write log 5528104562154970586 (index 314) to leader 1
client write log 1056755522107546511 (index 315) to leader 1
client write log 2013805450316089198 (index 316) to leader 1
client write log 2747246846704142417 (index 317) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12227 term 55 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 55 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 55 leaderCommit: 303 
------------------------------------------------------
flag 30339 term 55 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 55 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 55 leaderCommit: 303 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 54 299} {4163431968257303625 55 300} {4614168064968645248 55 301} {1361623157016990500 55 302} {3371283208187623563 55 303} {6957759865277751836 55 304} {5784042373789507113 55 305} {1559688508823313606 55 306} {6673084859107213196 55 307} {7840918815763827287 55 308} {1330559750501719121 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317}]
------------------------------------------------------
term 55 Server1 start snapshot! index=309
term 55 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=317
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61129 term 55 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 55 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 55 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 55 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 55
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317}]
------------------------------------------------------
term 55 Server0 start snapshot! index=309
term 55 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=317
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2733438502567739681 (index 318) to leader 1
term 55 server 1 not vote for server 2, 日志不够新
term 55 server 0 not vote for server 2, 日志不够新
term 57 server 2 vote for server 1
term 57 server 1 get vote from server 2
term 57 server 1 become leader
------------------------------------------------------
term 57 server 0 vote for server 1
term 57 server 1 get outdate rpc reply from server 0
flag 29727 term 57 leader 1 nextIndex[0]: 319  matchIndex[0]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
flag 34198 term 57 leader 1 nextIndex[2]: 319  matchIndex[2]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 57 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 319->318
------------------------------------------------------
term 57 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 319->318
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80133 term 57 leader 1 nextIndex[0]: 318  matchIndex[0]: 0
term 57 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 57 leader 1 nextIndex[2]: 303  matchIndex[2]: 0
term 57 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 55
------------------------------------------------------
term 57 server 2 InstallSnapshot success
------------------------------------------------------
term 57 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 55 rf.commitIndex 309 rf.lastApplied 309
term 57 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
term 57 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45542 term 57 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
flag 84943 term 57 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 57 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
flag 11798 term 57 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
flag 47308 term 57 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
flag 31581 term 57 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
flag 36881 term 57 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
flag 7656 term 57 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
flag 10697 term 57 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33841 term 57 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
flag 76483 term 57 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
term 57 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39676 term 57 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
flag 36690 term 57 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
flag 97175 term 57 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
flag 37158 term 57 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=317
leader log:
term 57 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
flag 28991 term 57 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
flag 83735 term 57 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
term 57 server 2 not vote for server 1, 任期不够新
term 57 server 1 get outdate rpc reply from server 2
flag 83827 term 57 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
flag 54046 term 57 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
term 57 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67999 term 57 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
flag 38377 term 57 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
flag 8613 term 57 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
flag 89715 term 57 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
flag 83761 term 57 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
flag 62051 term 57 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
flag 72392 term 57 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
flag 5500 term 57 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
flag 1719 term 57 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
flag 73544 term 57 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
flag 33017 term 57 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
flag 20762 term 57 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
flag 96210 term 57 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
flag 4813 term 57 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
flag 741 term 57 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
flag 82853 term 57 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
flag 90535 term 57 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
flag 53167 term 57 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=319
update matchIndex[2]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=317
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318}]
------------------------------------------------------
client write log 2733438502567739681 (index 319) to leader 1
flag 5064 term 57 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
flag 21264 term 57 leader 1 nextIndex[2]: 319  matchIndex[2]: 318
term 57 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 55 leaderCommit: 317 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318} {2733438502567739681 57 319}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 55 309} {1360355256099926543 55 310} {3966979622841663240 55 311} {1647703989361728888 55 312} {8668879670909265753 55 313} {5528104562154970586 55 314} {1056755522107546511 55 315} {2013805450316089198 55 316} {2747246846704142417 55 317} {2733438502567739681 55 318} {2733438502567739681 57 319}]
------------------------------------------------------
term 57 Server1 start snapshot! index=319
term 57 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 57 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87060 term 57 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 57 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 57 leaderCommit: 319 
------------------------------------------------------
flag 70500 term 57 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 57 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 57 leaderCommit: 319 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 57 319}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 57 319}]
------------------------------------------------------
term 57 Server2 start snapshot! index=319
term 57 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
term 57 Server0 start snapshot! index=319
term 57 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
flag 28379 term 57 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 57 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 57 leaderCommit: 319 
------------------------------------------------------
flag 18904 term 57 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 57 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 57 leaderCommit: 319 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 57 319}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 57 319}]
------------------------------------------------------
flag 98720 term 57 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 57 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 57 leaderCommit: 319 
------------------------------------------------------
flag 27239 term 57 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 57 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 57 leaderCommit: 319 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 57 319}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 57 319}]
------------------------------------------------------
flag 16307 term 57 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 57 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 57 leaderCommit: 319 
------------------------------------------------------
flag 93824 term 57 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 57 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 57 leaderCommit: 319 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 57 319}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 57 319}]
------------------------------------------------------
flag 96793 term 57 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 57 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 57 leaderCommit: 319 
------------------------------------------------------
flag 9582 term 57 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 57 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 57 leaderCommit: 319 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:319 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 57 319}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 57 319}]
------------------------------------------------------
flag 36868 term 57 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 57 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 57 leaderCommit: 319 
------------------------------------------------------
flag 23053 term 57 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 57 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 57 leaderCommit: 319 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=320
update matchIndex[2]=319
update leader CommitIndex=319
leader log:
[{snapshot 57 319}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 57 319}]
------------------------------------------------------
  ... Passed --  83.5  3 1887  787564  319
--- PASS: TestSnapshotInstall2D (83.46s)
PASS
