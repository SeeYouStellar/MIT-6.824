=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
flag 52545 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 79842 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 8761889970403335227 (index 1) to leader 2
flag 15627 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 39224 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8761889970403335227 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8761889970403335227 1 1}]
------------------------------------------------------
flag 21014 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 3944 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8761889970403335227 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8761889970403335227 1 1}]
------------------------------------------------------
flag 34652 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 17080 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8761889970403335227 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8761889970403335227 1 1}]
------------------------------------------------------
flag 5012 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 2355 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8761889970403335227 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8761889970403335227 1 1}]
------------------------------------------------------
flag 92107 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 17841 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8761889970403335227 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8761889970403335227 1 1}]
------------------------------------------------------
flag 35911 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 7182 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
[{<nil> 0 0} {8761889970403335227 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8761889970403335227 1 1}]
------------------------------------------------------
flag 29321 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 96964 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8761889970403335227 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8761889970403335227 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5834249879175215570 (index 2) to leader 2
flag 77281 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 38973 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {8761889970403335227 1 1} {5834249879175215570 1 2}]
------------------------------------------------------
flag 94822 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 12050 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {8761889970403335227 1 1} {5834249879175215570 1 2}]
------------------------------------------------------
client write log 4480467678430701993 (index 3) to leader 2
client write log 7953224498251748167 (index 4) to leader 2
client write log 2445534342576017929 (index 5) to leader 2
client write log 805684960359565716 (index 6) to leader 2
client write log 2319015493301692565 (index 7) to leader 2
client write log 7473214545336851842 (index 8) to leader 2
client write log 2793508634666528694 (index 9) to leader 2
client write log 4309186956896447549 (index 10) to leader 2
client write log 2785047474920621295 (index 11) to leader 2
client write log 8729826715585942153 (index 12) to leader 2
client write log 9038350481516957374 (index 13) to leader 2
client write log 6093509355479758783 (index 14) to leader 2
client write log 7954829251530127842 (index 15) to leader 2
client write log 5917824405711426185 (index 16) to leader 2
client write log 155532816576955806 (index 17) to leader 2
flag 2310 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 67600 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{<nil> 0 0} {8761889970403335227 1 1} {5834249879175215570 1 2} {4480467678430701993 1 3} {7953224498251748167 1 4} {2445534342576017929 1 5} {805684960359565716 1 6} {2319015493301692565 1 7} {7473214545336851842 1 8} {2793508634666528694 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=17
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 62998 term 1 leader 2 nextIndex[1]: 18  matchIndex[1]: 17
term 1 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17}]
------------------------------------------------------
term 1 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=17
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3242120060538922764 (index 18) to leader 2
term 1 server 1 not vote for server 0, 日志不够新
term 1 server 2 not vote for server 0, 日志不够新
term 3 server 1 vote for server 2
term 3 server 0 vote for server 2
term 3 server 2 get vote from server 0
term 3 server 2 become leader
------------------------------------------------------
term 3 server 2 get outdate rpc reply from server 1
flag 34262 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 16783 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 19->18
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 19->18
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 6620 term 3 leader 2 nextIndex[1]: 18  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
flag 27532 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 35162 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
flag 11200 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 54863 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
flag 82195 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 12387 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
flag 28931 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 96519 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
flag 59048 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 28585 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
flag 15389 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 43458 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
flag 35761 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 98300 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
flag 50347 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 63780 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
flag 50057 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 18481 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
flag 30485 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 76417 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
flag 27273 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 33556 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
flag 95030 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 8473 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
flag 2845 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 14089 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
flag 14102 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 73883 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
flag 6691 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 66432 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
flag 93492 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 31315 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
flag 81122 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 17210 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
flag 96999 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 23729 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=19
update matchIndex[0]=18
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18}]
------------------------------------------------------
client write log 3242120060538922764 (index 19) to leader 2
flag 30208 term 3 leader 2 nextIndex[0]: 19  matchIndex[0]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
flag 1524 term 3 leader 2 nextIndex[1]: 19  matchIndex[1]: 18
term 3 leader 2 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18} {3242120060538922764 3 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {4309186956896447549 1 10} {2785047474920621295 1 11} {8729826715585942153 1 12} {9038350481516957374 1 13} {6093509355479758783 1 14} {7954829251530127842 1 15} {5917824405711426185 1 16} {155532816576955806 1 17} {3242120060538922764 1 18} {3242120060538922764 3 19}]
------------------------------------------------------
term 3 Server2 start snapshot! index=19
term 3 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85364 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 61213 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 Server1 start snapshot! index=19
term 3 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 3 Server0 start snapshot! index=19
term 3 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 77374 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 3018 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 98618 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 96623 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 98055 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 76795 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
flag 98047 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 33883 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 27741 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 29004 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 69888 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 26096 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 59507 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 18553 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 36476 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 80101 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 1
term 4 server 0 become leader
------------------------------------------------------
flag 71679 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 14124 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 3 19}]
------------------------------------------------------
client write log 8300156997434504145 (index 20) to leader 0
flag 15603 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 54746 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 59246 term 4 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 92770 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 3 19} {8300156997434504145 4 20}]
------------------------------------------------------
flag 41585 term 3 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 35890 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 20->19
------------------------------------------------------
flag 32933 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 3103 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 3 19} {8300156997434504145 4 20}]
------------------------------------------------------
client write log 7588742913788804548 (index 21) to leader 0
client write log 5381374524318536849 (index 22) to leader 0
client write log 1328548922745627830 (index 23) to leader 0
client write log 45774768147128461 (index 24) to leader 0
client write log 418640957764100320 (index 25) to leader 0
client write log 6626970761531352087 (index 26) to leader 0
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 19
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 64770 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 90194 term 4 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 52326 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 19
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 32565 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
flag 39210 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 83310 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3670998649974631358 (index 20) to leader 2
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 19
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
flag 45821 term 3 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 3 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57744 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 74135 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
flag 31410 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 11686 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
flag 61275 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 25439 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
flag 36998 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 17249 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
flag 23440 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 36197 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
flag 92239 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 79965 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
flag 25261 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 16518 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
flag 78212 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 40209 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
flag 80360 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 55050 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62001 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 12997 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69631 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 98412 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
flag 49543 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 18276 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37025 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 23262 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
flag 74269 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 32987 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36064 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 85122 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 27->26
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62358 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 26
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 26 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
flag 20617 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 45737 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
flag 3475 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 30851 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52272 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 4305 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
flag 17201 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 62843 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26}]
------------------------------------------------------
client write log 3670998649974631358 (index 27) to leader 0
flag 40227 term 4 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 52692 term 4 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26} {3670998649974631358 4 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26} {3670998649974631358 4 27}]
------------------------------------------------------
flag 42339 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 88638 term 4 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26} {3670998649974631358 4 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26} {3670998649974631358 4 27}]
------------------------------------------------------
flag 66550 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 88304 term 4 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26} {3670998649974631358 4 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26} {3670998649974631358 4 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 28->27
------------------------------------------------------
flag 1335 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 27
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 3
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 27 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26} {3670998649974631358 4 27}]
------------------------------------------------------
flag 61962 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 70480 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26} {3670998649974631358 4 27}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26} {3670998649974631358 4 27}]
------------------------------------------------------
flag 80597 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 27882 term 4 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26} {3670998649974631358 4 27}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26} {3670998649974631358 4 27}]
------------------------------------------------------
flag 83542 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 64266 term 4 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26} {3670998649974631358 4 27}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26} {3670998649974631358 4 27}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 859318003823815778 (index 28) to leader 0
flag 32706 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 73532 term 4 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26} {3670998649974631358 4 27} {859318003823815778 4 28}]
------------------------------------------------------
flag 41986 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 53388 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26} {3670998649974631358 4 27} {859318003823815778 4 28}]
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 2512505432964956745 (index 29) to leader 0
client write log 2375916282852323432 (index 30) to leader 0
client write log 7000286866253694584 (index 31) to leader 0
client write log 5034820243050734312 (index 32) to leader 0
client write log 6776892036984389037 (index 33) to leader 0
client write log 5746692320626540524 (index 34) to leader 0
client write log 686543071309499222 (index 35) to leader 0
client write log 843223394841309912 (index 36) to leader 0
client write log 5230546712975199116 (index 37) to leader 0
client write log 3389041244890097879 (index 38) to leader 0
client write log 3362183754797871211 (index 39) to leader 0
client write log 2511545733191280612 (index 40) to leader 0
client write log 6376138382569225402 (index 41) to leader 0
client write log 1987109163345712980 (index 42) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65463 term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 97645 term 4 leader 0 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 0 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 3 19} {8300156997434504145 4 20} {7588742913788804548 4 21} {5381374524318536849 4 22} {1328548922745627830 4 23} {45774768147128461 4 24} {418640957764100320 4 25} {6626970761531352087 4 26} {3670998649974631358 4 27} {859318003823815778 4 28} {2512505432964956745 4 29} {2375916282852323432 4 30} {7000286866253694584 4 31} {5034820243050734312 4 32} {6776892036984389037 4 33} {5746692320626540524 4 34} {686543071309499222 4 35} {843223394841309912 4 36} {5230546712975199116 4 37} {3389041244890097879 4 38} {3362183754797871211 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=42
-------------------------------------------------------------
term 4 Server0 start snapshot! index=39
term 4 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=42
-------------------------------------------------------------
term 4 leader 0 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
flag 24769 term 4 leader 0 nextIndex[2]: 43  matchIndex[2]: 42
term 4 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=42
-------------------------------------------------------------
term 4 Server2 start snapshot! index=39
term 4 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=42
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3175350174192851075 (index 43) to leader 0
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 43->42
------------------------------------------------------
term 4 server 0 not vote for server 1, 日志不够新
term 6 server 2 vote for server 0
term 6 server 1 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 0 get outdate rpc reply from server 1
flag 18526 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 15131 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 44->43
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 44->43
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 28  matchIndex[1]: 0
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
flag 64007 term 6 leader 0 nextIndex[2]: 43  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
term 6 server 1 InstallSnapshot success
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 4 rf.commitIndex 39 rf.lastApplied 39
term 6 server 2 not vote for server 0, 任期不够新
term 6 server 0 get outdate rpc reply from server 2
flag 33412 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 72201 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
flag 57450 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 35719 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
flag 79713 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 80644 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28944 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 56475 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
flag 7151 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 56533 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95986 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 68252 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
flag 52329 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 9496 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
flag 471 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 29635 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
flag 74830 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 60992 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80184 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 76974 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
flag 39867 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 57513 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3062 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 96683 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
flag 61971 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 82922 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2822 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 87967 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
flag 39411 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 25811 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
flag 34041 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 4765 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
flag 58908 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 55793 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43}]
------------------------------------------------------
client write log 3175350174192851075 (index 44) to leader 0
flag 3757 term 6 leader 0 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 29354 term 6 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 6 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43} {3175350174192851075 6 44}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43} {3175350174192851075 6 44}]
------------------------------------------------------
flag 67426 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 18062 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43} {3175350174192851075 6 44}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43} {3175350174192851075 6 44}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90476 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 34896 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43} {3175350174192851075 6 44}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43} {3175350174192851075 6 44}]
------------------------------------------------------
flag 9645 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 268 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43} {3175350174192851075 6 44}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43} {3175350174192851075 6 44}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32421 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 32227 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43} {3175350174192851075 6 44}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43} {3175350174192851075 6 44}]
------------------------------------------------------
flag 66846 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 41581 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43} {3175350174192851075 6 44}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43} {3175350174192851075 6 44}]
------------------------------------------------------
term 6 server 2 not vote for server 1, 任期不够新
term 6 server 1 get outdate rpc reply from server 2
!!!!!!diconnect server 1
client write log 9095728863308501303 (index 45) to leader 0
flag 69817 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
flag 63412 term 6 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 44 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43} {3175350174192851075 6 44} {9095728863308501303 6 45}]
------------------------------------------------------
flag 50191 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
flag 3955 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43} {3175350174192851075 6 44} {9095728863308501303 6 45}]
------------------------------------------------------
client write log 1398413744248895781 (index 46) to leader 0
client write log 8636168581068618510 (index 47) to leader 0
client write log 3859187557712474135 (index 48) to leader 0
client write log 1478655012206900624 (index 49) to leader 0
client write log 4873121622211506020 (index 50) to leader 0
client write log 279125836790340611 (index 51) to leader 0
client write log 6423986424744110273 (index 52) to leader 0
client write log 2809629283471857642 (index 53) to leader 0
client write log 3346562599922497351 (index 54) to leader 0
client write log 927351750779446041 (index 55) to leader 0
client write log 1523459425309594900 (index 56) to leader 0
client write log 1947407406971321270 (index 57) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50104 term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
flag 28402 term 6 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 6 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 4 39} {2511545733191280612 4 40} {6376138382569225402 4 41} {1987109163345712980 4 42} {3175350174192851075 4 43} {3175350174192851075 6 44} {9095728863308501303 6 45} {1398413744248895781 6 46} {8636168581068618510 6 47} {3859187557712474135 6 48} {1478655012206900624 6 49} {4873121622211506020 6 50} {279125836790340611 6 51} {6423986424744110273 6 52} {2809629283471857642 6 53} {3346562599922497351 6 54} {927351750779446041 6 55} {1523459425309594900 6 56} {1947407406971321270 6 57}]
------------------------------------------------------
term 6 Server0 start snapshot! index=49
term 6 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=57
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 45  matchIndex[1]: 44
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 48688 term 6 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 6 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 45->44
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 49} {4873121622211506020 6 50} {279125836790340611 6 51} {6423986424744110273 6 52} {2809629283471857642 6 53} {3346562599922497351 6 54} {927351750779446041 6 55} {1523459425309594900 6 56} {1947407406971321270 6 57}]
------------------------------------------------------
term 6 Server2 start snapshot! index=49
term 6 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=57
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6541054979992414774 (index 58) to leader 0
term 6 leader 0 nextIndex[1]: 0  matchIndex[1]: 44
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 58243 term 6 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 6 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 6 leaderCommit: 57 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 7 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {4873121622211506020 6 50} {279125836790340611 6 51} {6423986424744110273 6 52} {2809629283471857642 6 53} {3346562599922497351 6 54} {927351750779446041 6 55} {1523459425309594900 6 56} {1947407406971321270 6 57} {6541054979992414774 6 58}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 2 vote for server 0
term 8 server 1 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 0 get outdate rpc reply from server 1
flag 18696 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
flag 96054 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {4873121622211506020 6 50} {279125836790340611 6 51} {6423986424744110273 6 52} {2809629283471857642 6 53} {3346562599922497351 6 54} {927351750779446041 6 55} {1523459425309594900 6 56} {1947407406971321270 6 57} {6541054979992414774 6 58}]
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 59->58
------------------------------------------------------
term 8 leader 0 nextIndex[1]: 45  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 51279 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {4873121622211506020 6 50} {279125836790340611 6 51} {6423986424744110273 6 52} {2809629283471857642 6 53} {3346562599922497351 6 54} {927351750779446041 6 55} {1523459425309594900 6 56} {1947407406971321270 6 57} {6541054979992414774 6 58}]
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 6 rf.commitIndex 49 rf.lastApplied 49
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
flag 72028 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
flag 69941 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {4873121622211506020 6 50} {279125836790340611 6 51} {6423986424744110273 6 52} {2809629283471857642 6 53} {3346562599922497351 6 54} {927351750779446041 6 55} {1523459425309594900 6 56} {1947407406971321270 6 57} {6541054979992414774 6 58}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {4873121622211506020 6 50} {279125836790340611 6 51} {6423986424744110273 6 52} {2809629283471857642 6 53} {3346562599922497351 6 54} {927351750779446041 6 55} {1523459425309594900 6 56} {1947407406971321270 6 57} {6541054979992414774 6 58}]
------------------------------------------------------
flag 25276 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
flag 82921 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {4873121622211506020 6 50} {279125836790340611 6 51} {6423986424744110273 6 52} {2809629283471857642 6 53} {3346562599922497351 6 54} {927351750779446041 6 55} {1523459425309594900 6 56} {1947407406971321270 6 57} {6541054979992414774 6 58}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {4873121622211506020 6 50} {279125836790340611 6 51} {6423986424744110273 6 52} {2809629283471857642 6 53} {3346562599922497351 6 54} {927351750779446041 6 55} {1523459425309594900 6 56} {1947407406971321270 6 57} {6541054979992414774 6 58}]
------------------------------------------------------
flag 94746 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
flag 28859 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {4873121622211506020 6 50} {279125836790340611 6 51} {6423986424744110273 6 52} {2809629283471857642 6 53} {3346562599922497351 6 54} {927351750779446041 6 55} {1523459425309594900 6 56} {1947407406971321270 6 57} {6541054979992414774 6 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {4873121622211506020 6 50} {279125836790340611 6 51} {6423986424744110273 6 52} {2809629283471857642 6 53} {3346562599922497351 6 54} {927351750779446041 6 55} {1523459425309594900 6 56} {1947407406971321270 6 57} {6541054979992414774 6 58}]
------------------------------------------------------
flag 31142 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
flag 71616 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {4873121622211506020 6 50} {279125836790340611 6 51} {6423986424744110273 6 52} {2809629283471857642 6 53} {3346562599922497351 6 54} {927351750779446041 6 55} {1523459425309594900 6 56} {1947407406971321270 6 57} {6541054979992414774 6 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {4873121622211506020 6 50} {279125836790340611 6 51} {6423986424744110273 6 52} {2809629283471857642 6 53} {3346562599922497351 6 54} {927351750779446041 6 55} {1523459425309594900 6 56} {1947407406971321270 6 57} {6541054979992414774 6 58}]
------------------------------------------------------
flag 96895 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
flag 70215 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {4873121622211506020 6 50} {279125836790340611 6 51} {6423986424744110273 6 52} {2809629283471857642 6 53} {3346562599922497351 6 54} {927351750779446041 6 55} {1523459425309594900 6 56} {1947407406971321270 6 57} {6541054979992414774 6 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {4873121622211506020 6 50} {279125836790340611 6 51} {6423986424744110273 6 52} {2809629283471857642 6 53} {3346562599922497351 6 54} {927351750779446041 6 55} {1523459425309594900 6 56} {1947407406971321270 6 57} {6541054979992414774 6 58}]
------------------------------------------------------
flag 53836 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
flag 50703 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:58 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {4873121622211506020 6 50} {279125836790340611 6 51} {6423986424744110273 6 52} {2809629283471857642 6 53} {3346562599922497351 6 54} {927351750779446041 6 55} {1523459425309594900 6 56} {1947407406971321270 6 57} {6541054979992414774 6 58}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {4873121622211506020 6 50} {279125836790340611 6 51} {6423986424744110273 6 52} {2809629283471857642 6 53} {3346562599922497351 6 54} {927351750779446041 6 55} {1523459425309594900 6 56} {1947407406971321270 6 57} {6541054979992414774 6 58}]
------------------------------------------------------
flag 7457 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
flag 53339 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {4873121622211506020 6 50} {279125836790340611 6 51} {6423986424744110273 6 52} {2809629283471857642 6 53} {3346562599922497351 6 54} {927351750779446041 6 55} {1523459425309594900 6 56} {1947407406971321270 6 57} {6541054979992414774 6 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {4873121622211506020 6 50} {279125836790340611 6 51} {6423986424744110273 6 52} {2809629283471857642 6 53} {3346562599922497351 6 54} {927351750779446041 6 55} {1523459425309594900 6 56} {1947407406971321270 6 57} {6541054979992414774 6 58}]
------------------------------------------------------
!!!!!!diconnect server 0
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2394 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
flag 57838 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
flag 37013 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
flag 84424 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
flag 54040 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
flag 53856 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 vote for server 2
term 9 server 2 get vote from server 1
term 9 server 2 become leader
------------------------------------------------------
flag 53862 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
flag 21695 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 6 49} {4873121622211506020 6 50} {279125836790340611 6 51} {6423986424744110273 6 52} {2809629283471857642 6 53} {3346562599922497351 6 54} {927351750779446041 6 55} {1523459425309594900 6 56} {1947407406971321270 6 57} {6541054979992414774 6 58}]
------------------------------------------------------
flag 26028 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
flag 68767 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
client write log 8528817142985134946 (index 59) to leader 2
flag 18272 term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
flag 27433 term 9 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 9 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 6 49} {4873121622211506020 6 50} {279125836790340611 6 51} {6423986424744110273 6 52} {2809629283471857642 6 53} {3346562599922497351 6 54} {927351750779446041 6 55} {1523459425309594900 6 56} {1947407406971321270 6 57} {6541054979992414774 6 58} {8528817142985134946 9 59}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 69145 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
flag 16469 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 5271 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 59}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 54441 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
flag 97343 term 8 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
client write log 3536525180426228317 (index 60) to leader 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 59->58
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 4684 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 59 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3536525180426228317 9 60}]
------------------------------------------------------
flag 15792 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 58
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 65227 term 9 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 9 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3536525180426228317 9 60}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8838628195418871705 (index 61) to leader 2
flag 63668 term 8 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
term 8 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 58
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 1 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 59  matchIndex[0]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 13382 term 9 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 9 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3536525180426228317 9 60} {8838628195418871705 9 61}]
------------------------------------------------------
term 9 server 0 InstallSnapshot success
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 2 not vote for server 0, 日志不够新
term 9 server 1 not vote for server 0, 日志不够新
term 11 server 1 vote for server 2
term 11 server 0 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
term 11 server 2 get outdate rpc reply from server 0
flag 92990 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 70469 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 62->61
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3536525180426228317 9 60} {8838628195418871705 9 61}]
------------------------------------------------------
flag 85502 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 90612 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3536525180426228317 9 60} {8838628195418871705 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3536525180426228317 9 60} {8838628195418871705 9 61}]
------------------------------------------------------
flag 52545 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 85976 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3536525180426228317 9 60} {8838628195418871705 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3536525180426228317 9 60} {8838628195418871705 9 61}]
------------------------------------------------------
term 11 server 0 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 0
flag 55092 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 78955 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3536525180426228317 9 60} {8838628195418871705 9 61}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3536525180426228317 9 60} {8838628195418871705 9 61}]
------------------------------------------------------
flag 73720 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 59442 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3536525180426228317 9 60} {8838628195418871705 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3536525180426228317 9 60} {8838628195418871705 9 61}]
------------------------------------------------------
flag 1225 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 22007 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3536525180426228317 9 60} {8838628195418871705 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3536525180426228317 9 60} {8838628195418871705 9 61}]
------------------------------------------------------
flag 71266 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 36820 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3536525180426228317 9 60} {8838628195418871705 9 61}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3536525180426228317 9 60} {8838628195418871705 9 61}]
------------------------------------------------------
flag 48303 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 28991 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=62
update matchIndex[0]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3536525180426228317 9 60} {8838628195418871705 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3536525180426228317 9 60} {8838628195418871705 9 61}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 959953855588683938 (index 62) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53001 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 97876 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {3536525180426228317 9 60} {8838628195418871705 9 61} {959953855588683938 11 62}]
------------------------------------------------------
flag 78594 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
flag 20937 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {3536525180426228317 9 60} {8838628195418871705 9 61} {959953855588683938 11 62}]
------------------------------------------------------
client write log 1902776462044123231 (index 63) to leader 2
client write log 702006071674239343 (index 64) to leader 2
client write log 7302691767567303579 (index 65) to leader 2
client write log 7261087161141143915 (index 66) to leader 2
client write log 7851018690181121429 (index 67) to leader 2
client write log 979871841879732958 (index 68) to leader 2
flag 97302 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 62 
------------------------------------------------------
flag 62419 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3536525180426228317 9 60} {8838628195418871705 9 61} {959953855588683938 11 62} {1902776462044123231 11 63} {702006071674239343 11 64} {7302691767567303579 11 65} {7261087161141143915 11 66} {7851018690181121429 11 67} {979871841879732958 11 68}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33699 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 50590 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 9 59} {3536525180426228317 9 60} {8838628195418871705 9 61} {959953855588683938 11 62} {1902776462044123231 11 63} {702006071674239343 11 64} {7302691767567303579 11 65} {7261087161141143915 11 66} {7851018690181121429 11 67} {979871841879732958 11 68}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2647926864888682355 (index 69) to leader 2
flag 10424 term 11 leader 2 nextIndex[0]: 62  matchIndex[0]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 68 
------------------------------------------------------
flag 95391 term 11 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 11 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 68 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 59} {3536525180426228317 9 60} {8838628195418871705 9 61} {959953855588683938 11 62} {1902776462044123231 11 63} {702006071674239343 11 64} {7302691767567303579 11 65} {7261087161141143915 11 66} {7851018690181121429 11 67} {979871841879732958 11 68} {2647926864888682355 11 69}]
------------------------------------------------------
term 12 server 0 AppendEntries false 领导者任期过期 args.Term 11
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 12 Server2 start snapshot! index=69
term 12 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 server 2 not vote for server 0, 日志不够新
term 11 server 1 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 1 not vote for server 0, 任期不够新
term 13 server 0 get outdate rpc reply from server 1
term 14 server 1 vote for server 2
term 14 server 2 get vote from server 1
term 14 server 2 become leader
------------------------------------------------------
term 14 server 0 vote for server 2
term 14 server 2 get outdate rpc reply from server 0
flag 5162 term 14 leader 2 nextIndex[0]: 70  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 64460 term 14 leader 2 nextIndex[1]: 70  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 14 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 70->69
------------------------------------------------------
term 14 Server1 start snapshot! index=69
term 14 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 14 leader 2 nextIndex[0]: 62  matchIndex[0]: 0
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 13340 term 14 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 14 server 0 InstallSnapshot success
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73494 term 14 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 55560 term 14 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2450 term 14 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 74054 term 14 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40142 term 14 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 3685 term 14 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 81223 term 14 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 43295 term 14 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
flag 51748 term 14 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 40086 term 14 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 69}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2785476530290986540 (index 70) to leader 2
flag 14708 term 14 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
flag 14070 term 14 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 69 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {2785476530290986540 14 70}]
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61208 term 14 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 8259 term 14 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 14 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 14 leaderCommit: 70 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {2785476530290986540 14 70}]
------------------------------------------------------
client write log 6296860622537089651 (index 71) to leader 2
client write log 3370755359419051869 (index 72) to leader 2
client write log 7247060790339182926 (index 73) to leader 2
client write log 1873764878462173363 (index 74) to leader 2
client write log 3242209777554521165 (index 75) to leader 2
client write log 7851072536016839212 (index 76) to leader 2
client write log 406082731023892763 (index 77) to leader 2
client write log 8747760022964556607 (index 78) to leader 2
client write log 1785011629646361863 (index 79) to leader 2
client write log 5634349388068694086 (index 80) to leader 2
client write log 3037747527251646281 (index 81) to leader 2
client write log 2147351882425712231 (index 82) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 348 term 14 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
flag 49117 term 14 leader 2 nextIndex[1]: 71  matchIndex[1]: 70
term 14 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 14 leaderCommit: 70 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 69} {2785476530290986540 14 70} {6296860622537089651 14 71} {3370755359419051869 14 72} {7247060790339182926 14 73} {1873764878462173363 14 74} {3242209777554521165 14 75} {7851072536016839212 14 76} {406082731023892763 14 77} {8747760022964556607 14 78} {1785011629646361863 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82}]
------------------------------------------------------
term 14 Server2 start snapshot! index=79
term 14 server2 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=82
-------------------------------------------------------------
term 14 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 80609 term 14 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82}]
------------------------------------------------------
term 14 Server1 start snapshot! index=79
term 14 server1 snapshot success
lastIncludedIndex=79 lastApplied=80 lastIndex=82
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4469274493420154926 (index 83) to leader 2
term 14 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 23197 term 14 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83}]
------------------------------------------------------
term 15 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 1 vote for server 2
term 16 server 2 get vote from server 1
term 16 server 0 vote for server 2
term 16 server 2 become leader
------------------------------------------------------
term 16 server 2 get outdate rpc reply from server 0
flag 74081 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 62794 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83}]
------------------------------------------------------
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 84->83
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 70  matchIndex[0]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 14817 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83}]
------------------------------------------------------
term 16 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 14 rf.commitIndex 79 rf.lastApplied 79
term 16 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98869 term 16 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 16 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 20124 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83}]
------------------------------------------------------
term 16 server 0 not vote for server 2, 任期不够新
term 16 server 2 get outdate rpc reply from server 0
flag 14497 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 79217 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83}]
------------------------------------------------------
flag 80769 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 17929 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92915 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 29670 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83}]
------------------------------------------------------
flag 12142 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 39569 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83}]
------------------------------------------------------
term 16 server 2 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 2
flag 92781 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 72728 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 68109 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 43585 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37249 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 52093 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 31380 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 52064 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 1603 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 78830 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 17 server 0 vote for server 1
term 17 server 1 get vote from server 0
term 17 server 1 become leader
------------------------------------------------------
flag 65845 term 17 leader 1 nextIndex[0]: 84  matchIndex[0]: 0
term 17 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 21818 term 17 leader 1 nextIndex[2]: 84  matchIndex[2]: 0
term 17 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83}]
------------------------------------------------------
client write log 1821186955620066945 (index 84) to leader 1
flag 23913 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 21624 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 32786 term 17 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 17 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 72315 term 17 leader 1 nextIndex[2]: 84  matchIndex[2]: 0
term 17 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84}]
------------------------------------------------------
term 17 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73291 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 88465 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 84->83
------------------------------------------------------
flag 15706 term 17 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 17 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 17 leaderCommit: 84 
------------------------------------------------------
term 17 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 17 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84}]
------------------------------------------------------
client write log 1660232936743707034 (index 85) to leader 1
flag 89031 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 48335 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 41915 term 17 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 17 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 17 leaderCommit: 84 
------------------------------------------------------
term 17 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 17 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84} {1660232936743707034 17 85}]
------------------------------------------------------
flag 78705 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 12805 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 12684 term 17 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 17 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 17 leaderCommit: 85 
------------------------------------------------------
term 17 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 17 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84} {1660232936743707034 17 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 84->83
------------------------------------------------------
!!!!!!connect server 2
client write log 1708145067781307022 (index 86) to leader 1
term 16 server 2 not vote for server 0, 任期不够新
term 17 server 0 get outdate rpc reply from server 2
flag 92632 term 16 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 leader 2 nextIndex[1]: 0  matchIndex[1]: 83
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 17 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 17 server 0 AppendEntries false 领导者任期过期 args.Term 16
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30002 term 17 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 17 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 17 leaderCommit: 85 
------------------------------------------------------
term 17 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 17 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
term 17 server 2 InstallSnapshot fail
rf.commitIndex 83 args.LastIncludedIndex 79
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
term 17 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84} {1660232936743707034 17 85} {1708145067781307022 17 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 server 1 not vote for server 2, 日志不够新
term 17 server 0 not vote for server 2, 日志不够新
term 18 server 1 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 1
term 19 server 2 vote for server 1
term 19 server 1 get vote from server 2
term 19 server 1 become leader
------------------------------------------------------
term 19 server 0 vote for server 1
term 19 server 1 get outdate rpc reply from server 0
flag 76792 term 19 leader 1 nextIndex[0]: 87  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 14118 term 19 leader 1 nextIndex[2]: 87  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 87->86
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84} {1660232936743707034 17 85} {1708145067781307022 17 86}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72754 term 19 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 19 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 84190 term 19 leader 1 nextIndex[2]: 84  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 86 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84} {1660232936743707034 17 85} {1708145067781307022 17 86}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84} {1660232936743707034 17 85} {1708145067781307022 17 86}]
------------------------------------------------------
flag 77941 term 19 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 19 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 23994 term 19 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 19 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84} {1660232936743707034 17 85} {1708145067781307022 17 86}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84} {1660232936743707034 17 85} {1708145067781307022 17 86}]
------------------------------------------------------
flag 8974 term 19 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 19 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 17577 term 19 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 19 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84} {1660232936743707034 17 85} {1708145067781307022 17 86}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84} {1660232936743707034 17 85} {1708145067781307022 17 86}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73258 term 19 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 19 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 2747 term 19 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 19 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84} {1660232936743707034 17 85} {1708145067781307022 17 86}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84} {1660232936743707034 17 85} {1708145067781307022 17 86}]
------------------------------------------------------
term 19 server 2 not vote for server 0, 任期不够新
term 19 server 0 get outdate rpc reply from server 2
flag 410 term 19 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 19 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 1397 term 19 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 19 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84} {1660232936743707034 17 85} {1708145067781307022 17 86}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84} {1660232936743707034 17 85} {1708145067781307022 17 86}]
------------------------------------------------------
flag 22898 term 19 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 19 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 11496 term 19 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 19 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84} {1660232936743707034 17 85} {1708145067781307022 17 86}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84} {1660232936743707034 17 85} {1708145067781307022 17 86}]
------------------------------------------------------
flag 54800 term 19 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 19 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 68802 term 19 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 19 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84} {1660232936743707034 17 85} {1708145067781307022 17 86}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84} {1660232936743707034 17 85} {1708145067781307022 17 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3641151113765326371 (index 87) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62474 term 19 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 19 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
flag 71280 term 19 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 19 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 86 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84} {1660232936743707034 17 85} {1708145067781307022 17 86} {3641151113765326371 19 87}]
------------------------------------------------------
flag 66204 term 19 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 19 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 19 leaderCommit: 87 
------------------------------------------------------
flag 16253 term 19 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 19 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84} {1660232936743707034 17 85} {1708145067781307022 17 86} {3641151113765326371 19 87}]
------------------------------------------------------
client write log 8236967695819445680 (index 88) to leader 1
client write log 6175650112232190871 (index 89) to leader 1
client write log 1668001813916189353 (index 90) to leader 1
client write log 2599849630421432527 (index 91) to leader 1
client write log 1018998256531240818 (index 92) to leader 1
client write log 341626056154222730 (index 93) to leader 1
client write log 5692165815175460354 (index 94) to leader 1
flag 8221 term 19 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 19 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 19 leaderCommit: 87 
------------------------------------------------------
flag 38727 term 19 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 19 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 17 leaderCommit: 87 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 14 79} {5634349388068694086 14 80} {3037747527251646281 14 81} {2147351882425712231 14 82} {4469274493420154926 14 83} {1821186955620066945 17 84} {1660232936743707034 17 85} {1708145067781307022 17 86} {3641151113765326371 19 87} {8236967695819445680 19 88} {6175650112232190871 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94}]
------------------------------------------------------
term 19 Server1 start snapshot! index=89
term 19 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=94
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6646 term 19 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 19 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94}]
------------------------------------------------------
term 19 Server0 start snapshot! index=89
term 19 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=94
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4408654434788914122 (index 95) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26312 term 19 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 19 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 87  matchIndex[2]: 86
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 19
------------------------------------------------------
term 20 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 2 vote for server 1
term 21 server 1 get vote from server 2
term 21 server 1 become leader
------------------------------------------------------
term 21 server 0 vote for server 1
term 21 server 1 get outdate rpc reply from server 0
flag 54500 term 21 leader 1 nextIndex[0]: 96  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
flag 65593 term 21 leader 1 nextIndex[2]: 96  matchIndex[2]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 96->95
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
flag 76278 term 21 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 87  matchIndex[2]: 0
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 19
------------------------------------------------------
term 21 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 19 rf.commitIndex 89 rf.lastApplied 89
term 21 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49013 term 21 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
flag 57992 term 21 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 21 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80407 term 21 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
flag 61496 term 21 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
flag 86057 term 21 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
flag 55306 term 21 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
flag 77257 term 21 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
flag 54140 term 21 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25185 term 21 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
flag 50430 term 21 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
flag 98523 term 21 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
flag 42907 term 21 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
flag 83297 term 21 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
flag 51724 term 21 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
flag 52411 term 21 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
flag 48779 term 21 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
flag 83126 term 21 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
flag 19921 term 21 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
flag 65600 term 21 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
flag 48947 term 21 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
flag 41586 term 21 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
flag 48569 term 21 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
flag 20370 term 21 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
flag 26587 term 21 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
flag 71699 term 21 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
flag 43192 term 21 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50396 term 21 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
flag 80074 term 21 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
flag 21405 term 21 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
flag 82482 term 21 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34319 term 21 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
flag 81400 term 21 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
flag 5670 term 21 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
flag 78077 term 21 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95}]
------------------------------------------------------
client write log 4408654434788914122 (index 96) to leader 1
flag 49761 term 21 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
flag 30655 term 21 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 21 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 19 leaderCommit: 94 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95} {4408654434788914122 21 96}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95} {4408654434788914122 21 96}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23462 term 21 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 21 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 21 leaderCommit: 96 
------------------------------------------------------
flag 90225 term 21 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 21 leaderCommit: 96 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95} {4408654434788914122 21 96}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95} {4408654434788914122 21 96}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20093 term 21 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 21 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 21 leaderCommit: 96 
------------------------------------------------------
flag 54650 term 21 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 21 leaderCommit: 96 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
term 21 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95} {4408654434788914122 21 96}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95} {4408654434788914122 21 96}]
------------------------------------------------------
flag 85436 term 21 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 21 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 21 leaderCommit: 96 
------------------------------------------------------
flag 82153 term 21 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 21 leaderCommit: 96 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95} {4408654434788914122 21 96}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95} {4408654434788914122 21 96}]
------------------------------------------------------
flag 16676 term 21 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 21 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 21 leaderCommit: 96 
------------------------------------------------------
flag 10526 term 21 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 21 leaderCommit: 96 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95} {4408654434788914122 21 96}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95} {4408654434788914122 21 96}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61830 term 21 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 21 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 21 leaderCommit: 96 
------------------------------------------------------
flag 46639 term 21 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 21 leaderCommit: 96 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95} {4408654434788914122 21 96}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95} {4408654434788914122 21 96}]
------------------------------------------------------
flag 467 term 21 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 21 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 21 leaderCommit: 96 
------------------------------------------------------
flag 71747 term 21 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 21 leaderCommit: 96 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95} {4408654434788914122 21 96}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95} {4408654434788914122 21 96}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3940025236890564053 (index 97) to leader 1
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1780 term 21 leader 1 nextIndex[0]: 97  matchIndex[0]: 96
term 21 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 21 leaderCommit: 96 
------------------------------------------------------
flag 95669 term 21 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 21 leaderCommit: 96 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95} {4408654434788914122 21 96} {3940025236890564053 21 97}]
------------------------------------------------------
flag 2721 term 21 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 21 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 21 leaderCommit: 97 
------------------------------------------------------
flag 52346 term 21 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 21 leaderCommit: 97 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95} {4408654434788914122 21 96} {3940025236890564053 21 97}]
------------------------------------------------------
client write log 8104839894616032158 (index 98) to leader 1
client write log 7407004554248788804 (index 99) to leader 1
client write log 7224227273912957652 (index 100) to leader 1
client write log 6614783270371283749 (index 101) to leader 1
client write log 3875924138644086595 (index 102) to leader 1
client write log 8638364218657066042 (index 103) to leader 1
client write log 7391834448952381132 (index 104) to leader 1
client write log 8268855700803044916 (index 105) to leader 1
client write log 4309904488999994983 (index 106) to leader 1
client write log 221964098795903996 (index 107) to leader 1
client write log 3452565181948299889 (index 108) to leader 1
client write log 3701253743888393662 (index 109) to leader 1
client write log 6988809080596810575 (index 110) to leader 1
flag 80883 term 21 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 21 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 21 leaderCommit: 97 
------------------------------------------------------
flag 14344 term 21 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 21 leaderCommit: 97 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 89} {1668001813916189353 19 90} {2599849630421432527 19 91} {1018998256531240818 19 92} {341626056154222730 19 93} {5692165815175460354 19 94} {4408654434788914122 19 95} {4408654434788914122 21 96} {3940025236890564053 21 97} {8104839894616032158 21 98} {7407004554248788804 21 99} {7224227273912957652 21 100} {6614783270371283749 21 101} {3875924138644086595 21 102} {8638364218657066042 21 103} {7391834448952381132 21 104} {8268855700803044916 21 105} {4309904488999994983 21 106} {221964098795903996 21 107} {3452565181948299889 21 108} {3701253743888393662 21 109} {6988809080596810575 21 110}]
------------------------------------------------------
term 21 Server1 start snapshot! index=99
term 21 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=110
-------------------------------------------------------------
term 21 Server1 start snapshot! index=109
term 21 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=110
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76531 term 21 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 21 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110}]
------------------------------------------------------
term 21 Server0 start snapshot! index=99
term 21 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=110
-------------------------------------------------------------
term 21 Server0 start snapshot! index=109
term 21 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=110
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3629889299449510251 (index 111) to leader 1
term 21 server 1 not vote for server 2, 日志不够新
term 23 server 2 vote for server 1
term 23 server 0 vote for server 1
term 23 server 1 get vote from server 2
term 23 server 1 become leader
------------------------------------------------------
term 23 server 1 get outdate rpc reply from server 0
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82533 term 23 leader 1 nextIndex[0]: 112  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 21918 term 23 leader 1 nextIndex[2]: 112  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 112->111
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 112->111
------------------------------------------------------
flag 46084 term 23 leader 1 nextIndex[0]: 111  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 97  matchIndex[2]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
term 23 server 2 InstallSnapshot success
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 21 rf.commitIndex 109 rf.lastApplied 109
term 23 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77598 term 23 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 62046 term 23 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 23 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
flag 4306 term 23 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 36500 term 23 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 23 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
update nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23043 term 23 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 59567 term 23 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98267 term 23 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 70398 term 23 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
term 23 server 0 not vote for server 2, 任期不够新
term 23 server 2 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7111 term 23 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 79558 term 23 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
flag 13543 term 23 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 42132 term 23 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
flag 43929 term 23 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 55008 term 23 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53362 term 23 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 14577 term 23 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95903 term 23 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 56812 term 23 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
flag 52080 term 23 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 11354 term 23 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
term 23 server 2 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 2
flag 56373 term 23 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 19078 term 23 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
flag 78827 term 23 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 94092 term 23 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
flag 86434 term 23 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 32557 term 23 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
flag 58205 term 23 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 66758 term 23 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40204 term 23 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 28819 term 23 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43381 term 23 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 83500 term 23 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10901 term 23 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 59048 term 23 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
flag 91521 term 23 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 60862 term 23 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111}]
------------------------------------------------------
client write log 3629889299449510251 (index 112) to leader 1
flag 65430 term 23 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
flag 68579 term 23 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 23 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 110 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112}]
------------------------------------------------------
flag 42312 term 23 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 38473 term 23 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112}]
------------------------------------------------------
flag 75442 term 23 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 70625 term 23 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65790 term 23 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 73601 term 23 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112}]
------------------------------------------------------
flag 36208 term 23 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 24492 term 23 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112}]
------------------------------------------------------
term 23 server 0 not vote for server 2, 任期不够新
term 23 server 2 get outdate rpc reply from server 0
flag 45658 term 23 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 73951 term 23 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112}]
------------------------------------------------------
term 23 server 1 not vote for server 2, 任期不够新
term 23 server 2 get outdate rpc reply from server 1
flag 25354 term 23 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 47262 term 23 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 79510 term 23 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 31171 term 23 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 94459 term 23 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 54234 term 23 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 32326 term 23 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 65789 term 23 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 24 server 2 vote for server 0
term 24 server 0 get vote from server 2
term 24 server 0 become leader
------------------------------------------------------
flag 11820 term 24 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 50431 term 24 leader 0 nextIndex[2]: 113  matchIndex[2]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112}]
------------------------------------------------------
flag 55347 term 23 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 59134 term 23 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
client write log 1106989503592446315 (index 113) to leader 0
flag 10091 term 24 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 86437 term 24 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 24 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113}]
------------------------------------------------------
flag 2225 term 23 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 90910 term 23 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 82887 term 24 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 113 
------------------------------------------------------
flag 63362 term 24 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 24 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 24 leaderCommit: 113 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113}]
------------------------------------------------------
flag 63520 term 23 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 52997 term 23 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
client write log 3662026599144234756 (index 114) to leader 0
flag 98809 term 24 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 113 
------------------------------------------------------
flag 20440 term 24 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 24 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 24 leaderCommit: 113 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
flag 45515 term 23 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 5842 term 23 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 97543 term 24 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 114 
------------------------------------------------------
flag 94741 term 24 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
!!!!!!connect server 1
client write log 3232868918877944490 (index 113) to leader 1
flag 7315 term 23 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
flag 68629 term 23 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 23 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 112 
------------------------------------------------------
term 24 server 2 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 24 server 0 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 89534 term 24 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 24 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 23 leaderCommit: 114 
------------------------------------------------------
flag 54394 term 24 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
term 24 server 1 not vote for server 0, 日志不够新
term 24 server 0 get outdate rpc reply from server 1
flag 32543 term 24 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
flag 67508 term 24 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
flag 77078 term 24 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
flag 30893 term 24 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 115->114
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 114
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
flag 50967 term 24 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 1 InstallSnapshot fail
rf.commitIndex 114 args.LastIncludedIndex 109
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
flag 77851 term 24 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 24 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 60769 term 24 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
flag 52036 term 24 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
flag 51341 term 24 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
flag 7333 term 24 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
flag 47137 term 24 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
flag 7535 term 24 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
flag 88074 term 24 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
flag 11045 term 24 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
flag 85561 term 24 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
flag 59627 term 24 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
flag 8757 term 24 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
flag 71988 term 24 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
flag 97002 term 24 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94718 term 24 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
flag 17396 term 24 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57151 term 24 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
flag 3341 term 24 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 115->114
------------------------------------------------------
term 24 leader 0 nextIndex[1]: 0  matchIndex[1]: 114
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
flag 75905 term 24 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
term 24 server 1 InstallSnapshot fail
rf.commitIndex 114 args.LastIncludedIndex 109
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
flag 5070 term 24 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 24 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 36414 term 24 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
flag 42030 term 24 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
flag 28632 term 24 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
flag 3412 term 24 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
flag 28904 term 24 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
flag 66240 term 24 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
flag 85399 term 24 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
flag 19732 term 24 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
flag 61463 term 24 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
flag 61731 term 24 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
flag 86709 term 24 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114}]
------------------------------------------------------
client write log 3232868918877944490 (index 115) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59846 term 24 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
flag 68716 term 24 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 24 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 24 leaderCommit: 114 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114} {3232868918877944490 24 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114} {3232868918877944490 24 115}]
------------------------------------------------------
flag 62978 term 24 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 24 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 24 leaderCommit: 115 
------------------------------------------------------
flag 91921 term 24 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 24 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 24 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114} {3232868918877944490 24 115}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114} {3232868918877944490 24 115}]
------------------------------------------------------
flag 78438 term 24 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 24 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 24 leaderCommit: 115 
------------------------------------------------------
flag 48984 term 24 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 24 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 24 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114} {3232868918877944490 24 115}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114} {3232868918877944490 24 115}]
------------------------------------------------------
flag 99571 term 24 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 24 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 24 leaderCommit: 115 
------------------------------------------------------
flag 82247 term 24 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 24 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 24 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114} {3232868918877944490 24 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114} {3232868918877944490 24 115}]
------------------------------------------------------
flag 57410 term 24 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 24 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 24 leaderCommit: 115 
------------------------------------------------------
flag 11433 term 24 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 24 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 24 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114} {3232868918877944490 24 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114} {3232868918877944490 24 115}]
------------------------------------------------------
flag 54752 term 24 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 24 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 24 leaderCommit: 115 
------------------------------------------------------
flag 89626 term 24 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 24 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 24 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114} {3232868918877944490 24 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114} {3232868918877944490 24 115}]
------------------------------------------------------
flag 37058 term 24 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 24 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 24 leaderCommit: 115 
------------------------------------------------------
flag 79131 term 24 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 24 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 24 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114} {3232868918877944490 24 115}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114} {3232868918877944490 24 115}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6696250113161021793 (index 116) to leader 0
flag 26102 term 24 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 24 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 24 leaderCommit: 115 
------------------------------------------------------
flag 24994 term 24 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 24 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 24 leaderCommit: 115 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114} {3232868918877944490 24 115} {6696250113161021793 24 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1370 term 24 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 24 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 24 leaderCommit: 116 
------------------------------------------------------
flag 22173 term 24 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 24 leaderCommit: 116 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114} {3232868918877944490 24 115} {6696250113161021793 24 116}]
------------------------------------------------------
client write log 992453454107044165 (index 117) to leader 0
client write log 2219612404691851988 (index 118) to leader 0
client write log 120273141385006732 (index 119) to leader 0
client write log 7893986697251140485 (index 120) to leader 0
client write log 2575481466591603131 (index 121) to leader 0
client write log 5658218214142207889 (index 122) to leader 0
client write log 8332570245626268405 (index 123) to leader 0
client write log 5296515740249421762 (index 124) to leader 0
client write log 6797656574578542765 (index 125) to leader 0
client write log 142149804694846415 (index 126) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18497 term 24 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 24 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 24 leaderCommit: 116 
------------------------------------------------------
flag 34383 term 24 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 24 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 24 leaderCommit: 116 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 21 109} {6988809080596810575 21 110} {3629889299449510251 21 111} {3629889299449510251 23 112} {1106989503592446315 24 113} {3662026599144234756 24 114} {3232868918877944490 24 115} {6696250113161021793 24 116} {992453454107044165 24 117} {2219612404691851988 24 118} {120273141385006732 24 119} {7893986697251140485 24 120} {2575481466591603131 24 121} {5658218214142207889 24 122} {8332570245626268405 24 123} {5296515740249421762 24 124} {6797656574578542765 24 125} {142149804694846415 24 126}]
------------------------------------------------------
term 24 Server0 start snapshot! index=119
term 24 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=126
-------------------------------------------------------------
term 24 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 24
------------------------------------------------------
flag 94402 term 24 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 24 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 24 leaderCommit: 126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 24 119} {7893986697251140485 24 120} {2575481466591603131 24 121} {5658218214142207889 24 122} {8332570245626268405 24 123} {5296515740249421762 24 124} {6797656574578542765 24 125} {142149804694846415 24 126}]
------------------------------------------------------
term 24 Server2 start snapshot! index=119
term 24 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=126
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8195376140504034565 (index 127) to leader 0
term 24 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 24 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 24
------------------------------------------------------
flag 76982 term 24 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 24 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 24 leaderCommit: 126 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 24 119} {7893986697251140485 24 120} {2575481466591603131 24 121} {5658218214142207889 24 122} {8332570245626268405 24 123} {5296515740249421762 24 124} {6797656574578542765 24 125} {142149804694846415 24 126} {8195376140504034565 24 127}]
------------------------------------------------------
term 25 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 2 vote for server 0
term 26 server 1 vote for server 0
term 26 server 0 get vote from server 2
term 26 server 0 become leader
------------------------------------------------------
term 26 server 0 get outdate rpc reply from server 1
flag 65918 term 26 leader 0 nextIndex[1]: 128  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 67945 term 26 leader 0 nextIndex[2]: 128  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
term 26 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 24 119} {7893986697251140485 24 120} {2575481466591603131 24 121} {5658218214142207889 24 122} {8332570245626268405 24 123} {5296515740249421762 24 124} {6797656574578542765 24 125} {142149804694846415 24 126} {8195376140504034565 24 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 128->127
------------------------------------------------------
term 26 leader 0 nextIndex[1]: 116  matchIndex[1]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 24
------------------------------------------------------
flag 78602 term 26 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 26 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 24 119} {7893986697251140485 24 120} {2575481466591603131 24 121} {5658218214142207889 24 122} {8332570245626268405 24 123} {5296515740249421762 24 124} {6797656574578542765 24 125} {142149804694846415 24 126} {8195376140504034565 24 127}]
------------------------------------------------------
term 26 server 1 InstallSnapshot success
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 24 rf.commitIndex 119 rf.lastApplied 119
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11994 term 26 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 26 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 83816 term 26 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 26 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 24 119} {7893986697251140485 24 120} {2575481466591603131 24 121} {5658218214142207889 24 122} {8332570245626268405 24 123} {5296515740249421762 24 124} {6797656574578542765 24 125} {142149804694846415 24 126} {8195376140504034565 24 127}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 24 119} {7893986697251140485 24 120} {2575481466591603131 24 121} {5658218214142207889 24 122} {8332570245626268405 24 123} {5296515740249421762 24 124} {6797656574578542765 24 125} {142149804694846415 24 126} {8195376140504034565 24 127}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6235 term 26 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 26 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 53660 term 26 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 26 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 24 119} {7893986697251140485 24 120} {2575481466591603131 24 121} {5658218214142207889 24 122} {8332570245626268405 24 123} {5296515740249421762 24 124} {6797656574578542765 24 125} {142149804694846415 24 126} {8195376140504034565 24 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 24 119} {7893986697251140485 24 120} {2575481466591603131 24 121} {5658218214142207889 24 122} {8332570245626268405 24 123} {5296515740249421762 24 124} {6797656574578542765 24 125} {142149804694846415 24 126} {8195376140504034565 24 127}]
------------------------------------------------------
flag 45487 term 26 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 26 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 22440 term 26 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 26 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 24 119} {7893986697251140485 24 120} {2575481466591603131 24 121} {5658218214142207889 24 122} {8332570245626268405 24 123} {5296515740249421762 24 124} {6797656574578542765 24 125} {142149804694846415 24 126} {8195376140504034565 24 127}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 24 119} {7893986697251140485 24 120} {2575481466591603131 24 121} {5658218214142207889 24 122} {8332570245626268405 24 123} {5296515740249421762 24 124} {6797656574578542765 24 125} {142149804694846415 24 126} {8195376140504034565 24 127}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19108 term 26 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 26 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 85926 term 26 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 26 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 24 119} {7893986697251140485 24 120} {2575481466591603131 24 121} {5658218214142207889 24 122} {8332570245626268405 24 123} {5296515740249421762 24 124} {6797656574578542765 24 125} {142149804694846415 24 126} {8195376140504034565 24 127}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 24 119} {7893986697251140485 24 120} {2575481466591603131 24 121} {5658218214142207889 24 122} {8332570245626268405 24 123} {5296515740249421762 24 124} {6797656574578542765 24 125} {142149804694846415 24 126} {8195376140504034565 24 127}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54434 term 26 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 26 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 15772 term 26 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 26 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 24 119} {7893986697251140485 24 120} {2575481466591603131 24 121} {5658218214142207889 24 122} {8332570245626268405 24 123} {5296515740249421762 24 124} {6797656574578542765 24 125} {142149804694846415 24 126} {8195376140504034565 24 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 24 119} {7893986697251140485 24 120} {2575481466591603131 24 121} {5658218214142207889 24 122} {8332570245626268405 24 123} {5296515740249421762 24 124} {6797656574578542765 24 125} {142149804694846415 24 126} {8195376140504034565 24 127}]
------------------------------------------------------
flag 13129 term 26 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 26 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 55375 term 26 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 26 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 24 119} {7893986697251140485 24 120} {2575481466591603131 24 121} {5658218214142207889 24 122} {8332570245626268405 24 123} {5296515740249421762 24 124} {6797656574578542765 24 125} {142149804694846415 24 126} {8195376140504034565 24 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 24 119} {7893986697251140485 24 120} {2575481466591603131 24 121} {5658218214142207889 24 122} {8332570245626268405 24 123} {5296515740249421762 24 124} {6797656574578542765 24 125} {142149804694846415 24 126} {8195376140504034565 24 127}]
------------------------------------------------------
flag 63690 term 26 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 26 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 39170 term 26 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 26 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 24 119} {7893986697251140485 24 120} {2575481466591603131 24 121} {5658218214142207889 24 122} {8332570245626268405 24 123} {5296515740249421762 24 124} {6797656574578542765 24 125} {142149804694846415 24 126} {8195376140504034565 24 127}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 24 119} {7893986697251140485 24 120} {2575481466591603131 24 121} {5658218214142207889 24 122} {8332570245626268405 24 123} {5296515740249421762 24 124} {6797656574578542765 24 125} {142149804694846415 24 126} {8195376140504034565 24 127}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8926989745090011236 (index 128) to leader 0
flag 48976 term 26 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 26 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
flag 34424 term 26 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 26 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 127 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {7893986697251140485 24 120} {2575481466591603131 24 121} {5658218214142207889 24 122} {8332570245626268405 24 123} {5296515740249421762 24 124} {6797656574578542765 24 125} {142149804694846415 24 126} {8195376140504034565 24 127} {8926989745090011236 26 128}]
------------------------------------------------------
flag 44240 term 26 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 26 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 78739 term 26 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 26 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 26 leaderCommit: 128 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 24 119} {7893986697251140485 24 120} {2575481466591603131 24 121} {5658218214142207889 24 122} {8332570245626268405 24 123} {5296515740249421762 24 124} {6797656574578542765 24 125} {142149804694846415 24 126} {8195376140504034565 24 127} {8926989745090011236 26 128}]
------------------------------------------------------
client write log 7291671551674220690 (index 129) to leader 0
client write log 6209488882065721327 (index 130) to leader 0
client write log 681889923884809722 (index 131) to leader 0
client write log 4514704046896028611 (index 132) to leader 0
client write log 8280435304716494288 (index 133) to leader 0
client write log 4724371334709962024 (index 134) to leader 0
client write log 4562324838682879749 (index 135) to leader 0
client write log 3770787900599287349 (index 136) to leader 0
client write log 6845971348576509707 (index 137) to leader 0
client write log 8635646264784769583 (index 138) to leader 0
client write log 899755619078824949 (index 139) to leader 0
client write log 7644646518876648635 (index 140) to leader 0
client write log 1111556603982600483 (index 141) to leader 0
flag 54566 term 26 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 26 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 24 leaderCommit: 128 
------------------------------------------------------
flag 75625 term 26 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 26 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 26 leaderCommit: 128 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 24 119} {7893986697251140485 24 120} {2575481466591603131 24 121} {5658218214142207889 24 122} {8332570245626268405 24 123} {5296515740249421762 24 124} {6797656574578542765 24 125} {142149804694846415 24 126} {8195376140504034565 24 127} {8926989745090011236 26 128} {7291671551674220690 26 129} {6209488882065721327 26 130} {681889923884809722 26 131} {4514704046896028611 26 132} {8280435304716494288 26 133} {4724371334709962024 26 134} {4562324838682879749 26 135} {3770787900599287349 26 136} {6845971348576509707 26 137} {8635646264784769583 26 138} {899755619078824949 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141}]
------------------------------------------------------
term 26 Server0 start snapshot! index=129
term 26 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=141
-------------------------------------------------------------
term 26 Server0 start snapshot! index=139
term 26 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=141
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 128->127
------------------------------------------------------
term 26 leader 0 nextIndex[1]: 0  matchIndex[1]: 127
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 26
------------------------------------------------------
flag 90822 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141}]
------------------------------------------------------
term 26 Server2 start snapshot! index=129
term 26 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=141
-------------------------------------------------------------
term 26 Server2 start snapshot! index=139
term 26 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=141
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4457271592254723190 (index 142) to leader 0
term 26 server 2 not vote for server 1, 日志不够新
term 26 server 0 not vote for server 1, 日志不够新
term 28 server 2 vote for server 0
term 28 server 1 vote for server 0
term 28 server 0 get vote from server 2
term 28 server 0 become leader
------------------------------------------------------
term 28 server 0 get outdate rpc reply from server 1
flag 26645 term 28 leader 0 nextIndex[1]: 143  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
flag 49291 term 28 leader 0 nextIndex[2]: 143  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 143->142
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 143->142
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 128  matchIndex[1]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 26
------------------------------------------------------
flag 16195 term 28 leader 0 nextIndex[2]: 142  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
term 28 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 26 rf.commitIndex 139 rf.lastApplied 139
term 28 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69059 term 28 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 28 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
flag 1902 term 28 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91528 term 28 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
flag 58130 term 28 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
flag 11754 term 28 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
flag 66284 term 28 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
flag 53995 term 28 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
flag 32612 term 28 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14268 term 28 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
flag 68470 term 28 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
flag 50834 term 28 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
flag 13079 term 28 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
flag 52098 term 28 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
flag 79504 term 28 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86027 term 28 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
flag 1376 term 28 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
term 28 server 2 not vote for server 1, 任期不够新
term 28 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49273 term 28 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
flag 77031 term 28 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
flag 18484 term 28 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
flag 69984 term 28 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
flag 89243 term 28 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
flag 36623 term 28 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68316 term 28 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
flag 7581 term 28 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60945 term 28 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
flag 94359 term 28 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
flag 84630 term 28 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
flag 3471 term 28 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
flag 79056 term 28 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
flag 88517 term 28 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92081 term 28 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
flag 77175 term 28 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
flag 93356 term 28 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
flag 93785 term 28 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=141
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4457271592254723190 (index 143) to leader 0
flag 90962 term 28 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
flag 31986 term 28 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 28 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 141 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143}]
------------------------------------------------------
flag 89404 term 28 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
flag 75476 term 28 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143}]
------------------------------------------------------
flag 72926 term 28 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
flag 52020 term 28 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143}]
------------------------------------------------------
term 28 server 0 not vote for server 1, 任期不够新
term 28 server 1 get outdate rpc reply from server 0
flag 57207 term 28 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
flag 53439 term 28 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:143 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143}]
------------------------------------------------------
flag 69603 term 28 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
flag 65968 term 28 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143}]
------------------------------------------------------
flag 18372 term 28 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
flag 11166 term 28 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 90611 term 28 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
flag 25226 term 28 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
flag 58934 term 28 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
flag 83852 term 28 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
flag 18216 term 28 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
flag 82205 term 28 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
term 29 server 1 vote for server 2
term 29 server 2 get vote from server 1
term 29 server 2 become leader
------------------------------------------------------
flag 66340 term 29 leader 2 nextIndex[0]: 144  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
flag 57370 term 29 leader 2 nextIndex[1]: 144  matchIndex[1]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143}]
------------------------------------------------------
client write log 4549583591608556788 (index 144) to leader 2
flag 55386 term 28 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
flag 86230 term 28 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
flag 35832 term 29 leader 2 nextIndex[0]: 144  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
flag 45727 term 29 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 29 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143} {4549583591608556788 29 144}]
------------------------------------------------------
flag 89096 term 28 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
flag 77413 term 28 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
flag 14621 term 29 leader 2 nextIndex[0]: 144  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 144 
------------------------------------------------------
flag 29242 term 29 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 29 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 29 leaderCommit: 144 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143} {4549583591608556788 29 144}]
------------------------------------------------------
client write log 2026497754018093882 (index 145) to leader 2
flag 84827 term 28 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
flag 27674 term 28 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
flag 1770 term 29 leader 2 nextIndex[0]: 144  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 144 
------------------------------------------------------
flag 5102 term 29 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 29 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 29 leaderCommit: 144 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143} {4549583591608556788 29 144} {2026497754018093882 29 145}]
------------------------------------------------------
flag 14712 term 28 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
flag 34840 term 28 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
flag 42379 term 29 leader 2 nextIndex[0]: 144  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 145 
------------------------------------------------------
flag 75812 term 29 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 29 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 29 leaderCommit: 145 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143} {4549583591608556788 29 144} {2026497754018093882 29 145}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7991872336149785558 (index 146) to leader 2
flag 54379 term 28 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
flag 7574 term 28 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 28 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 143 
------------------------------------------------------
term 29 server 2 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 29 server 1 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13025 term 29 leader 2 nextIndex[0]: 144  matchIndex[0]: 0
term 29 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 28 leaderCommit: 145 
------------------------------------------------------
flag 53375 term 29 leader 2 nextIndex[1]: 146  matchIndex[1]: 145
term 29 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 29 leaderCommit: 145 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143} {4549583591608556788 29 144} {2026497754018093882 29 145} {7991872336149785558 29 146}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143} {4549583591608556788 29 144} {2026497754018093882 29 145} {7991872336149785558 29 146}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19902 term 29 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 29 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 29 leaderCommit: 146 
------------------------------------------------------
flag 44418 term 29 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 29 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 29 leaderCommit: 146 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143} {4549583591608556788 29 144} {2026497754018093882 29 145} {7991872336149785558 29 146}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143} {4549583591608556788 29 144} {2026497754018093882 29 145} {7991872336149785558 29 146}]
------------------------------------------------------
flag 64380 term 29 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 29 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 29 leaderCommit: 146 
------------------------------------------------------
flag 63587 term 29 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 29 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 29 leaderCommit: 146 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143} {4549583591608556788 29 144} {2026497754018093882 29 145} {7991872336149785558 29 146}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143} {4549583591608556788 29 144} {2026497754018093882 29 145} {7991872336149785558 29 146}]
------------------------------------------------------
flag 55838 term 29 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 29 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 29 leaderCommit: 146 
------------------------------------------------------
flag 71967 term 29 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 29 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 29 leaderCommit: 146 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143} {4549583591608556788 29 144} {2026497754018093882 29 145} {7991872336149785558 29 146}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143} {4549583591608556788 29 144} {2026497754018093882 29 145} {7991872336149785558 29 146}]
------------------------------------------------------
flag 41113 term 29 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 29 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 29 leaderCommit: 146 
------------------------------------------------------
flag 23407 term 29 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 29 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 29 leaderCommit: 146 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143} {4549583591608556788 29 144} {2026497754018093882 29 145} {7991872336149785558 29 146}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143} {4549583591608556788 29 144} {2026497754018093882 29 145} {7991872336149785558 29 146}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71940 term 29 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 29 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 29 leaderCommit: 146 
------------------------------------------------------
flag 55442 term 29 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 29 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 29 leaderCommit: 146 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143} {4549583591608556788 29 144} {2026497754018093882 29 145} {7991872336149785558 29 146}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143} {4549583591608556788 29 144} {2026497754018093882 29 145} {7991872336149785558 29 146}]
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 0
client write log 1248633863780601845 (index 147) to leader 2
flag 40169 term 29 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 29 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 29 leaderCommit: 146 
------------------------------------------------------
flag 6588 term 29 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 29 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 29 leaderCommit: 146 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143} {4549583591608556788 29 144} {2026497754018093882 29 145} {7991872336149785558 29 146} {1248633863780601845 29 147}]
------------------------------------------------------
flag 31360 term 29 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 29 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 29 leaderCommit: 147 
------------------------------------------------------
flag 49611 term 29 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 29 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 29 leaderCommit: 147 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143} {4549583591608556788 29 144} {2026497754018093882 29 145} {7991872336149785558 29 146} {1248633863780601845 29 147}]
------------------------------------------------------
client write log 8643662426831659135 (index 148) to leader 2
client write log 4957511807228447060 (index 149) to leader 2
client write log 7732351097058569290 (index 150) to leader 2
client write log 9102922021347855918 (index 151) to leader 2
client write log 5196589447410111586 (index 152) to leader 2
client write log 465411819815123313 (index 153) to leader 2
client write log 7056082232666013269 (index 154) to leader 2
client write log 2010614560534554982 (index 155) to leader 2
client write log 8125837149252202672 (index 156) to leader 2
client write log 7855013014743036379 (index 157) to leader 2
client write log 6226883227399576445 (index 158) to leader 2
flag 98161 term 29 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 29 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 29 leaderCommit: 147 
------------------------------------------------------
flag 70977 term 29 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 29 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 29 leaderCommit: 147 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 139} {7644646518876648635 26 140} {1111556603982600483 26 141} {4457271592254723190 26 142} {4457271592254723190 28 143} {4549583591608556788 29 144} {2026497754018093882 29 145} {7991872336149785558 29 146} {1248633863780601845 29 147} {8643662426831659135 29 148} {4957511807228447060 29 149} {7732351097058569290 29 150} {9102922021347855918 29 151} {5196589447410111586 29 152} {465411819815123313 29 153} {7056082232666013269 29 154} {2010614560534554982 29 155} {8125837149252202672 29 156} {7855013014743036379 29 157} {6226883227399576445 29 158}]
------------------------------------------------------
term 29 Server2 start snapshot! index=149
term 29 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=158
-------------------------------------------------------------
term 29 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 29
------------------------------------------------------
flag 22885 term 29 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 29 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 29 leaderCommit: 158 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 29 149} {7732351097058569290 29 150} {9102922021347855918 29 151} {5196589447410111586 29 152} {465411819815123313 29 153} {7056082232666013269 29 154} {2010614560534554982 29 155} {8125837149252202672 29 156} {7855013014743036379 29 157} {6226883227399576445 29 158}]
------------------------------------------------------
term 29 Server1 start snapshot! index=149
term 29 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=158
-------------------------------------------------------------
!!!!!!connect server 0
client write log 267373692467775453 (index 159) to leader 2
term 29 leader 2 nextIndex[0]: 147  matchIndex[0]: 146
term 29 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 29
------------------------------------------------------
flag 95166 term 29 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 29 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 29 leaderCommit: 158 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
term 30 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 29 149} {7732351097058569290 29 150} {9102922021347855918 29 151} {5196589447410111586 29 152} {465411819815123313 29 153} {7056082232666013269 29 154} {2010614560534554982 29 155} {8125837149252202672 29 156} {7855013014743036379 29 157} {6226883227399576445 29 158} {267373692467775453 29 159}]
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 Server2 start snapshot! index=159
term 30 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 31 server 1 vote for server 2
term 31 server 2 get vote from server 1
term 31 server 2 become leader
------------------------------------------------------
term 31 server 0 vote for server 2
term 31 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71048 term 31 leader 2 nextIndex[0]: 160  matchIndex[0]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 61856 term 31 leader 2 nextIndex[1]: 160  matchIndex[1]: 0
term 31 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 160->159
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 29 159}]
------------------------------------------------------
term 31 Server1 start snapshot! index=159
term 31 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 31 leader 2 nextIndex[0]: 147  matchIndex[0]: 0
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 29
------------------------------------------------------
flag 75175 term 31 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 31 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 0 InstallSnapshot success
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 29 159}]
------------------------------------------------------
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 29 rf.commitIndex 159 rf.lastApplied 159
flag 9888 term 31 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 31 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 190 term 31 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 31 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 29 159}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 29 159}]
------------------------------------------------------
flag 97304 term 31 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 31 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 52687 term 31 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 31 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 29 159}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 29 159}]
------------------------------------------------------
flag 32691 term 31 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 31 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 46403 term 31 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 31 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 29 159}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 29 159}]
------------------------------------------------------
flag 85850 term 31 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 31 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 78761 term 31 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 31 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 29 159}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 29 159}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54476 term 31 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 31 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 17777 term 31 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 31 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 29 159}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 29 159}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1376104787840908890 (index 160) to leader 2
flag 49778 term 31 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 31 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
flag 28613 term 31 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 31 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 159 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 29 159} {1376104787840908890 31 160}]
------------------------------------------------------
flag 74007 term 31 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 31 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 160 
------------------------------------------------------
flag 465 term 31 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 31 leaderCommit: 160 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 29 159} {1376104787840908890 31 160}]
------------------------------------------------------
client write log 4304171337548875312 (index 161) to leader 2
client write log 1953630203747045223 (index 162) to leader 2
client write log 7345375998167283927 (index 163) to leader 2
client write log 199795559231892892 (index 164) to leader 2
client write log 2035264160168780583 (index 165) to leader 2
client write log 1527278095619701390 (index 166) to leader 2
client write log 107641069371819157 (index 167) to leader 2
client write log 1516559594859420920 (index 168) to leader 2
client write log 4825279822591959171 (index 169) to leader 2
client write log 6880551901286717146 (index 170) to leader 2
client write log 8737813266492062460 (index 171) to leader 2
client write log 4925128069423085781 (index 172) to leader 2
flag 79733 term 31 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 31 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 160 
------------------------------------------------------
flag 81075 term 31 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 31 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 31 leaderCommit: 160 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 29 159} {1376104787840908890 31 160} {4304171337548875312 31 161} {1953630203747045223 31 162} {7345375998167283927 31 163} {199795559231892892 31 164} {2035264160168780583 31 165} {1527278095619701390 31 166} {107641069371819157 31 167} {1516559594859420920 31 168} {4825279822591959171 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172}]
------------------------------------------------------
term 31 Server2 start snapshot! index=169
term 31 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=172
-------------------------------------------------------------
term 31 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 31
------------------------------------------------------
flag 1439 term 31 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=173
update matchIndex[1]=172
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172}]
------------------------------------------------------
term 31 Server1 start snapshot! index=169
term 31 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=172
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3981497765301227591 (index 173) to leader 2
term 31 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 31 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 31
------------------------------------------------------
flag 88333 term 31 leader 2 nextIndex[1]: 173  matchIndex[1]: 172
term 31 leader 2 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 32 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 1 vote for server 2
term 33 server 0 vote for server 2
term 33 server 2 get vote from server 1
term 33 server 2 become leader
------------------------------------------------------
term 33 server 2 get outdate rpc reply from server 0
flag 15261 term 33 leader 2 nextIndex[0]: 174  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 57305 term 33 leader 2 nextIndex[1]: 174  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 174->173
------------------------------------------------------
term 33 leader 2 nextIndex[0]: 160  matchIndex[0]: 0
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 31
------------------------------------------------------
flag 62068 term 33 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
term 33 server 0 InstallSnapshot success
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 31 rf.commitIndex 169 rf.lastApplied 169
term 33 server 1 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 1
flag 59992 term 33 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 33 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 46066 term 33 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78509 term 33 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 22126 term 33 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
flag 38169 term 33 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 15154 term 33 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
flag 67077 term 33 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 97392 term 33 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
term 33 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29994 term 33 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 43280 term 33 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
flag 89236 term 33 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 96970 term 33 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
flag 37203 term 33 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 27908 term 33 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
flag 35898 term 33 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 38876 term 33 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
flag 64830 term 33 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 75353 term 33 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
flag 94565 term 33 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 20448 term 33 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20272 term 33 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 87167 term 33 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
flag 44020 term 33 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 97460 term 33 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38958 term 33 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 22027 term 33 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 1 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 1
flag 92469 term 33 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 2318 term 33 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37519 term 33 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 66253 term 33 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9313 term 33 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 70597 term 33 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19516 term 33 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 52679 term 33 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=174
update matchIndex[1]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=174
update matchIndex[0]=173
update leader CommitIndex=172
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173}]
------------------------------------------------------
client write log 3981497765301227591 (index 174) to leader 2
flag 20476 term 33 leader 2 nextIndex[0]: 174  matchIndex[0]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
flag 45841 term 33 leader 2 nextIndex[1]: 174  matchIndex[1]: 173
term 33 leader 2 sendAppendEntries PrevLogIndex: 173  PrevLogTerm: 31 leaderCommit: 172 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173} {3981497765301227591 33 174}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173} {3981497765301227591 33 174}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1653 term 33 leader 2 nextIndex[0]: 175  matchIndex[0]: 174
term 33 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 42954 term 33 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173} {3981497765301227591 33 174}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173} {3981497765301227591 33 174}]
------------------------------------------------------
flag 90231 term 33 leader 2 nextIndex[0]: 175  matchIndex[0]: 174
term 33 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 74410 term 33 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173} {3981497765301227591 33 174}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173} {3981497765301227591 33 174}]
------------------------------------------------------
flag 8196 term 33 leader 2 nextIndex[0]: 175  matchIndex[0]: 174
term 33 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 32214 term 33 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173} {3981497765301227591 33 174}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173} {3981497765301227591 33 174}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36583 term 33 leader 2 nextIndex[0]: 175  matchIndex[0]: 174
term 33 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 5132 term 33 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173} {3981497765301227591 33 174}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173} {3981497765301227591 33 174}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 2 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 2
flag 3217 term 33 leader 2 nextIndex[0]: 175  matchIndex[0]: 174
term 33 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 43548 term 33 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173} {3981497765301227591 33 174}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173} {3981497765301227591 33 174}]
------------------------------------------------------
flag 19125 term 33 leader 2 nextIndex[0]: 175  matchIndex[0]: 174
term 33 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 42763 term 33 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173} {3981497765301227591 33 174}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173} {3981497765301227591 33 174}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 82924 term 33 leader 2 nextIndex[0]: 175  matchIndex[0]: 174
term 33 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 32580 term 33 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 66464 term 33 leader 2 nextIndex[0]: 175  matchIndex[0]: 174
term 33 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 30096 term 33 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 88315 term 33 leader 2 nextIndex[0]: 175  matchIndex[0]: 174
term 33 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 36664 term 33 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 server 1 vote for server 0
term 34 server 0 get vote from server 1
term 34 server 0 become leader
------------------------------------------------------
flag 61443 term 34 leader 0 nextIndex[1]: 175  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 80161 term 34 leader 0 nextIndex[2]: 175  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=175
update matchIndex[1]=174
update leader CommitIndex=174
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173} {3981497765301227591 33 174}]
------------------------------------------------------
client write log 2847439673027420558 (index 175) to leader 0
flag 84395 term 33 leader 2 nextIndex[0]: 175  matchIndex[0]: 174
term 33 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 10746 term 33 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 51359 term 34 leader 0 nextIndex[1]: 175  matchIndex[1]: 174
term 34 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 91274 term 34 leader 0 nextIndex[2]: 175  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173} {3981497765301227591 33 174} {2847439673027420558 34 175}]
------------------------------------------------------
flag 28989 term 33 leader 2 nextIndex[0]: 175  matchIndex[0]: 174
term 33 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
flag 43381 term 33 leader 2 nextIndex[1]: 175  matchIndex[1]: 174
term 33 leader 2 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 174 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 175->174
------------------------------------------------------
flag 17262 term 34 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 34 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 34 leaderCommit: 175 
------------------------------------------------------
flag 98861 term 34 leader 0 nextIndex[2]: 175  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=176
update matchIndex[1]=175
update leader CommitIndex=175
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173} {3981497765301227591 33 174} {2847439673027420558 34 175}]
------------------------------------------------------
client write log 4219447377919415579 (index 176) to leader 0
client write log 3262272275041315239 (index 177) to leader 0
client write log 5088790500051383305 (index 178) to leader 0
client write log 242326046264771422 (index 179) to leader 0
client write log 7698194728673185387 (index 180) to leader 0
client write log 3150518966423177696 (index 181) to leader 0
client write log 3985147450391822139 (index 182) to leader 0
client write log 8282353584851597302 (index 183) to leader 0
client write log 5470055954113769369 (index 184) to leader 0
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 175->174
------------------------------------------------------
term 33 leader 2 nextIndex[0]: 0  matchIndex[0]: 174
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 31
------------------------------------------------------
term 33 leader 2 nextIndex[1]: 0  matchIndex[1]: 174
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 31
------------------------------------------------------
flag 12543 term 34 leader 0 nextIndex[1]: 176  matchIndex[1]: 175
term 34 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 34 leaderCommit: 175 
------------------------------------------------------
flag 8117 term 34 leader 0 nextIndex[2]: 175  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 33 leaderCommit: 175 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 169} {6880551901286717146 31 170} {8737813266492062460 31 171} {4925128069423085781 31 172} {3981497765301227591 31 173} {3981497765301227591 33 174} {2847439673027420558 34 175} {4219447377919415579 34 176} {3262272275041315239 34 177} {5088790500051383305 34 178} {242326046264771422 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
term 34 Server0 start snapshot! index=179
term 34 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=184
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
term 33 leader 2 nextIndex[0]: 0  matchIndex[0]: 174
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 31
------------------------------------------------------
term 33 leader 2 nextIndex[1]: 0  matchIndex[1]: 174
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 31
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56658 term 34 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 34 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 175  matchIndex[2]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
term 34 Server1 start snapshot! index=179
term 34 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=184
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3690271527844538910 (index 175) to leader 2
term 33 leader 2 nextIndex[0]: 0  matchIndex[0]: 174
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 31
------------------------------------------------------
term 33 leader 2 nextIndex[1]: 0  matchIndex[1]: 174
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 31
------------------------------------------------------
term 34 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39407 term 34 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 34 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 34 leader 0 nextIndex[2]: 175  matchIndex[2]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 2 InstallSnapshot success
------------------------------------------------------
term 34 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 34 rf.commitIndex 179 rf.lastApplied 179
term 34 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
term 34 server 1 not vote for server 2, 日志不够新
term 34 server 0 not vote for server 2, 日志不够新
term 35 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 2 vote for server 0
term 36 server 0 get vote from server 2
term 36 server 0 become leader
------------------------------------------------------
term 36 server 1 vote for server 0
term 36 server 0 get outdate rpc reply from server 1
flag 35568 term 36 leader 0 nextIndex[1]: 185  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 2870 term 36 leader 0 nextIndex[2]: 185  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 36 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 185->184
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
flag 75997 term 36 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 26321 term 36 leader 0 nextIndex[2]: 180  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40232 term 36 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 27695 term 36 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
flag 26713 term 36 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 85685 term 36 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21155 term 36 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 88243 term 36 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38951 term 36 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 89195 term 36 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
flag 85296 term 36 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 12180 term 36 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97291 term 36 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 36983 term 36 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
term 36 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3676 term 36 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 62327 term 36 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
flag 93198 term 36 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 85808 term 36 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 2 not vote for server 0, 任期不够新
term 36 server 0 get outdate rpc reply from server 2
flag 73897 term 36 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 93730 term 36 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
flag 16522 term 36 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 81146 term 36 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
term 36 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38716 term 36 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 83588 term 36 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
flag 26264 term 36 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 66638 term 36 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
flag 97410 term 36 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 42277 term 36 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
flag 81516 term 36 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 18893 term 36 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
flag 76637 term 36 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 26152 term 36 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
flag 59685 term 36 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 23015 term 36 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
term 36 server 2 not vote for server 0, 任期不够新
term 36 server 0 get outdate rpc reply from server 2
flag 25060 term 36 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 77448 term 36 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184}]
------------------------------------------------------
client write log 3690271527844538910 (index 185) to leader 0
flag 63760 term 36 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
flag 36603 term 36 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 36 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 34 leaderCommit: 184 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184} {3690271527844538910 36 185}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184} {3690271527844538910 36 185}]
------------------------------------------------------
flag 10652 term 36 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 36 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 36 leaderCommit: 185 
------------------------------------------------------
flag 41573 term 36 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 36 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 36 leaderCommit: 185 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184} {3690271527844538910 36 185}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184} {3690271527844538910 36 185}]
------------------------------------------------------
flag 56823 term 36 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 36 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 36 leaderCommit: 185 
------------------------------------------------------
flag 12327 term 36 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 36 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 36 leaderCommit: 185 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184} {3690271527844538910 36 185}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184} {3690271527844538910 36 185}]
------------------------------------------------------
flag 33394 term 36 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 36 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 36 leaderCommit: 185 
------------------------------------------------------
flag 73939 term 36 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 36 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 36 leaderCommit: 185 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184} {3690271527844538910 36 185}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184} {3690271527844538910 36 185}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13072 term 36 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 36 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 36 leaderCommit: 185 
------------------------------------------------------
flag 3560 term 36 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 36 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 36 leaderCommit: 185 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184} {3690271527844538910 36 185}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184} {3690271527844538910 36 185}]
------------------------------------------------------
flag 28131 term 36 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 36 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 36 leaderCommit: 185 
------------------------------------------------------
flag 19796 term 36 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 36 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 36 leaderCommit: 185 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184} {3690271527844538910 36 185}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184} {3690271527844538910 36 185}]
------------------------------------------------------
term 36 server 0 not vote for server 2, 任期不够新
term 36 server 2 get outdate rpc reply from server 0
!!!!!!diconnect server 1
client write log 5139778000693896595 (index 186) to leader 0
flag 7558 term 36 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 36 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 36 leaderCommit: 185 
------------------------------------------------------
flag 23924 term 36 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 36 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 36 leaderCommit: 185 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184} {3690271527844538910 36 185} {5139778000693896595 36 186}]
------------------------------------------------------
flag 12680 term 36 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 36 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 36 leaderCommit: 186 
------------------------------------------------------
flag 73147 term 36 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 36 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 36 leaderCommit: 186 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184} {3690271527844538910 36 185} {5139778000693896595 36 186}]
------------------------------------------------------
client write log 6156684533923889484 (index 187) to leader 0
client write log 7286069826913975370 (index 188) to leader 0
client write log 7939802575224951668 (index 189) to leader 0
client write log 9187464406614250766 (index 190) to leader 0
client write log 164256032277940400 (index 191) to leader 0
client write log 8038703675858135940 (index 192) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10687 term 36 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 36 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 36 leaderCommit: 186 
------------------------------------------------------
flag 81620 term 36 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 36 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 36 leaderCommit: 186 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 34 179} {7698194728673185387 34 180} {3150518966423177696 34 181} {3985147450391822139 34 182} {8282353584851597302 34 183} {5470055954113769369 34 184} {3690271527844538910 36 185} {5139778000693896595 36 186} {6156684533923889484 36 187} {7286069826913975370 36 188} {7939802575224951668 36 189} {9187464406614250766 36 190} {164256032277940400 36 191} {8038703675858135940 36 192}]
------------------------------------------------------
term 36 Server0 start snapshot! index=189
term 36 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=192
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 36
------------------------------------------------------
flag 38325 term 36 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 36 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 36 leaderCommit: 192 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 36 189} {9187464406614250766 36 190} {164256032277940400 36 191} {8038703675858135940 36 192}]
------------------------------------------------------
term 36 Server2 start snapshot! index=189
term 36 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=192
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4530294755072384288 (index 193) to leader 0
term 36 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 36
------------------------------------------------------
flag 82361 term 36 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 36 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 36 leaderCommit: 192 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 36 189} {9187464406614250766 36 190} {164256032277940400 36 191} {8038703675858135940 36 192} {4530294755072384288 36 193}]
------------------------------------------------------
term 37 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 server 2 vote for server 0
term 38 server 0 get vote from server 2
term 38 server 0 become leader
------------------------------------------------------
term 38 server 1 vote for server 0
term 38 server 0 get outdate rpc reply from server 1
flag 53884 term 38 leader 0 nextIndex[1]: 194  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 36 leaderCommit: 193 
------------------------------------------------------
flag 54389 term 38 leader 0 nextIndex[2]: 194  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 36 leaderCommit: 193 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 38 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 36 189} {9187464406614250766 36 190} {164256032277940400 36 191} {8038703675858135940 36 192} {4530294755072384288 36 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 194->193
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 36
------------------------------------------------------
flag 61942 term 38 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 38 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 36 leaderCommit: 193 
------------------------------------------------------
term 38 server 1 InstallSnapshot success
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 36 rf.commitIndex 189 rf.lastApplied 189
term 38 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 36 189} {9187464406614250766 36 190} {164256032277940400 36 191} {8038703675858135940 36 192} {4530294755072384288 36 193}]
------------------------------------------------------
flag 79845 term 38 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 38 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 36 leaderCommit: 193 
------------------------------------------------------
flag 15417 term 38 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 38 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 36 leaderCommit: 193 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 36 189} {9187464406614250766 36 190} {164256032277940400 36 191} {8038703675858135940 36 192} {4530294755072384288 36 193}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 36 189} {9187464406614250766 36 190} {164256032277940400 36 191} {8038703675858135940 36 192} {4530294755072384288 36 193}]
------------------------------------------------------
flag 64767 term 38 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 38 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 36 leaderCommit: 193 
------------------------------------------------------
flag 98399 term 38 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 38 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 36 leaderCommit: 193 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 36 189} {9187464406614250766 36 190} {164256032277940400 36 191} {8038703675858135940 36 192} {4530294755072384288 36 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 36 189} {9187464406614250766 36 190} {164256032277940400 36 191} {8038703675858135940 36 192} {4530294755072384288 36 193}]
------------------------------------------------------
flag 72575 term 38 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 38 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 36 leaderCommit: 193 
------------------------------------------------------
flag 15286 term 38 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 38 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 36 leaderCommit: 193 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 36 189} {9187464406614250766 36 190} {164256032277940400 36 191} {8038703675858135940 36 192} {4530294755072384288 36 193}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 36 189} {9187464406614250766 36 190} {164256032277940400 36 191} {8038703675858135940 36 192} {4530294755072384288 36 193}]
------------------------------------------------------
flag 24399 term 38 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 38 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 36 leaderCommit: 193 
------------------------------------------------------
flag 69048 term 38 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 38 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 36 leaderCommit: 193 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 36 189} {9187464406614250766 36 190} {164256032277940400 36 191} {8038703675858135940 36 192} {4530294755072384288 36 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 36 189} {9187464406614250766 36 190} {164256032277940400 36 191} {8038703675858135940 36 192} {4530294755072384288 36 193}]
------------------------------------------------------
flag 78969 term 38 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 38 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 36 leaderCommit: 193 
------------------------------------------------------
flag 16773 term 38 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 38 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 36 leaderCommit: 193 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 36 189} {9187464406614250766 36 190} {164256032277940400 36 191} {8038703675858135940 36 192} {4530294755072384288 36 193}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 36 189} {9187464406614250766 36 190} {164256032277940400 36 191} {8038703675858135940 36 192} {4530294755072384288 36 193}]
------------------------------------------------------
flag 263 term 38 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 38 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 36 leaderCommit: 193 
------------------------------------------------------
flag 10281 term 38 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 38 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 36 leaderCommit: 193 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 36 189} {9187464406614250766 36 190} {164256032277940400 36 191} {8038703675858135940 36 192} {4530294755072384288 36 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 36 189} {9187464406614250766 36 190} {164256032277940400 36 191} {8038703675858135940 36 192} {4530294755072384288 36 193}]
------------------------------------------------------
term 38 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 8235003735989944804 (index 194) to leader 0
flag 75015 term 38 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 38 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 36 leaderCommit: 193 
------------------------------------------------------
flag 7867 term 38 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 38 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 36 leaderCommit: 193 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 36 189} {9187464406614250766 36 190} {164256032277940400 36 191} {8038703675858135940 36 192} {4530294755072384288 36 193} {8235003735989944804 38 194}]
------------------------------------------------------
flag 88370 term 38 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 38 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 36 leaderCommit: 194 
------------------------------------------------------
flag 23582 term 38 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 38 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 38 leaderCommit: 194 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 36 189} {9187464406614250766 36 190} {164256032277940400 36 191} {8038703675858135940 36 192} {4530294755072384288 36 193} {8235003735989944804 38 194}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 9066548620279981220 (index 195) to leader 0
client write log 223261465529707246 (index 196) to leader 0
client write log 5151734068477499357 (index 197) to leader 0
client write log 6586909477567200946 (index 198) to leader 0
client write log 1486870120194870039 (index 199) to leader 0
client write log 3697716435278349085 (index 200) to leader 0
client write log 1870533634625511423 (index 201) to leader 0
client write log 7272261249206721405 (index 202) to leader 0
client write log 2649582645413151881 (index 203) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60683 term 38 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 38 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 36 leaderCommit: 194 
------------------------------------------------------
flag 54066 term 38 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 38 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 38 leaderCommit: 194 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 36 189} {9187464406614250766 36 190} {164256032277940400 36 191} {8038703675858135940 36 192} {4530294755072384288 36 193} {8235003735989944804 38 194} {9066548620279981220 38 195} {223261465529707246 38 196} {5151734068477499357 38 197} {6586909477567200946 38 198} {1486870120194870039 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203}]
------------------------------------------------------
term 38 Server0 start snapshot! index=199
term 38 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=203
-------------------------------------------------------------
term 38 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 38
------------------------------------------------------
flag 67262 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203}]
------------------------------------------------------
term 38 Server2 start snapshot! index=199
term 38 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=203
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1302622282085038526 (index 204) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 38
------------------------------------------------------
flag 4458 term 38 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 38 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 39 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 server 2 vote for server 0
term 40 server 0 get vote from server 2
term 40 server 0 become leader
------------------------------------------------------
term 40 server 1 vote for server 0
term 40 server 0 get outdate rpc reply from server 1
flag 27151 term 40 leader 0 nextIndex[1]: 205  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 57070 term 40 leader 0 nextIndex[2]: 205  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
term 40 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 205->204
------------------------------------------------------
term 40 leader 0 nextIndex[1]: 194  matchIndex[1]: 0
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 38
------------------------------------------------------
flag 13484 term 40 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 40 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 38 rf.commitIndex 199 rf.lastApplied 199
term 40 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
flag 23553 term 40 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 40 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 63684 term 40 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
flag 84050 term 40 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 85635 term 40 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
flag 89622 term 40 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 65038 term 40 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
flag 71140 term 40 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 55223 term 40 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
flag 19520 term 40 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 33414 term 40 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
flag 76206 term 40 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 15632 term 40 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
flag 30846 term 40 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 91871 term 40 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
flag 75826 term 40 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 27157 term 40 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
flag 91831 term 40 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 43759 term 40 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
flag 86733 term 40 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 88093 term 40 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54417 term 40 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 80017 term 40 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
flag 17212 term 40 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 66983 term 40 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
flag 96853 term 40 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 25643 term 40 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
flag 6675 term 40 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 83156 term 40 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
flag 26298 term 40 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 321 term 40 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15457 term 40 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 15588 term 40 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
flag 25243 term 40 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 80352 term 40 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=203
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204}]
------------------------------------------------------
client write log 1302622282085038526 (index 205) to leader 0
flag 18058 term 40 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
flag 13005 term 40 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 40 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 38 leaderCommit: 203 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204} {1302622282085038526 40 205}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204} {1302622282085038526 40 205}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10975 term 40 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 5840 term 40 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204} {1302622282085038526 40 205}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204} {1302622282085038526 40 205}]
------------------------------------------------------
term 40 server 0 not vote for server 1, 任期不够新
term 40 server 1 get outdate rpc reply from server 0
flag 21321 term 40 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 22191 term 40 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204} {1302622282085038526 40 205}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204} {1302622282085038526 40 205}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15935 term 40 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 57864 term 40 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204} {1302622282085038526 40 205}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204} {1302622282085038526 40 205}]
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84831 term 40 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 34614 term 40 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204} {1302622282085038526 40 205}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204} {1302622282085038526 40 205}]
------------------------------------------------------
flag 85656 term 40 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 76336 term 40 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204} {1302622282085038526 40 205}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204} {1302622282085038526 40 205}]
------------------------------------------------------
flag 47013 term 40 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 57500 term 40 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204} {1302622282085038526 40 205}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=206
update matchIndex[1]=205
update leader CommitIndex=205
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204} {1302622282085038526 40 205}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 93050 term 40 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 95841 term 40 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 53925 term 40 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 63929 term 40 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
term 40 server 2 not vote for server 1, 任期不够新
term 40 server 1 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74226 term 40 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 27272 term 40 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 82992 term 40 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 77293 term 40 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
term 41 server 2 vote for server 1
term 41 server 1 get vote from server 2
term 41 server 1 become leader
------------------------------------------------------
flag 29850 term 41 leader 1 nextIndex[0]: 206  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 65727 term 41 leader 1 nextIndex[2]: 206  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204} {1302622282085038526 40 205}]
------------------------------------------------------
client write log 862432704561799147 (index 206) to leader 1
flag 48824 term 40 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 21821 term 40 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 69680 term 41 leader 1 nextIndex[0]: 206  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 1773 term 41 leader 1 nextIndex[2]: 206  matchIndex[2]: 205
term 41 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204} {1302622282085038526 40 205} {862432704561799147 41 206}]
------------------------------------------------------
flag 21771 term 40 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 51616 term 40 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 29328 term 41 leader 1 nextIndex[0]: 206  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 206 
------------------------------------------------------
flag 83894 term 41 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 41 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 41 leaderCommit: 206 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=206
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204} {1302622282085038526 40 205} {862432704561799147 41 206}]
------------------------------------------------------
client write log 1229060486585235748 (index 207) to leader 1
client write log 3019663106374969281 (index 208) to leader 1
client write log 7450017067014660532 (index 209) to leader 1
client write log 8726187404991209431 (index 210) to leader 1
client write log 1510557664547565793 (index 211) to leader 1
client write log 4143820504565777526 (index 212) to leader 1
client write log 5894808894437430208 (index 213) to leader 1
client write log 4077953397764223479 (index 214) to leader 1
client write log 3966295148797535570 (index 215) to leader 1
client write log 4866623888913239626 (index 216) to leader 1
flag 74255 term 40 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 35989 term 40 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 71336 term 41 leader 1 nextIndex[0]: 206  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 206 
------------------------------------------------------
flag 83305 term 41 leader 1 nextIndex[2]: 207  matchIndex[2]: 206
term 41 leader 1 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 41 leaderCommit: 206 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:206 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 38 199} {3697716435278349085 38 200} {1870533634625511423 38 201} {7272261249206721405 38 202} {2649582645413151881 38 203} {1302622282085038526 38 204} {1302622282085038526 40 205} {862432704561799147 41 206} {1229060486585235748 41 207} {3019663106374969281 41 208} {7450017067014660532 41 209} {8726187404991209431 41 210} {1510557664547565793 41 211} {4143820504565777526 41 212} {5894808894437430208 41 213} {4077953397764223479 41 214} {3966295148797535570 41 215} {4866623888913239626 41 216}]
------------------------------------------------------
term 41 Server1 start snapshot! index=209
term 41 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=216
-------------------------------------------------------------
flag 17867 term 40 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 73651 term 40 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
term 41 leader 1 nextIndex[0]: 206  matchIndex[0]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 41
------------------------------------------------------
flag 7050 term 41 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 41 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 41 leaderCommit: 216 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 41 209} {8726187404991209431 41 210} {1510557664547565793 41 211} {4143820504565777526 41 212} {5894808894437430208 41 213} {4077953397764223479 41 214} {3966295148797535570 41 215} {4866623888913239626 41 216}]
------------------------------------------------------
term 41 Server2 start snapshot! index=209
term 41 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=216
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8810229887138643471 (index 217) to leader 1
flag 90412 term 40 leader 0 nextIndex[1]: 206  matchIndex[1]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
flag 4607 term 40 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 40 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 40 leaderCommit: 205 
------------------------------------------------------
term 41 server 1 AppendEntries false 领导者任期过期 args.Term 40
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 41 server 2 AppendEntries false 领导者任期过期 args.Term 40
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 1 nextIndex[0]: 206  matchIndex[0]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 41
------------------------------------------------------
flag 94818 term 41 leader 1 nextIndex[2]: 217  matchIndex[2]: 216
term 41 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 41 leaderCommit: 216 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 41 209} {8726187404991209431 41 210} {1510557664547565793 41 211} {4143820504565777526 41 212} {5894808894437430208 41 213} {4077953397764223479 41 214} {3966295148797535570 41 215} {4866623888913239626 41 216} {8810229887138643471 41 217}]
------------------------------------------------------
term 41 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 41 rf.commitIndex 209 rf.lastApplied 209
term 41 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
flag 69414 term 41 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 41 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 41 leaderCommit: 217 
------------------------------------------------------
flag 43782 term 41 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 41 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 41 leaderCommit: 217 
------------------------------------------------------
term 41 server 0 not vote for server 1, 任期不够新
term 41 server 1 get outdate rpc reply from server 0
term 41 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 41 209} {8726187404991209431 41 210} {1510557664547565793 41 211} {4143820504565777526 41 212} {5894808894437430208 41 213} {4077953397764223479 41 214} {3966295148797535570 41 215} {4866623888913239626 41 216} {8810229887138643471 41 217}]
term 41 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 41 209} {8726187404991209431 41 210} {1510557664547565793 41 211} {4143820504565777526 41 212} {5894808894437430208 41 213} {4077953397764223479 41 214} {3966295148797535570 41 215} {4866623888913239626 41 216} {8810229887138643471 41 217}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86414 term 41 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 41 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 41 leaderCommit: 217 
------------------------------------------------------
flag 7549 term 41 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 41 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 41 leaderCommit: 217 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 41 209} {8726187404991209431 41 210} {1510557664547565793 41 211} {4143820504565777526 41 212} {5894808894437430208 41 213} {4077953397764223479 41 214} {3966295148797535570 41 215} {4866623888913239626 41 216} {8810229887138643471 41 217}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 41 209} {8726187404991209431 41 210} {1510557664547565793 41 211} {4143820504565777526 41 212} {5894808894437430208 41 213} {4077953397764223479 41 214} {3966295148797535570 41 215} {4866623888913239626 41 216} {8810229887138643471 41 217}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41738 term 41 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 41 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 41 leaderCommit: 217 
------------------------------------------------------
flag 33984 term 41 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 41 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 41 leaderCommit: 217 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 41 209} {8726187404991209431 41 210} {1510557664547565793 41 211} {4143820504565777526 41 212} {5894808894437430208 41 213} {4077953397764223479 41 214} {3966295148797535570 41 215} {4866623888913239626 41 216} {8810229887138643471 41 217}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 41 209} {8726187404991209431 41 210} {1510557664547565793 41 211} {4143820504565777526 41 212} {5894808894437430208 41 213} {4077953397764223479 41 214} {3966295148797535570 41 215} {4866623888913239626 41 216} {8810229887138643471 41 217}]
------------------------------------------------------
term 41 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23124 term 41 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 41 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 41 leaderCommit: 217 
------------------------------------------------------
flag 5594 term 41 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 41 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 41 leaderCommit: 217 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
term 41 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 41 209} {8726187404991209431 41 210} {1510557664547565793 41 211} {4143820504565777526 41 212} {5894808894437430208 41 213} {4077953397764223479 41 214} {3966295148797535570 41 215} {4866623888913239626 41 216} {8810229887138643471 41 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 41 209} {8726187404991209431 41 210} {1510557664547565793 41 211} {4143820504565777526 41 212} {5894808894437430208 41 213} {4077953397764223479 41 214} {3966295148797535570 41 215} {4866623888913239626 41 216} {8810229887138643471 41 217}]
------------------------------------------------------
flag 8604 term 41 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 41 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 41 leaderCommit: 217 
------------------------------------------------------
flag 96096 term 41 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 41 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 41 leaderCommit: 217 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 41 209} {8726187404991209431 41 210} {1510557664547565793 41 211} {4143820504565777526 41 212} {5894808894437430208 41 213} {4077953397764223479 41 214} {3966295148797535570 41 215} {4866623888913239626 41 216} {8810229887138643471 41 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 41 209} {8726187404991209431 41 210} {1510557664547565793 41 211} {4143820504565777526 41 212} {5894808894437430208 41 213} {4077953397764223479 41 214} {3966295148797535570 41 215} {4866623888913239626 41 216} {8810229887138643471 41 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 218->217
------------------------------------------------------
term 41 leader 1 nextIndex[0]: 0  matchIndex[0]: 217
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 41
------------------------------------------------------
flag 53471 term 41 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 41 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 41 leaderCommit: 217 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
term 41 server 0 InstallSnapshot fail
rf.commitIndex 217 args.LastIncludedIndex 209
------------------------------------------------------
update leader CommitIndex=217
leader log:
[{snapshot 41 209} {8726187404991209431 41 210} {1510557664547565793 41 211} {4143820504565777526 41 212} {5894808894437430208 41 213} {4077953397764223479 41 214} {3966295148797535570 41 215} {4866623888913239626 41 216} {8810229887138643471 41 217}]
------------------------------------------------------
term 41 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
flag 43838 term 41 leader 1 nextIndex[0]: 210  matchIndex[0]: 209
term 41 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 41 leaderCommit: 217 
------------------------------------------------------
flag 23647 term 41 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 41 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 41 leaderCommit: 217 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 41 209} {8726187404991209431 41 210} {1510557664547565793 41 211} {4143820504565777526 41 212} {5894808894437430208 41 213} {4077953397764223479 41 214} {3966295148797535570 41 215} {4866623888913239626 41 216} {8810229887138643471 41 217}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 41 209} {8726187404991209431 41 210} {1510557664547565793 41 211} {4143820504565777526 41 212} {5894808894437430208 41 213} {4077953397764223479 41 214} {3966295148797535570 41 215} {4866623888913239626 41 216} {8810229887138643471 41 217}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6208712318561649137 (index 218) to leader 1
flag 25922 term 41 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 41 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 41 leaderCommit: 217 
------------------------------------------------------
flag 3220 term 41 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 41 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 41 leaderCommit: 217 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 41 209} {8726187404991209431 41 210} {1510557664547565793 41 211} {4143820504565777526 41 212} {5894808894437430208 41 213} {4077953397764223479 41 214} {3966295148797535570 41 215} {4866623888913239626 41 216} {8810229887138643471 41 217} {6208712318561649137 41 218}]
------------------------------------------------------
flag 90629 term 41 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 41 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
flag 32691 term 41 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 41 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 41 209} {8726187404991209431 41 210} {1510557664547565793 41 211} {4143820504565777526 41 212} {5894808894437430208 41 213} {4077953397764223479 41 214} {3966295148797535570 41 215} {4866623888913239626 41 216} {8810229887138643471 41 217} {6208712318561649137 41 218}]
------------------------------------------------------
client write log 213289754921986244 (index 219) to leader 1
client write log 2858577356165068793 (index 220) to leader 1
client write log 563296046480548364 (index 221) to leader 1
client write log 1527093570244775172 (index 222) to leader 1
client write log 9216256388076084286 (index 223) to leader 1
client write log 7227570735742707560 (index 224) to leader 1
client write log 4199792430036225507 (index 225) to leader 1
client write log 7277095815709978041 (index 226) to leader 1
client write log 1456147237677770380 (index 227) to leader 1
client write log 3123341732479978706 (index 228) to leader 1
flag 95020 term 41 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 41 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
flag 45907 term 41 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 41 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 41 leaderCommit: 218 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 41 209} {8726187404991209431 41 210} {1510557664547565793 41 211} {4143820504565777526 41 212} {5894808894437430208 41 213} {4077953397764223479 41 214} {3966295148797535570 41 215} {4866623888913239626 41 216} {8810229887138643471 41 217} {6208712318561649137 41 218} {213289754921986244 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228}]
------------------------------------------------------
term 41 Server1 start snapshot! index=219
term 41 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=228
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 229->228
------------------------------------------------------
term 41 leader 1 nextIndex[0]: 0  matchIndex[0]: 228
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 41
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 InstallSnapshot success
------------------------------------------------------
term 41 leader 1 -> server 0 sendInstallSnapshot success
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 41 rf.commitIndex 219 rf.lastApplied 219
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
flag 9443 term 41 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 41 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5582549518054409506 (index 229) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
flag 53666 term 41 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 41 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 96009 term 41 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 41 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 42 server 2 AppendEntries false 领导者任期过期 args.Term 41
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 1 not vote for server 2, 日志不够新
term 41 server 0 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 2 vote for server 0
term 44 server 1 vote for server 0
term 44 server 0 get vote from server 2
term 44 server 0 become leader
------------------------------------------------------
term 44 server 0 get outdate rpc reply from server 1
flag 66790 term 44 leader 0 nextIndex[1]: 230  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 81839 term 44 leader 0 nextIndex[2]: 230  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 44 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 230->229
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
flag 50570 term 44 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 44 leader 0 nextIndex[2]: 218  matchIndex[2]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 41
------------------------------------------------------
term 44 server 2 InstallSnapshot success
------------------------------------------------------
term 44 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 41 rf.commitIndex 219 rf.lastApplied 219
term 44 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60620 term 44 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 3685 term 44 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 44 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
flag 79867 term 44 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 32704 term 44 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44112 term 44 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 67810 term 44 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
flag 97256 term 44 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 78828 term 44 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
flag 83768 term 44 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 6298 term 44 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
flag 26762 term 44 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 15291 term 44 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63049 term 44 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 95946 term 44 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
flag 94667 term 44 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 68744 term 44 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
term 44 server 0 not vote for server 1, 任期不够新
term 44 server 1 get outdate rpc reply from server 0
flag 69249 term 44 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 27201 term 44 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
term 44 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
flag 5366 term 44 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 62274 term 44 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
flag 53408 term 44 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 81499 term 44 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
flag 25543 term 44 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 69917 term 44 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18603 term 44 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 29451 term 44 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:228 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
flag 13743 term 44 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 49514 term 44 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:228 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=228
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229}]
------------------------------------------------------
client write log 5582549518054409506 (index 230) to leader 0
term 44 server 2 not vote for server 1, 任期不够新
term 44 server 1 get outdate rpc reply from server 2
flag 49952 term 44 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
flag 13892 term 44 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 44 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 41 leaderCommit: 228 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229} {5582549518054409506 44 230}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 41 219} {2858577356165068793 41 220} {563296046480548364 41 221} {1527093570244775172 41 222} {9216256388076084286 41 223} {7227570735742707560 41 224} {4199792430036225507 41 225} {7277095815709978041 41 226} {1456147237677770380 41 227} {3123341732479978706 41 228} {5582549518054409506 41 229} {5582549518054409506 44 230}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 Server0 start snapshot! index=229
term 44 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22065 term 44 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 44 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 44 leaderCommit: 230 
------------------------------------------------------
flag 65852 term 44 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 44 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 44 leaderCommit: 230 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 41 229} {5582549518054409506 44 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 41 229} {5582549518054409506 44 230}]
------------------------------------------------------
term 44 Server2 start snapshot! index=229
term 44 server2 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
term 44 Server1 start snapshot! index=229
term 44 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
flag 61776 term 44 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 44 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 44 leaderCommit: 230 
------------------------------------------------------
flag 27602 term 44 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 44 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 44 leaderCommit: 230 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 41 229} {5582549518054409506 44 230}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 41 229} {5582549518054409506 44 230}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 310 term 44 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 44 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 44 leaderCommit: 230 
------------------------------------------------------
flag 2885 term 44 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 44 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 44 leaderCommit: 230 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:230 
term 44 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 41 229} {5582549518054409506 44 230}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 41 229} {5582549518054409506 44 230}]
------------------------------------------------------
flag 1772 term 44 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 44 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 44 leaderCommit: 230 
------------------------------------------------------
flag 7974 term 44 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 44 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 44 leaderCommit: 230 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 41 229} {5582549518054409506 44 230}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 41 229} {5582549518054409506 44 230}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69198 term 44 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 44 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 44 leaderCommit: 230 
------------------------------------------------------
flag 29068 term 44 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 44 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 44 leaderCommit: 230 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 41 229} {5582549518054409506 44 230}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 41 229} {5582549518054409506 44 230}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5591048165555704589 (index 231) to leader 0
flag 11807 term 44 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 44 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 44 leaderCommit: 230 
------------------------------------------------------
flag 49876 term 44 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 44 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 44 leaderCommit: 230 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {5582549518054409506 44 230} {5591048165555704589 44 231}]
------------------------------------------------------
term 44 server 0 not vote for server 2, 任期不够新
term 44 server 2 get outdate rpc reply from server 0
flag 69847 term 44 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 44 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 44 leaderCommit: 231 
------------------------------------------------------
flag 25174 term 44 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 44 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 44 leaderCommit: 231 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 41 229} {5582549518054409506 44 230} {5591048165555704589 44 231}]
------------------------------------------------------
client write log 4538144364847246155 (index 232) to leader 0
client write log 8991987845104225923 (index 233) to leader 0
client write log 5047446881137999719 (index 234) to leader 0
client write log 2237713042005857721 (index 235) to leader 0
client write log 8850694655776867751 (index 236) to leader 0
client write log 7435669361373910359 (index 237) to leader 0
client write log 1166847578789946912 (index 238) to leader 0
client write log 5689117437387386014 (index 239) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43102 term 44 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 44 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 44 leaderCommit: 231 
------------------------------------------------------
flag 49730 term 44 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 44 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 44 leaderCommit: 231 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 41 229} {5582549518054409506 44 230} {5591048165555704589 44 231} {4538144364847246155 44 232} {8991987845104225923 44 233} {5047446881137999719 44 234} {2237713042005857721 44 235} {8850694655776867751 44 236} {7435669361373910359 44 237} {1166847578789946912 44 238} {5689117437387386014 44 239}]
------------------------------------------------------
term 44 Server0 start snapshot! index=239
term 44 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
term 44 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 44
------------------------------------------------------
flag 70048 term 44 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=240
update matchIndex[2]=239
update leader CommitIndex=239
leader log:
[{snapshot 44 239}]
------------------------------------------------------
term 44 Server2 start snapshot! index=239
term 44 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8063320495109026609 (index 240) to leader 0
term 44 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 44
------------------------------------------------------
flag 1589 term 44 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 44 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
term 45 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 2 vote for server 0
term 46 server 0 get vote from server 2
term 46 server 0 become leader
------------------------------------------------------
term 46 server 1 vote for server 0
term 46 server 0 get outdate rpc reply from server 1
flag 7635 term 46 leader 0 nextIndex[1]: 241  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
flag 53890 term 46 leader 0 nextIndex[2]: 241  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
term 46 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 241->240
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 231  matchIndex[1]: 0
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 44
------------------------------------------------------
flag 26117 term 46 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 46 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 44 rf.commitIndex 239 rf.lastApplied 239
flag 35739 term 46 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 46 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
flag 10870 term 46 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
flag 94369 term 46 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
flag 2298 term 46 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
flag 31282 term 46 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
flag 13246 term 46 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
term 46 server 1 not vote for server 2, 任期不够新
term 46 server 2 get outdate rpc reply from server 1
flag 90297 term 46 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
flag 30664 term 46 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8070 term 46 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
flag 64117 term 46 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95215 term 46 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
flag 2892 term 46 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43382 term 46 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
flag 94382 term 46 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
flag 55070 term 46 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
flag 99181 term 46 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
flag 30753 term 46 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
flag 8548 term 46 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
flag 95433 term 46 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
flag 9905 term 46 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84540 term 46 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
flag 58671 term 46 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64965 term 46 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
flag 27312 term 46 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
flag 11589 term 46 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
flag 35334 term 46 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85425 term 46 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
flag 29656 term 46 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65311 term 46 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
flag 29558 term 46 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13688 term 46 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
flag 56632 term 46 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
flag 30303 term 46 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
flag 15159 term 46 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=241
update matchIndex[2]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=239
leader log:
[{snapshot 44 239} {8063320495109026609 44 240}]
------------------------------------------------------
client write log 8063320495109026609 (index 241) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63999 term 46 leader 0 nextIndex[1]: 241  matchIndex[1]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
flag 27079 term 46 leader 0 nextIndex[2]: 241  matchIndex[2]: 240
term 46 leader 0 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 44 leaderCommit: 239 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241}]
------------------------------------------------------
flag 92640 term 46 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 46 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
flag 99963 term 46 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 46 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241}]
------------------------------------------------------
flag 59118 term 46 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 46 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
flag 79497 term 46 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 46 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241}]
------------------------------------------------------
flag 52793 term 46 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 46 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
flag 83913 term 46 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 46 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241}]
------------------------------------------------------
flag 81017 term 46 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 46 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
flag 50397 term 46 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 46 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241}]
------------------------------------------------------
flag 40999 term 46 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 46 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
flag 62742 term 46 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 46 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241}]
------------------------------------------------------
flag 87205 term 46 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 46 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
flag 59585 term 46 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 46 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=241
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 47165 term 46 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 46 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
flag 54965 term 46 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 46 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49800 term 46 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 46 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
flag 16705 term 46 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 46 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
flag 25245 term 46 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 46 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
flag 45348 term 46 leader 0 nextIndex[2]: 242  matchIndex[2]: 241
term 46 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 242->241
------------------------------------------------------
flag 65007 term 46 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 46 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 0  matchIndex[2]: 241
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 44
------------------------------------------------------
term 47 server 1 vote for server 2
term 47 server 2 get vote from server 1
term 47 server 2 become leader
------------------------------------------------------
flag 73309 term 47 leader 2 nextIndex[0]: 242  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
flag 91410 term 47 leader 2 nextIndex[1]: 242  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=242
update matchIndex[1]=241
update leader CommitIndex=241
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241}]
------------------------------------------------------
client write log 5983480361367673772 (index 242) to leader 2
flag 84217 term 46 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 46 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 0  matchIndex[2]: 241
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 44
------------------------------------------------------
flag 59582 term 47 leader 2 nextIndex[0]: 242  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
flag 99552 term 47 leader 2 nextIndex[1]: 242  matchIndex[1]: 241
term 47 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241} {5983480361367673772 47 242}]
------------------------------------------------------
flag 19847 term 46 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 46 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 0  matchIndex[2]: 241
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 44
------------------------------------------------------
flag 49706 term 47 leader 2 nextIndex[0]: 242  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 242 
------------------------------------------------------
flag 30464 term 47 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 47 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 47 leaderCommit: 242 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=243
update matchIndex[1]=242
update leader CommitIndex=242
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241} {5983480361367673772 47 242}]
------------------------------------------------------
client write log 4620507002356946052 (index 243) to leader 2
flag 80236 term 46 leader 0 nextIndex[1]: 242  matchIndex[1]: 241
term 46 leader 0 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 241 
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 0  matchIndex[2]: 241
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 44
------------------------------------------------------
flag 12462 term 47 leader 2 nextIndex[0]: 242  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 242 
------------------------------------------------------
flag 4458 term 47 leader 2 nextIndex[1]: 243  matchIndex[1]: 242
term 47 leader 2 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 47 leaderCommit: 242 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241} {5983480361367673772 47 242} {4620507002356946052 47 243}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 242->241
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 241
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 44
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 0  matchIndex[2]: 241
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 44
------------------------------------------------------
term 46 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
flag 59302 term 47 leader 2 nextIndex[0]: 242  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 243 
------------------------------------------------------
flag 44324 term 47 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 47 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 47 leaderCommit: 243 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241} {5983480361367673772 47 242} {4620507002356946052 47 243}]
------------------------------------------------------
!!!!!!connect server 0
client write log 1973563826420516440 (index 244) to leader 2
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 241
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 44
------------------------------------------------------
flag 9654 term 46 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 46 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 44 leaderCommit: 241 
------------------------------------------------------
term 47 server 2 AppendEntries false 领导者任期过期 args.Term 46
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 47 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5052 term 47 leader 2 nextIndex[0]: 242  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 46 leaderCommit: 243 
------------------------------------------------------
flag 77542 term 47 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 47 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 47 leaderCommit: 243 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241} {5983480361367673772 47 242} {4620507002356946052 47 243} {1973563826420516440 47 244}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241} {5983480361367673772 47 242} {4620507002356946052 47 243} {1973563826420516440 47 244}]
------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44330 term 47 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 47 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 47 leaderCommit: 244 
------------------------------------------------------
flag 87888 term 47 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 47 leaderCommit: 244 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241} {5983480361367673772 47 242} {4620507002356946052 47 243} {1973563826420516440 47 244}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241} {5983480361367673772 47 242} {4620507002356946052 47 243} {1973563826420516440 47 244}]
------------------------------------------------------
term 47 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47639 term 47 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 47 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 47 leaderCommit: 244 
------------------------------------------------------
flag 69464 term 47 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 47 leaderCommit: 244 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
term 47 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241} {5983480361367673772 47 242} {4620507002356946052 47 243} {1973563826420516440 47 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241} {5983480361367673772 47 242} {4620507002356946052 47 243} {1973563826420516440 47 244}]
------------------------------------------------------
flag 11363 term 47 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 47 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 47 leaderCommit: 244 
------------------------------------------------------
flag 33577 term 47 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 47 leaderCommit: 244 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241} {5983480361367673772 47 242} {4620507002356946052 47 243} {1973563826420516440 47 244}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241} {5983480361367673772 47 242} {4620507002356946052 47 243} {1973563826420516440 47 244}]
------------------------------------------------------
flag 49863 term 47 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 47 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 47 leaderCommit: 244 
------------------------------------------------------
flag 54237 term 47 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 47 leaderCommit: 244 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241} {5983480361367673772 47 242} {4620507002356946052 47 243} {1973563826420516440 47 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241} {5983480361367673772 47 242} {4620507002356946052 47 243} {1973563826420516440 47 244}]
------------------------------------------------------
flag 32213 term 47 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 47 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 47 leaderCommit: 244 
------------------------------------------------------
flag 35259 term 47 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 47 leaderCommit: 244 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241} {5983480361367673772 47 242} {4620507002356946052 47 243} {1973563826420516440 47 244}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241} {5983480361367673772 47 242} {4620507002356946052 47 243} {1973563826420516440 47 244}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35511 term 47 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 47 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 47 leaderCommit: 244 
------------------------------------------------------
flag 38577 term 47 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 47 leaderCommit: 244 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241} {5983480361367673772 47 242} {4620507002356946052 47 243} {1973563826420516440 47 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241} {5983480361367673772 47 242} {4620507002356946052 47 243} {1973563826420516440 47 244}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5017368834785866641 (index 245) to leader 2
flag 10751 term 47 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 47 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 47 leaderCommit: 244 
------------------------------------------------------
flag 30745 term 47 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 47 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 47 leaderCommit: 244 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241} {5983480361367673772 47 242} {4620507002356946052 47 243} {1973563826420516440 47 244} {5017368834785866641 47 245}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60533 term 47 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 47 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
flag 11425 term 47 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 47 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241} {5983480361367673772 47 242} {4620507002356946052 47 243} {1973563826420516440 47 244} {5017368834785866641 47 245}]
------------------------------------------------------
client write log 9152213666829340688 (index 246) to leader 2
client write log 992729988005900666 (index 247) to leader 2
client write log 8907181201484539952 (index 248) to leader 2
client write log 1739222987353733473 (index 249) to leader 2
client write log 1169525323687180607 (index 250) to leader 2
client write log 8129829927553389530 (index 251) to leader 2
client write log 3985597854390327634 (index 252) to leader 2
client write log 2721560319773145283 (index 253) to leader 2
client write log 4641660253972937551 (index 254) to leader 2
client write log 6962179645078631776 (index 255) to leader 2
client write log 4704913177985970435 (index 256) to leader 2
client write log 1298085604525617914 (index 257) to leader 2
client write log 7561427404527083120 (index 258) to leader 2
flag 41244 term 47 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 47 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
flag 3474 term 47 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 47 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 47 leaderCommit: 245 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 44 239} {8063320495109026609 44 240} {8063320495109026609 46 241} {5983480361367673772 47 242} {4620507002356946052 47 243} {1973563826420516440 47 244} {5017368834785866641 47 245} {9152213666829340688 47 246} {992729988005900666 47 247} {8907181201484539952 47 248} {1739222987353733473 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258}]
------------------------------------------------------
term 47 Server2 start snapshot! index=249
term 47 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=258
-------------------------------------------------------------
term 47 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 47
------------------------------------------------------
flag 75851 term 47 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 47 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258}]
------------------------------------------------------
term 47 Server1 start snapshot! index=249
term 47 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=258
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2089139261575529368 (index 259) to leader 2
term 47 server 2 not vote for server 0, 日志不够新
term 47 server 1 not vote for server 0, 日志不够新
term 49 server 1 vote for server 2
term 49 server 0 vote for server 2
term 49 server 2 get vote from server 1
term 49 server 2 become leader
------------------------------------------------------
term 49 server 2 get outdate rpc reply from server 0
flag 37189 term 49 leader 2 nextIndex[0]: 260  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
flag 63731 term 49 leader 2 nextIndex[1]: 260  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
term 49 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 260->259
------------------------------------------------------
term 49 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 260->259
------------------------------------------------------
term 49 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 leader 2 nextIndex[0]: 245  matchIndex[0]: 0
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 47
------------------------------------------------------
flag 99666 term 49 leader 2 nextIndex[1]: 259  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 49 server 0 InstallSnapshot success
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot success
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 47 rf.commitIndex 249 rf.lastApplied 249
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
flag 15542 term 49 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 49 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
flag 33668 term 49 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
flag 26917 term 49 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
flag 74172 term 49 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
flag 67963 term 49 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
flag 58979 term 49 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
term 49 server 0 not vote for server 2, 任期不够新
term 49 server 2 get outdate rpc reply from server 0
term 49 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14920 term 49 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
flag 13336 term 49 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
term 49 server 0 not vote for server 1, 任期不够新
term 49 server 1 get outdate rpc reply from server 0
flag 75981 term 49 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
flag 49076 term 49 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
flag 99682 term 49 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
flag 46349 term 49 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
flag 17938 term 49 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
flag 86396 term 49 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
flag 28722 term 49 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
flag 18541 term 49 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
term 49 server 2 not vote for server 1, 任期不够新
term 49 server 1 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58008 term 49 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
flag 38481 term 49 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84253 term 49 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
flag 18296 term 49 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
flag 24043 term 49 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
flag 98730 term 49 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
flag 1882 term 49 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
flag 2709 term 49 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70602 term 49 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
flag 45498 term 49 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
flag 42205 term 49 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
flag 47439 term 49 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
flag 25120 term 49 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
flag 1514 term 49 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
flag 50004 term 49 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
flag 21032 term 49 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
flag 24858 term 49 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
flag 25653 term 49 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
term 49 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17127 term 49 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
flag 88929 term 49 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
client write log 2089139261575529368 (index 260) to leader 2
term 49 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259} {2089139261575529368 49 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=258
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259} {2089139261575529368 49 260}]
------------------------------------------------------
term 49 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37643 term 49 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
flag 80481 term 49 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 49 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 258 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259} {2089139261575529368 49 260}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 47 249} {1169525323687180607 47 250} {8129829927553389530 47 251} {3985597854390327634 47 252} {2721560319773145283 47 253} {4641660253972937551 47 254} {6962179645078631776 47 255} {4704913177985970435 47 256} {1298085604525617914 47 257} {7561427404527083120 47 258} {2089139261575529368 47 259} {2089139261575529368 49 260}]
------------------------------------------------------
term 49 Server2 start snapshot! index=259
term 49 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
flag 7553 term 49 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 49 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 59052 term 49 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 49 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 47 259} {2089139261575529368 49 260}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 47 259} {2089139261575529368 49 260}]
------------------------------------------------------
term 49 Server0 start snapshot! index=259
term 49 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
term 49 Server1 start snapshot! index=259
term 49 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
flag 82977 term 49 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 49 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 52341 term 49 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 49 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 47 259} {2089139261575529368 49 260}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 47 259} {2089139261575529368 49 260}]
------------------------------------------------------
flag 78154 term 49 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 49 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 43704 term 49 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 49 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 47 259} {2089139261575529368 49 260}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 47 259} {2089139261575529368 49 260}]
------------------------------------------------------
flag 47295 term 49 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 49 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 65782 term 49 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 49 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 47 259} {2089139261575529368 49 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 47 259} {2089139261575529368 49 260}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41111 term 49 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 49 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 30290 term 49 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 49 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 47 259} {2089139261575529368 49 260}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 47 259} {2089139261575529368 49 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74869 term 49 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 49 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 29582 term 49 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 49 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 47 259} {2089139261575529368 49 260}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=261
update matchIndex[1]=260
update leader CommitIndex=260
leader log:
[{snapshot 47 259} {2089139261575529368 49 260}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7976953969331046634 (index 261) to leader 2
flag 64276 term 49 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 49 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
flag 4156 term 49 leader 2 nextIndex[1]: 261  matchIndex[1]: 260
term 49 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 260 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 47 259} {2089139261575529368 49 260} {7976953969331046634 49 261}]
------------------------------------------------------
flag 68626 term 49 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 49 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 261 
------------------------------------------------------
flag 73401 term 49 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 49 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 261 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=261
leader log:
[{snapshot 47 259} {2089139261575529368 49 260} {7976953969331046634 49 261}]
------------------------------------------------------
client write log 7081382811692101217 (index 262) to leader 2
client write log 730918585156080527 (index 263) to leader 2
client write log 4474567808765215403 (index 264) to leader 2
client write log 454516085640186305 (index 265) to leader 2
client write log 5589959609960676665 (index 266) to leader 2
client write log 128860799480808890 (index 267) to leader 2
client write log 4105807911548265925 (index 268) to leader 2
client write log 4939986473875000018 (index 269) to leader 2
client write log 3161861448255135826 (index 270) to leader 2
client write log 2930585405852119269 (index 271) to leader 2
client write log 2149520590029433966 (index 272) to leader 2
client write log 1402386302025126631 (index 273) to leader 2
client write log 8411170189411049855 (index 274) to leader 2
client write log 4659112293383760017 (index 275) to leader 2
flag 13926 term 49 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 49 leader 2 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 49 leaderCommit: 261 
------------------------------------------------------
flag 69709 term 49 leader 2 nextIndex[1]: 262  matchIndex[1]: 261
term 49 leader 2 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 49 leaderCommit: 261 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 47 259} {2089139261575529368 49 260} {7976953969331046634 49 261} {7081382811692101217 49 262} {730918585156080527 49 263} {4474567808765215403 49 264} {454516085640186305 49 265} {5589959609960676665 49 266} {128860799480808890 49 267} {4105807911548265925 49 268} {4939986473875000018 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275}]
------------------------------------------------------
term 49 Server2 start snapshot! index=269
term 49 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=275
-------------------------------------------------------------
term 49 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 49
------------------------------------------------------
flag 42080 term 49 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 49 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 49 leaderCommit: 275 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275}]
------------------------------------------------------
term 49 Server1 start snapshot! index=269
term 49 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=275
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8790042451606477209 (index 276) to leader 2
term 49 leader 2 nextIndex[0]: 261  matchIndex[0]: 260
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 49
------------------------------------------------------
flag 7392 term 49 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 49 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 49 leaderCommit: 275 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275} {8790042451606477209 49 276}]
------------------------------------------------------
term 50 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 1 vote for server 2
term 51 server 2 get vote from server 1
term 51 server 2 become leader
------------------------------------------------------
term 51 server 0 vote for server 2
term 51 server 2 get outdate rpc reply from server 0
flag 32474 term 51 leader 2 nextIndex[0]: 277  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
flag 46034 term 51 leader 2 nextIndex[1]: 277  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275} {8790042451606477209 49 276}]
------------------------------------------------------
term 51 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 277->276
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 261  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 49
------------------------------------------------------
flag 12326 term 51 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
term 51 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275} {8790042451606477209 49 276}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 49 rf.commitIndex 269 rf.lastApplied 269
term 51 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72730 term 51 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 51 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
flag 55761 term 51 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275} {8790042451606477209 49 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275} {8790042451606477209 49 276}]
------------------------------------------------------
flag 80252 term 51 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
flag 78181 term 51 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275} {8790042451606477209 49 276}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275} {8790042451606477209 49 276}]
------------------------------------------------------
flag 90582 term 51 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
flag 68409 term 51 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275} {8790042451606477209 49 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275} {8790042451606477209 49 276}]
------------------------------------------------------
flag 85313 term 51 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
flag 84886 term 51 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275} {8790042451606477209 49 276}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275} {8790042451606477209 49 276}]
------------------------------------------------------
flag 40506 term 51 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
flag 62634 term 51 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275} {8790042451606477209 49 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275} {8790042451606477209 49 276}]
------------------------------------------------------
flag 9628 term 51 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
flag 73108 term 51 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275} {8790042451606477209 49 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275} {8790042451606477209 49 276}]
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84585 term 51 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
flag 44339 term 51 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275} {8790042451606477209 49 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275} {8790042451606477209 49 276}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53059 term 51 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
flag 89334 term 51 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
flag 71291 term 51 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
flag 96972 term 51 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34851 term 51 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
flag 62428 term 51 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 277->276
------------------------------------------------------
flag 94650 term 51 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
term 51 leader 2 nextIndex[1]: 0  matchIndex[1]: 276
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 49
------------------------------------------------------
term 52 server 1 vote for server 0
term 52 server 0 get vote from server 1
term 52 server 0 become leader
------------------------------------------------------
flag 87233 term 52 leader 0 nextIndex[1]: 277  matchIndex[1]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
flag 55398 term 52 leader 0 nextIndex[2]: 277  matchIndex[2]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275} {8790042451606477209 49 276}]
------------------------------------------------------
client write log 8334437799103824424 (index 277) to leader 0
flag 84411 term 51 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
term 51 leader 2 nextIndex[1]: 0  matchIndex[1]: 276
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 49
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68757 term 52 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 52 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
flag 15369 term 52 leader 0 nextIndex[2]: 277  matchIndex[2]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275} {8790042451606477209 49 276} {8334437799103824424 52 277}]
------------------------------------------------------
flag 78121 term 51 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
term 51 leader 2 nextIndex[1]: 0  matchIndex[1]: 276
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 49
------------------------------------------------------
flag 15671 term 52 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 52 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 52 leaderCommit: 277 
------------------------------------------------------
flag 10116 term 52 leader 0 nextIndex[2]: 277  matchIndex[2]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275} {8790042451606477209 49 276} {8334437799103824424 52 277}]
------------------------------------------------------
client write log 4828258865851064077 (index 278) to leader 0
client write log 3820820388091162059 (index 279) to leader 0
client write log 5732371537600024108 (index 280) to leader 0
client write log 1616257764629468637 (index 281) to leader 0
client write log 6786116861338787847 (index 282) to leader 0
client write log 3694556137692096914 (index 283) to leader 0
client write log 4221064320274941603 (index 284) to leader 0
flag 70535 term 51 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
term 51 leader 2 nextIndex[1]: 0  matchIndex[1]: 276
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 49
------------------------------------------------------
term 52 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67911 term 52 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 52 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 52 leaderCommit: 277 
------------------------------------------------------
flag 44925 term 52 leader 0 nextIndex[2]: 277  matchIndex[2]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 277 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 49 269} {3161861448255135826 49 270} {2930585405852119269 49 271} {2149520590029433966 49 272} {1402386302025126631 49 273} {8411170189411049855 49 274} {4659112293383760017 49 275} {8790042451606477209 49 276} {8334437799103824424 52 277} {4828258865851064077 52 278} {3820820388091162059 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
term 52 Server0 start snapshot! index=279
term 52 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=284
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44433 term 51 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
term 51 leader 2 nextIndex[1]: 0  matchIndex[1]: 276
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 49
------------------------------------------------------
flag 89390 term 52 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 52 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
term 52 leader 0 nextIndex[2]: 277  matchIndex[2]: 0
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
term 52 Server1 start snapshot! index=279
term 52 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=284
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6855066058522084042 (index 277) to leader 2
flag 93978 term 51 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 51 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 49 leaderCommit: 276 
------------------------------------------------------
term 51 leader 2 nextIndex[1]: 0  matchIndex[1]: 276
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 49
------------------------------------------------------
term 52 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 51 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 52 server 0 AppendEntries false 领导者任期过期 args.Term 51
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49130 term 52 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 52 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
term 52 leader 0 nextIndex[2]: 277  matchIndex[2]: 0
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 2 InstallSnapshot success
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
term 52 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 280 matchIndex[2] 279 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 52 rf.commitIndex 279 rf.lastApplied 279
term 52 server 0 not vote for server 2, 日志不够新
term 52 server 1 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 server 2 vote for server 0
term 54 server 1 vote for server 0
term 54 server 0 get vote from server 2
term 54 server 0 become leader
------------------------------------------------------
term 54 server 0 get outdate rpc reply from server 1
flag 3135 term 54 leader 0 nextIndex[1]: 285  matchIndex[1]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
flag 56168 term 54 leader 0 nextIndex[2]: 285  matchIndex[2]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
term 54 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 285->284
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
flag 71726 term 54 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
flag 84727 term 54 leader 0 nextIndex[2]: 280  matchIndex[2]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81627 term 54 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
flag 24935 term 54 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55244 term 54 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
flag 99693 term 54 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
term 54 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 54 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65237 term 54 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
flag 21458 term 54 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48755 term 54 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
flag 98995 term 54 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
flag 23110 term 54 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
flag 47499 term 54 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84187 term 54 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
flag 83663 term 54 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
term 54 server 1 not vote for server 0, 任期不够新
term 54 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 54 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
flag 54567 term 54 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
flag 40246 term 54 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70483 term 54 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
flag 61575 term 54 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
flag 2545 term 54 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
flag 76942 term 54 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
flag 5301 term 54 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
flag 68333 term 54 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
flag 70383 term 54 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
flag 48421 term 54 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
flag 41887 term 54 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
flag 58050 term 54 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15555 term 54 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
flag 49189 term 54 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
flag 73212 term 54 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
flag 60579 term 54 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
term 54 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 42373 term 54 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
flag 57632 term 54 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
flag 52567 term 54 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
flag 76705 term 54 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
flag 76653 term 54 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
flag 94881 term 54 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6855066058522084042 (index 285) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17299 term 54 leader 0 nextIndex[1]: 285  matchIndex[1]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
flag 73265 term 54 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 54 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 52 leaderCommit: 284 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284} {6855066058522084042 54 285}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284} {6855066058522084042 54 285}]
------------------------------------------------------
flag 89708 term 54 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 54 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 71040 term 54 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 54 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284} {6855066058522084042 54 285}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284} {6855066058522084042 54 285}]
------------------------------------------------------
flag 84232 term 54 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 54 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 10670 term 54 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 54 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284} {6855066058522084042 54 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284} {6855066058522084042 54 285}]
------------------------------------------------------
flag 3121 term 54 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 54 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 17347 term 54 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 54 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284} {6855066058522084042 54 285}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284} {6855066058522084042 54 285}]
------------------------------------------------------
flag 34358 term 54 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 54 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 74903 term 54 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 54 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
term 54 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284} {6855066058522084042 54 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284} {6855066058522084042 54 285}]
------------------------------------------------------
flag 43824 term 54 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 54 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 70550 term 54 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 54 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284} {6855066058522084042 54 285}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284} {6855066058522084042 54 285}]
------------------------------------------------------
flag 5038 term 54 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 54 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 54301 term 54 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 54 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284} {6855066058522084042 54 285}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284} {6855066058522084042 54 285}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4543323463417326389 (index 286) to leader 0
flag 85426 term 54 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 54 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
flag 76278 term 54 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 54 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 54 leaderCommit: 285 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284} {6855066058522084042 54 285} {4543323463417326389 54 286}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30410 term 54 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 54 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 54 leaderCommit: 286 
------------------------------------------------------
flag 98620 term 54 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 54 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 286 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284} {6855066058522084042 54 285} {4543323463417326389 54 286}]
------------------------------------------------------
client write log 1243670293470375914 (index 287) to leader 0
client write log 6313647370028665569 (index 288) to leader 0
client write log 9218781270504657543 (index 289) to leader 0
client write log 7945904642163554815 (index 290) to leader 0
client write log 4634479673474243135 (index 291) to leader 0
client write log 8507935579478364322 (index 292) to leader 0
flag 43734 term 54 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 54 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 54 leaderCommit: 286 
------------------------------------------------------
flag 53782 term 54 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 54 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 54 leaderCommit: 286 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 52 279} {5732371537600024108 52 280} {1616257764629468637 52 281} {6786116861338787847 52 282} {3694556137692096914 52 283} {4221064320274941603 52 284} {6855066058522084042 54 285} {4543323463417326389 54 286} {1243670293470375914 54 287} {6313647370028665569 54 288} {9218781270504657543 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292}]
------------------------------------------------------
term 54 Server0 start snapshot! index=289
term 54 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=292
-------------------------------------------------------------
term 54 leader 0 nextIndex[1]: 286  matchIndex[1]: 285
term 54 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 54
------------------------------------------------------
flag 70168 term 54 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 54 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292}]
------------------------------------------------------
term 54 Server2 start snapshot! index=289
term 54 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=292
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6641117661131853801 (index 293) to leader 0
term 54 server 0 not vote for server 1, 日志不够新
term 54 server 2 not vote for server 1, 日志不够新
term 56 server 2 vote for server 0
term 56 server 0 get vote from server 2
term 56 server 0 become leader
------------------------------------------------------
term 56 server 1 vote for server 0
term 56 server 0 get outdate rpc reply from server 1
flag 39414 term 56 leader 0 nextIndex[1]: 294  matchIndex[1]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
flag 58013 term 56 leader 0 nextIndex[2]: 294  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 56 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 56 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 294->293
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 294->293
------------------------------------------------------
term 56 leader 0 nextIndex[1]: 286  matchIndex[1]: 0
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 54
------------------------------------------------------
flag 93420 term 56 leader 0 nextIndex[2]: 293  matchIndex[2]: 0
term 56 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
term 56 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 54 rf.commitIndex 289 rf.lastApplied 289
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
term 56 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
flag 67149 term 56 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 56 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
flag 2874 term 56 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
flag 47167 term 56 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
flag 39148 term 56 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
term 56 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
flag 38368 term 56 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
flag 84891 term 56 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
term 56 server 2 not vote for server 0, 任期不够新
term 56 server 0 get outdate rpc reply from server 2
flag 77154 term 56 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
flag 32863 term 56 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24660 term 56 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
flag 52711 term 56 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
flag 16881 term 56 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
flag 44332 term 56 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66524 term 56 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
flag 21058 term 56 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 56 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
update nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
flag 47759 term 56 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
flag 34081 term 56 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91145 term 56 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
flag 18036 term 56 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
flag 39639 term 56 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
flag 76525 term 56 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
flag 92610 term 56 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
flag 71022 term 56 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
flag 31055 term 56 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
flag 58048 term 56 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97968 term 56 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
flag 23802 term 56 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
flag 41519 term 56 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
flag 71078 term 56 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
flag 77794 term 56 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
flag 36838 term 56 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
flag 188 term 56 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
flag 92772 term 56 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
flag 60654 term 56 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
flag 44583 term 56 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
flag 12177 term 56 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
flag 68831 term 56 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293}]
------------------------------------------------------
client write log 6641117661131853801 (index 294) to leader 0
term 56 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24084 term 56 leader 0 nextIndex[1]: 294  matchIndex[1]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
flag 80885 term 56 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 56 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 54 leaderCommit: 292 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293} {6641117661131853801 56 294}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293} {6641117661131853801 56 294}]
------------------------------------------------------
flag 15869 term 56 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 56 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 56 leaderCommit: 294 
------------------------------------------------------
flag 29178 term 56 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 56 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 56 leaderCommit: 294 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293} {6641117661131853801 56 294}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293} {6641117661131853801 56 294}]
------------------------------------------------------
flag 87662 term 56 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 56 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 56 leaderCommit: 294 
------------------------------------------------------
flag 82323 term 56 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 56 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 56 leaderCommit: 294 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293} {6641117661131853801 56 294}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293} {6641117661131853801 56 294}]
------------------------------------------------------
flag 88866 term 56 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 56 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 56 leaderCommit: 294 
------------------------------------------------------
flag 99725 term 56 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 56 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 56 leaderCommit: 294 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293} {6641117661131853801 56 294}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293} {6641117661131853801 56 294}]
------------------------------------------------------
term 56 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71031 term 56 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 56 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 56 leaderCommit: 294 
------------------------------------------------------
flag 55728 term 56 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 56 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 56 leaderCommit: 294 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293} {6641117661131853801 56 294}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293} {6641117661131853801 56 294}]
------------------------------------------------------
flag 34910 term 56 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 56 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 56 leaderCommit: 294 
------------------------------------------------------
flag 32075 term 56 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 56 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 56 leaderCommit: 294 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293} {6641117661131853801 56 294}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293} {6641117661131853801 56 294}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2267827426757330903 (index 295) to leader 0
term 56 server 2 not vote for server 0, 任期不够新
term 56 server 0 get outdate rpc reply from server 2
flag 15601 term 56 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 56 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 56 leaderCommit: 294 
------------------------------------------------------
flag 895 term 56 leader 0 nextIndex[2]: 295  matchIndex[2]: 294
term 56 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 56 leaderCommit: 294 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293} {6641117661131853801 56 294} {2267827426757330903 56 295}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 241 term 56 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 56 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 56 leaderCommit: 295 
------------------------------------------------------
flag 72822 term 56 leader 0 nextIndex[2]: 296  matchIndex[2]: 295
term 56 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 56 leaderCommit: 295 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=296
update matchIndex[2]=295
update leader CommitIndex=295
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293} {6641117661131853801 56 294} {2267827426757330903 56 295}]
------------------------------------------------------
client write log 223172584649646801 (index 296) to leader 0
client write log 2285376777041763787 (index 297) to leader 0
client write log 7942726446574371887 (index 298) to leader 0
client write log 1950139172065606678 (index 299) to leader 0
client write log 5187793675014295042 (index 300) to leader 0
client write log 3934261884306519943 (index 301) to leader 0
client write log 3348929810936028388 (index 302) to leader 0
client write log 9216156548469843273 (index 303) to leader 0
client write log 7760436668587957787 (index 304) to leader 0
client write log 8503596804241007975 (index 305) to leader 0
client write log 7721161729076892258 (index 306) to leader 0
client write log 4981597951864780328 (index 307) to leader 0
flag 44776 term 56 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 56 leader 0 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 56 leaderCommit: 295 
------------------------------------------------------
flag 24381 term 56 leader 0 nextIndex[2]: 296  matchIndex[2]: 295
term 56 leader 0 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 56 leaderCommit: 295 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 54 289} {7945904642163554815 54 290} {4634479673474243135 54 291} {8507935579478364322 54 292} {6641117661131853801 54 293} {6641117661131853801 56 294} {2267827426757330903 56 295} {223172584649646801 56 296} {2285376777041763787 56 297} {7942726446574371887 56 298} {1950139172065606678 56 299} {5187793675014295042 56 300} {3934261884306519943 56 301} {3348929810936028388 56 302} {9216156548469843273 56 303} {7760436668587957787 56 304} {8503596804241007975 56 305} {7721161729076892258 56 306} {4981597951864780328 56 307}]
------------------------------------------------------
term 56 Server0 start snapshot! index=299
term 56 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=307
-------------------------------------------------------------
term 56 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 56
------------------------------------------------------
flag 2651 term 56 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 56 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 56 leaderCommit: 307 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 56 299} {5187793675014295042 56 300} {3934261884306519943 56 301} {3348929810936028388 56 302} {9216156548469843273 56 303} {7760436668587957787 56 304} {8503596804241007975 56 305} {7721161729076892258 56 306} {4981597951864780328 56 307}]
------------------------------------------------------
term 56 Server2 start snapshot! index=299
term 56 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=307
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6954122986457224892 (index 308) to leader 0
term 56 leader 0 nextIndex[1]: 295  matchIndex[1]: 294
term 56 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 56
------------------------------------------------------
flag 55109 term 56 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 56 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 56 leaderCommit: 307 
------------------------------------------------------
term 56 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 56 299} {5187793675014295042 56 300} {3934261884306519943 56 301} {3348929810936028388 56 302} {9216156548469843273 56 303} {7760436668587957787 56 304} {8503596804241007975 56 305} {7721161729076892258 56 306} {4981597951864780328 56 307} {6954122986457224892 56 308}]
------------------------------------------------------
term 57 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 56 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 56 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 58 server 2 vote for server 0
term 58 server 0 get vote from server 2
term 58 server 0 become leader
------------------------------------------------------
term 58 server 1 vote for server 0
term 58 server 0 get outdate rpc reply from server 1
flag 20752 term 58 leader 0 nextIndex[1]: 309  matchIndex[1]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
flag 75577 term 58 leader 0 nextIndex[2]: 309  matchIndex[2]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 56 299} {5187793675014295042 56 300} {3934261884306519943 56 301} {3348929810936028388 56 302} {9216156548469843273 56 303} {7760436668587957787 56 304} {8503596804241007975 56 305} {7721161729076892258 56 306} {4981597951864780328 56 307} {6954122986457224892 56 308}]
------------------------------------------------------
term 58 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 309->308
------------------------------------------------------
term 58 leader 0 nextIndex[1]: 295  matchIndex[1]: 0
term 58 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 56
------------------------------------------------------
flag 64964 term 58 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 56 299} {5187793675014295042 56 300} {3934261884306519943 56 301} {3348929810936028388 56 302} {9216156548469843273 56 303} {7760436668587957787 56 304} {8503596804241007975 56 305} {7721161729076892258 56 306} {4981597951864780328 56 307} {6954122986457224892 56 308}]
------------------------------------------------------
term 58 server 1 InstallSnapshot success
------------------------------------------------------
term 58 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 56 rf.commitIndex 299 rf.lastApplied 299
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83934 term 58 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 58 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
flag 94089 term 58 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 56 299} {5187793675014295042 56 300} {3934261884306519943 56 301} {3348929810936028388 56 302} {9216156548469843273 56 303} {7760436668587957787 56 304} {8503596804241007975 56 305} {7721161729076892258 56 306} {4981597951864780328 56 307} {6954122986457224892 56 308}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 56 299} {5187793675014295042 56 300} {3934261884306519943 56 301} {3348929810936028388 56 302} {9216156548469843273 56 303} {7760436668587957787 56 304} {8503596804241007975 56 305} {7721161729076892258 56 306} {4981597951864780328 56 307} {6954122986457224892 56 308}]
------------------------------------------------------
flag 46217 term 58 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
flag 50864 term 58 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 56 299} {5187793675014295042 56 300} {3934261884306519943 56 301} {3348929810936028388 56 302} {9216156548469843273 56 303} {7760436668587957787 56 304} {8503596804241007975 56 305} {7721161729076892258 56 306} {4981597951864780328 56 307} {6954122986457224892 56 308}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 56 299} {5187793675014295042 56 300} {3934261884306519943 56 301} {3348929810936028388 56 302} {9216156548469843273 56 303} {7760436668587957787 56 304} {8503596804241007975 56 305} {7721161729076892258 56 306} {4981597951864780328 56 307} {6954122986457224892 56 308}]
------------------------------------------------------
flag 60831 term 58 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
flag 52398 term 58 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 56 299} {5187793675014295042 56 300} {3934261884306519943 56 301} {3348929810936028388 56 302} {9216156548469843273 56 303} {7760436668587957787 56 304} {8503596804241007975 56 305} {7721161729076892258 56 306} {4981597951864780328 56 307} {6954122986457224892 56 308}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 56 299} {5187793675014295042 56 300} {3934261884306519943 56 301} {3348929810936028388 56 302} {9216156548469843273 56 303} {7760436668587957787 56 304} {8503596804241007975 56 305} {7721161729076892258 56 306} {4981597951864780328 56 307} {6954122986457224892 56 308}]
------------------------------------------------------
flag 93865 term 58 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
flag 4047 term 58 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 56 299} {5187793675014295042 56 300} {3934261884306519943 56 301} {3348929810936028388 56 302} {9216156548469843273 56 303} {7760436668587957787 56 304} {8503596804241007975 56 305} {7721161729076892258 56 306} {4981597951864780328 56 307} {6954122986457224892 56 308}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 56 299} {5187793675014295042 56 300} {3934261884306519943 56 301} {3348929810936028388 56 302} {9216156548469843273 56 303} {7760436668587957787 56 304} {8503596804241007975 56 305} {7721161729076892258 56 306} {4981597951864780328 56 307} {6954122986457224892 56 308}]
------------------------------------------------------
flag 99000 term 58 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
flag 91830 term 58 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 56 299} {5187793675014295042 56 300} {3934261884306519943 56 301} {3348929810936028388 56 302} {9216156548469843273 56 303} {7760436668587957787 56 304} {8503596804241007975 56 305} {7721161729076892258 56 306} {4981597951864780328 56 307} {6954122986457224892 56 308}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 56 299} {5187793675014295042 56 300} {3934261884306519943 56 301} {3348929810936028388 56 302} {9216156548469843273 56 303} {7760436668587957787 56 304} {8503596804241007975 56 305} {7721161729076892258 56 306} {4981597951864780328 56 307} {6954122986457224892 56 308}]
------------------------------------------------------
flag 23096 term 58 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
flag 88303 term 58 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
term 58 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 56 299} {5187793675014295042 56 300} {3934261884306519943 56 301} {3348929810936028388 56 302} {9216156548469843273 56 303} {7760436668587957787 56 304} {8503596804241007975 56 305} {7721161729076892258 56 306} {4981597951864780328 56 307} {6954122986457224892 56 308}]
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 56 299} {5187793675014295042 56 300} {3934261884306519943 56 301} {3348929810936028388 56 302} {9216156548469843273 56 303} {7760436668587957787 56 304} {8503596804241007975 56 305} {7721161729076892258 56 306} {4981597951864780328 56 307} {6954122986457224892 56 308}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 99493 term 58 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
flag 50580 term 58 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
flag 2923 term 58 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
flag 85405 term 58 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
flag 90687 term 58 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
flag 11280 term 58 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
flag 73767 term 58 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
flag 18183 term 58 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
term 59 server 2 vote for server 1
term 59 server 1 get vote from server 2
term 59 server 1 become leader
------------------------------------------------------
flag 46785 term 59 leader 1 nextIndex[0]: 309  matchIndex[0]: 0
term 59 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
flag 86988 term 59 leader 1 nextIndex[2]: 309  matchIndex[2]: 0
term 59 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 56 299} {5187793675014295042 56 300} {3934261884306519943 56 301} {3348929810936028388 56 302} {9216156548469843273 56 303} {7760436668587957787 56 304} {8503596804241007975 56 305} {7721161729076892258 56 306} {4981597951864780328 56 307} {6954122986457224892 56 308}]
------------------------------------------------------
client write log 8730229234952797435 (index 309) to leader 1
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 309->308
------------------------------------------------------
flag 88369 term 58 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
term 58 leader 0 nextIndex[2]: 0  matchIndex[2]: 308
term 58 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 56
------------------------------------------------------
flag 5363 term 59 leader 1 nextIndex[0]: 309  matchIndex[0]: 0
term 59 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
flag 98541 term 59 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 59 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 56 299} {5187793675014295042 56 300} {3934261884306519943 56 301} {3348929810936028388 56 302} {9216156548469843273 56 303} {7760436668587957787 56 304} {8503596804241007975 56 305} {7721161729076892258 56 306} {4981597951864780328 56 307} {6954122986457224892 56 308} {8730229234952797435 59 309}]
------------------------------------------------------
term 59 Server1 start snapshot! index=309
term 59 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 43707 term 58 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
term 58 leader 0 nextIndex[2]: 0  matchIndex[2]: 308
term 58 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 56
------------------------------------------------------
term 59 leader 1 nextIndex[0]: 309  matchIndex[0]: 0
term 59 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 59
------------------------------------------------------
flag 15744 term 59 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 59 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 59 leaderCommit: 309 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 59 309}]
------------------------------------------------------
term 59 Server2 start snapshot! index=309
term 59 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
client write log 1086134458539695791 (index 310) to leader 1
client write log 1688029588098694803 (index 311) to leader 1
client write log 4385387000192480711 (index 312) to leader 1
client write log 8365166639859709189 (index 313) to leader 1
client write log 4828367089606366380 (index 314) to leader 1
client write log 5693185767959701801 (index 315) to leader 1
client write log 4154803051786286158 (index 316) to leader 1
flag 64611 term 58 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
term 58 leader 0 nextIndex[2]: 0  matchIndex[2]: 308
term 58 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 56
------------------------------------------------------
term 59 leader 1 nextIndex[0]: 309  matchIndex[0]: 0
term 59 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 59
------------------------------------------------------
flag 6214 term 59 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 59 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 59 leaderCommit: 309 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 59 309} {1086134458539695791 59 310} {1688029588098694803 59 311} {4385387000192480711 59 312} {8365166639859709189 59 313} {4828367089606366380 59 314} {5693185767959701801 59 315} {4154803051786286158 59 316}]
------------------------------------------------------
flag 6752 term 58 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
term 58 leader 0 nextIndex[2]: 0  matchIndex[2]: 308
term 58 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 56
------------------------------------------------------
term 59 leader 1 nextIndex[0]: 309  matchIndex[0]: 0
term 59 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 59
------------------------------------------------------
flag 85332 term 59 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 59 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 59 leaderCommit: 316 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 59 309} {1086134458539695791 59 310} {1688029588098694803 59 311} {4385387000192480711 59 312} {8365166639859709189 59 313} {4828367089606366380 59 314} {5693185767959701801 59 315} {4154803051786286158 59 316}]
------------------------------------------------------
!!!!!!connect server 0
client write log 1879866816811078987 (index 317) to leader 1
flag 64735 term 58 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 58 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 56 leaderCommit: 308 
------------------------------------------------------
term 58 leader 0 nextIndex[2]: 0  matchIndex[2]: 308
term 58 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 56
------------------------------------------------------
term 59 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 58 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 59 server 1 AppendEntries false 领导者任期过期 args.Term 58
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 59 leader 1 nextIndex[0]: 309  matchIndex[0]: 0
term 59 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 59
------------------------------------------------------
flag 94556 term 59 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 59 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 59 leaderCommit: 316 
------------------------------------------------------
term 59 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 59 309} {1086134458539695791 59 310} {1688029588098694803 59 311} {4385387000192480711 59 312} {8365166639859709189 59 313} {4828367089606366380 59 314} {5693185767959701801 59 315} {4154803051786286158 59 316} {1879866816811078987 59 317}]
------------------------------------------------------
term 59 server 0 InstallSnapshot success
------------------------------------------------------
term 59 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 59 rf.commitIndex 309 rf.lastApplied 309
term 59 server 2 not vote for server 0, 日志不够新
term 59 server 1 not vote for server 0, 日志不够新
term 61 server 2 vote for server 1
term 61 server 1 get vote from server 2
term 61 server 1 become leader
------------------------------------------------------
term 61 server 0 vote for server 1
term 61 server 1 get outdate rpc reply from server 0
flag 37458 term 61 leader 1 nextIndex[0]: 318  matchIndex[0]: 0
term 61 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 59 leaderCommit: 317 
------------------------------------------------------
flag 47817 term 61 leader 1 nextIndex[2]: 318  matchIndex[2]: 0
term 61 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 59 leaderCommit: 317 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
term 61 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 59 309} {1086134458539695791 59 310} {1688029588098694803 59 311} {4385387000192480711 59 312} {8365166639859709189 59 313} {4828367089606366380 59 314} {5693185767959701801 59 315} {4154803051786286158 59 316} {1879866816811078987 59 317}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 318->317
------------------------------------------------------
flag 45643 term 61 leader 1 nextIndex[0]: 310  matchIndex[0]: 0
term 61 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 59 leaderCommit: 317 
------------------------------------------------------
flag 3570 term 61 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 61 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 59 leaderCommit: 317 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 59 309} {1086134458539695791 59 310} {1688029588098694803 59 311} {4385387000192480711 59 312} {8365166639859709189 59 313} {4828367089606366380 59 314} {5693185767959701801 59 315} {4154803051786286158 59 316} {1879866816811078987 59 317}]
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 59 309} {1086134458539695791 59 310} {1688029588098694803 59 311} {4385387000192480711 59 312} {8365166639859709189 59 313} {4828367089606366380 59 314} {5693185767959701801 59 315} {4154803051786286158 59 316} {1879866816811078987 59 317}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48393 term 61 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 61 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 59 leaderCommit: 317 
------------------------------------------------------
flag 52260 term 61 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 61 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 59 leaderCommit: 317 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 59 309} {1086134458539695791 59 310} {1688029588098694803 59 311} {4385387000192480711 59 312} {8365166639859709189 59 313} {4828367089606366380 59 314} {5693185767959701801 59 315} {4154803051786286158 59 316} {1879866816811078987 59 317}]
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 59 309} {1086134458539695791 59 310} {1688029588098694803 59 311} {4385387000192480711 59 312} {8365166639859709189 59 313} {4828367089606366380 59 314} {5693185767959701801 59 315} {4154803051786286158 59 316} {1879866816811078987 59 317}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14654 term 61 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 61 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 59 leaderCommit: 317 
------------------------------------------------------
flag 57548 term 61 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 61 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 59 leaderCommit: 317 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 59 309} {1086134458539695791 59 310} {1688029588098694803 59 311} {4385387000192480711 59 312} {8365166639859709189 59 313} {4828367089606366380 59 314} {5693185767959701801 59 315} {4154803051786286158 59 316} {1879866816811078987 59 317}]
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 59 309} {1086134458539695791 59 310} {1688029588098694803 59 311} {4385387000192480711 59 312} {8365166639859709189 59 313} {4828367089606366380 59 314} {5693185767959701801 59 315} {4154803051786286158 59 316} {1879866816811078987 59 317}]
------------------------------------------------------
flag 98845 term 61 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 61 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 59 leaderCommit: 317 
------------------------------------------------------
flag 13329 term 61 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 61 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 59 leaderCommit: 317 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 59 309} {1086134458539695791 59 310} {1688029588098694803 59 311} {4385387000192480711 59 312} {8365166639859709189 59 313} {4828367089606366380 59 314} {5693185767959701801 59 315} {4154803051786286158 59 316} {1879866816811078987 59 317}]
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 59 309} {1086134458539695791 59 310} {1688029588098694803 59 311} {4385387000192480711 59 312} {8365166639859709189 59 313} {4828367089606366380 59 314} {5693185767959701801 59 315} {4154803051786286158 59 316} {1879866816811078987 59 317}]
------------------------------------------------------
flag 77607 term 61 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 61 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 59 leaderCommit: 317 
------------------------------------------------------
flag 43010 term 61 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 61 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 59 leaderCommit: 317 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 59 309} {1086134458539695791 59 310} {1688029588098694803 59 311} {4385387000192480711 59 312} {8365166639859709189 59 313} {4828367089606366380 59 314} {5693185767959701801 59 315} {4154803051786286158 59 316} {1879866816811078987 59 317}]
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 59 309} {1086134458539695791 59 310} {1688029588098694803 59 311} {4385387000192480711 59 312} {8365166639859709189 59 313} {4828367089606366380 59 314} {5693185767959701801 59 315} {4154803051786286158 59 316} {1879866816811078987 59 317}]
------------------------------------------------------
flag 90220 term 61 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 61 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 59 leaderCommit: 317 
------------------------------------------------------
flag 92759 term 61 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 61 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 59 leaderCommit: 317 
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 59 309} {1086134458539695791 59 310} {1688029588098694803 59 311} {4385387000192480711 59 312} {8365166639859709189 59 313} {4828367089606366380 59 314} {5693185767959701801 59 315} {4154803051786286158 59 316} {1879866816811078987 59 317}]
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 59 309} {1086134458539695791 59 310} {1688029588098694803 59 311} {4385387000192480711 59 312} {8365166639859709189 59 313} {4828367089606366380 59 314} {5693185767959701801 59 315} {4154803051786286158 59 316} {1879866816811078987 59 317}]
------------------------------------------------------
term 61 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 61 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16433 term 61 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 61 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 59 leaderCommit: 317 
------------------------------------------------------
flag 90347 term 61 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 61 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 59 leaderCommit: 317 
------------------------------------------------------
term 61 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 59 309} {1086134458539695791 59 310} {1688029588098694803 59 311} {4385387000192480711 59 312} {8365166639859709189 59 313} {4828367089606366380 59 314} {5693185767959701801 59 315} {4154803051786286158 59 316} {1879866816811078987 59 317}]
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 59 309} {1086134458539695791 59 310} {1688029588098694803 59 311} {4385387000192480711 59 312} {8365166639859709189 59 313} {4828367089606366380 59 314} {5693185767959701801 59 315} {4154803051786286158 59 316} {1879866816811078987 59 317}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4579855025694268655 (index 318) to leader 1
flag 69906 term 61 leader 1 nextIndex[0]: 318  matchIndex[0]: 317
term 61 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 59 leaderCommit: 317 
------------------------------------------------------
flag 18432 term 61 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 61 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 59 leaderCommit: 317 
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 59 309} {1086134458539695791 59 310} {1688029588098694803 59 311} {4385387000192480711 59 312} {8365166639859709189 59 313} {4828367089606366380 59 314} {5693185767959701801 59 315} {4154803051786286158 59 316} {1879866816811078987 59 317} {4579855025694268655 61 318}]
------------------------------------------------------
term 61 server 0 not vote for server 1, 任期不够新
term 61 server 1 get outdate rpc reply from server 0
flag 87311 term 61 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 61 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 61 leaderCommit: 318 
------------------------------------------------------
flag 1531 term 61 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 61 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 59 leaderCommit: 318 
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=319
update matchIndex[0]=318
update leader CommitIndex=318
leader log:
[{snapshot 59 309} {1086134458539695791 59 310} {1688029588098694803 59 311} {4385387000192480711 59 312} {8365166639859709189 59 313} {4828367089606366380 59 314} {5693185767959701801 59 315} {4154803051786286158 59 316} {1879866816811078987 59 317} {4579855025694268655 61 318}]
------------------------------------------------------
client write log 8189702691501315851 (index 319) to leader 1
client write log 7843050028912898448 (index 320) to leader 1
client write log 1871771336040971427 (index 321) to leader 1
client write log 2528889371099699945 (index 322) to leader 1
client write log 1495665458172857522 (index 323) to leader 1
client write log 4331197670888615649 (index 324) to leader 1
client write log 2053337281048950938 (index 325) to leader 1
client write log 3586309541226848408 (index 326) to leader 1
client write log 4399091630377230546 (index 327) to leader 1
client write log 3219220647440225575 (index 328) to leader 1
client write log 8639443363785334423 (index 329) to leader 1
client write log 8771413692087597050 (index 330) to leader 1
client write log 344100048344025232 (index 331) to leader 1
flag 29037 term 61 leader 1 nextIndex[0]: 319  matchIndex[0]: 318
term 61 leader 1 sendAppendEntries PrevLogIndex: 318  PrevLogTerm: 61 leaderCommit: 318 
------------------------------------------------------
flag 65870 term 61 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 61 leader 1 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 59 leaderCommit: 318 
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:318 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 59 309} {1086134458539695791 59 310} {1688029588098694803 59 311} {4385387000192480711 59 312} {8365166639859709189 59 313} {4828367089606366380 59 314} {5693185767959701801 59 315} {4154803051786286158 59 316} {1879866816811078987 59 317} {4579855025694268655 61 318} {8189702691501315851 61 319} {7843050028912898448 61 320} {1871771336040971427 61 321} {2528889371099699945 61 322} {1495665458172857522 61 323} {4331197670888615649 61 324} {2053337281048950938 61 325} {3586309541226848408 61 326} {4399091630377230546 61 327} {3219220647440225575 61 328} {8639443363785334423 61 329} {8771413692087597050 61 330} {344100048344025232 61 331}]
------------------------------------------------------
term 61 Server1 start snapshot! index=319
term 61 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=331
-------------------------------------------------------------
term 61 Server1 start snapshot! index=329
term 61 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=331
-------------------------------------------------------------
flag 58270 term 61 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 61 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
term 61 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 61 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 61
------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=332
update matchIndex[0]=331
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331}]
------------------------------------------------------
term 61 Server0 start snapshot! index=319
term 61 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=331
-------------------------------------------------------------
term 61 Server0 start snapshot! index=329
term 61 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=331
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8709770796440614579 (index 332) to leader 1
flag 66105 term 61 leader 1 nextIndex[0]: 332  matchIndex[0]: 331
term 61 leader 1 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
term 61 leader 1 nextIndex[2]: 318  matchIndex[2]: 317
term 61 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 61
------------------------------------------------------
term 62 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 61 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 61 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 63 server 2 vote for server 1
term 63 server 0 vote for server 1
term 63 server 1 get vote from server 2
term 63 server 1 become leader
------------------------------------------------------
term 63 server 1 get outdate rpc reply from server 0
flag 79546 term 63 leader 1 nextIndex[0]: 333  matchIndex[0]: 0
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
flag 35931 term 63 leader 1 nextIndex[2]: 333  matchIndex[2]: 0
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
term 63 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 333->332
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
term 63 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96744 term 63 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
term 63 leader 1 nextIndex[2]: 318  matchIndex[2]: 0
term 63 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 61
------------------------------------------------------
term 63 server 2 InstallSnapshot success
------------------------------------------------------
term 63 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 61 rf.commitIndex 329 rf.lastApplied 329
term 63 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
term 63 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54679 term 63 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
flag 38818 term 63 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 63 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
term 63 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18318 term 63 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
flag 12233 term 63 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
flag 99159 term 63 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
flag 24112 term 63 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
term 63 server 0 not vote for server 1, 任期不够新
term 63 server 1 get outdate rpc reply from server 0
flag 15023 term 63 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
flag 86421 term 63 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
flag 66757 term 63 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
flag 88216 term 63 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
flag 65214 term 63 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
flag 72310 term 63 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
flag 46675 term 63 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
flag 99124 term 63 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77438 term 63 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
flag 66242 term 63 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43082 term 63 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
flag 63831 term 63 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
flag 55148 term 63 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
flag 2904 term 63 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
flag 59456 term 63 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
flag 31543 term 63 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
flag 5362 term 63 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
flag 69537 term 63 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46841 term 63 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
flag 98249 term 63 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8885 term 63 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
flag 65168 term 63 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
flag 67384 term 63 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
flag 94461 term 63 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
flag 32045 term 63 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
flag 79042 term 63 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48752 term 63 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
flag 45396 term 63 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=333
update matchIndex[0]=332
update leader CommitIndex=331
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332}]
------------------------------------------------------
client write log 8709770796440614579 (index 333) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77269 term 63 leader 1 nextIndex[0]: 333  matchIndex[0]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
flag 77080 term 63 leader 1 nextIndex[2]: 333  matchIndex[2]: 332
term 63 leader 1 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 61 leaderCommit: 331 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332} {8709770796440614579 63 333}]
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332} {8709770796440614579 63 333}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94872 term 63 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 63 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 63 leaderCommit: 333 
------------------------------------------------------
flag 34423 term 63 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 63 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 63 leaderCommit: 333 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332} {8709770796440614579 63 333}]
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332} {8709770796440614579 63 333}]
------------------------------------------------------
flag 79253 term 63 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 63 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 63 leaderCommit: 333 
------------------------------------------------------
flag 74142 term 63 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 63 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 63 leaderCommit: 333 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332} {8709770796440614579 63 333}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332} {8709770796440614579 63 333}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94860 term 63 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 63 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 63 leaderCommit: 333 
------------------------------------------------------
flag 80594 term 63 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 63 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 63 leaderCommit: 333 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332} {8709770796440614579 63 333}]
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332} {8709770796440614579 63 333}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62486 term 63 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 63 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 63 leaderCommit: 333 
------------------------------------------------------
flag 24919 term 63 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 63 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 63 leaderCommit: 333 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332} {8709770796440614579 63 333}]
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332} {8709770796440614579 63 333}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40467 term 63 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 63 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 63 leaderCommit: 333 
------------------------------------------------------
flag 64871 term 63 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 63 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 63 leaderCommit: 333 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332} {8709770796440614579 63 333}]
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332} {8709770796440614579 63 333}]
------------------------------------------------------
term 63 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44443 term 63 leader 1 nextIndex[0]: 334  matchIndex[0]: 333
term 63 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 63 leaderCommit: 333 
------------------------------------------------------
flag 38956 term 63 leader 1 nextIndex[2]: 334  matchIndex[2]: 333
term 63 leader 1 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 63 leaderCommit: 333 
------------------------------------------------------
term 63 server 2 AppendEntries true commitIndex:333 
------------------------------------------------------
term 63 server 0 AppendEntries true commitIndex:333 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=333
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332} {8709770796440614579 63 333}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=333
leader log:
[{snapshot 61 329} {8771413692087597050 61 330} {344100048344025232 61 331} {8709770796440614579 61 332} {8709770796440614579 63 333}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
  ... Passed --  72.7  3 1704  789330  333
--- PASS: TestSnapshotInstall2D (72.68s)
PASS
