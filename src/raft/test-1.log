=== RUN   TestSnapshotAllCrash2D
Test (2D): crash and restart all servers ...
term 1 server 0 vote for server 2
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 0
term 1 server 2 become leader
------------------------------------------------------
term 1 server 2 get outdate rpc reply from server 1
flag 70626 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 78871 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
server 1 log:
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
server 0 log:
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 1234784885764417228 (index 1) to leader 2
flag 67281 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
[{1234784885764417228 1 1}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 45953 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
[{1234784885764417228 1 1}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
server 1 log:
[{<nil> 0 0} {1234784885764417228 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1234784885764417228 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
server 0 log:
[{<nil> 0 0} {1234784885764417228 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1234784885764417228 1 1}]
------------------------------------------------------
flag 33060 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 18278 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
server 1 log:
[{<nil> 0 0} {1234784885764417228 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1234784885764417228 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
server 0 log:
[{<nil> 0 0} {1234784885764417228 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1234784885764417228 1 1}]
------------------------------------------------------
client write log 2055835316652856308 (index 2) to leader 2
flag 55007 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
[{2055835316652856308 1 2}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 2871 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
[{2055835316652856308 1 2}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
server 1 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
server 0 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2}]
------------------------------------------------------
flag 83780 term 1 leader 2 nextIndex[0]: 3  matchIndex[0]: 2
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 80379 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
server 1 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
server 0 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2}]
------------------------------------------------------
client write log 8619463484749283854 (index 3) to leader 2
flag 36127 term 1 leader 2 nextIndex[0]: 3  matchIndex[0]: 2
[{8619463484749283854 1 3}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 26756 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
[{8619463484749283854 1 3}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
server 1 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=4
update matchIndex[1]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
server 0 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=4
update matchIndex[0]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3}]
------------------------------------------------------
flag 48436 term 1 leader 2 nextIndex[0]: 4  matchIndex[0]: 3
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
flag 80526 term 1 leader 2 nextIndex[1]: 4  matchIndex[1]: 3
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:3 
server 0 log:
term 1 server 1 AppendEntries true commitIndex:3 
server 1 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=4
update matchIndex[1]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3}]
------------------------------------------------------
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=4
update matchIndex[0]=3
update leader CommitIndex=3
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3}]
------------------------------------------------------
client write log 6508519621491004723 (index 4) to leader 2
flag 51458 term 1 leader 2 nextIndex[0]: 4  matchIndex[0]: 3
[{6508519621491004723 1 4}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
flag 15718 term 1 leader 2 nextIndex[1]: 4  matchIndex[1]: 3
[{6508519621491004723 1 4}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 3  PrevLogTerm: 1 leaderCommit: 3 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:3 
server 1 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=5
update matchIndex[1]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4}]
term 1 server 0 AppendEntries true commitIndex:3 
server 0 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=5
update matchIndex[0]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4}]
------------------------------------------------------
flag 53536 term 1 leader 2 nextIndex[0]: 5  matchIndex[0]: 4
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
flag 29192 term 1 leader 2 nextIndex[1]: 5  matchIndex[1]: 4
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:4 
server 0 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:4 
server 1 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=5
update matchIndex[0]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=5
update matchIndex[1]=4
update leader CommitIndex=4
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4}]
------------------------------------------------------
client write log 486679174040044512 (index 5) to leader 2
flag 93043 term 1 leader 2 nextIndex[0]: 5  matchIndex[0]: 4
[{486679174040044512 1 5}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
flag 34538 term 1 leader 2 nextIndex[1]: 5  matchIndex[1]: 4
[{486679174040044512 1 5}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 4  PrevLogTerm: 1 leaderCommit: 4 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:4 
server 1 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:4 
server 0 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=6
update matchIndex[1]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=6
update matchIndex[0]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5}]
------------------------------------------------------
flag 58233 term 1 leader 2 nextIndex[0]: 6  matchIndex[0]: 5
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
flag 48013 term 1 leader 2 nextIndex[1]: 6  matchIndex[1]: 5
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:5 
server 1 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:5 
server 0 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=6
update matchIndex[1]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=6
update matchIndex[0]=5
update leader CommitIndex=5
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5}]
------------------------------------------------------
client write log 5266743590003959050 (index 6) to leader 2
flag 21449 term 1 leader 2 nextIndex[0]: 6  matchIndex[0]: 5
[{5266743590003959050 1 6}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
flag 1984 term 1 leader 2 nextIndex[1]: 6  matchIndex[1]: 5
[{5266743590003959050 1 6}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 5  PrevLogTerm: 1 leaderCommit: 5 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:5 
server 1 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=7
update matchIndex[1]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:5 
server 0 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=7
update matchIndex[0]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6}]
------------------------------------------------------
flag 73295 term 1 leader 2 nextIndex[0]: 7  matchIndex[0]: 6
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
flag 78806 term 1 leader 2 nextIndex[1]: 7  matchIndex[1]: 6
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:6 
server 1 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=7
update matchIndex[1]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:6 
server 0 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=7
update matchIndex[0]=6
update leader CommitIndex=6
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6}]
------------------------------------------------------
client write log 5601518615710489413 (index 7) to leader 2
flag 97850 term 1 leader 2 nextIndex[0]: 7  matchIndex[0]: 6
[{5601518615710489413 1 7}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
flag 75043 term 1 leader 2 nextIndex[1]: 7  matchIndex[1]: 6
[{5601518615710489413 1 7}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 6  PrevLogTerm: 1 leaderCommit: 6 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:6 
server 1 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6} {5601518615710489413 1 7}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=8
update matchIndex[1]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6} {5601518615710489413 1 7}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:6 
server 0 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6} {5601518615710489413 1 7}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=8
update matchIndex[0]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6} {5601518615710489413 1 7}]
------------------------------------------------------
flag 67119 term 1 leader 2 nextIndex[0]: 8  matchIndex[0]: 7
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
flag 73000 term 1 leader 2 nextIndex[1]: 8  matchIndex[1]: 7
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:7 
server 1 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6} {5601518615710489413 1 7}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:7 
server 0 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6} {5601518615710489413 1 7}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=8
update matchIndex[1]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6} {5601518615710489413 1 7}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=8
update matchIndex[0]=7
update leader CommitIndex=7
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6} {5601518615710489413 1 7}]
------------------------------------------------------
client write log 8772783166633363513 (index 8) to leader 2
flag 6336 term 1 leader 2 nextIndex[0]: 8  matchIndex[0]: 7
[{8772783166633363513 1 8}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
flag 6442 term 1 leader 2 nextIndex[1]: 8  matchIndex[1]: 7
[{8772783166633363513 1 8}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 7  PrevLogTerm: 1 leaderCommit: 7 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:7 
server 1 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6} {5601518615710489413 1 7} {8772783166633363513 1 8}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:7 
server 0 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6} {5601518615710489413 1 7} {8772783166633363513 1 8}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6} {5601518615710489413 1 7} {8772783166633363513 1 8}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6} {5601518615710489413 1 7} {8772783166633363513 1 8}]
------------------------------------------------------
flag 21562 term 1 leader 2 nextIndex[0]: 9  matchIndex[0]: 8
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 26268 term 1 leader 2 nextIndex[1]: 9  matchIndex[1]: 8
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:8 
server 1 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6} {5601518615710489413 1 7} {8772783166633363513 1 8}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6} {5601518615710489413 1 7} {8772783166633363513 1 8}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:8 
server 0 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6} {5601518615710489413 1 7} {8772783166633363513 1 8}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=9
update matchIndex[0]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6} {5601518615710489413 1 7} {8772783166633363513 1 8}]
------------------------------------------------------
client write log 6257068697807448260 (index 9) to leader 2
flag 77511 term 1 leader 2 nextIndex[0]: 9  matchIndex[0]: 8
[{6257068697807448260 1 9}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 80488 term 1 leader 2 nextIndex[1]: 9  matchIndex[1]: 8
[{6257068697807448260 1 9}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:8 
server 1 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6} {5601518615710489413 1 7} {8772783166633363513 1 8} {6257068697807448260 1 9}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:8 
server 0 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6} {5601518615710489413 1 7} {8772783166633363513 1 8} {6257068697807448260 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6} {5601518615710489413 1 7} {8772783166633363513 1 8} {6257068697807448260 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6} {5601518615710489413 1 7} {8772783166633363513 1 8} {6257068697807448260 1 9}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
flag 23459 term 1 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 85495 term 1 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:9 
server 1 log:
term 1 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6} {5601518615710489413 1 7} {8772783166633363513 1 8} {6257068697807448260 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
[{<nil> 0 0} {1234784885764417228 1 1} {2055835316652856308 1 2} {8619463484749283854 1 3} {6508519621491004723 1 4} {486679174040044512 1 5} {5266743590003959050 1 6} {5601518615710489413 1 7} {8772783166633363513 1 8} {6257068697807448260 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 Server0 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
client write log 745488078175403729 (index 10) to leader 2
flag 78768 term 1 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
[{745488078175403729 1 10}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 78894 term 1 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
[{745488078175403729 1 10}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:9 
server 1 log:
[{snapshot 1 9} {745488078175403729 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {745488078175403729 1 10}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:9 
server 0 log:
[{snapshot 1 9} {745488078175403729 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {745488078175403729 1 10}]
------------------------------------------------------
flag 69990 term 1 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 58812 term 1 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:10 
server 1 log:
[{snapshot 1 9} {745488078175403729 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {745488078175403729 1 10}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:10 
server 0 log:
[{snapshot 1 9} {745488078175403729 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {745488078175403729 1 10}]
------------------------------------------------------
client write log 4848051351180595776 (index 11) to leader 2
flag 10570 term 1 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
[{4848051351180595776 1 11}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 62011 term 1 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
[{4848051351180595776 1 11}]
term 1 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:10 
server 1 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:10 
server 0 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11}]
------------------------------------------------------
flag 30104 term 1 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 77197 term 1 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:11 
server 1 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:11 
server 0 log:
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11}]
------------------------------------------------------
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 1 voteFor 2 logs [{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 1 voteFor 2 logs [{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 1 voteFor 2 logs [{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11}]
!!!!!! server 2 crash
flag 86660 term 1 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 1775 term 1 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
[]
term 1 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 2 server 2 vote for server 0
term 2 server 0 get vote from server 2
term 2 server 0 become leader
------------------------------------------------------
term 2 server 1 vote for server 0
term 2 server 0 get outdate rpc reply from server 1
flag 69049 term 2 leader 0 nextIndex[1]: 12  matchIndex[1]: 0
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 65951 term 2 leader 0 nextIndex[2]: 12  matchIndex[2]: 0
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:9 
server 2 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:9 
server 1 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11}]
------------------------------------------------------
client write log 1075559450991523499 (index 12) to leader 0
flag 51572 term 2 leader 0 nextIndex[1]: 12  matchIndex[1]: 11
[{1075559450991523499 2 12}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 16060 term 2 leader 0 nextIndex[2]: 12  matchIndex[2]: 11
[{1075559450991523499 2 12}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:9 
server 2 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:9 
server 1 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12}]
------------------------------------------------------
flag 83538 term 2 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
flag 58616 term 2 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:12 
server 2 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:12 
server 1 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12}]
------------------------------------------------------
client write log 7965184615213099564 (index 13) to leader 0
flag 71627 term 2 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
[{7965184615213099564 2 13}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
flag 30913 term 2 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
[{7965184615213099564 2 13}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 2 leaderCommit: 12 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:12 
server 2 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:12 
server 1 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13}]
------------------------------------------------------
flag 77358 term 2 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
flag 20063 term 2 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:13 
server 1 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:13 
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13}]
------------------------------------------------------
server 2 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13}]
------------------------------------------------------
client write log 4245505112176927896 (index 14) to leader 0
flag 88776 term 2 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
[{4245505112176927896 2 14}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
flag 47819 term 2 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
[{4245505112176927896 2 14}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 2 leaderCommit: 13 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:13 
server 2 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:13 
server 1 log:
leader 0 sendAppendEntries -> server 2 true
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14}]
------------------------------------------------------
update nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14}]
------------------------------------------------------
flag 95981 term 2 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
flag 33316 term 2 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:14 
server 2 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:14 
server 1 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14}]
------------------------------------------------------
client write log 526693148812134991 (index 15) to leader 0
flag 76318 term 2 leader 0 nextIndex[1]: 15  matchIndex[1]: 14
[{526693148812134991 2 15}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
flag 90358 term 2 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
[{526693148812134991 2 15}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 2 leaderCommit: 14 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:14 
server 2 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:14 
server 1 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15}]
------------------------------------------------------
flag 15582 term 2 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
flag 6656 term 2 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:15 
server 2 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:15 
server 1 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15}]
------------------------------------------------------
client write log 1248198171357793702 (index 16) to leader 0
flag 61871 term 2 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
[{1248198171357793702 2 16}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
flag 12986 term 2 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
[{1248198171357793702 2 16}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 2 leaderCommit: 15 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:15 
server 2 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:15 
server 1 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16}]
------------------------------------------------------
flag 20177 term 2 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
flag 22343 term 2 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:16 
server 2 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:16 
server 1 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16}]
------------------------------------------------------
client write log 4349787687165700867 (index 17) to leader 0
flag 64448 term 2 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
[{4349787687165700867 2 17}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
flag 16237 term 2 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
[{4349787687165700867 2 17}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 2 leaderCommit: 16 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:16 
server 2 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16} {4349787687165700867 2 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16} {4349787687165700867 2 17}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:16 
server 1 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16} {4349787687165700867 2 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16} {4349787687165700867 2 17}]
------------------------------------------------------
flag 57826 term 2 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
flag 31173 term 2 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:17 
server 2 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16} {4349787687165700867 2 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16} {4349787687165700867 2 17}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:17 
server 1 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16} {4349787687165700867 2 17}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16} {4349787687165700867 2 17}]
------------------------------------------------------
client write log 8119278586807840620 (index 18) to leader 0
flag 43779 term 2 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
[{8119278586807840620 2 18}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
flag 67965 term 2 leader 0 nextIndex[2]: 18  matchIndex[2]: 17
[{8119278586807840620 2 18}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 2 leaderCommit: 17 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:17 
server 2 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16} {4349787687165700867 2 17} {8119278586807840620 2 18}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:17 
server 1 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16} {4349787687165700867 2 17} {8119278586807840620 2 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16} {4349787687165700867 2 17} {8119278586807840620 2 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16} {4349787687165700867 2 17} {8119278586807840620 2 18}]
------------------------------------------------------
flag 5016 term 2 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
flag 66292 term 2 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:18 
server 2 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16} {4349787687165700867 2 17} {8119278586807840620 2 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=19
update matchIndex[2]=18
update leader CommitIndex=18
leader log:
term 2 server 1 AppendEntries true commitIndex:18 
server 1 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16} {4349787687165700867 2 17} {8119278586807840620 2 18}]
------------------------------------------------------
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16} {4349787687165700867 2 17} {8119278586807840620 2 18}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=19
update matchIndex[1]=18
update leader CommitIndex=18
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16} {4349787687165700867 2 17} {8119278586807840620 2 18}]
------------------------------------------------------
client write log 8699634693364223979 (index 19) to leader 0
flag 43012 term 2 leader 0 nextIndex[1]: 19  matchIndex[1]: 18
[{8699634693364223979 2 19}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
flag 85253 term 2 leader 0 nextIndex[2]: 19  matchIndex[2]: 18
[{8699634693364223979 2 19}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 18  PrevLogTerm: 2 leaderCommit: 18 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:18 
server 2 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16} {4349787687165700867 2 17} {8119278586807840620 2 18} {8699634693364223979 2 19}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16} {4349787687165700867 2 17} {8119278586807840620 2 18} {8699634693364223979 2 19}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:18 
server 1 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16} {4349787687165700867 2 17} {8119278586807840620 2 18} {8699634693364223979 2 19}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16} {4349787687165700867 2 17} {8119278586807840620 2 18} {8699634693364223979 2 19}]
------------------------------------------------------
term 2 Server0 start snapshot! index=19
term 2 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 81347 term 2 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 6010 term 2 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:19 
server 1 log:
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16} {4349787687165700867 2 17} {8119278586807840620 2 18} {8699634693364223979 2 19}]
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:19 
server 2 log:
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 19}]
------------------------------------------------------
[{snapshot 1 9} {745488078175403729 1 10} {4848051351180595776 1 11} {1075559450991523499 2 12} {7965184615213099564 2 13} {4245505112176927896 2 14} {526693148812134991 2 15} {1248198171357793702 2 16} {4349787687165700867 2 17} {8119278586807840620 2 18} {8699634693364223979 2 19}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=20
update matchIndex[2]=19
update leader CommitIndex=19
leader log:
[{snapshot 2 19}]
------------------------------------------------------
term 2 Server1 start snapshot! index=19
term 2 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
term 2 Server2 start snapshot! index=19
term 2 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
client write log 6604320862233962839 (index 20) to leader 0
flag 26713 term 2 leader 0 nextIndex[1]: 20  matchIndex[1]: 19
[{6604320862233962839 2 20}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 28292 term 2 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
[{6604320862233962839 2 20}]
term 2 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:19 
server 2 log:
[{snapshot 2 19} {6604320862233962839 2 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {6604320862233962839 2 20}]
------------------------------------------------------
term 2 server 1 AppendEntries true commitIndex:19 
server 1 log:
[{snapshot 2 19} {6604320862233962839 2 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {6604320862233962839 2 20}]
------------------------------------------------------
flag 34326 term 2 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
flag 56358 term 2 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
term 2 server 2 AppendEntries true commitIndex:20 
server 2 log:
term 2 server 1 AppendEntries true commitIndex:20 
server 1 log:
[{snapshot 2 19} {6604320862233962839 2 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {6604320862233962839 2 20}]
------------------------------------------------------
[{snapshot 2 19} {6604320862233962839 2 20}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=20
leader log:
[{snapshot 2 19} {6604320862233962839 2 20}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 2 voteFor 0 logs [{snapshot 2 19} {6604320862233962839 2 20}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 2 voteFor 0 logs [{snapshot 2 19} {6604320862233962839 2 20}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 2 voteFor 0 logs [{snapshot 2 19} {6604320862233962839 2 20}]
!!!!!! server 2 crash
flag 14707 term 2 leader 0 nextIndex[1]: 21  matchIndex[1]: 20
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
flag 36731 term 2 leader 0 nextIndex[2]: 21  matchIndex[2]: 20
[]
term 2 leader 0 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 20 
------------------------------------------------------
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 0 vote for server 1
term 3 server 1 become leader
------------------------------------------------------
term 3 server 1 get outdate rpc reply from server 0
flag 81038 term 3 leader 1 nextIndex[0]: 21  matchIndex[0]: 0
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 54531 term 3 leader 1 nextIndex[2]: 21  matchIndex[2]: 0
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
server 2 log:
[{snapshot 2 19} {6604320862233962839 2 20}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 2 19} {6604320862233962839 2 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=19
leader log:
[{snapshot 2 19} {6604320862233962839 2 20}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=21
update matchIndex[2]=20
update leader CommitIndex=19
leader log:
[{snapshot 2 19} {6604320862233962839 2 20}]
------------------------------------------------------
client write log 2788687412480972457 (index 21) to leader 1
flag 33570 term 3 leader 1 nextIndex[0]: 21  matchIndex[0]: 20
[{2788687412480972457 3 21}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
flag 61698 term 3 leader 1 nextIndex[2]: 21  matchIndex[2]: 20
[{2788687412480972457 3 21}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 2 leaderCommit: 19 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:19 
server 2 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:19 
server 0 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21}]
------------------------------------------------------
flag 26907 term 3 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
flag 10201 term 3 leader 1 nextIndex[2]: 22  matchIndex[2]: 21
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:21 
server 0 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:21 
server 2 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=22
update matchIndex[0]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21}]
------------------------------------------------------
client write log 8698020529581043954 (index 22) to leader 1
flag 82247 term 3 leader 1 nextIndex[0]: 22  matchIndex[0]: 21
[{8698020529581043954 3 22}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
flag 15474 term 3 leader 1 nextIndex[2]: 22  matchIndex[2]: 21
[{8698020529581043954 3 22}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 3 leaderCommit: 21 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:21 
server 2 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:21 
server 0 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22}]
------------------------------------------------------
flag 71154 term 3 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 3 leaderCommit: 22 
------------------------------------------------------
flag 17528 term 3 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 3 leaderCommit: 22 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:22 
server 2 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:22 
server 0 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22}]
------------------------------------------------------
client write log 6283445246707249393 (index 23) to leader 1
flag 40095 term 3 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
[{6283445246707249393 3 23}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 3 leaderCommit: 22 
------------------------------------------------------
flag 81133 term 3 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
[{6283445246707249393 3 23}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 3 leaderCommit: 22 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:22 
server 2 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:22 
server 0 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23}]
------------------------------------------------------
flag 48302 term 3 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
flag 76396 term 3 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:23 
server 2 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:23 
server 0 log:
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23}]
------------------------------------------------------
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23}]
------------------------------------------------------
client write log 8450541852983022115 (index 24) to leader 1
flag 20043 term 3 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
[{8450541852983022115 3 24}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
flag 71943 term 3 leader 1 nextIndex[2]: 24  matchIndex[2]: 23
[{8450541852983022115 3 24}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 3 leaderCommit: 23 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:23 
server 2 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:23 
server 0 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 12->11
------------------------------------------------------
flag 87456 term 3 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
flag 6049 term 3 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:24 
server 2 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:24 
server 0 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24}]
------------------------------------------------------
client write log 972471336098578294 (index 25) to leader 1
flag 47009 term 3 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
[{972471336098578294 3 25}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
flag 25722 term 3 leader 1 nextIndex[2]: 25  matchIndex[2]: 24
[{972471336098578294 3 25}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 3 leaderCommit: 24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 21->20
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:24 
server 2 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:24 
server 0 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25}]
------------------------------------------------------
flag 14299 term 3 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
flag 56260 term 3 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:25 
server 2 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:25 
server 0 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25}]
------------------------------------------------------
client write log 6759879118761000570 (index 26) to leader 1
flag 44172 term 3 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
[{6759879118761000570 3 26}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
flag 14105 term 3 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
[{6759879118761000570 3 26}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 3 leaderCommit: 25 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:25 
server 2 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:25 
server 0 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26}]
------------------------------------------------------
flag 51017 term 3 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
flag 5317 term 3 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:26 
server 2 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:26 
server 0 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26}]
------------------------------------------------------
client write log 4165409553404662853 (index 27) to leader 1
flag 80285 term 3 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
[{4165409553404662853 3 27}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
flag 8413 term 3 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
[{4165409553404662853 3 27}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 3 leaderCommit: 26 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:26 
server 2 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26} {4165409553404662853 3 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26} {4165409553404662853 3 27}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:26 
server 0 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26} {4165409553404662853 3 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26} {4165409553404662853 3 27}]
------------------------------------------------------
flag 62767 term 3 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
flag 16438 term 3 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:27 
server 2 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26} {4165409553404662853 3 27}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:27 
server 0 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26} {4165409553404662853 3 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26} {4165409553404662853 3 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26} {4165409553404662853 3 27}]
------------------------------------------------------
client write log 2725206763110300194 (index 28) to leader 1
flag 56717 term 3 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
[{2725206763110300194 3 28}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
flag 34536 term 3 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
[{2725206763110300194 3 28}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 3 leaderCommit: 27 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:27 
server 2 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26} {4165409553404662853 3 27} {2725206763110300194 3 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26} {4165409553404662853 3 27} {2725206763110300194 3 28}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:27 
server 0 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26} {4165409553404662853 3 27} {2725206763110300194 3 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26} {4165409553404662853 3 27} {2725206763110300194 3 28}]
------------------------------------------------------
flag 78636 term 3 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
flag 38348 term 3 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:28 
server 2 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26} {4165409553404662853 3 27} {2725206763110300194 3 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26} {4165409553404662853 3 27} {2725206763110300194 3 28}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:28 
server 0 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26} {4165409553404662853 3 27} {2725206763110300194 3 28}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26} {4165409553404662853 3 27} {2725206763110300194 3 28}]
------------------------------------------------------
client write log 1692010869606082953 (index 29) to leader 1
flag 69992 term 3 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
[{1692010869606082953 3 29}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
flag 34555 term 3 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
[{1692010869606082953 3 29}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 3 leaderCommit: 28 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:28 
server 2 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26} {4165409553404662853 3 27} {2725206763110300194 3 28} {1692010869606082953 3 29}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:28 
server 0 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26} {4165409553404662853 3 27} {2725206763110300194 3 28} {1692010869606082953 3 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26} {4165409553404662853 3 27} {2725206763110300194 3 28} {1692010869606082953 3 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26} {4165409553404662853 3 27} {2725206763110300194 3 28} {1692010869606082953 3 29}]
------------------------------------------------------
term 3 Server1 start snapshot! index=29
term 3 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
flag 24635 term 3 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 97732 term 3 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26} {4165409553404662853 3 27} {2725206763110300194 3 28} {1692010869606082953 3 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:29 
server 2 log:
[{snapshot 2 19} {6604320862233962839 2 20} {2788687412480972457 3 21} {8698020529581043954 3 22} {6283445246707249393 3 23} {8450541852983022115 3 24} {972471336098578294 3 25} {6759879118761000570 3 26} {4165409553404662853 3 27} {2725206763110300194 3 28} {1692010869606082953 3 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 3 29}]
------------------------------------------------------
term 3 Server0 start snapshot! index=29
term 3 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 3 Server2 start snapshot! index=29
term 3 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
client write log 8594984008535459282 (index 30) to leader 1
flag 94537 term 3 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
[{8594984008535459282 3 30}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 62230 term 3 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
[{8594984008535459282 3 30}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:29 
server 2 log:
[{snapshot 3 29} {8594984008535459282 3 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {8594984008535459282 3 30}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 3 29} {8594984008535459282 3 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {8594984008535459282 3 30}]
------------------------------------------------------
flag 57691 term 3 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
flag 2068 term 3 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:30 
server 2 log:
[{snapshot 3 29} {8594984008535459282 3 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {8594984008535459282 3 30}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:30 
server 0 log:
[{snapshot 3 29} {8594984008535459282 3 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 3 29} {8594984008535459282 3 30}]
------------------------------------------------------
client write log 1688519548122475475 (index 31) to leader 1
flag 55922 term 3 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
[{1688519548122475475 3 31}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
flag 71599 term 3 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
[{1688519548122475475 3 31}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 3 leaderCommit: 30 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:30 
server 2 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:30 
server 0 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31}]
------------------------------------------------------
flag 14714 term 3 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 3 leaderCommit: 31 
------------------------------------------------------
flag 41208 term 3 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 3 leaderCommit: 31 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:31 
server 0 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:31 
server 2 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31}]
------------------------------------------------------
client write log 4974580695338608216 (index 32) to leader 1
flag 72055 term 3 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
[{4974580695338608216 3 32}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 3 leaderCommit: 31 
------------------------------------------------------
flag 21866 term 3 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
[{4974580695338608216 3 32}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 3 leaderCommit: 31 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:31 
term 3 server 0 AppendEntries true commitIndex:31 
server 0 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32}]
------------------------------------------------------
server 2 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32}]
------------------------------------------------------
flag 90662 term 3 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
flag 297 term 3 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:32 
server 2 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:32 
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32}]
------------------------------------------------------
server 0 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32}]
------------------------------------------------------
client write log 8046547940915688905 (index 33) to leader 1
flag 41728 term 3 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
[{8046547940915688905 3 33}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
flag 62934 term 3 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
[{8046547940915688905 3 33}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 3 leaderCommit: 32 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:32 
server 0 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:32 
server 2 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33}]
------------------------------------------------------
flag 83086 term 3 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
flag 26231 term 3 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:33 
server 2 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:33 
server 0 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=34
update matchIndex[2]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33}]
------------------------------------------------------
client write log 4277878501417701521 (index 34) to leader 1
flag 19295 term 3 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
[{4277878501417701521 3 34}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
flag 89114 term 3 leader 1 nextIndex[2]: 34  matchIndex[2]: 33
[{4277878501417701521 3 34}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 3 leaderCommit: 33 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:33 
server 2 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:33 
server 0 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34}]
------------------------------------------------------
flag 37686 term 3 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
flag 7287 term 3 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:34 
server 2 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=35
update matchIndex[2]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:34 
server 0 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=35
update matchIndex[0]=34
update leader CommitIndex=34
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34}]
------------------------------------------------------
client write log 425111028238360399 (index 35) to leader 1
flag 40370 term 3 leader 1 nextIndex[0]: 35  matchIndex[0]: 34
[{425111028238360399 3 35}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
flag 21405 term 3 leader 1 nextIndex[2]: 35  matchIndex[2]: 34
[{425111028238360399 3 35}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 34  PrevLogTerm: 3 leaderCommit: 34 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:34 
server 2 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:34 
server 0 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35}]
------------------------------------------------------
flag 55455 term 3 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 3 leaderCommit: 35 
------------------------------------------------------
flag 5291 term 3 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 3 leaderCommit: 35 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:35 
server 2 log:
term 3 server 0 AppendEntries true commitIndex:35 
server 0 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35}]
------------------------------------------------------
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=36
update matchIndex[0]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=36
update matchIndex[2]=35
update leader CommitIndex=35
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35}]
------------------------------------------------------
client write log 7797195640624633273 (index 36) to leader 1
flag 37764 term 3 leader 1 nextIndex[0]: 36  matchIndex[0]: 35
[{7797195640624633273 3 36}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 3 leaderCommit: 35 
------------------------------------------------------
flag 1396 term 3 leader 1 nextIndex[2]: 36  matchIndex[2]: 35
[{7797195640624633273 3 36}]
term 3 leader 1 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 3 leaderCommit: 35 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:35 
server 2 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:35 
server 0 log:
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=37
update matchIndex[2]=36
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36}]
------------------------------------------------------
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36}]
------------------------------------------------------
flag 73893 term 3 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 36 
------------------------------------------------------
flag 20087 term 3 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 36 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:36 
server 2 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 true
update nextIndex[2]=37
update matchIndex[2]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:36 
server 0 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 true
update nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=36
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 3 voteFor 1 logs [{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 3 voteFor 1 logs [{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 3 voteFor 1 logs [{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36}]
!!!!!! server 2 crash
flag 83182 term 3 leader 1 nextIndex[0]: 37  matchIndex[0]: 36
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 36 
------------------------------------------------------
flag 44025 term 3 leader 1 nextIndex[2]: 37  matchIndex[2]: 36
[]
term 3 leader 1 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 36 
------------------------------------------------------
term 4 server 1 vote for server 2
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 1
term 4 server 2 become leader
------------------------------------------------------
term 4 server 2 get outdate rpc reply from server 0
flag 28765 term 4 leader 2 nextIndex[0]: 37  matchIndex[0]: 0
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 30096 term 4 leader 2 nextIndex[1]: 37  matchIndex[1]: 0
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
server 1 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
server 0 log:
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=29
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36}]
------------------------------------------------------
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=29
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36}]
------------------------------------------------------
client write log 7819811894539921339 (index 37) to leader 2
flag 87400 term 4 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
[{7819811894539921339 4 37}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
flag 76159 term 4 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
[{7819811894539921339 4 37}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 3 leaderCommit: 29 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:29 
server 1 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36} {7819811894539921339 4 37}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:29 
server 0 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36} {7819811894539921339 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36} {7819811894539921339 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36} {7819811894539921339 4 37}]
------------------------------------------------------
flag 20413 term 4 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 56413 term 4 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:37 
server 1 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36} {7819811894539921339 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36} {7819811894539921339 4 37}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:37 
server 0 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36} {7819811894539921339 4 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36} {7819811894539921339 4 37}]
------------------------------------------------------
client write log 2748549460264737223 (index 38) to leader 2
flag 33600 term 4 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
[{2748549460264737223 4 38}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 92096 term 4 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
[{2748549460264737223 4 38}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:37 
server 1 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36} {7819811894539921339 4 37} {2748549460264737223 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36} {7819811894539921339 4 37} {2748549460264737223 4 38}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:37 
server 0 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36} {7819811894539921339 4 37} {2748549460264737223 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36} {7819811894539921339 4 37} {2748549460264737223 4 38}]
------------------------------------------------------
flag 70172 term 4 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 31311 term 4 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:38 
server 1 log:
term 4 server 0 AppendEntries true commitIndex:38 
server 0 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36} {7819811894539921339 4 37} {2748549460264737223 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=39
update matchIndex[0]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36} {7819811894539921339 4 37} {2748549460264737223 4 38}]
------------------------------------------------------
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36} {7819811894539921339 4 37} {2748549460264737223 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36} {7819811894539921339 4 37} {2748549460264737223 4 38}]
------------------------------------------------------
client write log 7792475660155435155 (index 39) to leader 2
flag 82047 term 4 leader 2 nextIndex[0]: 39  matchIndex[0]: 38
[{7792475660155435155 4 39}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
flag 29000 term 4 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
[{7792475660155435155 4 39}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 38 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:38 
server 1 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36} {7819811894539921339 4 37} {2748549460264737223 4 38} {7792475660155435155 4 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36} {7819811894539921339 4 37} {2748549460264737223 4 38} {7792475660155435155 4 39}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:38 
server 0 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36} {7819811894539921339 4 37} {2748549460264737223 4 38} {7792475660155435155 4 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36} {7819811894539921339 4 37} {2748549460264737223 4 38} {7792475660155435155 4 39}]
------------------------------------------------------
term 4 Server2 start snapshot! index=39
term 4 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 64422 term 4 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 69964 term 4 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36} {7819811894539921339 4 37} {2748549460264737223 4 38} {7792475660155435155 4 39}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 3 29} {8594984008535459282 3 30} {1688519548122475475 3 31} {4974580695338608216 3 32} {8046547940915688905 3 33} {4277878501417701521 3 34} {425111028238360399 3 35} {7797195640624633273 3 36} {7819811894539921339 4 37} {2748549460264737223 4 38} {7792475660155435155 4 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
term 4 Server0 start snapshot! index=39
term 4 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 4 Server1 start snapshot! index=39
term 4 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
client write log 3172109172926661582 (index 40) to leader 2
flag 59477 term 4 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
[{3172109172926661582 4 40}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 88551 term 4 leader 2 nextIndex[1]: 40  matchIndex[1]: 39
[{3172109172926661582 4 40}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 4 39} {3172109172926661582 4 40}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 4 39} {3172109172926661582 4 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {3172109172926661582 4 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {3172109172926661582 4 40}]
------------------------------------------------------
flag 92667 term 4 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 83772 term 4 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:40 
server 1 log:
[{snapshot 4 39} {3172109172926661582 4 40}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:40 
server 0 log:
[{snapshot 4 39} {3172109172926661582 4 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {3172109172926661582 4 40}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {3172109172926661582 4 40}]
------------------------------------------------------
client write log 3267458108936719804 (index 41) to leader 2
flag 8106 term 4 leader 2 nextIndex[0]: 41  matchIndex[0]: 40
[{3267458108936719804 4 41}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 99252 term 4 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
[{3267458108936719804 4 41}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:40 
server 1 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:40 
server 0 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 12->11
------------------------------------------------------
flag 59854 term 4 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 65113 term 4 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:41 
server 1 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:41 
server 0 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41}]
------------------------------------------------------
client write log 8643377750527305648 (index 42) to leader 2
flag 52157 term 4 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
[{8643377750527305648 4 42}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
flag 42435 term 4 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
[{8643377750527305648 4 42}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 41 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:41 
server 1 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:41 
server 0 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42}]
------------------------------------------------------
flag 92414 term 4 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 77638 term 4 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:42 
server 1 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:42 
server 0 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42}]
------------------------------------------------------
client write log 5487827932984429761 (index 43) to leader 2
flag 81831 term 4 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
[{5487827932984429761 4 43}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
flag 26444 term 4 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
[{5487827932984429761 4 43}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 4 leaderCommit: 42 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:42 
server 1 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:42 
server 0 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43}]
------------------------------------------------------
flag 4452 term 4 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 3457 term 4 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:43 
server 1 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:43 
server 0 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43}]
------------------------------------------------------
client write log 375612641417872094 (index 44) to leader 2
flag 81824 term 4 leader 2 nextIndex[0]: 44  matchIndex[0]: 43
[{375612641417872094 4 44}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
flag 69426 term 4 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
[{375612641417872094 4 44}]
term 4 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 4 leaderCommit: 43 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:43 
server 1 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:43 
server 0 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44}]
------------------------------------------------------
flag 84161 term 4 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 4797 term 4 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:44 
server 1 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:44 
server 0 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 4 voteFor 2 logs [{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 4 voteFor 2 logs [{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 4 voteFor 2 logs [{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44}]
!!!!!! server 2 crash
flag 13764 term 4 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
flag 18167 term 4 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
[]
term 4 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 44 
------------------------------------------------------
term 5 server 1 vote for server 2
term 5 server 0 vote for server 2
term 5 server 2 get vote from server 1
term 5 server 2 become leader
------------------------------------------------------
term 5 server 2 get outdate rpc reply from server 0
flag 44388 term 5 leader 2 nextIndex[0]: 45  matchIndex[0]: 0
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 91794 term 5 leader 2 nextIndex[1]: 45  matchIndex[1]: 0
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44}]
------------------------------------------------------
client write log 3131684582105192837 (index 45) to leader 2
flag 21318 term 5 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
[{3131684582105192837 5 45}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 49413 term 5 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
[{3131684582105192837 5 45}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:39 
server 1 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
term 5 server 0 AppendEntries true commitIndex:39 
server 0 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45}]
------------------------------------------------------
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45}]
------------------------------------------------------
flag 83416 term 5 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 5 leaderCommit: 45 
------------------------------------------------------
flag 71682 term 5 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 5 leaderCommit: 45 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:45 
server 1 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:45 
server 0 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45}]
------------------------------------------------------
client write log 6957586981874798639 (index 46) to leader 2
flag 68529 term 5 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
[{6957586981874798639 5 46}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 5 leaderCommit: 45 
------------------------------------------------------
flag 99565 term 5 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
[{6957586981874798639 5 46}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 5 leaderCommit: 45 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:45 
server 1 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:45 
server 0 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46}]
------------------------------------------------------
flag 27838 term 5 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 5 leaderCommit: 46 
------------------------------------------------------
flag 37359 term 5 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 5 leaderCommit: 46 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:46 
server 1 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:46 
server 0 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46}]
------------------------------------------------------
client write log 8661022904450133612 (index 47) to leader 2
flag 92173 term 5 leader 2 nextIndex[0]: 47  matchIndex[0]: 46
[{8661022904450133612 5 47}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 5 leaderCommit: 46 
------------------------------------------------------
flag 90763 term 5 leader 2 nextIndex[1]: 47  matchIndex[1]: 46
[{8661022904450133612 5 47}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 5 leaderCommit: 46 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:46 
server 1 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46} {8661022904450133612 5 47}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:46 
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46} {8661022904450133612 5 47}]
------------------------------------------------------
server 0 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46} {8661022904450133612 5 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46} {8661022904450133612 5 47}]
------------------------------------------------------
flag 43113 term 5 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
flag 60720 term 5 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:47 
server 1 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46} {8661022904450133612 5 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46} {8661022904450133612 5 47}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:47 
server 0 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46} {8661022904450133612 5 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 21->20
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46} {8661022904450133612 5 47}]
------------------------------------------------------
client write log 6244744737729047756 (index 48) to leader 2
flag 30867 term 5 leader 2 nextIndex[0]: 48  matchIndex[0]: 47
[{6244744737729047756 5 48}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
flag 65614 term 5 leader 2 nextIndex[1]: 48  matchIndex[1]: 47
[{6244744737729047756 5 48}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 5 leaderCommit: 47 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:47 
server 1 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46} {8661022904450133612 5 47} {6244744737729047756 5 48}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:47 
server 0 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46} {8661022904450133612 5 47} {6244744737729047756 5 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46} {8661022904450133612 5 47} {6244744737729047756 5 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46} {8661022904450133612 5 47} {6244744737729047756 5 48}]
------------------------------------------------------
flag 35988 term 5 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
flag 637 term 5 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:48 
server 1 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46} {8661022904450133612 5 47} {6244744737729047756 5 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46} {8661022904450133612 5 47} {6244744737729047756 5 48}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:48 
server 0 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46} {8661022904450133612 5 47} {6244744737729047756 5 48}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46} {8661022904450133612 5 47} {6244744737729047756 5 48}]
------------------------------------------------------
client write log 5578024880837008395 (index 49) to leader 2
flag 1384 term 5 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
[{5578024880837008395 5 49}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
flag 36861 term 5 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
[{5578024880837008395 5 49}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 5 leaderCommit: 48 
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:48 
server 0 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46} {8661022904450133612 5 47} {6244744737729047756 5 48} {5578024880837008395 5 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=50
update matchIndex[0]=49
term 5 server 1 AppendEntries true commitIndex:48 
server 1 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46} {8661022904450133612 5 47} {6244744737729047756 5 48} {5578024880837008395 5 49}]
------------------------------------------------------
update leader CommitIndex=49
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46} {8661022904450133612 5 47} {6244744737729047756 5 48} {5578024880837008395 5 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46} {8661022904450133612 5 47} {6244744737729047756 5 48} {5578024880837008395 5 49}]
------------------------------------------------------
term 5 Server2 start snapshot! index=49
term 5 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 79766 term 5 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
flag 21061 term 5 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:49 
server 1 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46} {8661022904450133612 5 47} {6244744737729047756 5 48} {5578024880837008395 5 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 5 49}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:49 
server 0 log:
[{snapshot 4 39} {3172109172926661582 4 40} {3267458108936719804 4 41} {8643377750527305648 4 42} {5487827932984429761 4 43} {375612641417872094 4 44} {3131684582105192837 5 45} {6957586981874798639 5 46} {8661022904450133612 5 47} {6244744737729047756 5 48} {5578024880837008395 5 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 5 49}]
------------------------------------------------------
term 5 Server0 start snapshot! index=49
term 5 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 5 Server1 start snapshot! index=49
term 5 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
client write log 8105679744100824607 (index 50) to leader 2
flag 95359 term 5 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
[{8105679744100824607 5 50}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
flag 22151 term 5 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
[{8105679744100824607 5 50}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:49 
server 1 log:
[{snapshot 5 49} {8105679744100824607 5 50}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {8105679744100824607 5 50}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:49 
server 0 log:
[{snapshot 5 49} {8105679744100824607 5 50}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {8105679744100824607 5 50}]
------------------------------------------------------
flag 96983 term 5 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
flag 66735 term 5 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:50 
server 1 log:
[{snapshot 5 49} {8105679744100824607 5 50}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {8105679744100824607 5 50}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:50 
server 0 log:
[{snapshot 5 49} {8105679744100824607 5 50}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 5 49} {8105679744100824607 5 50}]
------------------------------------------------------
client write log 7370933223449011498 (index 51) to leader 2
flag 79276 term 5 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
[{7370933223449011498 5 51}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
flag 30213 term 5 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
[{7370933223449011498 5 51}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 5 leaderCommit: 50 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:50 
server 1 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:50 
server 0 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51}]
------------------------------------------------------
flag 73690 term 5 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
flag 16189 term 5 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:51 
server 1 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:51 
server 0 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51}]
------------------------------------------------------
client write log 227000311919806282 (index 52) to leader 2
flag 94584 term 5 leader 2 nextIndex[0]: 52  matchIndex[0]: 51
[{227000311919806282 5 52}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
flag 42735 term 5 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
[{227000311919806282 5 52}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 5 leaderCommit: 51 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:51 
server 1 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:51 
server 0 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52}]
------------------------------------------------------
flag 7177 term 5 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
flag 71553 term 5 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:52 
server 1 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:52 
server 0 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52}]
------------------------------------------------------
client write log 3910085845539607291 (index 53) to leader 2
flag 40666 term 5 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
[{3910085845539607291 5 53}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
flag 52139 term 5 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
[{3910085845539607291 5 53}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 5 leaderCommit: 52 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:52 
server 1 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:52 
server 0 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53}]
------------------------------------------------------
flag 97277 term 5 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
flag 82083 term 5 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:53 
server 1 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:53 
server 0 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53}]
------------------------------------------------------
client write log 291054709780199406 (index 54) to leader 2
flag 54832 term 5 leader 2 nextIndex[0]: 54  matchIndex[0]: 53
[{291054709780199406 5 54}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
flag 72818 term 5 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
[{291054709780199406 5 54}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 5 leaderCommit: 53 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:53 
server 1 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:53 
server 0 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 37->36
------------------------------------------------------
flag 28373 term 5 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
flag 56527 term 5 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:54 
server 1 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=55
update matchIndex[1]=54
update leader CommitIndex=54
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:54 
server 0 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=55
update matchIndex[0]=54
update leader CommitIndex=54
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54}]
------------------------------------------------------
client write log 4991077979525547993 (index 55) to leader 2
flag 62696 term 5 leader 2 nextIndex[0]: 55  matchIndex[0]: 54
[{4991077979525547993 5 55}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
flag 63301 term 5 leader 2 nextIndex[1]: 55  matchIndex[1]: 54
[{4991077979525547993 5 55}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 5 leaderCommit: 54 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:54 
server 1 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:54 
server 0 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55}]
------------------------------------------------------
flag 63925 term 5 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
flag 74684 term 5 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:55 
server 1 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:55 
server 0 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=56
update matchIndex[0]=55
update leader CommitIndex=55
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55}]
------------------------------------------------------
client write log 6753867248244856502 (index 56) to leader 2
flag 97967 term 5 leader 2 nextIndex[0]: 56  matchIndex[0]: 55
[{6753867248244856502 5 56}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
flag 41490 term 5 leader 2 nextIndex[1]: 56  matchIndex[1]: 55
[{6753867248244856502 5 56}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 5 leaderCommit: 55 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:55 
server 1 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:55 
server 0 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 45->44
------------------------------------------------------
flag 56886 term 5 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
flag 34708 term 5 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:56 
server 1 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:56 
server 0 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=57
update matchIndex[0]=56
update leader CommitIndex=56
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56}]
------------------------------------------------------
client write log 8223417108767448684 (index 57) to leader 2
flag 25893 term 5 leader 2 nextIndex[0]: 57  matchIndex[0]: 56
[{8223417108767448684 5 57}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
flag 33325 term 5 leader 2 nextIndex[1]: 57  matchIndex[1]: 56
[{8223417108767448684 5 57}]
term 5 leader 2 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 5 leaderCommit: 56 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:56 
server 1 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:56 
server 0 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57}]
------------------------------------------------------
flag 81558 term 5 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
flag 84065 term 5 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
[]
term 5 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 57 
------------------------------------------------------
term 5 server 1 AppendEntries true commitIndex:57 
server 1 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 true
update nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57}]
------------------------------------------------------
term 5 server 0 AppendEntries true commitIndex:57 
server 0 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 true
update nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57}]
------------------------------------------------------
!!!!!! server 0 crash
!!!!!! server 1 crash
!!!!!! server 2 crash
获取persist信息成功 server 0 currentTerm 5 voteFor 2 logs [{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57}]
!!!!!! server 0 crash
获取persist信息成功 server 1 currentTerm 5 voteFor 2 logs [{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57}]
!!!!!! server 1 crash
获取persist信息成功 server 2 currentTerm 5 voteFor 2 logs [{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57}]
!!!!!! server 2 crash
term 6 server 2 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 1 vote for server 0
term 6 server 0 get outdate rpc reply from server 1
flag 69210 term 6 leader 0 nextIndex[1]: 58  matchIndex[1]: 0
[]
term 6 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
flag 17558 term 6 leader 0 nextIndex[2]: 58  matchIndex[2]: 0
[]
term 6 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=49
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:49 
server 1 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=49
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57}]
------------------------------------------------------
client write log 1794074900894460521 (index 58) to leader 0
flag 72524 term 6 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
[{1794074900894460521 6 58}]
term 6 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
flag 65720 term 6 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
[{1794074900894460521 6 58}]
term 6 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 5 leaderCommit: 49 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:49 
server 2 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57} {1794074900894460521 6 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57} {1794074900894460521 6 58}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:49 
server 1 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57} {1794074900894460521 6 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57} {1794074900894460521 6 58}]
------------------------------------------------------
flag 72749 term 6 leader 0 nextIndex[1]: 59  matchIndex[1]: 58
[]
term 6 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
flag 67918 term 6 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
[]
term 6 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 6 leaderCommit: 58 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:58 
server 2 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57} {1794074900894460521 6 58}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:58 
server 1 log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57} {1794074900894460521 6 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 true
update nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57} {1794074900894460521 6 58}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 true
update nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 5 49} {8105679744100824607 5 50} {7370933223449011498 5 51} {227000311919806282 5 52} {3910085845539607291 5 53} {291054709780199406 5 54} {4991077979525547993 5 55} {6753867248244856502 5 56} {8223417108767448684 5 57} {1794074900894460521 6 58}]
------------------------------------------------------
  ... Passed --  13.4  3  284   83933   58
--- PASS: TestSnapshotAllCrash2D (13.35s)
PASS
