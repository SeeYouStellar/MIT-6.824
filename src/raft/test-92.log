=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 0 vote for server 1
term 1 server 1 get vote from server 0
term 1 server 1 become leader
------------------------------------------------------
term 1 server 1 get outdate rpc reply from server 2
flag 62059 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 98328 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 1461855428590890875 (index 1) to leader 1
flag 56033 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 65401 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1461855428590890875 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1461855428590890875 1 1}]
------------------------------------------------------
flag 60498 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 30026 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1461855428590890875 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1461855428590890875 1 1}]
------------------------------------------------------
flag 33417 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 43981 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1461855428590890875 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1461855428590890875 1 1}]
------------------------------------------------------
flag 8951 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 95915 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1461855428590890875 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1461855428590890875 1 1}]
------------------------------------------------------
flag 95733 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 23806 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1461855428590890875 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1461855428590890875 1 1}]
------------------------------------------------------
flag 36795 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 58926 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
[{<nil> 0 0} {1461855428590890875 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1461855428590890875 1 1}]
------------------------------------------------------
flag 38221 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 47327 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1461855428590890875 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1461855428590890875 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2157564389375284976 (index 2) to leader 1
flag 4247 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 14101 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1461855428590890875 1 1} {2157564389375284976 1 2}]
------------------------------------------------------
flag 5573 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 47906 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1461855428590890875 1 1} {2157564389375284976 1 2}]
------------------------------------------------------
client write log 929292302962409076 (index 3) to leader 1
client write log 4529203780094395279 (index 4) to leader 1
client write log 8754204540558014921 (index 5) to leader 1
client write log 3566771139613955562 (index 6) to leader 1
client write log 2863218757901732326 (index 7) to leader 1
client write log 3314458252066341091 (index 8) to leader 1
client write log 6800223309253108964 (index 9) to leader 1
client write log 2309664901742042148 (index 10) to leader 1
flag 19978 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 34982 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {1461855428590890875 1 1} {2157564389375284976 1 2} {929292302962409076 1 3} {4529203780094395279 1 4} {8754204540558014921 1 5} {3566771139613955562 1 6} {2863218757901732326 1 7} {3314458252066341091 1 8} {6800223309253108964 1 9} {2309664901742042148 1 10}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 7076 term 1 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 1 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1912221333780974413 (index 11) to leader 1
term 1 server 1 not vote for server 2, 日志不够新
term 1 server 0 not vote for server 2, 日志不够新
term 3 server 2 vote for server 1
term 3 server 0 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 1 get outdate rpc reply from server 0
flag 16171 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 91594 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 12->11
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 12->11
------------------------------------------------------
flag 1690 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
flag 25207 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 81720 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
flag 56838 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 99210 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
flag 32313 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 65418 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
flag 99574 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 24884 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
flag 39056 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 14013 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
flag 41054 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 54447 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
flag 68507 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 98372 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
flag 41842 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 31681 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
flag 94388 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 44578 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
flag 71472 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 20173 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
flag 30524 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 28566 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86720 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 96951 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
flag 37926 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 7791 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
flag 81691 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 76502 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
flag 87630 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 87 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
flag 17887 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 40542 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
flag 30496 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 21650 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
flag 13457 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 11088 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11}]
------------------------------------------------------
client write log 1912221333780974413 (index 12) to leader 1
flag 5095 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 84200 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11} {1912221333780974413 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11} {1912221333780974413 3 12}]
------------------------------------------------------
flag 28859 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 43631 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11} {1912221333780974413 3 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11} {1912221333780974413 3 12}]
------------------------------------------------------
flag 61746 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 2901 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11} {1912221333780974413 3 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11} {1912221333780974413 3 12}]
------------------------------------------------------
flag 29215 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 88763 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11} {1912221333780974413 3 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11} {1912221333780974413 3 12}]
------------------------------------------------------
flag 18126 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 39599 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11} {1912221333780974413 3 12}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11} {1912221333780974413 3 12}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25409 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 234 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11} {1912221333780974413 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11} {1912221333780974413 3 12}]
------------------------------------------------------
flag 19480 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 89836 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11} {1912221333780974413 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11} {1912221333780974413 3 12}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 16711 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 97935 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 53255 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 59003 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 34239 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 96396 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
flag 83571 term 4 leader 2 nextIndex[0]: 13  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 51878 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11} {1912221333780974413 3 12}]
------------------------------------------------------
client write log 8019194385909305589 (index 13) to leader 2
flag 22003 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 68054 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 13->12
------------------------------------------------------
flag 23330 term 4 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 36406 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11} {1912221333780974413 3 12} {8019194385909305589 4 13}]
------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 12
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 32231 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 86765 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 82407 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11} {1912221333780974413 3 12} {8019194385909305589 4 13}]
------------------------------------------------------
client write log 7477475537917681082 (index 14) to leader 2
client write log 7237055768337237280 (index 15) to leader 2
client write log 3462576297517357648 (index 16) to leader 2
client write log 3396228408054051409 (index 17) to leader 2
client write log 2143296292079555553 (index 18) to leader 2
client write log 6567649376513402199 (index 19) to leader 2
client write log 7964346648771449511 (index 20) to leader 2
client write log 5657437674174681404 (index 21) to leader 2
client write log 1689931661019792561 (index 22) to leader 2
client write log 4485353630975665523 (index 23) to leader 2
client write log 8149635245044466339 (index 24) to leader 2
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 12
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 64543 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 62421 term 4 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 98899 term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 1 9} {2309664901742042148 1 10} {1912221333780974413 1 11} {1912221333780974413 3 12} {8019194385909305589 4 13} {7477475537917681082 4 14} {7237055768337237280 4 15} {3462576297517357648 4 16} {3396228408054051409 4 17} {2143296292079555553 4 18} {6567649376513402199 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=24
-------------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 12
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 78460 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 11554 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=24
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2715422373643024756 (index 13) to leader 1
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 12
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 55884 term 3 leader 1 nextIndex[2]: 13  matchIndex[2]: 12
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 3 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12753 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot success
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
term 4 server 2 not vote for server 1, 日志不够新
term 4 server 0 not vote for server 1, 日志不够新
term 6 server 0 vote for server 2
term 6 server 1 vote for server 2
term 6 server 2 get vote from server 0
term 6 server 2 become leader
------------------------------------------------------
term 6 server 2 get outdate rpc reply from server 1
flag 52456 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 24882 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 25->24
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
flag 83794 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 73619 term 6 leader 2 nextIndex[1]: 20  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10895 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 65763 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
flag 31063 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 3852 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
flag 86403 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 78296 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
flag 54632 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 60119 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99800 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 68115 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
flag 37134 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 78342 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
term 6 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32444 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 56705 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
flag 1221 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 63801 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65017 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 65861 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
flag 55055 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 13207 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36984 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 50829 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52514 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 31135 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
flag 49868 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 8420 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
flag 16391 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 87805 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
flag 78751 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 56310 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
flag 23580 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 51154 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2715422373643024756 (index 25) to leader 2
flag 10963 term 6 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 69220 term 6 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 6 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24} {2715422373643024756 6 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24} {2715422373643024756 6 25}]
------------------------------------------------------
term 6 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96732 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 78968 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24} {2715422373643024756 6 25}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24} {2715422373643024756 6 25}]
------------------------------------------------------
flag 23824 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 45954 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24} {2715422373643024756 6 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24} {2715422373643024756 6 25}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74273 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 9927 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24} {2715422373643024756 6 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24} {2715422373643024756 6 25}]
------------------------------------------------------
flag 28519 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 76282 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24} {2715422373643024756 6 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24} {2715422373643024756 6 25}]
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5829 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 32273 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24} {2715422373643024756 6 25}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24} {2715422373643024756 6 25}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14106 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 44022 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24} {2715422373643024756 6 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24} {2715422373643024756 6 25}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2888483627270309198 (index 26) to leader 2
flag 82135 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
flag 61361 term 6 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24} {2715422373643024756 6 25} {2888483627270309198 6 26}]
------------------------------------------------------
flag 42170 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 64575 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24} {2715422373643024756 6 25} {2888483627270309198 6 26}]
------------------------------------------------------
client write log 922588023898915470 (index 27) to leader 2
client write log 2631766037237562263 (index 28) to leader 2
client write log 1948634494318005683 (index 29) to leader 2
client write log 6393999067946749480 (index 30) to leader 2
client write log 9033274154870234412 (index 31) to leader 2
client write log 7723989338369825169 (index 32) to leader 2
client write log 1115036543411278583 (index 33) to leader 2
client write log 307869265488958223 (index 34) to leader 2
client write log 7570829983861361596 (index 35) to leader 2
flag 26798 term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 98570 term 6 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 4 19} {7964346648771449511 4 20} {5657437674174681404 4 21} {1689931661019792561 4 22} {4485353630975665523 4 23} {8149635245044466339 4 24} {2715422373643024756 6 25} {2888483627270309198 6 26} {922588023898915470 6 27} {2631766037237562263 6 28} {1948634494318005683 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=35
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 25861 term 6 leader 2 nextIndex[1]: 36  matchIndex[1]: 35
term 6 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=36
update matchIndex[1]=35
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=35
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3523914212914245203 (index 36) to leader 2
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
term 6 server 2 not vote for server 0, 日志不够新
term 6 server 1 not vote for server 0, 日志不够新
term 8 server 1 vote for server 2
term 8 server 0 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 2 become leader
------------------------------------------------------
term 8 server 2 get outdate rpc reply from server 0
flag 18366 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 15052 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 37->36
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 37->36
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 26  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 24252 term 8 leader 2 nextIndex[1]: 36  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 35  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
flag 43968 term 8 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 8 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 20354 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
flag 57871 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 95520 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36474 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 9766 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
term 8 server 1 not vote for server 2, 任期不够新
term 8 server 2 get outdate rpc reply from server 1
flag 38018 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 71616 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
flag 50036 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 7557 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
flag 77951 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 62294 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
flag 10072 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 87155 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
flag 22599 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 8838 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23458 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 3219 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
flag 69793 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 78026 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
flag 17228 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 66930 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
flag 22579 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 61471 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
flag 91570 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 43671 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4595 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 16083 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
term 8 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31910 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 6166 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
flag 37186 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 1677 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
flag 82789 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 44229 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=37
update matchIndex[0]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=37
update matchIndex[1]=36
update leader CommitIndex=35
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3523914212914245203 (index 37) to leader 2
flag 36519 term 8 leader 2 nextIndex[0]: 37  matchIndex[0]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
flag 75737 term 8 leader 2 nextIndex[1]: 37  matchIndex[1]: 36
term 8 leader 2 sendAppendEntries PrevLogIndex: 36  PrevLogTerm: 6 leaderCommit: 35 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:35 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:35 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36} {3523914212914245203 8 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36} {3523914212914245203 8 37}]
------------------------------------------------------
flag 67864 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 31532 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36} {3523914212914245203 8 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36} {3523914212914245203 8 37}]
------------------------------------------------------
flag 76594 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 91741 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36} {3523914212914245203 8 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36} {3523914212914245203 8 37}]
------------------------------------------------------
flag 19972 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 15893 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36} {3523914212914245203 8 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36} {3523914212914245203 8 37}]
------------------------------------------------------
flag 83700 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 7374 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36} {3523914212914245203 8 37}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36} {3523914212914245203 8 37}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26032 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 38688 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36} {3523914212914245203 8 37}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36} {3523914212914245203 8 37}]
------------------------------------------------------
flag 80721 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 61102 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=38
update matchIndex[0]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36} {3523914212914245203 8 37}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=38
update matchIndex[1]=37
update leader CommitIndex=37
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36} {3523914212914245203 8 37}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6859019206729314945 (index 38) to leader 2
flag 5442 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
flag 11418 term 8 leader 2 nextIndex[1]: 38  matchIndex[1]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 37 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36} {3523914212914245203 8 37} {6859019206729314945 8 38}]
------------------------------------------------------
flag 40176 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 53311 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36} {3523914212914245203 8 37} {6859019206729314945 8 38}]
------------------------------------------------------
client write log 2600028941604614259 (index 39) to leader 2
client write log 155458916116229086 (index 40) to leader 2
client write log 1575465449905810024 (index 41) to leader 2
client write log 814549452200459821 (index 42) to leader 2
client write log 4387248590700396094 (index 43) to leader 2
client write log 3274167698165849893 (index 44) to leader 2
client write log 721050120926724446 (index 45) to leader 2
client write log 8537915370135771054 (index 46) to leader 2
client write log 6985516365403944670 (index 47) to leader 2
client write log 7106414199915183270 (index 48) to leader 2
flag 49623 term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
flag 41981 term 8 leader 2 nextIndex[1]: 39  matchIndex[1]: 38
term 8 leader 2 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 8 leaderCommit: 38 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 29} {6393999067946749480 6 30} {9033274154870234412 6 31} {7723989338369825169 6 32} {1115036543411278583 6 33} {307869265488958223 6 34} {7570829983861361596 6 35} {3523914212914245203 6 36} {3523914212914245203 8 37} {6859019206729314945 8 38} {2600028941604614259 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48}]
------------------------------------------------------
term 8 Server2 start snapshot! index=39
term 8 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=48
-------------------------------------------------------------
term 8 leader 2 nextIndex[0]: 38  matchIndex[0]: 37
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 44146 term 8 leader 2 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48}]
------------------------------------------------------
term 8 Server1 start snapshot! index=39
term 8 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=48
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5386403702099864629 (index 49) to leader 2
term 8 server 2 not vote for server 0, 日志不够新
term 8 server 1 not vote for server 0, 日志不够新
term 10 server 1 vote for server 2
term 10 server 2 get vote from server 1
term 10 server 0 vote for server 2
term 10 server 2 become leader
------------------------------------------------------
term 10 server 2 get outdate rpc reply from server 0
flag 23083 term 10 leader 2 nextIndex[0]: 50  matchIndex[0]: 0
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 80814 term 10 leader 2 nextIndex[1]: 50  matchIndex[1]: 0
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 10 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 50->49
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 50->49
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 leader 2 nextIndex[0]: 38  matchIndex[0]: 0
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 18045 term 10 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
term 10 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 0 InstallSnapshot success
------------------------------------------------------
term 10 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 8 rf.commitIndex 39 rf.lastApplied 39
flag 31581 term 10 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 10 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 99399 term 10 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
flag 53313 term 10 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 127 term 10 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
flag 28726 term 10 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 98779 term 10 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
flag 5109 term 10 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 62889 term 10 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
flag 75533 term 10 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 6289 term 10 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
flag 16328 term 10 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 77258 term 10 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
flag 59440 term 10 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 87894 term 10 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
term 10 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
flag 37665 term 10 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 22815 term 10 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
flag 37976 term 10 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 57597 term 10 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
flag 69829 term 10 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 39685 term 10 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
flag 59227 term 10 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 38406 term 10 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
flag 59791 term 10 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 28183 term 10 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
flag 27532 term 10 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 73951 term 10 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
flag 33353 term 10 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 53292 term 10 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:48 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
flag 4306 term 10 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 74321 term 10 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
flag 83430 term 10 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 44648 term 10 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
flag 28326 term 10 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 522 term 10 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
flag 83427 term 10 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 12824 term 10 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49}]
------------------------------------------------------
client write log 5386403702099864629 (index 50) to leader 2
flag 35783 term 10 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 23881 term 10 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49} {5386403702099864629 10 50}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 39} {155458916116229086 8 40} {1575465449905810024 8 41} {814549452200459821 8 42} {4387248590700396094 8 43} {3274167698165849893 8 44} {721050120926724446 8 45} {8537915370135771054 8 46} {6985516365403944670 8 47} {7106414199915183270 8 48} {5386403702099864629 8 49} {5386403702099864629 10 50}]
------------------------------------------------------
term 10 Server2 start snapshot! index=49
term 10 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
flag 54673 term 10 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 31511 term 10 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
term 10 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
[{snapshot 8 49} {5386403702099864629 10 50}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {5386403702099864629 10 50}]
------------------------------------------------------
term 10 Server0 start snapshot! index=49
term 10 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
term 10 Server1 start snapshot! index=49
term 10 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
flag 78508 term 10 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 71064 term 10 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {5386403702099864629 10 50}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {5386403702099864629 10 50}]
------------------------------------------------------
flag 22425 term 10 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 68614 term 10 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {5386403702099864629 10 50}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {5386403702099864629 10 50}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1434 term 10 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 85499 term 10 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {5386403702099864629 10 50}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {5386403702099864629 10 50}]
------------------------------------------------------
flag 94150 term 10 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 7450 term 10 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {5386403702099864629 10 50}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {5386403702099864629 10 50}]
------------------------------------------------------
flag 12434 term 10 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 60278 term 10 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {5386403702099864629 10 50}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {5386403702099864629 10 50}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27743 term 10 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 26803 term 10 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 43058 term 10 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 44129 term 10 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 12731 term 10 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 3368 term 10 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 31185 term 10 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 10516 term 10 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 11 server 1 vote for server 0
term 11 server 0 get vote from server 1
term 11 server 0 become leader
------------------------------------------------------
flag 51718 term 11 leader 0 nextIndex[1]: 51  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 38993 term 11 leader 0 nextIndex[2]: 51  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {5386403702099864629 10 50}]
------------------------------------------------------
client write log 7249015321397522391 (index 51) to leader 0
flag 6966 term 10 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 17716 term 10 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 9288 term 11 leader 0 nextIndex[1]: 51  matchIndex[1]: 50
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 89224 term 11 leader 0 nextIndex[2]: 51  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {5386403702099864629 10 50} {7249015321397522391 11 51}]
------------------------------------------------------
flag 81572 term 10 leader 2 nextIndex[0]: 51  matchIndex[0]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
flag 99339 term 10 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 10 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 51->50
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 51->50
------------------------------------------------------
flag 67218 term 11 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 11 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 11 leaderCommit: 51 
------------------------------------------------------
flag 13575 term 11 leader 0 nextIndex[2]: 51  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {5386403702099864629 10 50} {7249015321397522391 11 51}]
------------------------------------------------------
client write log 1598276918667962472 (index 52) to leader 0
client write log 8182946012976429384 (index 53) to leader 0
client write log 7714953933958254717 (index 54) to leader 0
client write log 6537875522765199659 (index 55) to leader 0
client write log 4226235964303808122 (index 56) to leader 0
client write log 8998513735205339575 (index 57) to leader 0
client write log 85384950534202002 (index 58) to leader 0
client write log 4556102995557293195 (index 59) to leader 0
client write log 6785243394051389038 (index 60) to leader 0
term 10 leader 2 nextIndex[0]: 0  matchIndex[0]: 50
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 10 leader 2 nextIndex[1]: 0  matchIndex[1]: 50
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 10 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
flag 94651 term 11 leader 0 nextIndex[1]: 52  matchIndex[1]: 51
term 11 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 11 leaderCommit: 51 
------------------------------------------------------
flag 90112 term 11 leader 0 nextIndex[2]: 51  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 10 leaderCommit: 51 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 8 49} {5386403702099864629 10 50} {7249015321397522391 11 51} {1598276918667962472 11 52} {8182946012976429384 11 53} {7714953933958254717 11 54} {6537875522765199659 11 55} {4226235964303808122 11 56} {8998513735205339575 11 57} {85384950534202002 11 58} {4556102995557293195 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
term 11 Server0 start snapshot! index=59
term 11 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=60
-------------------------------------------------------------
term 10 leader 2 nextIndex[0]: 0  matchIndex[0]: 50
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 10 leader 2 nextIndex[1]: 0  matchIndex[1]: 50
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
flag 94818 term 11 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 leader 0 nextIndex[2]: 51  matchIndex[2]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
term 11 Server1 start snapshot! index=59
term 11 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=60
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4424941459631155972 (index 51) to leader 2
term 10 leader 2 nextIndex[0]: 0  matchIndex[0]: 50
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 10 leader 2 nextIndex[1]: 0  matchIndex[1]: 50
term 10 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 11 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 10 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5198 term 11 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 leader 0 nextIndex[2]: 51  matchIndex[2]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
term 11 server 2 InstallSnapshot success
------------------------------------------------------
term 11 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 11 rf.commitIndex 59 rf.lastApplied 59
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
term 11 server 1 not vote for server 2, 日志不够新
term 11 server 0 not vote for server 2, 日志不够新
term 13 server 2 vote for server 0
term 13 server 0 get vote from server 2
term 13 server 0 become leader
------------------------------------------------------
term 13 server 1 vote for server 0
term 13 server 0 get outdate rpc reply from server 1
flag 54160 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 39020 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 61->60
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
term 13 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83562 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 35211 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
flag 14581 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 42113 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28915 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 36592 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
flag 96903 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 46017 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
flag 85326 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 19319 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86380 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 79944 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
flag 35057 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 81765 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
update nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
term 13 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49522 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 19314 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69809 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 65086 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
flag 70422 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 81168 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
term 13 server 2 not vote for server 0, 任期不够新
term 13 server 0 get outdate rpc reply from server 2
flag 16340 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 34338 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46661 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 10977 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
flag 96484 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 10563 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
flag 31806 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 82120 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
flag 2191 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 15277 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
flag 37390 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 15767 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32865 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 42822 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
flag 98523 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 81796 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {6785243394051389038 11 60}]
------------------------------------------------------
client write log 4424941459631155972 (index 61) to leader 0
flag 81777 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 57346 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {6785243394051389038 11 60} {4424941459631155972 13 61}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {6785243394051389038 11 60} {4424941459631155972 13 61}]
------------------------------------------------------
flag 57777 term 13 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 13 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 55788 term 13 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {6785243394051389038 11 60} {4424941459631155972 13 61}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {6785243394051389038 11 60} {4424941459631155972 13 61}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9118 term 13 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 13 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 89223 term 13 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {6785243394051389038 11 60} {4424941459631155972 13 61}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {6785243394051389038 11 60} {4424941459631155972 13 61}]
------------------------------------------------------
flag 83964 term 13 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 13 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 60733 term 13 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {6785243394051389038 11 60} {4424941459631155972 13 61}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {6785243394051389038 11 60} {4424941459631155972 13 61}]
------------------------------------------------------
flag 55673 term 13 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 13 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 6626 term 13 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {6785243394051389038 11 60} {4424941459631155972 13 61}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {6785243394051389038 11 60} {4424941459631155972 13 61}]
------------------------------------------------------
flag 23538 term 13 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 13 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 39794 term 13 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {6785243394051389038 11 60} {4424941459631155972 13 61}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {6785243394051389038 11 60} {4424941459631155972 13 61}]
------------------------------------------------------
flag 39300 term 13 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 13 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 87652 term 13 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {6785243394051389038 11 60} {4424941459631155972 13 61}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {6785243394051389038 11 60} {4424941459631155972 13 61}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5599391442493445764 (index 62) to leader 0
flag 70489 term 13 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 13 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 44081 term 13 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {6785243394051389038 11 60} {4424941459631155972 13 61} {5599391442493445764 13 62}]
------------------------------------------------------
flag 13236 term 13 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 13 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 62 
------------------------------------------------------
flag 45286 term 13 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 13 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 13 leaderCommit: 62 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 11 59} {6785243394051389038 11 60} {4424941459631155972 13 61} {5599391442493445764 13 62}]
------------------------------------------------------
client write log 1113521747904574649 (index 63) to leader 0
client write log 3132957027925063509 (index 64) to leader 0
client write log 554485622288208570 (index 65) to leader 0
client write log 5546408873816304380 (index 66) to leader 0
client write log 2438353936458178815 (index 67) to leader 0
client write log 2855031382334570384 (index 68) to leader 0
client write log 3561514095818238593 (index 69) to leader 0
client write log 5315141817311686069 (index 70) to leader 0
client write log 1913319543103020364 (index 71) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38073 term 13 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 13 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 62 
------------------------------------------------------
flag 25841 term 13 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 13 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 13 leaderCommit: 62 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 59} {6785243394051389038 11 60} {4424941459631155972 13 61} {5599391442493445764 13 62} {1113521747904574649 13 63} {3132957027925063509 13 64} {554485622288208570 13 65} {5546408873816304380 13 66} {2438353936458178815 13 67} {2855031382334570384 13 68} {3561514095818238593 13 69} {5315141817311686069 13 70} {1913319543103020364 13 71}]
------------------------------------------------------
term 13 Server0 start snapshot! index=69
term 13 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=71
-------------------------------------------------------------
term 13 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 62557 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 13 69} {5315141817311686069 13 70} {1913319543103020364 13 71}]
------------------------------------------------------
term 13 Server2 start snapshot! index=69
term 13 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=71
-------------------------------------------------------------
!!!!!!connect server 1
client write log 868987090197940104 (index 72) to leader 0
term 13 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 99538 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 13 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {5315141817311686069 13 70} {1913319543103020364 13 71} {868987090197940104 13 72}]
------------------------------------------------------
term 14 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 15 server 1 vote for server 0
term 15 server 0 get vote from server 1
term 15 server 0 become leader
------------------------------------------------------
term 15 server 2 vote for server 0
term 15 server 0 get outdate rpc reply from server 2
flag 94684 term 15 leader 0 nextIndex[1]: 73  matchIndex[1]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 7561 term 15 leader 0 nextIndex[2]: 73  matchIndex[2]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
term 15 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 13 69} {5315141817311686069 13 70} {1913319543103020364 13 71} {868987090197940104 13 72}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 73->72
------------------------------------------------------
term 15 leader 0 nextIndex[1]: 62  matchIndex[1]: 0
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 23771 term 15 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 15 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
term 15 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {5315141817311686069 13 70} {1913319543103020364 13 71} {868987090197940104 13 72}]
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 13 rf.commitIndex 69 rf.lastApplied 69
flag 44823 term 15 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 94064 term 15 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 15 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {5315141817311686069 13 70} {1913319543103020364 13 71} {868987090197940104 13 72}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {5315141817311686069 13 70} {1913319543103020364 13 71} {868987090197940104 13 72}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33193 term 15 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 15 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 3560 term 15 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 15 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {5315141817311686069 13 70} {1913319543103020364 13 71} {868987090197940104 13 72}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {5315141817311686069 13 70} {1913319543103020364 13 71} {868987090197940104 13 72}]
------------------------------------------------------
flag 14134 term 15 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 15 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 3227 term 15 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 15 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {5315141817311686069 13 70} {1913319543103020364 13 71} {868987090197940104 13 72}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {5315141817311686069 13 70} {1913319543103020364 13 71} {868987090197940104 13 72}]
------------------------------------------------------
flag 62116 term 15 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 15 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 97797 term 15 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 15 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {5315141817311686069 13 70} {1913319543103020364 13 71} {868987090197940104 13 72}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {5315141817311686069 13 70} {1913319543103020364 13 71} {868987090197940104 13 72}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52880 term 15 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 15 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 34503 term 15 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 15 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
[{snapshot 13 69} {5315141817311686069 13 70} {1913319543103020364 13 71} {868987090197940104 13 72}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {5315141817311686069 13 70} {1913319543103020364 13 71} {868987090197940104 13 72}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84144 term 15 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 15 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 85719 term 15 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 15 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {5315141817311686069 13 70} {1913319543103020364 13 71} {868987090197940104 13 72}]
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {5315141817311686069 13 70} {1913319543103020364 13 71} {868987090197940104 13 72}]
------------------------------------------------------
flag 38000 term 15 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 15 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 78356 term 15 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 15 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=73
update matchIndex[2]=72
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {5315141817311686069 13 70} {1913319543103020364 13 71} {868987090197940104 13 72}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 13 69} {5315141817311686069 13 70} {1913319543103020364 13 71} {868987090197940104 13 72}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2325795923660993788 (index 73) to leader 0
flag 27541 term 15 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 15 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
flag 54944 term 15 leader 0 nextIndex[2]: 73  matchIndex[2]: 72
term 15 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 72 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 13 69} {5315141817311686069 13 70} {1913319543103020364 13 71} {868987090197940104 13 72} {2325795923660993788 15 73}]
------------------------------------------------------
flag 18076 term 15 leader 0 nextIndex[1]: 73  matchIndex[1]: 72
term 15 leader 0 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 13 leaderCommit: 73 
------------------------------------------------------
flag 17915 term 15 leader 0 nextIndex[2]: 74  matchIndex[2]: 73
term 15 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 15 leaderCommit: 73 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=74
update matchIndex[2]=73
update leader CommitIndex=73
leader log:
[{snapshot 13 69} {5315141817311686069 13 70} {1913319543103020364 13 71} {868987090197940104 13 72} {2325795923660993788 15 73}]
------------------------------------------------------
client write log 9215853665260004226 (index 74) to leader 0
client write log 543517529257856443 (index 75) to leader 0
client write log 1868332635253482112 (index 76) to leader 0
client write log 6753290456382307148 (index 77) to leader 0
client write log 4428206740998953420 (index 78) to leader 0
client write log 1692015605031767570 (index 79) to leader 0
client write log 6079433237866924994 (index 80) to leader 0
client write log 5261421436911677607 (index 81) to leader 0
client write log 2468553587886775486 (index 82) to leader 0
client write log 1391913835674465541 (index 83) to leader 0
client write log 8947689685907839064 (index 84) to leader 0
client write log 5948954393376839402 (index 85) to leader 0
client write log 5417356473689328222 (index 86) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 73->72
------------------------------------------------------
term 15 leader 0 nextIndex[1]: 0  matchIndex[1]: 72
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 80507 term 15 leader 0 nextIndex[2]: 74  matchIndex[2]: 73
term 15 leader 0 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 15 leaderCommit: 73 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 13 69} {5315141817311686069 13 70} {1913319543103020364 13 71} {868987090197940104 13 72} {2325795923660993788 15 73} {9215853665260004226 15 74} {543517529257856443 15 75} {1868332635253482112 15 76} {6753290456382307148 15 77} {4428206740998953420 15 78} {1692015605031767570 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86}]
------------------------------------------------------
term 15 Server0 start snapshot! index=79
term 15 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=86
-------------------------------------------------------------
term 15 leader 0 nextIndex[1]: 0  matchIndex[1]: 72
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 15
------------------------------------------------------
flag 30008 term 15 leader 0 nextIndex[2]: 87  matchIndex[2]: 86
term 15 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=87
update matchIndex[2]=86
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86}]
------------------------------------------------------
term 15 Server2 start snapshot! index=79
term 15 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=86
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4452699483872936990 (index 87) to leader 0
term 15 server 2 not vote for server 1, 日志不够新
term 15 server 0 not vote for server 1, 日志不够新
term 17 server 1 vote for server 0
term 17 server 0 get vote from server 1
term 17 server 2 vote for server 0
term 17 server 0 become leader
------------------------------------------------------
term 17 server 0 get outdate rpc reply from server 2
flag 66133 term 17 leader 0 nextIndex[1]: 88  matchIndex[1]: 0
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 72617 term 17 leader 0 nextIndex[2]: 88  matchIndex[2]: 0
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 88->87
------------------------------------------------------
term 17 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 88->87
------------------------------------------------------
term 17 leader 0 nextIndex[1]: 73  matchIndex[1]: 0
term 17 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 15
------------------------------------------------------
flag 65745 term 17 leader 0 nextIndex[2]: 87  matchIndex[2]: 0
term 17 leader 0 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
term 17 server 1 InstallSnapshot success
------------------------------------------------------
term 17 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 15 rf.commitIndex 79 rf.lastApplied 79
flag 92437 term 17 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 17 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 74206 term 17 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
flag 26655 term 17 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 36404 term 17 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:86 
term 17 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
term 17 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2718 term 17 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 47260 term 17 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12692 term 17 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 58568 term 17 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6117 term 17 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 41310 term 17 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
flag 21242 term 17 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 36725 term 17 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
flag 69952 term 17 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 92627 term 17 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
flag 66224 term 17 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 52760 term 17 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2893 term 17 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 11562 term 17 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
flag 56024 term 17 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 87538 term 17 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71327 term 17 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 49791 term 17 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
flag 56115 term 17 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 99557 term 17 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
flag 38841 term 17 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 62956 term 17 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
term 17 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3685 term 17 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 63513 term 17 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
flag 71781 term 17 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 39252 term 17 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
flag 22076 term 17 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 61432 term 17 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
flag 99801 term 17 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 20057 term 17 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
flag 91415 term 17 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 39942 term 17 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87}]
------------------------------------------------------
client write log 4452699483872936990 (index 88) to leader 0
flag 6288 term 17 leader 0 nextIndex[1]: 88  matchIndex[1]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
flag 40864 term 17 leader 0 nextIndex[2]: 88  matchIndex[2]: 87
term 17 leader 0 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87} {4452699483872936990 17 88}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87} {4452699483872936990 17 88}]
------------------------------------------------------
flag 43772 term 17 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
flag 72762 term 17 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87} {4452699483872936990 17 88}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87} {4452699483872936990 17 88}]
------------------------------------------------------
flag 93913 term 17 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
flag 4747 term 17 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87} {4452699483872936990 17 88}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87} {4452699483872936990 17 88}]
------------------------------------------------------
flag 83608 term 17 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
flag 75661 term 17 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87} {4452699483872936990 17 88}]
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87} {4452699483872936990 17 88}]
------------------------------------------------------
flag 96400 term 17 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
flag 23758 term 17 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87} {4452699483872936990 17 88}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87} {4452699483872936990 17 88}]
------------------------------------------------------
flag 8301 term 17 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
flag 56403 term 17 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87} {4452699483872936990 17 88}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87} {4452699483872936990 17 88}]
------------------------------------------------------
flag 18923 term 17 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
flag 99320 term 17 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87} {4452699483872936990 17 88}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87} {4452699483872936990 17 88}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 32668 term 17 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
flag 84624 term 17 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
flag 28684 term 17 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
flag 77288 term 17 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21899 term 17 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
flag 89606 term 17 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
flag 5212 term 17 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
flag 49866 term 17 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
term 18 server 2 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
flag 65020 term 18 leader 1 nextIndex[0]: 89  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
flag 9091 term 18 leader 1 nextIndex[2]: 89  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=89
update matchIndex[2]=88
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87} {4452699483872936990 17 88}]
------------------------------------------------------
client write log 5424871560541056889 (index 89) to leader 1
flag 2198 term 17 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
flag 14606 term 17 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
flag 4409 term 18 leader 1 nextIndex[0]: 89  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
flag 56868 term 18 leader 1 nextIndex[2]: 89  matchIndex[2]: 88
term 18 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 15 79} {6079433237866924994 15 80} {5261421436911677607 15 81} {2468553587886775486 15 82} {1391913835674465541 15 83} {8947689685907839064 15 84} {5948954393376839402 15 85} {5417356473689328222 15 86} {4452699483872936990 15 87} {4452699483872936990 17 88} {5424871560541056889 18 89}]
------------------------------------------------------
term 18 Server1 start snapshot! index=89
term 18 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
flag 30242 term 17 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
flag 71911 term 17 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
term 18 leader 1 nextIndex[0]: 89  matchIndex[0]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 18
------------------------------------------------------
flag 11553 term 18 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 18 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 18 leaderCommit: 89 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=90
update matchIndex[2]=89
update leader CommitIndex=89
leader log:
[{snapshot 18 89}]
------------------------------------------------------
term 18 Server2 start snapshot! index=89
term 18 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
client write log 1517302077255111916 (index 90) to leader 1
client write log 1091370257543807410 (index 91) to leader 1
client write log 4224760283761082537 (index 92) to leader 1
client write log 6704175455862950705 (index 93) to leader 1
client write log 8798371290145160752 (index 94) to leader 1
client write log 711124250179959401 (index 95) to leader 1
client write log 8518314437102214706 (index 96) to leader 1
client write log 7528639238262135689 (index 97) to leader 1
client write log 4196581949197724332 (index 98) to leader 1
client write log 3804728416174418700 (index 99) to leader 1
client write log 1660149702146841328 (index 100) to leader 1
client write log 4466720526186550242 (index 101) to leader 1
client write log 8222597744742415537 (index 102) to leader 1
client write log 5229640127804024062 (index 103) to leader 1
flag 79174 term 17 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
flag 92666 term 17 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
term 18 leader 1 nextIndex[0]: 89  matchIndex[0]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 18
------------------------------------------------------
flag 6650 term 18 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 18 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 18 leaderCommit: 89 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 18 89} {1517302077255111916 18 90} {1091370257543807410 18 91} {4224760283761082537 18 92} {6704175455862950705 18 93} {8798371290145160752 18 94} {711124250179959401 18 95} {8518314437102214706 18 96} {7528639238262135689 18 97} {4196581949197724332 18 98} {3804728416174418700 18 99} {1660149702146841328 18 100} {4466720526186550242 18 101} {8222597744742415537 18 102} {5229640127804024062 18 103}]
------------------------------------------------------
term 18 Server1 start snapshot! index=99
term 18 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=103
-------------------------------------------------------------
flag 27003 term 17 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
flag 71976 term 17 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
term 18 leader 1 nextIndex[0]: 89  matchIndex[0]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 86613 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 18 99} {1660149702146841328 18 100} {4466720526186550242 18 101} {8222597744742415537 18 102} {5229640127804024062 18 103}]
------------------------------------------------------
term 18 Server2 start snapshot! index=99
term 18 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=103
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2367736492668356151 (index 104) to leader 1
flag 65649 term 17 leader 0 nextIndex[1]: 89  matchIndex[1]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
flag 7556 term 17 leader 0 nextIndex[2]: 89  matchIndex[2]: 88
term 17 leader 0 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 17 leaderCommit: 88 
------------------------------------------------------
term 18 server 2 AppendEntries false 领导者任期过期 args.Term 17
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 18 server 1 AppendEntries false 领导者任期过期 args.Term 17
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 1 nextIndex[0]: 89  matchIndex[0]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 18
------------------------------------------------------
flag 45685 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {1660149702146841328 18 100} {4466720526186550242 18 101} {8222597744742415537 18 102} {5229640127804024062 18 103} {2367736492668356151 18 104}]
------------------------------------------------------
term 18 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 18 rf.commitIndex 99 rf.lastApplied 99
term 18 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31515 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 15526 term 18 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {1660149702146841328 18 100} {4466720526186550242 18 101} {8222597744742415537 18 102} {5229640127804024062 18 103} {2367736492668356151 18 104}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {1660149702146841328 18 100} {4466720526186550242 18 101} {8222597744742415537 18 102} {5229640127804024062 18 103} {2367736492668356151 18 104}]
------------------------------------------------------
flag 1313 term 18 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 21517 term 18 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {1660149702146841328 18 100} {4466720526186550242 18 101} {8222597744742415537 18 102} {5229640127804024062 18 103} {2367736492668356151 18 104}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {1660149702146841328 18 100} {4466720526186550242 18 101} {8222597744742415537 18 102} {5229640127804024062 18 103} {2367736492668356151 18 104}]
------------------------------------------------------
flag 85777 term 18 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 70256 term 18 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {1660149702146841328 18 100} {4466720526186550242 18 101} {8222597744742415537 18 102} {5229640127804024062 18 103} {2367736492668356151 18 104}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {1660149702146841328 18 100} {4466720526186550242 18 101} {8222597744742415537 18 102} {5229640127804024062 18 103} {2367736492668356151 18 104}]
------------------------------------------------------
flag 60189 term 18 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 7326 term 18 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {1660149702146841328 18 100} {4466720526186550242 18 101} {8222597744742415537 18 102} {5229640127804024062 18 103} {2367736492668356151 18 104}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {1660149702146841328 18 100} {4466720526186550242 18 101} {8222597744742415537 18 102} {5229640127804024062 18 103} {2367736492668356151 18 104}]
------------------------------------------------------
flag 48636 term 18 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 53862 term 18 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {1660149702146841328 18 100} {4466720526186550242 18 101} {8222597744742415537 18 102} {5229640127804024062 18 103} {2367736492668356151 18 104}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {1660149702146841328 18 100} {4466720526186550242 18 101} {8222597744742415537 18 102} {5229640127804024062 18 103} {2367736492668356151 18 104}]
------------------------------------------------------
flag 2572 term 18 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 67968 term 18 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:104 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {1660149702146841328 18 100} {4466720526186550242 18 101} {8222597744742415537 18 102} {5229640127804024062 18 103} {2367736492668356151 18 104}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 18 99} {1660149702146841328 18 100} {4466720526186550242 18 101} {8222597744742415537 18 102} {5229640127804024062 18 103} {2367736492668356151 18 104}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2093138919220458303 (index 105) to leader 1
flag 66436 term 18 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 28454 term 18 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {1660149702146841328 18 100} {4466720526186550242 18 101} {8222597744742415537 18 102} {5229640127804024062 18 103} {2367736492668356151 18 104} {2093138919220458303 18 105}]
------------------------------------------------------
flag 43688 term 18 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 18 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 672 term 18 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=106
update matchIndex[0]=105
update leader CommitIndex=105
leader log:
[{snapshot 18 99} {1660149702146841328 18 100} {4466720526186550242 18 101} {8222597744742415537 18 102} {5229640127804024062 18 103} {2367736492668356151 18 104} {2093138919220458303 18 105}]
------------------------------------------------------
client write log 7422332132388798818 (index 106) to leader 1
client write log 8325820167759461940 (index 107) to leader 1
client write log 8573024234333249815 (index 108) to leader 1
client write log 5341283915940205726 (index 109) to leader 1
client write log 6705935003821434811 (index 110) to leader 1
client write log 229012292840183397 (index 111) to leader 1
client write log 2889254204753844298 (index 112) to leader 1
client write log 6883480521738199654 (index 113) to leader 1
client write log 2812682224581372220 (index 114) to leader 1
client write log 366106073724026419 (index 115) to leader 1
client write log 2737910165945600932 (index 116) to leader 1
client write log 4240366570988967951 (index 117) to leader 1
client write log 7000737700627358755 (index 118) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61390 term 18 leader 1 nextIndex[0]: 106  matchIndex[0]: 105
term 18 leader 1 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 26458 term 18 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 18 99} {1660149702146841328 18 100} {4466720526186550242 18 101} {8222597744742415537 18 102} {5229640127804024062 18 103} {2367736492668356151 18 104} {2093138919220458303 18 105} {7422332132388798818 18 106} {8325820167759461940 18 107} {8573024234333249815 18 108} {5341283915940205726 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118}]
------------------------------------------------------
term 18 Server1 start snapshot! index=109
term 18 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=118
-------------------------------------------------------------
flag 46540 term 18 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 18 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118}]
------------------------------------------------------
term 18 Server0 start snapshot! index=109
term 18 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=118
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4165050386070502422 (index 119) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7617 term 18 leader 1 nextIndex[0]: 119  matchIndex[0]: 118
term 18 leader 1 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 19 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 0 not vote for server 1, 任期不够新
term 19 server 1 get outdate rpc reply from server 0
term 20 server 2 vote for server 1
term 20 server 1 get vote from server 2
term 20 server 1 become leader
------------------------------------------------------
term 20 server 0 vote for server 1
term 20 server 1 get outdate rpc reply from server 0
flag 93448 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 98279 term 20 leader 1 nextIndex[2]: 120  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 120->119
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65820 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 105  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 20 server 2 InstallSnapshot success
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 18 rf.commitIndex 109 rf.lastApplied 109
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
term 20 server 2 not vote for server 1, 任期不够新
term 20 server 1 get outdate rpc reply from server 2
flag 22438 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 28644 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 1 not vote for server 2, 任期不够新
term 20 server 2 get outdate rpc reply from server 1
flag 59313 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 88067 term 20 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
flag 14819 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 4551 term 20 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
flag 91489 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 80903 term 20 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
flag 82621 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 23940 term 20 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
flag 62313 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 52633 term 20 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17474 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 88 term 20 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
flag 7441 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 62348 term 20 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68339 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 85768 term 20 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
flag 12547 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 75612 term 20 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98517 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 32987 term 20 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
flag 97967 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 27167 term 20 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53680 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 78362 term 20 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19581 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 53320 term 20 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
flag 79918 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 48561 term 20 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
flag 73958 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 90659 term 20 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40991 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 28598 term 20 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=120
update matchIndex[2]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=120
update matchIndex[0]=119
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119}]
------------------------------------------------------
client write log 4165050386070502422 (index 120) to leader 1
term 20 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56826 term 20 leader 1 nextIndex[0]: 120  matchIndex[0]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
flag 80791 term 20 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 20 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 18 leaderCommit: 118 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119} {4165050386070502422 20 120}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 109} {6705935003821434811 18 110} {229012292840183397 18 111} {2889254204753844298 18 112} {6883480521738199654 18 113} {2812682224581372220 18 114} {366106073724026419 18 115} {2737910165945600932 18 116} {4240366570988967951 18 117} {7000737700627358755 18 118} {4165050386070502422 18 119} {4165050386070502422 20 120}]
------------------------------------------------------
term 20 Server1 start snapshot! index=119
term 20 server1 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=120
-------------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79917 term 20 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 20 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 85728 term 20 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
term 20 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
[{snapshot 18 119} {4165050386070502422 20 120}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 119} {4165050386070502422 20 120}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 Server0 start snapshot! index=119
term 20 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=120
-------------------------------------------------------------
term 20 Server2 start snapshot! index=119
term 20 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=120
-------------------------------------------------------------
flag 31427 term 20 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 20 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 27079 term 20 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 119} {4165050386070502422 20 120}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 119} {4165050386070502422 20 120}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6669 term 20 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 20 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 75776 term 20 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 119} {4165050386070502422 20 120}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 119} {4165050386070502422 20 120}]
------------------------------------------------------
flag 99733 term 20 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 20 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 21799 term 20 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 119} {4165050386070502422 20 120}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 119} {4165050386070502422 20 120}]
------------------------------------------------------
flag 64801 term 20 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 20 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 13030 term 20 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 119} {4165050386070502422 20 120}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 119} {4165050386070502422 20 120}]
------------------------------------------------------
flag 46925 term 20 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 20 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 19454 term 20 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:120 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=121
update matchIndex[0]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 119} {4165050386070502422 20 120}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=121
update matchIndex[2]=120
update leader CommitIndex=120
leader log:
[{snapshot 18 119} {4165050386070502422 20 120}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 755873427205346468 (index 121) to leader 1
flag 56979 term 20 leader 1 nextIndex[0]: 121  matchIndex[0]: 120
term 20 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
flag 3234 term 20 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 120 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:120 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 18 119} {4165050386070502422 20 120} {755873427205346468 20 121}]
------------------------------------------------------
flag 52185 term 20 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 20 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 21728 term 20 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=122
update matchIndex[0]=121
update leader CommitIndex=121
leader log:
[{snapshot 18 119} {4165050386070502422 20 120} {755873427205346468 20 121}]
------------------------------------------------------
client write log 6785649511774716563 (index 122) to leader 1
client write log 2497039304232919882 (index 123) to leader 1
client write log 4737337299270823425 (index 124) to leader 1
client write log 6366465957558677881 (index 125) to leader 1
client write log 5142693209290905632 (index 126) to leader 1
client write log 5511443272229782782 (index 127) to leader 1
client write log 1754746500279646497 (index 128) to leader 1
client write log 1811591699506780752 (index 129) to leader 1
flag 15429 term 20 leader 1 nextIndex[0]: 122  matchIndex[0]: 121
term 20 leader 1 sendAppendEntries PrevLogIndex: 121  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
flag 63559 term 20 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 1 sendAppendEntries PrevLogIndex: 120  PrevLogTerm: 20 leaderCommit: 121 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:121 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 18 119} {4165050386070502422 20 120} {755873427205346468 20 121} {6785649511774716563 20 122} {2497039304232919882 20 123} {4737337299270823425 20 124} {6366465957558677881 20 125} {5142693209290905632 20 126} {5511443272229782782 20 127} {1754746500279646497 20 128} {1811591699506780752 20 129}]
------------------------------------------------------
term 20 Server1 start snapshot! index=129
term 20 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
flag 23445 term 20 leader 1 nextIndex[0]: 130  matchIndex[0]: 129
term 20 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 121  matchIndex[2]: 120
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 20 129}]
------------------------------------------------------
term 20 Server0 start snapshot! index=129
term 20 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2396808412941531133 (index 130) to leader 1
term 20 server 0 not vote for server 2, 日志不够新
term 20 server 1 not vote for server 2, 日志不够新
term 21 server 0 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 server 2 vote for server 1
term 22 server 1 get vote from server 2
term 22 server 1 become leader
------------------------------------------------------
term 22 server 0 vote for server 1
term 22 server 1 get outdate rpc reply from server 0
flag 29913 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 12469 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 131->130
------------------------------------------------------
term 22 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 131->130
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95627 term 22 leader 1 nextIndex[0]: 130  matchIndex[0]: 0
term 22 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 leader 1 nextIndex[2]: 121  matchIndex[2]: 0
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
term 22 server 2 InstallSnapshot success
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
term 22 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 20 rf.commitIndex 129 rf.lastApplied 129
flag 63023 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 69607 term 22 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 22 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
flag 88042 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 38908 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
term 22 server 0 not vote for server 1, 任期不够新
term 22 server 1 get outdate rpc reply from server 0
flag 72574 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 7364 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
flag 47960 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 96982 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1995 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 63761 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
flag 83082 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 11627 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
flag 30777 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 59240 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
term 22 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72816 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 2769 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
flag 84936 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 31667 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
flag 71133 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 25428 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70229 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 60587 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98891 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 33412 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
flag 36666 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 33257 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
term 22 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72897 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 32634 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
flag 4161 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 31723 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30220 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 18236 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
flag 29756 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 96579 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
flag 83260 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 52347 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=129
leader log:
[{snapshot 20 129} {2396808412941531133 20 130}]
------------------------------------------------------
client write log 2396808412941531133 (index 131) to leader 1
term 22 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75321 term 22 leader 1 nextIndex[0]: 131  matchIndex[0]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
flag 3346 term 22 leader 1 nextIndex[2]: 131  matchIndex[2]: 130
term 22 leader 1 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 20 leaderCommit: 129 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131}]
------------------------------------------------------
flag 89494 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 60977 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8523 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 47288 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
term 22 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131}]
------------------------------------------------------
flag 45374 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 76445 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131}]
------------------------------------------------------
flag 54377 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 47194 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 22 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
update nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131}]
------------------------------------------------------
flag 14639 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 67604 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131}]
------------------------------------------------------
flag 70438 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 47704 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 22 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=132
update matchIndex[0]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 63744 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 75713 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 24753 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 34776 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 72165 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 46806 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 22 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 2 vote for server 0
term 23 server 0 get vote from server 2
term 23 server 0 become leader
------------------------------------------------------
flag 13381 term 23 leader 0 nextIndex[1]: 132  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 96845 term 23 leader 0 nextIndex[2]: 132  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=132
update matchIndex[2]=131
update leader CommitIndex=131
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131}]
------------------------------------------------------
flag 61134 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 32501 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
client write log 3679246407559188295 (index 132) to leader 0
flag 91827 term 23 leader 0 nextIndex[1]: 132  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 18554 term 23 leader 0 nextIndex[2]: 132  matchIndex[2]: 131
term 23 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132}]
------------------------------------------------------
flag 69602 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 41160 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 99933 term 23 leader 0 nextIndex[1]: 132  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 32242 term 23 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 23 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=133
update matchIndex[2]=132
update leader CommitIndex=132
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132}]
------------------------------------------------------
client write log 5122720474705501630 (index 133) to leader 0
flag 43955 term 22 leader 1 nextIndex[0]: 132  matchIndex[0]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 27620 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 132->131
------------------------------------------------------
flag 64946 term 23 leader 0 nextIndex[1]: 132  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 132 
------------------------------------------------------
flag 20757 term 23 leader 0 nextIndex[2]: 133  matchIndex[2]: 132
term 23 leader 0 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 23 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
term 22 leader 1 nextIndex[0]: 0  matchIndex[0]: 131
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
flag 10873 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
flag 7813 term 23 leader 0 nextIndex[1]: 132  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 133 
------------------------------------------------------
flag 73624 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
!!!!!!connect server 1
client write log 2793717526267768808 (index 132) to leader 1
term 22 leader 1 nextIndex[0]: 0  matchIndex[0]: 131
term 22 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
flag 968 term 22 leader 1 nextIndex[2]: 132  matchIndex[2]: 131
term 22 leader 1 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 131 
------------------------------------------------------
term 23 server 2 AppendEntries false 领导者任期过期 args.Term 22
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 23 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 23 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67020 term 23 leader 0 nextIndex[1]: 132  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 22 leaderCommit: 133 
------------------------------------------------------
flag 20000 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
term 23 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50350 term 23 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 76482 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
flag 65907 term 23 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 47885 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
flag 6586 term 23 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 44845 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25575 term 23 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 33483 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47085 term 23 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 65168 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
flag 68233 term 23 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 94923 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
flag 89414 term 23 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 47189 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
term 23 server 1 not vote for server 0, 日志不够新
term 23 server 0 get outdate rpc reply from server 1
flag 71909 term 23 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 80415 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 134->133
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 0  matchIndex[1]: 133
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
flag 21494 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 1 InstallSnapshot fail
rf.commitIndex 133 args.LastIncludedIndex 129
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45796 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 133 
------------------------------------------------------
flag 32516 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
flag 90606 term 23 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 30165 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
flag 51479 term 23 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 33039 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29267 term 23 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 55678 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68317 term 23 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 89350 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
flag 96766 term 23 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 78935 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96788 term 23 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 45221 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3588 term 23 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 60156 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
flag 55858 term 23 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 60180 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
flag 4239 term 23 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 71343 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=134
update matchIndex[1]=133
update leader CommitIndex=133
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133}]
------------------------------------------------------
client write log 2793717526267768808 (index 134) to leader 0
flag 10753 term 23 leader 0 nextIndex[1]: 134  matchIndex[1]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 23798 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133} {2793717526267768808 23 134}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133} {2793717526267768808 23 134}]
------------------------------------------------------
flag 90458 term 23 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 56364 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133} {2793717526267768808 23 134}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133} {2793717526267768808 23 134}]
------------------------------------------------------
flag 85458 term 23 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 34148 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133} {2793717526267768808 23 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133} {2793717526267768808 23 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 135->134
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 0  matchIndex[1]: 134
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
flag 95733 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 23 server 1 InstallSnapshot fail
rf.commitIndex 134 args.LastIncludedIndex 129
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133} {2793717526267768808 23 134}]
------------------------------------------------------
flag 67055 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
flag 4539 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133} {2793717526267768808 23 134}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133} {2793717526267768808 23 134}]
------------------------------------------------------
flag 68134 term 23 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 78360 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133} {2793717526267768808 23 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133} {2793717526267768808 23 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 135->134
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 0  matchIndex[1]: 134
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 20
------------------------------------------------------
flag 21045 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 1 InstallSnapshot fail
rf.commitIndex 134 args.LastIncludedIndex 129
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133} {2793717526267768808 23 134}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3619182617541060460 (index 135) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86279 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 134 
------------------------------------------------------
flag 42709 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133} {2793717526267768808 23 134} {3619182617541060460 23 135}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61988 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 135 
------------------------------------------------------
flag 35490 term 23 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 23 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133} {2793717526267768808 23 134} {3619182617541060460 23 135}]
------------------------------------------------------
client write log 1942369907436474249 (index 136) to leader 0
client write log 1130084134682508178 (index 137) to leader 0
client write log 8576289140725912524 (index 138) to leader 0
client write log 1132649183133415085 (index 139) to leader 0
client write log 839634376435505409 (index 140) to leader 0
client write log 4878598505054030547 (index 141) to leader 0
client write log 459868438614406539 (index 142) to leader 0
flag 70765 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 20 leaderCommit: 135 
------------------------------------------------------
flag 19741 term 23 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 23 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 20 129} {2396808412941531133 20 130} {2396808412941531133 22 131} {3679246407559188295 23 132} {5122720474705501630 23 133} {2793717526267768808 23 134} {3619182617541060460 23 135} {1942369907436474249 23 136} {1130084134682508178 23 137} {8576289140725912524 23 138} {1132649183133415085 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142}]
------------------------------------------------------
term 23 Server0 start snapshot! index=139
term 23 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=142
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 130->129
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 0  matchIndex[1]: 129
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 6274 term 23 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142}]
------------------------------------------------------
term 23 Server2 start snapshot! index=139
term 23 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=142
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2634739255951530414 (index 143) to leader 0
term 23 leader 0 nextIndex[1]: 0  matchIndex[1]: 129
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 1104 term 23 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 23 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 2 vote for server 0
term 25 server 1 vote for server 0
term 25 server 0 get vote from server 1
term 25 server 0 become leader
------------------------------------------------------
term 25 server 0 get outdate rpc reply from server 2
flag 26422 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 95457 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
term 25 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 144->143
------------------------------------------------------
term 25 leader 0 nextIndex[1]: 135  matchIndex[1]: 0
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 88239 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 25 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 23 rf.commitIndex 139 rf.lastApplied 139
term 25 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
flag 4429 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 74772 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
flag 19342 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 61135 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
flag 44196 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 68056 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
flag 46164 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 23357 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
flag 41558 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 21739 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67910 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 92745 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
flag 24413 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 37336 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
flag 57417 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 19277 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
term 25 server 0 not vote for server 1, 任期不够新
term 25 server 1 get outdate rpc reply from server 0
flag 89803 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 42292 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
flag 36075 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 84886 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38048 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 58513 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42349 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 28961 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
flag 10722 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 78247 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
flag 66135 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 49666 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
flag 971 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 19105 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
flag 42544 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 34427 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
flag 61210 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 52144 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143}]
------------------------------------------------------
client write log 2634739255951530414 (index 144) to leader 0
flag 88111 term 25 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 35261 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143} {2634739255951530414 25 144}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143} {2634739255951530414 25 144}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30443 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 98471 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143} {2634739255951530414 25 144}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143} {2634739255951530414 25 144}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8994 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 25980 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143} {2634739255951530414 25 144}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143} {2634739255951530414 25 144}]
------------------------------------------------------
flag 41071 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 15337 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143} {2634739255951530414 25 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143} {2634739255951530414 25 144}]
------------------------------------------------------
flag 23849 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 41052 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143} {2634739255951530414 25 144}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143} {2634739255951530414 25 144}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19114 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 88489 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143} {2634739255951530414 25 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143} {2634739255951530414 25 144}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1912121827805365541 (index 145) to leader 0
flag 19591 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 67899 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143} {2634739255951530414 25 144} {1912121827805365541 25 145}]
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65481 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 5588 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143} {2634739255951530414 25 144} {1912121827805365541 25 145}]
------------------------------------------------------
client write log 1084002924954543093 (index 146) to leader 0
client write log 2465661994510803815 (index 147) to leader 0
client write log 4972866786613580580 (index 148) to leader 0
client write log 3338261040422418229 (index 149) to leader 0
client write log 2093820889716726921 (index 150) to leader 0
client write log 4825306851167676575 (index 151) to leader 0
client write log 1969505699075304993 (index 152) to leader 0
client write log 8128835726369540586 (index 153) to leader 0
client write log 5387267976368497819 (index 154) to leader 0
client write log 800367085210490013 (index 155) to leader 0
client write log 7966957540725742656 (index 156) to leader 0
client write log 1270974857615883665 (index 157) to leader 0
client write log 2462333234053578618 (index 158) to leader 0
client write log 6884292717517173171 (index 159) to leader 0
client write log 2545555209277952017 (index 160) to leader 0
flag 86174 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 17386 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 23 139} {839634376435505409 23 140} {4878598505054030547 23 141} {459868438614406539 23 142} {2634739255951530414 23 143} {2634739255951530414 25 144} {1912121827805365541 25 145} {1084002924954543093 25 146} {2465661994510803815 25 147} {4972866786613580580 25 148} {3338261040422418229 25 149} {2093820889716726921 25 150} {4825306851167676575 25 151} {1969505699075304993 25 152} {8128835726369540586 25 153} {5387267976368497819 25 154} {800367085210490013 25 155} {7966957540725742656 25 156} {1270974857615883665 25 157} {2462333234053578618 25 158} {6884292717517173171 25 159} {2545555209277952017 25 160}]
------------------------------------------------------
term 25 Server0 start snapshot! index=149
term 25 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=160
-------------------------------------------------------------
term 25 Server0 start snapshot! index=159
term 25 server0 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=160
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 145->144
------------------------------------------------------
term 25 leader 0 nextIndex[1]: 0  matchIndex[1]: 144
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
flag 97505 term 25 leader 0 nextIndex[2]: 161  matchIndex[2]: 160
term 25 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160}]
------------------------------------------------------
term 25 Server2 start snapshot! index=149
term 25 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=160
-------------------------------------------------------------
term 25 Server2 start snapshot! index=159
term 25 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=160
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6269802189211455792 (index 161) to leader 0
term 25 server 2 not vote for server 1, 日志不够新
term 25 server 0 not vote for server 1, 日志不够新
term 27 server 2 vote for server 0
term 27 server 0 get vote from server 2
term 27 server 0 become leader
------------------------------------------------------
term 27 server 1 vote for server 0
term 27 server 0 get outdate rpc reply from server 1
flag 45580 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 58768 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 162->161
------------------------------------------------------
term 27 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 162->161
------------------------------------------------------
term 27 leader 0 nextIndex[1]: 145  matchIndex[1]: 0
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
flag 97405 term 27 leader 0 nextIndex[2]: 161  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 1 InstallSnapshot success
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 25 rf.commitIndex 159 rf.lastApplied 159
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
flag 7407 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 79738 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
flag 49437 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 73698 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
flag 32123 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 5012 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
flag 53877 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 49520 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
flag 43871 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 73897 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
flag 62638 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 79831 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
flag 63303 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 29470 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
flag 87402 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 77659 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
flag 34540 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 90792 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
flag 82617 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 95025 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
flag 24663 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 56030 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
flag 28117 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 26522 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
flag 20486 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 92258 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
flag 43044 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 65751 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
flag 20501 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 13228 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
flag 81032 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 82289 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
flag 58271 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 57979 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22114 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 96204 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=162
update matchIndex[2]=161
update leader CommitIndex=160
leader log:
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161}]
------------------------------------------------------
client write log 6269802189211455792 (index 162) to leader 0
flag 13970 term 27 leader 0 nextIndex[1]: 162  matchIndex[1]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 60092 term 27 leader 0 nextIndex[2]: 162  matchIndex[2]: 161
term 27 leader 0 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162}]
------------------------------------------------------
flag 59236 term 27 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 17626 term 27 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162}]
------------------------------------------------------
flag 39806 term 27 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 30131 term 27 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162}]
------------------------------------------------------
flag 40009 term 27 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 30709 term 27 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162}]
------------------------------------------------------
flag 53100 term 27 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 84627 term 27 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162}]
------------------------------------------------------
flag 69019 term 27 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 24342 term 27 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162}]
------------------------------------------------------
!!!!!!diconnect server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27084 term 27 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 61524 term 27 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 65246 term 27 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 68432 term 27 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 75650 term 27 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 31428 term 27 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 66351 term 27 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 14163 term 27 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 1 vote for server 2
term 28 server 2 get vote from server 1
term 28 server 2 become leader
------------------------------------------------------
flag 52321 term 28 leader 2 nextIndex[0]: 163  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 59486 term 28 leader 2 nextIndex[1]: 163  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=163
update matchIndex[1]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162}]
------------------------------------------------------
flag 6346 term 27 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 35656 term 27 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
client write log 7642946024210911448 (index 163) to leader 2
flag 94962 term 28 leader 2 nextIndex[0]: 163  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 36910 term 28 leader 2 nextIndex[1]: 163  matchIndex[1]: 162
term 28 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162} {7642946024210911448 28 163}]
------------------------------------------------------
flag 6031 term 27 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 29616 term 27 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 30041 term 28 leader 2 nextIndex[0]: 163  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 163 
------------------------------------------------------
flag 85049 term 28 leader 2 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 2 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=164
update matchIndex[1]=163
update leader CommitIndex=163
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162} {7642946024210911448 28 163}]
------------------------------------------------------
flag 59581 term 27 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 23921 term 27 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
client write log 5547484928350217208 (index 164) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72184 term 28 leader 2 nextIndex[0]: 163  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 163 
------------------------------------------------------
flag 73186 term 28 leader 2 nextIndex[1]: 164  matchIndex[1]: 163
term 28 leader 2 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162} {7642946024210911448 28 163} {5547484928350217208 28 164}]
------------------------------------------------------
flag 88651 term 27 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 28823 term 27 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 not vote for server 1, 任期不够新
term 28 server 1 get outdate rpc reply from server 2
flag 53761 term 28 leader 2 nextIndex[0]: 163  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 164 
------------------------------------------------------
flag 27977 term 28 leader 2 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=164
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162} {7642946024210911448 28 163} {5547484928350217208 28 164}]
------------------------------------------------------
flag 5237 term 27 leader 0 nextIndex[1]: 163  matchIndex[1]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
flag 43157 term 27 leader 0 nextIndex[2]: 163  matchIndex[2]: 162
term 27 leader 0 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 162 
------------------------------------------------------
!!!!!!connect server 0
client write log 996851396719483557 (index 165) to leader 2
flag 95730 term 28 leader 2 nextIndex[0]: 163  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 27 leaderCommit: 164 
------------------------------------------------------
flag 40524 term 28 leader 2 nextIndex[1]: 165  matchIndex[1]: 164
term 28 leader 2 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162} {7642946024210911448 28 163} {5547484928350217208 28 164} {996851396719483557 28 165}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162} {7642946024210911448 28 163} {5547484928350217208 28 164} {996851396719483557 28 165}]
------------------------------------------------------
term 28 server 0 not vote for server 2, 日志不够新
term 28 server 2 get outdate rpc reply from server 0
flag 23038 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 92736 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162} {7642946024210911448 28 163} {5547484928350217208 28 164} {996851396719483557 28 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162} {7642946024210911448 28 163} {5547484928350217208 28 164} {996851396719483557 28 165}]
------------------------------------------------------
flag 83191 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 44344 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162} {7642946024210911448 28 163} {5547484928350217208 28 164} {996851396719483557 28 165}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162} {7642946024210911448 28 163} {5547484928350217208 28 164} {996851396719483557 28 165}]
------------------------------------------------------
flag 51834 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 93804 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162} {7642946024210911448 28 163} {5547484928350217208 28 164} {996851396719483557 28 165}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162} {7642946024210911448 28 163} {5547484928350217208 28 164} {996851396719483557 28 165}]
------------------------------------------------------
flag 36312 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 96913 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162} {7642946024210911448 28 163} {5547484928350217208 28 164} {996851396719483557 28 165}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162} {7642946024210911448 28 163} {5547484928350217208 28 164} {996851396719483557 28 165}]
------------------------------------------------------
flag 82817 term 28 leader 2 nextIndex[0]: 166  matchIndex[0]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 73788 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162} {7642946024210911448 28 163} {5547484928350217208 28 164} {996851396719483557 28 165}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=166
update matchIndex[0]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162} {7642946024210911448 28 163} {5547484928350217208 28 164} {996851396719483557 28 165}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 166->165
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 0  matchIndex[0]: 165
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
flag 4791 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162} {7642946024210911448 28 163} {5547484928350217208 28 164} {996851396719483557 28 165}]
------------------------------------------------------
term 28 server 0 InstallSnapshot fail
rf.commitIndex 165 args.LastIncludedIndex 159
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
!!!!!!diconnect server 0
client write log 8227723227564833301 (index 166) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33210 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 41632 term 28 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 28 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162} {7642946024210911448 28 163} {5547484928350217208 28 164} {996851396719483557 28 165} {8227723227564833301 28 166}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87683 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 166 
------------------------------------------------------
flag 36885 term 28 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162} {7642946024210911448 28 163} {5547484928350217208 28 164} {996851396719483557 28 165} {8227723227564833301 28 166}]
------------------------------------------------------
client write log 55196569729227311 (index 167) to leader 2
client write log 236419425712146264 (index 168) to leader 2
client write log 1570017716895054653 (index 169) to leader 2
client write log 3612359974975033139 (index 170) to leader 2
client write log 6226567397223074898 (index 171) to leader 2
client write log 2755297775767151798 (index 172) to leader 2
client write log 3841170725003752895 (index 173) to leader 2
client write log 5070171599330261819 (index 174) to leader 2
client write log 2247591250125055138 (index 175) to leader 2
client write log 1465947297299821491 (index 176) to leader 2
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 90058 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 166 
------------------------------------------------------
flag 8762 term 28 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 28 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 25 159} {2545555209277952017 25 160} {6269802189211455792 25 161} {6269802189211455792 27 162} {7642946024210911448 28 163} {5547484928350217208 28 164} {996851396719483557 28 165} {8227723227564833301 28 166} {55196569729227311 28 167} {236419425712146264 28 168} {1570017716895054653 28 169} {3612359974975033139 28 170} {6226567397223074898 28 171} {2755297775767151798 28 172} {3841170725003752895 28 173} {5070171599330261819 28 174} {2247591250125055138 28 175} {1465947297299821491 28 176}]
------------------------------------------------------
term 28 Server2 start snapshot! index=169
term 28 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=176
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 160->159
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 0  matchIndex[0]: 159
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 28382 term 28 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {3612359974975033139 28 170} {6226567397223074898 28 171} {2755297775767151798 28 172} {3841170725003752895 28 173} {5070171599330261819 28 174} {2247591250125055138 28 175} {1465947297299821491 28 176}]
------------------------------------------------------
term 28 Server1 start snapshot! index=169
term 28 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=176
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6614312741469079817 (index 177) to leader 2
term 28 leader 2 nextIndex[0]: 0  matchIndex[0]: 159
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 19547 term 28 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 29 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {3612359974975033139 28 170} {6226567397223074898 28 171} {2755297775767151798 28 172} {3841170725003752895 28 173} {5070171599330261819 28 174} {2247591250125055138 28 175} {1465947297299821491 28 176} {6614312741469079817 28 177}]
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 1 vote for server 2
term 30 server 2 get vote from server 1
term 30 server 2 become leader
------------------------------------------------------
term 30 server 0 vote for server 2
term 30 server 2 get outdate rpc reply from server 0
flag 65635 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 45155 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {3612359974975033139 28 170} {6226567397223074898 28 171} {2755297775767151798 28 172} {3841170725003752895 28 173} {5070171599330261819 28 174} {2247591250125055138 28 175} {1465947297299821491 28 176} {6614312741469079817 28 177}]
------------------------------------------------------
term 30 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 178->177
------------------------------------------------------
term 30 leader 2 nextIndex[0]: 166  matchIndex[0]: 0
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 45775 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
term 30 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 28 rf.commitIndex 169 rf.lastApplied 169
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {3612359974975033139 28 170} {6226567397223074898 28 171} {2755297775767151798 28 172} {3841170725003752895 28 173} {5070171599330261819 28 174} {2247591250125055138 28 175} {1465947297299821491 28 176} {6614312741469079817 28 177}]
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
flag 42246 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 87515 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {3612359974975033139 28 170} {6226567397223074898 28 171} {2755297775767151798 28 172} {3841170725003752895 28 173} {5070171599330261819 28 174} {2247591250125055138 28 175} {1465947297299821491 28 176} {6614312741469079817 28 177}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {3612359974975033139 28 170} {6226567397223074898 28 171} {2755297775767151798 28 172} {3841170725003752895 28 173} {5070171599330261819 28 174} {2247591250125055138 28 175} {1465947297299821491 28 176} {6614312741469079817 28 177}]
------------------------------------------------------
flag 23562 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 85149 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {3612359974975033139 28 170} {6226567397223074898 28 171} {2755297775767151798 28 172} {3841170725003752895 28 173} {5070171599330261819 28 174} {2247591250125055138 28 175} {1465947297299821491 28 176} {6614312741469079817 28 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {3612359974975033139 28 170} {6226567397223074898 28 171} {2755297775767151798 28 172} {3841170725003752895 28 173} {5070171599330261819 28 174} {2247591250125055138 28 175} {1465947297299821491 28 176} {6614312741469079817 28 177}]
------------------------------------------------------
flag 30547 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 13579 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {3612359974975033139 28 170} {6226567397223074898 28 171} {2755297775767151798 28 172} {3841170725003752895 28 173} {5070171599330261819 28 174} {2247591250125055138 28 175} {1465947297299821491 28 176} {6614312741469079817 28 177}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {3612359974975033139 28 170} {6226567397223074898 28 171} {2755297775767151798 28 172} {3841170725003752895 28 173} {5070171599330261819 28 174} {2247591250125055138 28 175} {1465947297299821491 28 176} {6614312741469079817 28 177}]
------------------------------------------------------
flag 43900 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 53987 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {3612359974975033139 28 170} {6226567397223074898 28 171} {2755297775767151798 28 172} {3841170725003752895 28 173} {5070171599330261819 28 174} {2247591250125055138 28 175} {1465947297299821491 28 176} {6614312741469079817 28 177}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {3612359974975033139 28 170} {6226567397223074898 28 171} {2755297775767151798 28 172} {3841170725003752895 28 173} {5070171599330261819 28 174} {2247591250125055138 28 175} {1465947297299821491 28 176} {6614312741469079817 28 177}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36766 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 4975 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {3612359974975033139 28 170} {6226567397223074898 28 171} {2755297775767151798 28 172} {3841170725003752895 28 173} {5070171599330261819 28 174} {2247591250125055138 28 175} {1465947297299821491 28 176} {6614312741469079817 28 177}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {3612359974975033139 28 170} {6226567397223074898 28 171} {2755297775767151798 28 172} {3841170725003752895 28 173} {5070171599330261819 28 174} {2247591250125055138 28 175} {1465947297299821491 28 176} {6614312741469079817 28 177}]
------------------------------------------------------
flag 44717 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 88870 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {3612359974975033139 28 170} {6226567397223074898 28 171} {2755297775767151798 28 172} {3841170725003752895 28 173} {5070171599330261819 28 174} {2247591250125055138 28 175} {1465947297299821491 28 176} {6614312741469079817 28 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {3612359974975033139 28 170} {6226567397223074898 28 171} {2755297775767151798 28 172} {3841170725003752895 28 173} {5070171599330261819 28 174} {2247591250125055138 28 175} {1465947297299821491 28 176} {6614312741469079817 28 177}]
------------------------------------------------------
flag 72354 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 59302 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {3612359974975033139 28 170} {6226567397223074898 28 171} {2755297775767151798 28 172} {3841170725003752895 28 173} {5070171599330261819 28 174} {2247591250125055138 28 175} {1465947297299821491 28 176} {6614312741469079817 28 177}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {3612359974975033139 28 170} {6226567397223074898 28 171} {2755297775767151798 28 172} {3841170725003752895 28 173} {5070171599330261819 28 174} {2247591250125055138 28 175} {1465947297299821491 28 176} {6614312741469079817 28 177}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2114091151623001372 (index 178) to leader 2
flag 67242 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 38511 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {3612359974975033139 28 170} {6226567397223074898 28 171} {2755297775767151798 28 172} {3841170725003752895 28 173} {5070171599330261819 28 174} {2247591250125055138 28 175} {1465947297299821491 28 176} {6614312741469079817 28 177} {2114091151623001372 30 178}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71749 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 44745 term 30 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {3612359974975033139 28 170} {6226567397223074898 28 171} {2755297775767151798 28 172} {3841170725003752895 28 173} {5070171599330261819 28 174} {2247591250125055138 28 175} {1465947297299821491 28 176} {6614312741469079817 28 177} {2114091151623001372 30 178}]
------------------------------------------------------
client write log 2163249803789888813 (index 179) to leader 2
client write log 3403336432714087222 (index 180) to leader 2
client write log 8173423292642484823 (index 181) to leader 2
client write log 681760541839690365 (index 182) to leader 2
client write log 1225750154315341157 (index 183) to leader 2
client write log 2187517509902382244 (index 184) to leader 2
client write log 952027231455857762 (index 185) to leader 2
client write log 1820752628776886830 (index 186) to leader 2
client write log 7803072553353639152 (index 187) to leader 2
client write log 5272747696542192160 (index 188) to leader 2
client write log 5883400011645494531 (index 189) to leader 2
client write log 3883861945275735709 (index 190) to leader 2
flag 46037 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 93601 term 30 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 28 169} {3612359974975033139 28 170} {6226567397223074898 28 171} {2755297775767151798 28 172} {3841170725003752895 28 173} {5070171599330261819 28 174} {2247591250125055138 28 175} {1465947297299821491 28 176} {6614312741469079817 28 177} {2114091151623001372 30 178} {2163249803789888813 30 179} {3403336432714087222 30 180} {8173423292642484823 30 181} {681760541839690365 30 182} {1225750154315341157 30 183} {2187517509902382244 30 184} {952027231455857762 30 185} {1820752628776886830 30 186} {7803072553353639152 30 187} {5272747696542192160 30 188} {5883400011645494531 30 189} {3883861945275735709 30 190}]
------------------------------------------------------
term 30 Server2 start snapshot! index=179
term 30 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=190
-------------------------------------------------------------
term 30 Server2 start snapshot! index=189
term 30 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 14009 term 30 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 30 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190}]
------------------------------------------------------
term 30 Server1 start snapshot! index=179
term 30 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=190
-------------------------------------------------------------
term 30 Server1 start snapshot! index=189
term 30 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1413240761497859920 (index 191) to leader 2
term 30 server 2 not vote for server 0, 日志不够新
term 30 server 1 not vote for server 0, 日志不够新
term 32 server 0 vote for server 2
term 32 server 2 get vote from server 0
term 32 server 2 become leader
------------------------------------------------------
term 32 server 1 vote for server 2
term 32 server 2 get outdate rpc reply from server 1
flag 82089 term 32 leader 2 nextIndex[0]: 192  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 45981 term 32 leader 2 nextIndex[1]: 192  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 32 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 192->191
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 192->191
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 2 nextIndex[0]: 178  matchIndex[0]: 0
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 7462 term 32 leader 2 nextIndex[1]: 191  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 32 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 30 rf.commitIndex 189 rf.lastApplied 189
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43499 term 32 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 37682 term 32 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
flag 66307 term 32 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 92825 term 32 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
flag 42931 term 32 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 75111 term 32 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
term 32 server 1 not vote for server 0, 任期不够新
term 32 server 0 get outdate rpc reply from server 1
flag 23417 term 32 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 16423 term 32 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82885 term 32 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 28801 term 32 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87521 term 32 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 49581 term 32 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
term 32 server 2 not vote for server 0, 任期不够新
term 32 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47735 term 32 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 58772 term 32 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
flag 40530 term 32 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 5864 term 32 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
flag 28701 term 32 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 41050 term 32 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39546 term 32 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 93576 term 32 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22673 term 32 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 99147 term 32 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73153 term 32 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 51082 term 32 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37705 term 32 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 3551 term 32 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
flag 51588 term 32 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 33515 term 32 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
flag 96291 term 32 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 64769 term 32 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72461 term 32 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 35346 term 32 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69260 term 32 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 89555 term 32 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
flag 92185 term 32 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 7873 term 32 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=192
update matchIndex[0]=191
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191}]
------------------------------------------------------
client write log 1413240761497859920 (index 192) to leader 2
flag 98259 term 32 leader 2 nextIndex[0]: 192  matchIndex[0]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
flag 87508 term 32 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 32 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 30 leaderCommit: 190 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191} {1413240761497859920 32 192}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191} {1413240761497859920 32 192}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81779 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 90981 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191} {1413240761497859920 32 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191} {1413240761497859920 32 192}]
------------------------------------------------------
flag 55348 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 56275 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191} {1413240761497859920 32 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191} {1413240761497859920 32 192}]
------------------------------------------------------
flag 79937 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 55597 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191} {1413240761497859920 32 192}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191} {1413240761497859920 32 192}]
------------------------------------------------------
flag 84894 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 92769 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191} {1413240761497859920 32 192}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191} {1413240761497859920 32 192}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99246 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 50207 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191} {1413240761497859920 32 192}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191} {1413240761497859920 32 192}]
------------------------------------------------------
flag 45495 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 12154 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191} {1413240761497859920 32 192}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191} {1413240761497859920 32 192}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30732 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 89309 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47298 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 7161 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65158 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 71763 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 vote for server 0
term 33 server 0 get vote from server 1
term 33 server 0 become leader
------------------------------------------------------
flag 91285 term 33 leader 0 nextIndex[1]: 193  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 50544 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191} {1413240761497859920 32 192}]
------------------------------------------------------
flag 70327 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 72095 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
client write log 6918493104414205354 (index 193) to leader 0
flag 54856 term 33 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 52681 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191} {1413240761497859920 32 192} {6918493104414205354 33 193}]
------------------------------------------------------
flag 55931 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 90755 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37433 term 33 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 193 
------------------------------------------------------
flag 15768 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191} {1413240761497859920 32 192} {6918493104414205354 33 193}]
------------------------------------------------------
client write log 1131776213917022298 (index 194) to leader 0
client write log 4179409065464878436 (index 195) to leader 0
client write log 1366501839751008631 (index 196) to leader 0
client write log 7276199025767919391 (index 197) to leader 0
client write log 557591702647211481 (index 198) to leader 0
client write log 5853482909311895422 (index 199) to leader 0
client write log 6795678029097168062 (index 200) to leader 0
client write log 6380537995700109525 (index 201) to leader 0
client write log 3067253556647545507 (index 202) to leader 0
client write log 3177736655733279688 (index 203) to leader 0
flag 62171 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 93040 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 74737 term 33 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 193 
------------------------------------------------------
flag 35458 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 30 189} {3883861945275735709 30 190} {1413240761497859920 30 191} {1413240761497859920 32 192} {6918493104414205354 33 193} {1131776213917022298 33 194} {4179409065464878436 33 195} {1366501839751008631 33 196} {7276199025767919391 33 197} {557591702647211481 33 198} {5853482909311895422 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
term 33 Server0 start snapshot! index=199
term 33 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=203
-------------------------------------------------------------
flag 25591 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 69246 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93031 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
term 33 Server1 start snapshot! index=199
term 33 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=203
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24334 term 32 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 51081 term 32 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 32 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
!!!!!!connect server 2
client write log 6151961563934356327 (index 193) to leader 2
flag 65666 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 33 rf.commitIndex 199 rf.lastApplied 199
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77149 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 12053 term 33 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 33 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7807 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 50441 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29408 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 64703 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17860 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 47803 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
term 33 server 2 not vote for server 0, 日志不够新
term 33 server 0 get outdate rpc reply from server 2
flag 83057 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 35292 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 204->203
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14712 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 leader 0 nextIndex[2]: 0  matchIndex[2]: 203
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 2 InstallSnapshot fail
rf.commitIndex 203 args.LastIncludedIndex 199
------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
flag 8105 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 3290 term 33 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 33 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
flag 29458 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 1710 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64850 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 175 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 204->203
------------------------------------------------------
flag 62524 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 leader 0 nextIndex[2]: 0  matchIndex[2]: 203
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 2 InstallSnapshot fail
rf.commitIndex 203 args.LastIncludedIndex 199
------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14648 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 8476 term 33 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 33 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
flag 294 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 50329 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
flag 64357 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 71858 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
flag 68826 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 66771 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
update nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
flag 15889 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 44112 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5212 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 17295 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77290 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 51181 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
flag 36982 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 49081 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
flag 53740 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 61962 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203}]
------------------------------------------------------
client write log 6151961563934356327 (index 204) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28267 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
flag 32701 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 33 leaderCommit: 203 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203} {6151961563934356327 33 204}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203} {6151961563934356327 33 204}]
------------------------------------------------------
flag 32398 term 33 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 62161 term 33 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203} {6151961563934356327 33 204}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203} {6151961563934356327 33 204}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45729 term 33 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 91815 term 33 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203} {6151961563934356327 33 204}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203} {6151961563934356327 33 204}]
------------------------------------------------------
flag 29544 term 33 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 1282 term 33 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203} {6151961563934356327 33 204}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203} {6151961563934356327 33 204}]
------------------------------------------------------
flag 70640 term 33 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 58953 term 33 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203} {6151961563934356327 33 204}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203} {6151961563934356327 33 204}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60005 term 33 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 44081 term 33 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203} {6151961563934356327 33 204}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203} {6151961563934356327 33 204}]
------------------------------------------------------
flag 11799 term 33 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 60093 term 33 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203} {6151961563934356327 33 204}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203} {6151961563934356327 33 204}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2142131223456859050 (index 205) to leader 0
flag 64569 term 33 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 87666 term 33 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203} {6151961563934356327 33 204} {2142131223456859050 33 205}]
------------------------------------------------------
flag 72938 term 33 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 67129 term 33 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 33 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203} {6151961563934356327 33 204} {2142131223456859050 33 205}]
------------------------------------------------------
client write log 5826157586454748993 (index 206) to leader 0
client write log 3341009658378975659 (index 207) to leader 0
client write log 3006568185685505445 (index 208) to leader 0
client write log 4476529438121243465 (index 209) to leader 0
client write log 7293314138399942593 (index 210) to leader 0
client write log 6655545347115896445 (index 211) to leader 0
client write log 600010534495704457 (index 212) to leader 0
client write log 1668486974072649600 (index 213) to leader 0
client write log 8178699600060106493 (index 214) to leader 0
client write log 6730815792531574732 (index 215) to leader 0
client write log 6727898211679948746 (index 216) to leader 0
flag 46290 term 33 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 49993 term 33 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 33 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 199} {6795678029097168062 33 200} {6380537995700109525 33 201} {3067253556647545507 33 202} {3177736655733279688 33 203} {6151961563934356327 33 204} {2142131223456859050 33 205} {5826157586454748993 33 206} {3341009658378975659 33 207} {3006568185685505445 33 208} {4476529438121243465 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216}]
------------------------------------------------------
term 33 Server0 start snapshot! index=209
term 33 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=216
-------------------------------------------------------------
term 33 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 93540 term 33 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216}]
------------------------------------------------------
term 33 Server2 start snapshot! index=209
term 33 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=216
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2255210269916643918 (index 217) to leader 0
term 33 server 2 not vote for server 1, 日志不够新
term 33 server 0 not vote for server 1, 日志不够新
term 35 server 2 vote for server 0
term 35 server 0 get vote from server 2
term 35 server 0 become leader
------------------------------------------------------
term 35 server 1 vote for server 0
term 35 server 0 get outdate rpc reply from server 1
flag 21026 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 89525 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 218->217
------------------------------------------------------
term 35 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 218->217
------------------------------------------------------
term 35 leader 0 nextIndex[1]: 205  matchIndex[1]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 7932 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 33 rf.commitIndex 209 rf.lastApplied 209
flag 36183 term 35 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 45298 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22973 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 83370 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
flag 14880 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 28585 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
flag 29584 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 88368 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
flag 14193 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 5717 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
flag 60932 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 96979 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
flag 45420 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 30795 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
flag 89109 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 31786 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
term 35 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31440 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 91679 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
flag 43279 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 42717 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
flag 26111 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 66 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
flag 85855 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 38448 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
flag 37886 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 40513 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
flag 67100 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 23271 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
flag 62764 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 89291 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72247 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 4314 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
flag 64710 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 94675 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217}]
------------------------------------------------------
flag 3456 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 37292 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
client write log 2255210269916643918 (index 218) to leader 0
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217} {2255210269916643918 35 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217} {2255210269916643918 35 218}]
------------------------------------------------------
flag 5168 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 18825 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217} {2255210269916643918 35 218}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217} {2255210269916643918 35 218}]
------------------------------------------------------
flag 65479 term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 1847 term 35 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217} {2255210269916643918 35 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217} {2255210269916643918 35 218}]
------------------------------------------------------
flag 65390 term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 21117 term 35 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217} {2255210269916643918 35 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217} {2255210269916643918 35 218}]
------------------------------------------------------
flag 45230 term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 80669 term 35 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217} {2255210269916643918 35 218}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217} {2255210269916643918 35 218}]
------------------------------------------------------
flag 38576 term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 18972 term 35 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217} {2255210269916643918 35 218}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217} {2255210269916643918 35 218}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71422 term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 67323 term 35 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217} {2255210269916643918 35 218}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217} {2255210269916643918 35 218}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1791936406439668934 (index 219) to leader 0
flag 86478 term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 58007 term 35 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 33 209} {7293314138399942593 33 210} {6655545347115896445 33 211} {600010534495704457 33 212} {1668486974072649600 33 213} {8178699600060106493 33 214} {6730815792531574732 33 215} {6727898211679948746 33 216} {2255210269916643918 33 217} {2255210269916643918 35 218} {1791936406439668934 35 219}]
------------------------------------------------------
term 35 Server0 start snapshot! index=219
term 35 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 35
------------------------------------------------------
flag 47069 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 35 219}]
------------------------------------------------------
term 35 Server2 start snapshot! index=219
term 35 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
client write log 4937839996587078498 (index 220) to leader 0
client write log 3211674975723525418 (index 221) to leader 0
client write log 1108416463805689731 (index 222) to leader 0
client write log 7679015524817244464 (index 223) to leader 0
client write log 6229218806915217544 (index 224) to leader 0
client write log 8562046989457039953 (index 225) to leader 0
client write log 8141321933969955779 (index 226) to leader 0
client write log 4454468091022270425 (index 227) to leader 0
client write log 7201287312627209951 (index 228) to leader 0
term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 35
------------------------------------------------------
flag 3329 term 35 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 35 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 219 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 35 219} {4937839996587078498 35 220} {3211674975723525418 35 221} {1108416463805689731 35 222} {7679015524817244464 35 223} {6229218806915217544 35 224} {8562046989457039953 35 225} {8141321933969955779 35 226} {4454468091022270425 35 227} {7201287312627209951 35 228}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 35
------------------------------------------------------
flag 17480 term 35 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 35 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 35 leaderCommit: 228 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 35 219} {4937839996587078498 35 220} {3211674975723525418 35 221} {1108416463805689731 35 222} {7679015524817244464 35 223} {6229218806915217544 35 224} {8562046989457039953 35 225} {8141321933969955779 35 226} {4454468091022270425 35 227} {7201287312627209951 35 228}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5365542910881776911 (index 229) to leader 0
term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 35
------------------------------------------------------
flag 48255 term 35 leader 0 nextIndex[2]: 229  matchIndex[2]: 228
term 35 leader 0 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 35 leaderCommit: 228 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 35 219} {4937839996587078498 35 220} {3211674975723525418 35 221} {1108416463805689731 35 222} {7679015524817244464 35 223} {6229218806915217544 35 224} {8562046989457039953 35 225} {8141321933969955779 35 226} {4454468091022270425 35 227} {7201287312627209951 35 228} {5365542910881776911 35 229}]
------------------------------------------------------
term 36 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 Server0 start snapshot! index=229
term 36 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 server 2 vote for server 0
term 37 server 0 get vote from server 2
term 37 server 0 become leader
------------------------------------------------------
term 37 server 1 vote for server 0
term 37 server 0 get outdate rpc reply from server 1
flag 87368 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 31477 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 230->229
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 35 229}]
------------------------------------------------------
term 37 Server2 start snapshot! index=229
term 37 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 0 nextIndex[1]: 219  matchIndex[1]: 0
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
flag 88083 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 35 229}]
------------------------------------------------------
term 37 server 1 InstallSnapshot success
------------------------------------------------------
term 37 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 35 rf.commitIndex 229 rf.lastApplied 229
term 37 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82943 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 88633 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 35 229}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 35 229}]
------------------------------------------------------
flag 17944 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 54241 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 35 229}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 35 229}]
------------------------------------------------------
flag 6512 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 92978 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 35 229}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 35 229}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53171 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 63270 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 35 229}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 35 229}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 26532 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 5537 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 50431 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 69982 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 6490 term 37 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 73939 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 38 server 2 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
flag 23722 term 38 leader 1 nextIndex[0]: 230  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 76672 term 38 leader 1 nextIndex[2]: 230  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 35 229}]
------------------------------------------------------
client write log 3402129281650137331 (index 230) to leader 1
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 230->229
------------------------------------------------------
term 37 leader 0 nextIndex[1]: 0  matchIndex[1]: 229
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
flag 6521 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 5968 term 38 leader 1 nextIndex[0]: 230  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 7221 term 38 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {3402129281650137331 38 230}]
------------------------------------------------------
term 37 leader 0 nextIndex[1]: 0  matchIndex[1]: 229
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
flag 7053 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 91353 term 38 leader 1 nextIndex[0]: 230  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
flag 98336 term 38 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=230
leader log:
[{snapshot 35 229} {3402129281650137331 38 230}]
------------------------------------------------------
client write log 207443211915048280 (index 231) to leader 1
client write log 4991273107694831542 (index 232) to leader 1
client write log 8798363752538439280 (index 233) to leader 1
client write log 6083057129028662603 (index 234) to leader 1
client write log 1303906939854715060 (index 235) to leader 1
client write log 8189473019356152951 (index 236) to leader 1
client write log 4398114027899803724 (index 237) to leader 1
client write log 8325121394690839927 (index 238) to leader 1
client write log 8739335965987837471 (index 239) to leader 1
client write log 7990430942431527582 (index 240) to leader 1
client write log 7715941463789416288 (index 241) to leader 1
client write log 5846612674254664336 (index 242) to leader 1
term 37 leader 0 nextIndex[1]: 0  matchIndex[1]: 229
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
flag 12345 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
flag 93070 term 38 leader 1 nextIndex[0]: 230  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 230 
------------------------------------------------------
flag 18326 term 38 leader 1 nextIndex[2]: 231  matchIndex[2]: 230
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 35 229} {3402129281650137331 38 230} {207443211915048280 38 231} {4991273107694831542 38 232} {8798363752538439280 38 233} {6083057129028662603 38 234} {1303906939854715060 38 235} {8189473019356152951 38 236} {4398114027899803724 38 237} {8325121394690839927 38 238} {8739335965987837471 38 239} {7990430942431527582 38 240} {7715941463789416288 38 241} {5846612674254664336 38 242}]
------------------------------------------------------
term 38 Server1 start snapshot! index=239
term 38 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=242
-------------------------------------------------------------
term 37 leader 0 nextIndex[1]: 0  matchIndex[1]: 229
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
flag 99321 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 38 leader 1 nextIndex[0]: 230  matchIndex[0]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 68326 term 38 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 38 leaderCommit: 242 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 38 239} {7990430942431527582 38 240} {7715941463789416288 38 241} {5846612674254664336 38 242}]
------------------------------------------------------
term 38 Server2 start snapshot! index=239
term 38 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=242
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2122749638319606640 (index 243) to leader 1
term 37 leader 0 nextIndex[1]: 0  matchIndex[1]: 229
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 35
------------------------------------------------------
flag 22860 term 37 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 37 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 35 leaderCommit: 229 
------------------------------------------------------
term 38 server 2 AppendEntries false 领导者任期过期 args.Term 37
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 38 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 leader 1 nextIndex[0]: 230  matchIndex[0]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 43728 term 38 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 38 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 38 leaderCommit: 242 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 38 239} {7990430942431527582 38 240} {7715941463789416288 38 241} {5846612674254664336 38 242} {2122749638319606640 38 243}]
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
term 38 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 38 rf.commitIndex 239 rf.lastApplied 239
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 240->239
------------------------------------------------------
term 38 server 2 not vote for server 1, 任期不够新
term 38 server 1 get outdate rpc reply from server 2
term 38 leader 1 nextIndex[0]: 0  matchIndex[0]: 239
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 38
------------------------------------------------------
flag 9603 term 38 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 38 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 38 239} {7990430942431527582 38 240} {7715941463789416288 38 241} {5846612674254664336 38 242} {2122749638319606640 38 243}]
------------------------------------------------------
term 38 server 0 InstallSnapshot fail
rf.commitIndex 239 args.LastIncludedIndex 239
------------------------------------------------------
term 38 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9284 term 38 leader 1 nextIndex[0]: 240  matchIndex[0]: 239
term 38 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 15795 term 38 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 38 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 38 239} {7990430942431527582 38 240} {7715941463789416288 38 241} {5846612674254664336 38 242} {2122749638319606640 38 243}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 38 239} {7990430942431527582 38 240} {7715941463789416288 38 241} {5846612674254664336 38 242} {2122749638319606640 38 243}]
------------------------------------------------------
flag 21275 term 38 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 38 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 41779 term 38 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 38 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 38 239} {7990430942431527582 38 240} {7715941463789416288 38 241} {5846612674254664336 38 242} {2122749638319606640 38 243}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 38 239} {7990430942431527582 38 240} {7715941463789416288 38 241} {5846612674254664336 38 242} {2122749638319606640 38 243}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81135 term 38 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 38 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 83656 term 38 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 38 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 38 239} {7990430942431527582 38 240} {7715941463789416288 38 241} {5846612674254664336 38 242} {2122749638319606640 38 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 38 239} {7990430942431527582 38 240} {7715941463789416288 38 241} {5846612674254664336 38 242} {2122749638319606640 38 243}]
------------------------------------------------------
flag 59486 term 38 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 38 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 21355 term 38 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 38 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 38 239} {7990430942431527582 38 240} {7715941463789416288 38 241} {5846612674254664336 38 242} {2122749638319606640 38 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 38 239} {7990430942431527582 38 240} {7715941463789416288 38 241} {5846612674254664336 38 242} {2122749638319606640 38 243}]
------------------------------------------------------
flag 20588 term 38 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 38 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 42708 term 38 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 38 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 38 239} {7990430942431527582 38 240} {7715941463789416288 38 241} {5846612674254664336 38 242} {2122749638319606640 38 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 38 239} {7990430942431527582 38 240} {7715941463789416288 38 241} {5846612674254664336 38 242} {2122749638319606640 38 243}]
------------------------------------------------------
flag 71535 term 38 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 38 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 53974 term 38 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 38 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 38 239} {7990430942431527582 38 240} {7715941463789416288 38 241} {5846612674254664336 38 242} {2122749638319606640 38 243}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 38 239} {7990430942431527582 38 240} {7715941463789416288 38 241} {5846612674254664336 38 242} {2122749638319606640 38 243}]
------------------------------------------------------
flag 2667 term 38 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 38 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 42065 term 38 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 38 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 38 239} {7990430942431527582 38 240} {7715941463789416288 38 241} {5846612674254664336 38 242} {2122749638319606640 38 243}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 38 239} {7990430942431527582 38 240} {7715941463789416288 38 241} {5846612674254664336 38 242} {2122749638319606640 38 243}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2015000686807956840 (index 244) to leader 1
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44544 term 38 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 38 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
flag 40598 term 38 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 38 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 243 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 38 239} {7990430942431527582 38 240} {7715941463789416288 38 241} {5846612674254664336 38 242} {2122749638319606640 38 243} {2015000686807956840 38 244}]
------------------------------------------------------
flag 97124 term 38 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 38 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 38 leaderCommit: 244 
------------------------------------------------------
flag 75196 term 38 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 38 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 244 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 38 239} {7990430942431527582 38 240} {7715941463789416288 38 241} {5846612674254664336 38 242} {2122749638319606640 38 243} {2015000686807956840 38 244}]
------------------------------------------------------
client write log 2614894152054889355 (index 245) to leader 1
client write log 2728978920937600699 (index 246) to leader 1
client write log 8206079640932884890 (index 247) to leader 1
client write log 6168284664950208624 (index 248) to leader 1
client write log 4714424277164030865 (index 249) to leader 1
client write log 6078054386802151998 (index 250) to leader 1
client write log 8929667512030370359 (index 251) to leader 1
client write log 1093663560667815530 (index 252) to leader 1
client write log 661121240667721831 (index 253) to leader 1
client write log 7382679811759637075 (index 254) to leader 1
client write log 3443695081198307431 (index 255) to leader 1
client write log 8354265621900481230 (index 256) to leader 1
client write log 5456003985552954650 (index 257) to leader 1
client write log 2838385788542088336 (index 258) to leader 1
client write log 1441202285567153216 (index 259) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8947 term 38 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 38 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 38 leaderCommit: 244 
------------------------------------------------------
flag 95182 term 38 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 38 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 38 leaderCommit: 244 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 38 239} {7990430942431527582 38 240} {7715941463789416288 38 241} {5846612674254664336 38 242} {2122749638319606640 38 243} {2015000686807956840 38 244} {2614894152054889355 38 245} {2728978920937600699 38 246} {8206079640932884890 38 247} {6168284664950208624 38 248} {4714424277164030865 38 249} {6078054386802151998 38 250} {8929667512030370359 38 251} {1093663560667815530 38 252} {661121240667721831 38 253} {7382679811759637075 38 254} {3443695081198307431 38 255} {8354265621900481230 38 256} {5456003985552954650 38 257} {2838385788542088336 38 258} {1441202285567153216 38 259}]
------------------------------------------------------
term 38 Server1 start snapshot! index=249
term 38 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=259
-------------------------------------------------------------
term 38 Server1 start snapshot! index=259
term 38 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
flag 42594 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=260
update matchIndex[0]=259
update leader CommitIndex=259
leader log:
[{snapshot 38 259}]
------------------------------------------------------
term 38 Server0 start snapshot! index=249
term 38 server0 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=259
-------------------------------------------------------------
term 38 Server0 start snapshot! index=259
term 38 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5558440762865573077 (index 260) to leader 1
flag 5086 term 38 leader 1 nextIndex[0]: 260  matchIndex[0]: 259
term 38 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
term 39 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 38 259} {5558440762865573077 38 260}]
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 2 vote for server 1
term 40 server 0 vote for server 1
term 40 server 1 get vote from server 2
term 40 server 1 become leader
------------------------------------------------------
term 40 server 1 get outdate rpc reply from server 0
flag 21265 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
flag 53737 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
term 40 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 261->260
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 38 259} {5558440762865573077 38 260}]
------------------------------------------------------
flag 35601 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 244  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
term 40 server 2 InstallSnapshot success
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 260 matchIndex[2] 259 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 38 rf.commitIndex 259 rf.lastApplied 259
term 40 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 38 259} {5558440762865573077 38 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99455 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
flag 30207 term 40 leader 1 nextIndex[2]: 260  matchIndex[2]: 259
term 40 leader 1 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 38 259} {5558440762865573077 38 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 38 259} {5558440762865573077 38 260}]
------------------------------------------------------
flag 81934 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
flag 27048 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 38 259} {5558440762865573077 38 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 38 259} {5558440762865573077 38 260}]
------------------------------------------------------
flag 90772 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
flag 41629 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 38 259} {5558440762865573077 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 38 259} {5558440762865573077 38 260}]
------------------------------------------------------
flag 55545 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
flag 83355 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 38 259} {5558440762865573077 38 260}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 38 259} {5558440762865573077 38 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22246 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
flag 58290 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 38 259} {5558440762865573077 38 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 38 259} {5558440762865573077 38 260}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60256 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
flag 67517 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 38 259} {5558440762865573077 38 260}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 38 259} {5558440762865573077 38 260}]
------------------------------------------------------
flag 62592 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
flag 7340 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 38 259} {5558440762865573077 38 260}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=261
update matchIndex[0]=260
update leader CommitIndex=260
leader log:
[{snapshot 38 259} {5558440762865573077 38 260}]
------------------------------------------------------
term 40 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 1221814366829489609 (index 261) to leader 1
flag 66916 term 40 leader 1 nextIndex[0]: 261  matchIndex[0]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
flag 66414 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 260 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {5558440762865573077 38 260} {1221814366829489609 40 261}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13711 term 40 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 15364 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 261 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=262
update matchIndex[0]=261
update leader CommitIndex=261
leader log:
[{snapshot 38 259} {5558440762865573077 38 260} {1221814366829489609 40 261}]
------------------------------------------------------
client write log 1312764558309495131 (index 262) to leader 1
client write log 3402747361877825552 (index 263) to leader 1
client write log 1109577960918930099 (index 264) to leader 1
client write log 6842464003169519994 (index 265) to leader 1
client write log 2930723754096241173 (index 266) to leader 1
client write log 5046891045662155005 (index 267) to leader 1
client write log 3407508263789301226 (index 268) to leader 1
client write log 2064600184965010734 (index 269) to leader 1
client write log 2659230565150190255 (index 270) to leader 1
client write log 4423494500004289618 (index 271) to leader 1
client write log 9027173374749857598 (index 272) to leader 1
client write log 714181795296989678 (index 273) to leader 1
client write log 6343861334378525779 (index 274) to leader 1
flag 98994 term 40 leader 1 nextIndex[0]: 262  matchIndex[0]: 261
term 40 leader 1 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 40 leaderCommit: 261 
------------------------------------------------------
flag 38381 term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 38 leaderCommit: 261 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:261 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 38 259} {5558440762865573077 38 260} {1221814366829489609 40 261} {1312764558309495131 40 262} {3402747361877825552 40 263} {1109577960918930099 40 264} {6842464003169519994 40 265} {2930723754096241173 40 266} {5046891045662155005 40 267} {3407508263789301226 40 268} {2064600184965010734 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274}]
------------------------------------------------------
term 40 Server1 start snapshot! index=269
term 40 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=274
-------------------------------------------------------------
flag 685 term 40 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 40 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 261  matchIndex[2]: 260
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274}]
------------------------------------------------------
term 40 Server0 start snapshot! index=269
term 40 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=274
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5881619172805585647 (index 275) to leader 1
term 40 server 0 not vote for server 2, 日志不够新
term 40 server 1 not vote for server 2, 日志不够新
term 42 server 2 vote for server 1
term 42 server 0 vote for server 1
term 42 server 1 get vote from server 2
term 42 server 1 become leader
------------------------------------------------------
term 42 server 1 get outdate rpc reply from server 0
flag 21948 term 42 leader 1 nextIndex[0]: 276  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
flag 55302 term 42 leader 1 nextIndex[2]: 276  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 42 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 276->275
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 276->275
------------------------------------------------------
flag 2578 term 42 leader 1 nextIndex[0]: 275  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 261  matchIndex[2]: 0
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 40
------------------------------------------------------
term 42 server 2 InstallSnapshot success
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 40 rf.commitIndex 269 rf.lastApplied 269
flag 70782 term 42 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
flag 94400 term 42 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 42 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 0 not vote for server 1, 任期不够新
term 42 server 1 get outdate rpc reply from server 0
flag 89993 term 42 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
flag 39786 term 42 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
flag 25924 term 42 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
flag 11425 term 42 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64061 term 42 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
flag 82656 term 42 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4033 term 42 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
flag 63147 term 42 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62515 term 42 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
flag 30502 term 42 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5304 term 42 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
flag 37271 term 42 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
flag 69469 term 42 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
flag 2916 term 42 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73334 term 42 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
flag 7467 term 42 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:274 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
flag 10881 term 42 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
flag 18636 term 42 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
flag 76199 term 42 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
flag 57295 term 42 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
term 42 server 0 not vote for server 1, 任期不够新
term 42 server 1 get outdate rpc reply from server 0
flag 5853 term 42 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
flag 75586 term 42 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95289 term 42 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
flag 95977 term 42 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
term 42 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11123 term 42 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
flag 81302 term 42 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
flag 20248 term 42 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
flag 73627 term 42 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
term 42 server 0 not vote for server 2, 任期不够新
term 42 server 2 get outdate rpc reply from server 0
flag 22304 term 42 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
flag 41431 term 42 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85434 term 42 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
flag 42298 term 42 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 993 term 42 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
flag 37442 term 42 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275}]
------------------------------------------------------
client write log 5881619172805585647 (index 276) to leader 1
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43396 term 42 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
flag 4156 term 42 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 42 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276}]
------------------------------------------------------
flag 67495 term 42 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
flag 10391 term 42 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276}]
------------------------------------------------------
term 42 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61682 term 42 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
flag 28439 term 42 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60220 term 42 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
flag 14345 term 42 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276}]
------------------------------------------------------
flag 98608 term 42 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
flag 80248 term 42 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276}]
------------------------------------------------------
flag 172 term 42 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
flag 16648 term 42 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276}]
------------------------------------------------------
flag 10713 term 42 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
flag 573 term 42 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 54287 term 42 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
flag 95970 term 42 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
flag 63177 term 42 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
flag 12508 term 42 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
flag 38304 term 42 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
flag 92647 term 42 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
flag 12262 term 42 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
flag 17014 term 42 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
term 43 server 2 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
flag 6235 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
flag 15871 term 43 leader 0 nextIndex[2]: 277  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276}]
------------------------------------------------------
client write log 5776850299009260575 (index 277) to leader 0
flag 64305 term 42 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
flag 41785 term 42 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
flag 61992 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
flag 50302 term 43 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277}]
------------------------------------------------------
flag 10673 term 42 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
flag 47247 term 42 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
flag 8484 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 277 
------------------------------------------------------
flag 60671 term 43 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277}]
------------------------------------------------------
client write log 1160012950041623769 (index 278) to leader 0
flag 59118 term 42 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
flag 78191 term 42 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 277->276
------------------------------------------------------
flag 80191 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 277 
------------------------------------------------------
flag 64657 term 43 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 43 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 43 leaderCommit: 277 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
term 42 leader 1 nextIndex[0]: 0  matchIndex[0]: 276
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 40
------------------------------------------------------
flag 65526 term 42 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
flag 42756 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 96897 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
!!!!!!connect server 1
client write log 2524793451760287822 (index 277) to leader 1
term 42 leader 1 nextIndex[0]: 0  matchIndex[0]: 276
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 40
------------------------------------------------------
flag 28502 term 42 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 42 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 276 
------------------------------------------------------
term 43 server 2 AppendEntries false 领导者任期过期 args.Term 42
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 43 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48545 term 43 leader 0 nextIndex[1]: 277  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 42 leaderCommit: 278 
------------------------------------------------------
flag 37221 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
flag 73952 term 43 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 88358 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
flag 86998 term 43 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 93268 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
flag 64737 term 43 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 78093 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
flag 95525 term 43 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 3283 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52687 term 43 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 10587 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
flag 30183 term 43 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 72609 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58736 term 43 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 87121 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
flag 69817 term 43 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 65416 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
flag 71944 term 43 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 47276 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 279->278
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 278
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 40
------------------------------------------------------
flag 4643 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
term 43 server 1 InstallSnapshot fail
rf.commitIndex 278 args.LastIncludedIndex 269
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 270->269
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 269
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 40
------------------------------------------------------
flag 86804 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 43 server 1 InstallSnapshot fail
rf.commitIndex 278 args.LastIncludedIndex 269
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24511 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 40 leaderCommit: 278 
------------------------------------------------------
flag 39509 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42365 term 43 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 85430 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18598 term 43 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 95541 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
flag 29755 term 43 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 44618 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
term 43 server 1 not vote for server 2, 任期不够新
term 43 server 2 get outdate rpc reply from server 1
flag 3793 term 43 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 9692 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
flag 39648 term 43 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 62335 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87172 term 43 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 23229 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
flag 33369 term 43 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 962 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278}]
------------------------------------------------------
client write log 2524793451760287822 (index 279) to leader 0
flag 26557 term 43 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
flag 8278 term 43 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 43 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 43 leaderCommit: 278 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278} {2524793451760287822 43 279}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 40 269} {2659230565150190255 40 270} {4423494500004289618 40 271} {9027173374749857598 40 272} {714181795296989678 40 273} {6343861334378525779 40 274} {5881619172805585647 40 275} {5881619172805585647 42 276} {5776850299009260575 43 277} {1160012950041623769 43 278} {2524793451760287822 43 279}]
------------------------------------------------------
term 43 Server0 start snapshot! index=279
term 43 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
flag 83447 term 43 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 43 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 52616 term 43 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 43 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 279}]
------------------------------------------------------
term 43 Server2 start snapshot! index=279
term 43 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
term 43 Server1 start snapshot! index=279
term 43 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
flag 99995 term 43 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 43 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 12813 term 43 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 43 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 279}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 280->279
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 279
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 86504 term 43 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 43 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 43 server 1 InstallSnapshot fail
rf.commitIndex 279 args.LastIncludedIndex 279
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 279}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35859 term 43 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 43 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 98351 term 43 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 43 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 279}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 279}]
------------------------------------------------------
flag 68583 term 43 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 43 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 19649 term 43 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 43 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 279}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 279}]
------------------------------------------------------
term 43 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62461 term 43 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 43 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 28681 term 43 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 43 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 279}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 43 279}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2502888165660540658 (index 280) to leader 0
flag 44018 term 43 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 43 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
flag 80147 term 43 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 43 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 279 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {2502888165660540658 43 280}]
------------------------------------------------------
flag 54426 term 43 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 43 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 24305 term 43 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 43 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 43 279} {2502888165660540658 43 280}]
------------------------------------------------------
client write log 7918762539818397750 (index 281) to leader 0
client write log 540822120838066587 (index 282) to leader 0
client write log 7251384611036590850 (index 283) to leader 0
client write log 6140776774511998976 (index 284) to leader 0
client write log 275779807279290699 (index 285) to leader 0
client write log 4265387400351271886 (index 286) to leader 0
client write log 7955936372239854055 (index 287) to leader 0
client write log 589431136166315957 (index 288) to leader 0
client write log 3693242968593913567 (index 289) to leader 0
client write log 9190229032711345948 (index 290) to leader 0
flag 10948 term 43 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 43 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
flag 24436 term 43 leader 0 nextIndex[2]: 281  matchIndex[2]: 280
term 43 leader 0 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 43 leaderCommit: 280 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 43 279} {2502888165660540658 43 280} {7918762539818397750 43 281} {540822120838066587 43 282} {7251384611036590850 43 283} {6140776774511998976 43 284} {275779807279290699 43 285} {4265387400351271886 43 286} {7955936372239854055 43 287} {589431136166315957 43 288} {3693242968593913567 43 289} {9190229032711345948 43 290}]
------------------------------------------------------
term 43 Server0 start snapshot! index=289
term 43 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=290
-------------------------------------------------------------
term 43 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 43
------------------------------------------------------
flag 60050 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 43 289} {9190229032711345948 43 290}]
------------------------------------------------------
term 43 Server2 start snapshot! index=289
term 43 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=290
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3399550901563634476 (index 291) to leader 0
term 43 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 43
------------------------------------------------------
flag 34483 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 44 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {9190229032711345948 43 290} {3399550901563634476 43 291}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 server 2 vote for server 0
term 45 server 0 get vote from server 2
term 45 server 0 become leader
------------------------------------------------------
term 45 server 1 vote for server 0
term 45 server 0 get outdate rpc reply from server 1
flag 95024 term 45 leader 0 nextIndex[1]: 292  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 36810 term 45 leader 0 nextIndex[2]: 292  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {9190229032711345948 43 290} {3399550901563634476 43 291}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 292->291
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 280  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 43
------------------------------------------------------
flag 7701 term 45 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {9190229032711345948 43 290} {3399550901563634476 43 291}]
------------------------------------------------------
term 45 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 43 rf.commitIndex 289 rf.lastApplied 289
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
flag 64330 term 45 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 45 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 20758 term 45 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {9190229032711345948 43 290} {3399550901563634476 43 291}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {9190229032711345948 43 290} {3399550901563634476 43 291}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26294 term 45 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 79097 term 45 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {9190229032711345948 43 290} {3399550901563634476 43 291}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {9190229032711345948 43 290} {3399550901563634476 43 291}]
------------------------------------------------------
flag 54597 term 45 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 75176 term 45 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {9190229032711345948 43 290} {3399550901563634476 43 291}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {9190229032711345948 43 290} {3399550901563634476 43 291}]
------------------------------------------------------
flag 89057 term 45 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 10078 term 45 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {9190229032711345948 43 290} {3399550901563634476 43 291}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {9190229032711345948 43 290} {3399550901563634476 43 291}]
------------------------------------------------------
flag 10066 term 45 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 3141 term 45 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {9190229032711345948 43 290} {3399550901563634476 43 291}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {9190229032711345948 43 290} {3399550901563634476 43 291}]
------------------------------------------------------
flag 5968 term 45 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 59089 term 45 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {9190229032711345948 43 290} {3399550901563634476 43 291}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {9190229032711345948 43 290} {3399550901563634476 43 291}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96974 term 45 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 89429 term 45 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
term 45 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
[{snapshot 43 289} {9190229032711345948 43 290} {3399550901563634476 43 291}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 43 289} {9190229032711345948 43 290} {3399550901563634476 43 291}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7587264432978033164 (index 292) to leader 0
flag 77623 term 45 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 79767 term 45 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 43 289} {9190229032711345948 43 290} {3399550901563634476 43 291} {7587264432978033164 45 292}]
------------------------------------------------------
flag 85422 term 45 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 292 
------------------------------------------------------
flag 58394 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 292 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 43 289} {9190229032711345948 43 290} {3399550901563634476 43 291} {7587264432978033164 45 292}]
------------------------------------------------------
client write log 3083993417634650608 (index 293) to leader 0
client write log 3105147053830318244 (index 294) to leader 0
client write log 8794019271324274633 (index 295) to leader 0
client write log 3567828888724537093 (index 296) to leader 0
client write log 5301355268248917527 (index 297) to leader 0
client write log 380140664863676992 (index 298) to leader 0
client write log 4864756445557790741 (index 299) to leader 0
client write log 8958297894968555994 (index 300) to leader 0
client write log 7755354577491227582 (index 301) to leader 0
client write log 4413539827857321618 (index 302) to leader 0
client write log 3782899859745085178 (index 303) to leader 0
client write log 3229687544959380718 (index 304) to leader 0
client write log 7991278145835407788 (index 305) to leader 0
client write log 7831151526838005588 (index 306) to leader 0
client write log 9130833951027976798 (index 307) to leader 0
flag 9395 term 45 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 45 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 292 
------------------------------------------------------
flag 32209 term 45 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 45 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 45 leaderCommit: 292 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 43 289} {9190229032711345948 43 290} {3399550901563634476 43 291} {7587264432978033164 45 292} {3083993417634650608 45 293} {3105147053830318244 45 294} {8794019271324274633 45 295} {3567828888724537093 45 296} {5301355268248917527 45 297} {380140664863676992 45 298} {4864756445557790741 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 Server0 start snapshot! index=299
term 45 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=307
-------------------------------------------------------------
term 45 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 45
------------------------------------------------------
flag 24281 term 45 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 45 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307}]
------------------------------------------------------
term 45 Server2 start snapshot! index=299
term 45 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=307
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6479900784826520686 (index 308) to leader 0
term 45 server 2 not vote for server 1, 日志不够新
term 45 server 0 not vote for server 1, 日志不够新
term 46 server 1 not vote for server 0, 任期不够新
term 46 server 0 get outdate rpc reply from server 1
term 47 server 2 vote for server 0
term 47 server 0 get vote from server 2
term 47 server 0 become leader
------------------------------------------------------
term 47 server 1 vote for server 0
term 47 server 0 get outdate rpc reply from server 1
flag 82189 term 47 leader 0 nextIndex[1]: 309  matchIndex[1]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
flag 25287 term 47 leader 0 nextIndex[2]: 309  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
term 47 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 47 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 309->308
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 309->308
------------------------------------------------------
term 47 leader 0 nextIndex[1]: 292  matchIndex[1]: 0
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 45
------------------------------------------------------
flag 44111 term 47 leader 0 nextIndex[2]: 308  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
term 47 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 45 rf.commitIndex 299 rf.lastApplied 299
term 47 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
flag 60231 term 47 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 47 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
flag 26254 term 47 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
flag 37761 term 47 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
flag 60860 term 47 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
flag 28120 term 47 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
flag 54059 term 47 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24242 term 47 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
flag 56692 term 47 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
flag 9314 term 47 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
flag 35276 term 47 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8890 term 47 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
flag 42458 term 47 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
flag 55792 term 47 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
flag 53890 term 47 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
flag 30174 term 47 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
flag 32564 term 47 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
flag 34797 term 47 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
flag 65981 term 47 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8293 term 47 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
flag 85337 term 47 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93808 term 47 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
flag 1699 term 47 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
flag 71535 term 47 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
flag 76136 term 47 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
flag 23380 term 47 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
flag 29700 term 47 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52856 term 47 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
flag 58706 term 47 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
flag 16700 term 47 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
flag 52895 term 47 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
term 47 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
flag 58630 term 47 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
flag 74613 term 47 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
term 47 server 2 not vote for server 1, 任期不够新
term 47 server 1 get outdate rpc reply from server 2
flag 9858 term 47 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
flag 1035 term 47 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308}]
------------------------------------------------------
term 47 server 0 not vote for server 1, 任期不够新
term 47 server 1 get outdate rpc reply from server 0
flag 74341 term 47 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
flag 90420 term 47 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
client write log 6479900784826520686 (index 309) to leader 0
term 47 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308} {6479900784826520686 47 309}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=307
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308} {6479900784826520686 47 309}]
------------------------------------------------------
flag 74065 term 47 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
flag 88735 term 47 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 47 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 45 leaderCommit: 307 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308} {6479900784826520686 47 309}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 45 299} {8958297894968555994 45 300} {7755354577491227582 45 301} {4413539827857321618 45 302} {3782899859745085178 45 303} {3229687544959380718 45 304} {7991278145835407788 45 305} {7831151526838005588 45 306} {9130833951027976798 45 307} {6479900784826520686 45 308} {6479900784826520686 47 309}]
------------------------------------------------------
term 47 Server0 start snapshot! index=309
term 47 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 55367 term 47 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 78958 term 47 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 47 309}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 47 309}]
------------------------------------------------------
term 47 Server2 start snapshot! index=309
term 47 Server1 start snapshot! index=309
term 47 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
term 47 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 53247 term 47 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 44433 term 47 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 47 309}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 47 309}]
------------------------------------------------------
flag 38039 term 47 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 79018 term 47 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 47 309}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 47 309}]
------------------------------------------------------
flag 92798 term 47 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 54426 term 47 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 47 309}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 47 309}]
------------------------------------------------------
flag 8415 term 47 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 7310 term 47 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 47 309}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 47 309}]
------------------------------------------------------
flag 67527 term 47 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 6933 term 47 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 47 309}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 47 309}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 94599 term 47 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 22062 term 47 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 14113 term 47 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 69743 term 47 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 70680 term 47 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 32555 term 47 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 310->309
------------------------------------------------------
term 48 server 2 vote for server 1
term 48 server 1 get vote from server 2
term 48 server 1 become leader
------------------------------------------------------
flag 38976 term 48 leader 1 nextIndex[0]: 310  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 89769 term 48 leader 1 nextIndex[2]: 310  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 47 309}]
------------------------------------------------------
term 47 leader 0 nextIndex[1]: 0  matchIndex[1]: 309
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 47
------------------------------------------------------
flag 87254 term 47 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
client write log 7854980254212083272 (index 310) to leader 1
flag 12472 term 48 leader 1 nextIndex[0]: 310  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 18412 term 48 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 48 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 47 309} {7854980254212083272 48 310}]
------------------------------------------------------
term 47 leader 0 nextIndex[1]: 0  matchIndex[1]: 309
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 47
------------------------------------------------------
flag 14394 term 47 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
flag 89722 term 48 leader 1 nextIndex[0]: 310  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 310 
------------------------------------------------------
flag 7909 term 48 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 48 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 47 309} {7854980254212083272 48 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 310->309
------------------------------------------------------
client write log 3532406029260452510 (index 311) to leader 1
client write log 700342616357720229 (index 312) to leader 1
client write log 5447660525473563759 (index 313) to leader 1
client write log 3718911133174743085 (index 314) to leader 1
client write log 4948484893473298614 (index 315) to leader 1
client write log 4455041092516063723 (index 316) to leader 1
client write log 2927835973943941814 (index 317) to leader 1
client write log 851785159015708385 (index 318) to leader 1
client write log 6253029984918050351 (index 319) to leader 1
client write log 6105142765987974997 (index 320) to leader 1
client write log 7766763313932160281 (index 321) to leader 1
client write log 3850792165243231809 (index 322) to leader 1
client write log 1181720313970526780 (index 323) to leader 1
client write log 3081851202547704841 (index 324) to leader 1
term 47 leader 0 nextIndex[1]: 0  matchIndex[1]: 309
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 47
------------------------------------------------------
term 47 leader 0 nextIndex[2]: 0  matchIndex[2]: 309
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 47
------------------------------------------------------
flag 78709 term 48 leader 1 nextIndex[0]: 310  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 310 
------------------------------------------------------
flag 66548 term 48 leader 1 nextIndex[2]: 311  matchIndex[2]: 310
term 48 leader 1 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 48 leaderCommit: 310 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 47 309} {7854980254212083272 48 310} {3532406029260452510 48 311} {700342616357720229 48 312} {5447660525473563759 48 313} {3718911133174743085 48 314} {4948484893473298614 48 315} {4455041092516063723 48 316} {2927835973943941814 48 317} {851785159015708385 48 318} {6253029984918050351 48 319} {6105142765987974997 48 320} {7766763313932160281 48 321} {3850792165243231809 48 322} {1181720313970526780 48 323} {3081851202547704841 48 324}]
------------------------------------------------------
term 48 Server1 start snapshot! index=319
term 48 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=324
-------------------------------------------------------------
term 47 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
term 47 leader 0 nextIndex[1]: 0  matchIndex[1]: 309
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 47
------------------------------------------------------
flag 86662 term 47 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 48 leader 1 nextIndex[0]: 310  matchIndex[0]: 0
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 48
------------------------------------------------------
flag 4607 term 48 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 48 319} {6105142765987974997 48 320} {7766763313932160281 48 321} {3850792165243231809 48 322} {1181720313970526780 48 323} {3081851202547704841 48 324}]
------------------------------------------------------
term 48 Server2 start snapshot! index=319
term 48 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=324
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2170744473413669789 (index 325) to leader 1
term 47 leader 0 nextIndex[1]: 0  matchIndex[1]: 309
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 47
------------------------------------------------------
flag 64589 term 47 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 47 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 47 leaderCommit: 309 
------------------------------------------------------
term 48 server 2 AppendEntries false 领导者任期过期 args.Term 47
------------------------------------------------------
term 48 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 leader 1 nextIndex[0]: 310  matchIndex[0]: 0
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 48
------------------------------------------------------
flag 20380 term 48 leader 1 nextIndex[2]: 325  matchIndex[2]: 324
term 48 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 48 leaderCommit: 324 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6105142765987974997 48 320} {7766763313932160281 48 321} {3850792165243231809 48 322} {1181720313970526780 48 323} {3081851202547704841 48 324} {2170744473413669789 48 325}]
------------------------------------------------------
term 48 server 0 InstallSnapshot success
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 48 rf.commitIndex 319 rf.lastApplied 319
term 48 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
flag 79118 term 48 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 48 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 74120 term 48 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6105142765987974997 48 320} {7766763313932160281 48 321} {3850792165243231809 48 322} {1181720313970526780 48 323} {3081851202547704841 48 324} {2170744473413669789 48 325}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6105142765987974997 48 320} {7766763313932160281 48 321} {3850792165243231809 48 322} {1181720313970526780 48 323} {3081851202547704841 48 324} {2170744473413669789 48 325}]
------------------------------------------------------
flag 7138 term 48 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 48 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 84701 term 48 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:325 
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6105142765987974997 48 320} {7766763313932160281 48 321} {3850792165243231809 48 322} {1181720313970526780 48 323} {3081851202547704841 48 324} {2170744473413669789 48 325}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6105142765987974997 48 320} {7766763313932160281 48 321} {3850792165243231809 48 322} {1181720313970526780 48 323} {3081851202547704841 48 324} {2170744473413669789 48 325}]
------------------------------------------------------
flag 20898 term 48 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 48 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 82904 term 48 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6105142765987974997 48 320} {7766763313932160281 48 321} {3850792165243231809 48 322} {1181720313970526780 48 323} {3081851202547704841 48 324} {2170744473413669789 48 325}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6105142765987974997 48 320} {7766763313932160281 48 321} {3850792165243231809 48 322} {1181720313970526780 48 323} {3081851202547704841 48 324} {2170744473413669789 48 325}]
------------------------------------------------------
flag 38147 term 48 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 48 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 81284 term 48 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6105142765987974997 48 320} {7766763313932160281 48 321} {3850792165243231809 48 322} {1181720313970526780 48 323} {3081851202547704841 48 324} {2170744473413669789 48 325}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6105142765987974997 48 320} {7766763313932160281 48 321} {3850792165243231809 48 322} {1181720313970526780 48 323} {3081851202547704841 48 324} {2170744473413669789 48 325}]
------------------------------------------------------
term 48 server 0 not vote for server 1, 日志不够新
term 48 server 1 get outdate rpc reply from server 0
flag 52201 term 48 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 48 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 97324 term 48 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
term 48 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
[{snapshot 48 319} {6105142765987974997 48 320} {7766763313932160281 48 321} {3850792165243231809 48 322} {1181720313970526780 48 323} {3081851202547704841 48 324} {2170744473413669789 48 325}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6105142765987974997 48 320} {7766763313932160281 48 321} {3850792165243231809 48 322} {1181720313970526780 48 323} {3081851202547704841 48 324} {2170744473413669789 48 325}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22175 term 48 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 48 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 81922 term 48 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6105142765987974997 48 320} {7766763313932160281 48 321} {3850792165243231809 48 322} {1181720313970526780 48 323} {3081851202547704841 48 324} {2170744473413669789 48 325}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6105142765987974997 48 320} {7766763313932160281 48 321} {3850792165243231809 48 322} {1181720313970526780 48 323} {3081851202547704841 48 324} {2170744473413669789 48 325}]
------------------------------------------------------
flag 67279 term 48 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 48 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 3094 term 48 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6105142765987974997 48 320} {7766763313932160281 48 321} {3850792165243231809 48 322} {1181720313970526780 48 323} {3081851202547704841 48 324} {2170744473413669789 48 325}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 319} {6105142765987974997 48 320} {7766763313932160281 48 321} {3850792165243231809 48 322} {1181720313970526780 48 323} {3081851202547704841 48 324} {2170744473413669789 48 325}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3013865387105414609 (index 326) to leader 1
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59902 term 48 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 48 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
flag 59795 term 48 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 325 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 48 319} {6105142765987974997 48 320} {7766763313932160281 48 321} {3850792165243231809 48 322} {1181720313970526780 48 323} {3081851202547704841 48 324} {2170744473413669789 48 325} {3013865387105414609 48 326}]
------------------------------------------------------
flag 26703 term 48 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 48 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 48 leaderCommit: 326 
------------------------------------------------------
flag 21444 term 48 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 326 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 48 319} {6105142765987974997 48 320} {7766763313932160281 48 321} {3850792165243231809 48 322} {1181720313970526780 48 323} {3081851202547704841 48 324} {2170744473413669789 48 325} {3013865387105414609 48 326}]
------------------------------------------------------
client write log 380738702070225724 (index 327) to leader 1
client write log 1730665575384887529 (index 328) to leader 1
client write log 8135814973079902973 (index 329) to leader 1
client write log 5503600278641693247 (index 330) to leader 1
client write log 1518240435724983460 (index 331) to leader 1
client write log 8290706278581558570 (index 332) to leader 1
client write log 2995576913378389600 (index 333) to leader 1
client write log 1976491399205998770 (index 334) to leader 1
client write log 9120327130416621342 (index 335) to leader 1
client write log 3020662397316305774 (index 336) to leader 1
flag 95889 term 48 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 48 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 48 leaderCommit: 326 
------------------------------------------------------
flag 41816 term 48 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 48 leaderCommit: 326 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 48 319} {6105142765987974997 48 320} {7766763313932160281 48 321} {3850792165243231809 48 322} {1181720313970526780 48 323} {3081851202547704841 48 324} {2170744473413669789 48 325} {3013865387105414609 48 326} {380738702070225724 48 327} {1730665575384887529 48 328} {8135814973079902973 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336}]
------------------------------------------------------
term 48 Server1 start snapshot! index=329
term 48 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=336
-------------------------------------------------------------
flag 77544 term 48 leader 1 nextIndex[0]: 337  matchIndex[0]: 336
term 48 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=337
update matchIndex[0]=336
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336}]
------------------------------------------------------
term 48 Server0 start snapshot! index=329
term 48 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=336
-------------------------------------------------------------
!!!!!!connect server 2
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 337->336
------------------------------------------------------
client write log 5124520604568495295 (index 337) to leader 1
term 48 leader 1 nextIndex[0]: 0  matchIndex[0]: 336
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 48
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 48
------------------------------------------------------
term 49 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 server 0 InstallSnapshot fail
rf.commitIndex 336 args.LastIncludedIndex 329
------------------------------------------------------
term 49 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 2 vote for server 1
term 50 server 1 get vote from server 2
term 50 server 1 become leader
------------------------------------------------------
term 50 server 0 vote for server 1
term 50 server 1 get outdate rpc reply from server 0
flag 17270 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 59699 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 50 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 338->337
------------------------------------------------------
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 338->337
------------------------------------------------------
flag 76836 term 50 leader 1 nextIndex[0]: 337  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 336  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 326  matchIndex[2]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 48
------------------------------------------------------
term 50 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 48 rf.commitIndex 329 rf.lastApplied 329
term 50 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20910 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 94975 term 50 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 50 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
flag 69829 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 10658 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
flag 3781 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 11311 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
flag 73884 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 14786 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
flag 41667 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 67038 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
flag 24760 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 67636 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
flag 85249 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 88539 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79854 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 59420 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
term 50 server 1 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 1
flag 36411 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 55723 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
flag 19842 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 50211 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71424 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 95544 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
flag 171 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 70418 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
flag 69476 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 61685 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43625 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 29823 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69004 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 35633 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
term 50 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
flag 69423 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 33826 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337}]
------------------------------------------------------
flag 86066 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 6746 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
client write log 5124520604568495295 (index 338) to leader 1
term 50 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=338
update matchIndex[0]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337} {5124520604568495295 50 338}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=338
update matchIndex[2]=337
update leader CommitIndex=336
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337} {5124520604568495295 50 338}]
------------------------------------------------------
flag 69498 term 50 leader 1 nextIndex[0]: 338  matchIndex[0]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
flag 33405 term 50 leader 1 nextIndex[2]: 338  matchIndex[2]: 337
term 50 leader 1 sendAppendEntries PrevLogIndex: 337  PrevLogTerm: 48 leaderCommit: 336 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337} {5124520604568495295 50 338}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:336 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337} {5124520604568495295 50 338}]
------------------------------------------------------
flag 14213 term 50 leader 1 nextIndex[0]: 339  matchIndex[0]: 338
term 50 leader 1 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 50 leaderCommit: 338 
------------------------------------------------------
flag 24818 term 50 leader 1 nextIndex[2]: 339  matchIndex[2]: 338
term 50 leader 1 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 50 leaderCommit: 338 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337} {5124520604568495295 50 338}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337} {5124520604568495295 50 338}]
------------------------------------------------------
flag 20873 term 50 leader 1 nextIndex[0]: 339  matchIndex[0]: 338
term 50 leader 1 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 50 leaderCommit: 338 
------------------------------------------------------
flag 18625 term 50 leader 1 nextIndex[2]: 339  matchIndex[2]: 338
term 50 leader 1 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 50 leaderCommit: 338 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337} {5124520604568495295 50 338}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337} {5124520604568495295 50 338}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99309 term 50 leader 1 nextIndex[0]: 339  matchIndex[0]: 338
term 50 leader 1 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 50 leaderCommit: 338 
------------------------------------------------------
flag 46775 term 50 leader 1 nextIndex[2]: 339  matchIndex[2]: 338
term 50 leader 1 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 50 leaderCommit: 338 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337} {5124520604568495295 50 338}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337} {5124520604568495295 50 338}]
------------------------------------------------------
flag 97791 term 50 leader 1 nextIndex[0]: 339  matchIndex[0]: 338
term 50 leader 1 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 50 leaderCommit: 338 
------------------------------------------------------
flag 9229 term 50 leader 1 nextIndex[2]: 339  matchIndex[2]: 338
term 50 leader 1 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 50 leaderCommit: 338 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337} {5124520604568495295 50 338}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337} {5124520604568495295 50 338}]
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83179 term 50 leader 1 nextIndex[0]: 339  matchIndex[0]: 338
term 50 leader 1 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 50 leaderCommit: 338 
------------------------------------------------------
flag 97011 term 50 leader 1 nextIndex[2]: 339  matchIndex[2]: 338
term 50 leader 1 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 50 leaderCommit: 338 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=339
update matchIndex[2]=338
update leader CommitIndex=338
leader log:
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337} {5124520604568495295 50 338}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337} {5124520604568495295 50 338}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4289594334026876406 (index 339) to leader 1
flag 81509 term 50 leader 1 nextIndex[0]: 339  matchIndex[0]: 338
term 50 leader 1 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 50 leaderCommit: 338 
------------------------------------------------------
flag 84184 term 50 leader 1 nextIndex[2]: 339  matchIndex[2]: 338
term 50 leader 1 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 50 leaderCommit: 338 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=339
leader log:
[{snapshot 48 329} {5503600278641693247 48 330} {1518240435724983460 48 331} {8290706278581558570 48 332} {2995576913378389600 48 333} {1976491399205998770 48 334} {9120327130416621342 48 335} {3020662397316305774 48 336} {5124520604568495295 48 337} {5124520604568495295 50 338} {4289594334026876406 50 339}]
------------------------------------------------------
term 50 Server1 start snapshot! index=339
term 50 server1 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95405 term 50 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 50 leaderCommit: 339 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 339  matchIndex[2]: 338
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=339
leader log:
[{snapshot 50 339}]
------------------------------------------------------
term 50 Server0 start snapshot! index=339
term 50 server0 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=339
-------------------------------------------------------------
client write log 1916127757863221622 (index 340) to leader 1
client write log 5245940933280229509 (index 341) to leader 1
client write log 6811088061093712004 (index 342) to leader 1
client write log 6512624896996886175 (index 343) to leader 1
client write log 1101008673783109242 (index 344) to leader 1
client write log 5876902001632658706 (index 345) to leader 1
client write log 3038529079502575771 (index 346) to leader 1
client write log 380329705787049195 (index 347) to leader 1
client write log 245051036451460485 (index 348) to leader 1
client write log 7661533029672851039 (index 349) to leader 1
client write log 837386022679611530 (index 350) to leader 1
client write log 9012843015027545405 (index 351) to leader 1
client write log 8507154276767652287 (index 352) to leader 1
client write log 2829545160779185448 (index 353) to leader 1
client write log 937345212077314049 (index 354) to leader 1
flag 38675 term 50 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 50 leaderCommit: 339 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 339  matchIndex[2]: 338
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 50 339} {1916127757863221622 50 340} {5245940933280229509 50 341} {6811088061093712004 50 342} {6512624896996886175 50 343} {1101008673783109242 50 344} {5876902001632658706 50 345} {3038529079502575771 50 346} {380329705787049195 50 347} {245051036451460485 50 348} {7661533029672851039 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354}]
------------------------------------------------------
term 50 Server1 start snapshot! index=349
term 50 server1 snapshot success
lastIncludedIndex=349 lastApplied=349 lastIndex=354
-------------------------------------------------------------
flag 41365 term 50 leader 1 nextIndex[0]: 355  matchIndex[0]: 354
term 50 leader 1 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 339  matchIndex[2]: 338
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354}]
------------------------------------------------------
term 50 Server0 start snapshot! index=349
term 50 server0 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=354
-------------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 350 matchIndex[2] 349 
------------------------------------------------------------------------
!!!!!!connect server 2
client write log 6173398217397688404 (index 355) to leader 1
term 50 server 1 not vote for server 2, 日志不够新
term 50 server 0 not vote for server 2, 日志不够新
term 52 server 2 vote for server 1
term 52 server 0 vote for server 1
term 52 server 1 get vote from server 2
term 52 server 1 become leader
------------------------------------------------------
term 52 server 1 get outdate rpc reply from server 0
flag 58179 term 52 leader 1 nextIndex[0]: 356  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
flag 63015 term 52 leader 1 nextIndex[2]: 356  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
term 52 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 52 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 356->355
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 356->355
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16764 term 52 leader 1 nextIndex[0]: 355  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 339  matchIndex[2]: 0
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 50
------------------------------------------------------
term 52 server 2 InstallSnapshot success
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 350 matchIndex[2] 349 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 50 rf.commitIndex 349 rf.lastApplied 349
term 52 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
flag 26729 term 52 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
flag 93495 term 52 leader 1 nextIndex[2]: 350  matchIndex[2]: 349
term 52 leader 1 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45220 term 52 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
flag 74192 term 52 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:354 
term 52 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32794 term 52 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
flag 46877 term 52 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:354 
term 52 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
flag 22441 term 52 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
flag 13436 term 52 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
flag 26998 term 52 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
flag 8677 term 52 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
flag 87522 term 52 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
flag 26991 term 52 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77558 term 52 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
flag 95061 term 52 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21763 term 52 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
flag 65042 term 52 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
flag 45508 term 52 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
flag 78687 term 52 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56727 term 52 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
flag 43499 term 52 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
flag 13909 term 52 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
flag 92893 term 52 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:354 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 268 term 52 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
flag 62543 term 52 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
flag 23056 term 52 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
flag 43975 term 52 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
flag 35568 term 52 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
flag 24466 term 52 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
flag 38492 term 52 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
flag 10663 term 52 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
flag 13325 term 52 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
flag 3847 term 52 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 52 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
update nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
flag 54274 term 52 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
flag 55342 term 52 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
term 52 server 0 not vote for server 2, 任期不够新
term 52 server 2 get outdate rpc reply from server 0
flag 79098 term 52 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
flag 41734 term 52 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=356
update matchIndex[2]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=354
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355}]
------------------------------------------------------
client write log 6173398217397688404 (index 356) to leader 1
flag 6938 term 52 leader 1 nextIndex[0]: 356  matchIndex[0]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
flag 28514 term 52 leader 1 nextIndex[2]: 356  matchIndex[2]: 355
term 52 leader 1 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 50 leaderCommit: 354 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=356
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=356
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39794 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
flag 46828 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:356 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:356 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=356
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=356
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356}]
------------------------------------------------------
flag 13152 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
flag 50252 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:356 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:356 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=356
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=356
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356}]
------------------------------------------------------
flag 79098 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
flag 91922 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:356 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=356
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:356 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=356
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356}]
------------------------------------------------------
term 52 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47138 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
flag 94836 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:356 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=356
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:356 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=356
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356}]
------------------------------------------------------
flag 22689 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
flag 40443 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:356 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:356 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=356
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=356
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356}]
------------------------------------------------------
flag 75648 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
flag 78839 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:356 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:356 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=356
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=357
update matchIndex[0]=356
update leader CommitIndex=356
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 15009 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
flag 20864 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
flag 25374 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
flag 38253 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
flag 93025 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
flag 19248 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
flag 7414 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
flag 43254 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
term 53 server 2 vote for server 0
term 53 server 0 get vote from server 2
term 53 server 0 become leader
------------------------------------------------------
flag 40256 term 53 leader 0 nextIndex[1]: 357  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
flag 16582 term 53 leader 0 nextIndex[2]: 357  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:356 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=357
update matchIndex[2]=356
update leader CommitIndex=356
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356}]
------------------------------------------------------
client write log 1506798071733315244 (index 357) to leader 0
flag 32236 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
flag 22112 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
flag 86088 term 53 leader 0 nextIndex[1]: 357  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
flag 12603 term 53 leader 0 nextIndex[2]: 357  matchIndex[2]: 356
term 53 leader 0 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:356 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64201 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
flag 79661 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
flag 86826 term 53 leader 0 nextIndex[1]: 357  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 357 
------------------------------------------------------
flag 60462 term 53 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357}]
------------------------------------------------------
client write log 3744530581011156249 (index 358) to leader 0
flag 35741 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
flag 6194 term 52 leader 1 nextIndex[2]: 357  matchIndex[2]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
flag 88823 term 53 leader 0 nextIndex[1]: 357  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 357 
------------------------------------------------------
flag 36136 term 53 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 53 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 53 leaderCommit: 357 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 357->356
------------------------------------------------------
flag 96756 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 356
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 50
------------------------------------------------------
flag 14752 term 53 leader 0 nextIndex[1]: 357  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 22585 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
!!!!!!connect server 1
client write log 897234867920659278 (index 357) to leader 1
flag 56246 term 52 leader 1 nextIndex[0]: 357  matchIndex[0]: 356
term 52 leader 1 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 356 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 356
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 50
------------------------------------------------------
term 53 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 server 0 AppendEntries false 领导者任期过期 args.Term 52
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9117 term 53 leader 0 nextIndex[1]: 357  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 356  PrevLogTerm: 52 leaderCommit: 358 
------------------------------------------------------
flag 50399 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
flag 95018 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 59164 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
flag 81502 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 4299 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
flag 19664 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 15547 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
flag 44917 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 62549 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
flag 49406 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 30796 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
flag 62980 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 31752 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
flag 71197 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 92221 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71609 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 54918 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
flag 85747 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 51365 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96830 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 25368 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88957 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 35308 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20807 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 47870 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
flag 38707 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 77187 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
flag 46012 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 67745 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86776 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 90649 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 359->358
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 358
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 50
------------------------------------------------------
flag 66842 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
term 53 server 1 InstallSnapshot fail
rf.commitIndex 358 args.LastIncludedIndex 349
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 350 matchIndex[1] 349 
------------------------------------------------------------------------
flag 55637 term 53 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 53 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 50 leaderCommit: 358 
------------------------------------------------------
flag 23153 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
flag 71020 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 76664 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76678 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 93287 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358}]
------------------------------------------------------
client write log 897234867920659278 (index 359) to leader 0
flag 79633 term 53 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
flag 12711 term 53 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 53 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 53 leaderCommit: 358 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358} {897234867920659278 53 359}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 50 349} {837386022679611530 50 350} {9012843015027545405 50 351} {8507154276767652287 50 352} {2829545160779185448 50 353} {937345212077314049 50 354} {6173398217397688404 50 355} {6173398217397688404 52 356} {1506798071733315244 53 357} {3744530581011156249 53 358} {897234867920659278 53 359}]
------------------------------------------------------
term 53 Server0 start snapshot! index=359
term 53 server0 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
flag 51872 term 53 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 53 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 359 
------------------------------------------------------
flag 56449 term 53 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 359 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 53 359}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 53 359}]
------------------------------------------------------
term 53 Server2 start snapshot! index=359
term 53 server2 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
term 53 Server1 start snapshot! index=359
term 53 server1 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
flag 38668 term 53 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 53 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 359 
------------------------------------------------------
flag 24021 term 53 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 359 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 53 359}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 53 359}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 360->359
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 359
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 53
------------------------------------------------------
flag 26523 term 53 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 359 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 53 359}]
------------------------------------------------------
term 53 server 1 InstallSnapshot fail
rf.commitIndex 359 args.LastIncludedIndex 359
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 360 matchIndex[1] 359 
------------------------------------------------------------------------
flag 14287 term 53 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 53 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 359 
------------------------------------------------------
flag 18518 term 53 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 359 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 53 359}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 53 359}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50098 term 53 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 53 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 359 
------------------------------------------------------
flag 88785 term 53 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 359 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 53 359}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 53 359}]
------------------------------------------------------
flag 61795 term 53 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 53 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 359 
------------------------------------------------------
flag 51374 term 53 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 359 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 53 359}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=360
update matchIndex[1]=359
update leader CommitIndex=359
leader log:
[{snapshot 53 359}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1983757237802061106 (index 360) to leader 0
flag 39029 term 53 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 53 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 359 
------------------------------------------------------
flag 92244 term 53 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 53 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 359 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=361
update matchIndex[2]=360
update leader CommitIndex=360
leader log:
[{snapshot 53 359} {1983757237802061106 53 360}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4330 term 53 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 53 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 360 
------------------------------------------------------
flag 23014 term 53 leader 0 nextIndex[2]: 361  matchIndex[2]: 360
term 53 leader 0 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 53 leaderCommit: 360 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=361
update matchIndex[2]=360
update leader CommitIndex=360
leader log:
[{snapshot 53 359} {1983757237802061106 53 360}]
------------------------------------------------------
client write log 8780386916526710966 (index 361) to leader 0
client write log 4154828523680788900 (index 362) to leader 0
client write log 6351695860313575798 (index 363) to leader 0
client write log 4252430828944251156 (index 364) to leader 0
client write log 9130530892209109128 (index 365) to leader 0
client write log 2586230156594490549 (index 366) to leader 0
client write log 4719131987316236968 (index 367) to leader 0
client write log 6305459621785136427 (index 368) to leader 0
client write log 789398832319102375 (index 369) to leader 0
client write log 3689438363144452750 (index 370) to leader 0
flag 8037 term 53 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 53 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 53 leaderCommit: 360 
------------------------------------------------------
flag 36189 term 53 leader 0 nextIndex[2]: 361  matchIndex[2]: 360
term 53 leader 0 sendAppendEntries PrevLogIndex: 360  PrevLogTerm: 53 leaderCommit: 360 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:360 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=371
update matchIndex[2]=370
update leader CommitIndex=370
leader log:
[{snapshot 53 359} {1983757237802061106 53 360} {8780386916526710966 53 361} {4154828523680788900 53 362} {6351695860313575798 53 363} {4252430828944251156 53 364} {9130530892209109128 53 365} {2586230156594490549 53 366} {4719131987316236968 53 367} {6305459621785136427 53 368} {789398832319102375 53 369} {3689438363144452750 53 370}]
------------------------------------------------------
term 53 Server0 start snapshot! index=369
term 53 server0 snapshot success
lastIncludedIndex=369 lastApplied=370 lastIndex=370
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 360->359
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 359
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 53
------------------------------------------------------
flag 41918 term 53 leader 0 nextIndex[2]: 371  matchIndex[2]: 370
term 53 leader 0 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 53 leaderCommit: 370 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=371
update matchIndex[2]=370
update leader CommitIndex=370
leader log:
[{snapshot 53 369} {3689438363144452750 53 370}]
------------------------------------------------------
term 53 Server2 start snapshot! index=369
term 53 server2 snapshot success
lastIncludedIndex=369 lastApplied=370 lastIndex=370
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8148279273263551124 (index 371) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 359
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 53
------------------------------------------------------
flag 87846 term 53 leader 0 nextIndex[2]: 371  matchIndex[2]: 370
term 53 leader 0 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 53 leaderCommit: 370 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=371
leader log:
[{snapshot 53 369} {3689438363144452750 53 370} {8148279273263551124 53 371}]
------------------------------------------------------
term 54 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 55 server 2 vote for server 0
term 55 server 0 get vote from server 2
term 55 server 1 vote for server 0
term 55 server 0 become leader
------------------------------------------------------
term 55 server 0 get outdate rpc reply from server 1
flag 84708 term 55 leader 0 nextIndex[1]: 372  matchIndex[1]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 53 leaderCommit: 371 
------------------------------------------------------
flag 69276 term 55 leader 0 nextIndex[2]: 372  matchIndex[2]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 53 leaderCommit: 371 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=371
leader log:
[{snapshot 53 369} {3689438363144452750 53 370} {8148279273263551124 53 371}]
------------------------------------------------------
term 55 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 372->371
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 leader 0 nextIndex[1]: 360  matchIndex[1]: 0
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 369  LastIncludedTerm: 53
------------------------------------------------------
flag 38892 term 55 leader 0 nextIndex[2]: 372  matchIndex[2]: 371
term 55 leader 0 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 53 leaderCommit: 371 
------------------------------------------------------
term 55 server 1 InstallSnapshot success
------------------------------------------------------
term 55 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 370 matchIndex[1] 369 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 369 rf.lastIncludedTerm 53 rf.commitIndex 369 rf.lastApplied 369
term 55 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=371
leader log:
[{snapshot 53 369} {3689438363144452750 53 370} {8148279273263551124 53 371}]
------------------------------------------------------
flag 15791 term 55 leader 0 nextIndex[1]: 370  matchIndex[1]: 369
term 55 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 53 leaderCommit: 371 
------------------------------------------------------
flag 55656 term 55 leader 0 nextIndex[2]: 372  matchIndex[2]: 371
term 55 leader 0 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 53 leaderCommit: 371 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=371
leader log:
[{snapshot 53 369} {3689438363144452750 53 370} {8148279273263551124 53 371}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:369 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=372
update matchIndex[1]=371
update leader CommitIndex=371
leader log:
[{snapshot 53 369} {3689438363144452750 53 370} {8148279273263551124 53 371}]
------------------------------------------------------
flag 82014 term 55 leader 0 nextIndex[1]: 372  matchIndex[1]: 371
term 55 leader 0 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 53 leaderCommit: 371 
------------------------------------------------------
flag 91963 term 55 leader 0 nextIndex[2]: 372  matchIndex[2]: 371
term 55 leader 0 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 53 leaderCommit: 371 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=371
leader log:
[{snapshot 53 369} {3689438363144452750 53 370} {8148279273263551124 53 371}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=372
update matchIndex[1]=371
update leader CommitIndex=371
leader log:
[{snapshot 53 369} {3689438363144452750 53 370} {8148279273263551124 53 371}]
------------------------------------------------------
flag 88330 term 55 leader 0 nextIndex[1]: 372  matchIndex[1]: 371
term 55 leader 0 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 53 leaderCommit: 371 
------------------------------------------------------
flag 93753 term 55 leader 0 nextIndex[2]: 372  matchIndex[2]: 371
term 55 leader 0 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 53 leaderCommit: 371 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=371
leader log:
[{snapshot 53 369} {3689438363144452750 53 370} {8148279273263551124 53 371}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=372
update matchIndex[1]=371
update leader CommitIndex=371
leader log:
[{snapshot 53 369} {3689438363144452750 53 370} {8148279273263551124 53 371}]
------------------------------------------------------
flag 73451 term 55 leader 0 nextIndex[1]: 372  matchIndex[1]: 371
term 55 leader 0 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 53 leaderCommit: 371 
------------------------------------------------------
flag 47704 term 55 leader 0 nextIndex[2]: 372  matchIndex[2]: 371
term 55 leader 0 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 53 leaderCommit: 371 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=371
leader log:
[{snapshot 53 369} {3689438363144452750 53 370} {8148279273263551124 53 371}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=372
update matchIndex[1]=371
update leader CommitIndex=371
leader log:
[{snapshot 53 369} {3689438363144452750 53 370} {8148279273263551124 53 371}]
------------------------------------------------------
flag 14697 term 55 leader 0 nextIndex[1]: 372  matchIndex[1]: 371
term 55 leader 0 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 53 leaderCommit: 371 
------------------------------------------------------
flag 66020 term 55 leader 0 nextIndex[2]: 372  matchIndex[2]: 371
term 55 leader 0 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 53 leaderCommit: 371 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=371
leader log:
[{snapshot 53 369} {3689438363144452750 53 370} {8148279273263551124 53 371}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=372
update matchIndex[1]=371
update leader CommitIndex=371
leader log:
[{snapshot 53 369} {3689438363144452750 53 370} {8148279273263551124 53 371}]
------------------------------------------------------
flag 54313 term 55 leader 0 nextIndex[1]: 372  matchIndex[1]: 371
term 55 leader 0 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 53 leaderCommit: 371 
------------------------------------------------------
flag 86644 term 55 leader 0 nextIndex[2]: 372  matchIndex[2]: 371
term 55 leader 0 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 53 leaderCommit: 371 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=371
leader log:
[{snapshot 53 369} {3689438363144452750 53 370} {8148279273263551124 53 371}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=372
update matchIndex[1]=371
update leader CommitIndex=371
leader log:
[{snapshot 53 369} {3689438363144452750 53 370} {8148279273263551124 53 371}]
------------------------------------------------------
flag 4971 term 55 leader 0 nextIndex[1]: 372  matchIndex[1]: 371
term 55 leader 0 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 53 leaderCommit: 371 
------------------------------------------------------
flag 1413 term 55 leader 0 nextIndex[2]: 372  matchIndex[2]: 371
term 55 leader 0 sendAppendEntries PrevLogIndex: 371  PrevLogTerm: 53 leaderCommit: 371 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=372
update matchIndex[2]=371
update leader CommitIndex=371
leader log:
[{snapshot 53 369} {3689438363144452750 53 370} {8148279273263551124 53 371}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:371 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=372
update matchIndex[1]=371
update leader CommitIndex=371
leader log:
[{snapshot 53 369} {3689438363144452750 53 370} {8148279273263551124 53 371}]
------------------------------------------------------
  ... Passed --  79.9  3 1826  860760  371
--- PASS: TestSnapshotInstall2D (79.93s)
PASS
