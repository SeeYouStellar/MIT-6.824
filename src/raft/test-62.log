=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
flag 99118 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 79221 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 5774753613890447376 (index 1) to leader 2
flag 14556 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 70074 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5774753613890447376 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5774753613890447376 1 1}]
------------------------------------------------------
flag 65197 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 37655 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5774753613890447376 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5774753613890447376 1 1}]
------------------------------------------------------
flag 87169 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 20010 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5774753613890447376 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5774753613890447376 1 1}]
------------------------------------------------------
flag 72073 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 30929 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5774753613890447376 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5774753613890447376 1 1}]
------------------------------------------------------
flag 45238 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 25597 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5774753613890447376 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5774753613890447376 1 1}]
------------------------------------------------------
flag 90151 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 3537 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5774753613890447376 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {5774753613890447376 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1568621634653055578 (index 2) to leader 2
flag 33822 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 56342 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {5774753613890447376 1 1} {1568621634653055578 1 2}]
------------------------------------------------------
flag 94865 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 80744 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {5774753613890447376 1 1} {1568621634653055578 1 2}]
------------------------------------------------------
client write log 6693338982086157333 (index 3) to leader 2
client write log 3446203824539255882 (index 4) to leader 2
client write log 6653803260440306250 (index 5) to leader 2
client write log 3590080552575198745 (index 6) to leader 2
client write log 2951825093603044267 (index 7) to leader 2
client write log 7086343031050660122 (index 8) to leader 2
client write log 7530052527441711072 (index 9) to leader 2
client write log 7060915988855042068 (index 10) to leader 2
client write log 378735869296075741 (index 11) to leader 2
client write log 8189042935025962647 (index 12) to leader 2
client write log 3363154372740197080 (index 13) to leader 2
client write log 2263619268660278888 (index 14) to leader 2
flag 77246 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 63432 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{<nil> 0 0} {5774753613890447376 1 1} {1568621634653055578 1 2} {6693338982086157333 1 3} {3446203824539255882 1 4} {6653803260440306250 1 5} {3590080552575198745 1 6} {2951825093603044267 1 7} {7086343031050660122 1 8} {7530052527441711072 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=14
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 79984 term 1 leader 2 nextIndex[1]: 15  matchIndex[1]: 14
term 1 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=15
update matchIndex[1]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=14
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4089702329456332244 (index 15) to leader 2
term 1 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 69974 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 58974 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 16->15
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 16->15
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 49248 term 3 leader 2 nextIndex[1]: 15  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
flag 95195 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 90093 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
flag 45305 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 50887 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
flag 51467 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 82181 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
flag 14701 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 97614 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
flag 95747 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 1175 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
flag 24380 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 2338 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
flag 14574 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 73502 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
flag 52143 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 680 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
flag 11899 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 3139 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
flag 97420 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 45443 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
flag 79299 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 63329 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
flag 8850 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 62968 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
flag 81725 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 40318 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
flag 75378 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 43977 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
flag 9506 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 13920 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
flag 14110 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 84239 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
flag 58725 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 55349 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
flag 61046 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 59707 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15}]
------------------------------------------------------
client write log 4089702329456332244 (index 16) to leader 2
flag 73192 term 3 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 92208 term 3 leader 2 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15} {4089702329456332244 3 16}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15} {4089702329456332244 3 16}]
------------------------------------------------------
flag 2414 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 38534 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15} {4089702329456332244 3 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15} {4089702329456332244 3 16}]
------------------------------------------------------
flag 65376 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 21202 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15} {4089702329456332244 3 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15} {4089702329456332244 3 16}]
------------------------------------------------------
flag 83325 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 95569 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15} {4089702329456332244 3 16}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15} {4089702329456332244 3 16}]
------------------------------------------------------
flag 94736 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 55048 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15} {4089702329456332244 3 16}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15} {4089702329456332244 3 16}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97235 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 45984 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15} {4089702329456332244 3 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15} {4089702329456332244 3 16}]
------------------------------------------------------
flag 20228 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 57828 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15} {4089702329456332244 3 16}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15} {4089702329456332244 3 16}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 20123 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 82174 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 83870 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 49408 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 27331 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 91216 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 93312 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 72965 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 1
term 4 server 0 become leader
------------------------------------------------------
flag 69003 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 62105 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15} {4089702329456332244 3 16}]
------------------------------------------------------
client write log 8785579047334174340 (index 17) to leader 0
flag 67017 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 21865 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 16355 term 4 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 65187 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15} {4089702329456332244 3 16} {8785579047334174340 4 17}]
------------------------------------------------------
flag 28943 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 80397 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 76136 term 4 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 24802 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=18
update matchIndex[1]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15} {4089702329456332244 3 16} {8785579047334174340 4 17}]
------------------------------------------------------
client write log 1879129745439219863 (index 18) to leader 0
client write log 4741543223015004735 (index 19) to leader 0
client write log 1916574795132688529 (index 20) to leader 0
client write log 8171223449317317329 (index 21) to leader 0
client write log 5472458045028870293 (index 22) to leader 0
client write log 7782242788137092050 (index 23) to leader 0
flag 16073 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 58728 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 78533 term 4 leader 0 nextIndex[1]: 18  matchIndex[1]: 17
term 4 leader 0 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 88087 term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 1 9} {7060915988855042068 1 10} {378735869296075741 1 11} {8189042935025962647 1 12} {3363154372740197080 1 13} {2263619268660278888 1 14} {4089702329456332244 1 15} {4089702329456332244 3 16} {8785579047334174340 4 17} {1879129745439219863 4 18} {4741543223015004735 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=23
-------------------------------------------------------------
flag 73769 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 43256 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 17022 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=23
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6386048151432133314 (index 17) to leader 2
flag 58283 term 3 leader 2 nextIndex[0]: 17  matchIndex[0]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 25935 term 3 leader 2 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 2 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58432 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 17  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot success
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
flag 42935 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 53127 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
flag 74954 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 84172 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
flag 96783 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 26185 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55797 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 98074 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
flag 67177 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 7766 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
flag 86289 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 85943 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
flag 38365 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 29618 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
flag 6144 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 88749 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
flag 9356 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 21206 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
flag 40255 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 11447 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
flag 99184 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 73002 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 24->23
------------------------------------------------------
flag 37106 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 23
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 23 args.LastIncludedIndex 19
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47581 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 19414 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
flag 27770 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 66496 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
flag 8717 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 35013 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
flag 81245 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 8352 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
flag 47002 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 84198 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 802 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 16282 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
flag 11785 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 76767 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=24
update matchIndex[2]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=24
update matchIndex[1]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23}]
------------------------------------------------------
client write log 6386048151432133314 (index 24) to leader 0
flag 45001 term 4 leader 0 nextIndex[1]: 24  matchIndex[1]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
flag 31489 term 4 leader 0 nextIndex[2]: 24  matchIndex[2]: 23
term 4 leader 0 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:23 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23} {6386048151432133314 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23} {6386048151432133314 4 24}]
------------------------------------------------------
flag 79025 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 41874 term 4 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23} {6386048151432133314 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23} {6386048151432133314 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 25->24
------------------------------------------------------
flag 13084 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 24
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 24 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23} {6386048151432133314 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82408 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 19293 term 4 leader 0 nextIndex[2]: 20  matchIndex[2]: 19
term 4 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23} {6386048151432133314 4 24}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23} {6386048151432133314 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10981 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 35179 term 4 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23} {6386048151432133314 4 24}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23} {6386048151432133314 4 24}]
------------------------------------------------------
flag 35600 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 32291 term 4 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23} {6386048151432133314 4 24}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=25
update matchIndex[2]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23} {6386048151432133314 4 24}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5548762188164373153 (index 25) to leader 0
flag 39301 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 41704 term 4 leader 0 nextIndex[2]: 25  matchIndex[2]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23} {6386048151432133314 4 24} {5548762188164373153 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59754 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 1185 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23} {6386048151432133314 4 24} {5548762188164373153 4 25}]
------------------------------------------------------
client write log 6185594624268436673 (index 26) to leader 0
client write log 8897247876943344825 (index 27) to leader 0
client write log 8721867312867347184 (index 28) to leader 0
client write log 1671781331663746285 (index 29) to leader 0
client write log 6402595797712388762 (index 30) to leader 0
client write log 2624241140465290516 (index 31) to leader 0
client write log 1761976766439794619 (index 32) to leader 0
client write log 840275946141597257 (index 33) to leader 0
client write log 4772372463207534593 (index 34) to leader 0
client write log 7132641238404336774 (index 35) to leader 0
client write log 2740319539626563874 (index 36) to leader 0
client write log 3532591690326137515 (index 37) to leader 0
flag 46824 term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 16123 term 4 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 19} {1916574795132688529 4 20} {8171223449317317329 4 21} {5472458045028870293 4 22} {7782242788137092050 4 23} {6386048151432133314 4 24} {5548762188164373153 4 25} {6185594624268436673 4 26} {8897247876943344825 4 27} {8721867312867347184 4 28} {1671781331663746285 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=37
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 0 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 17785 term 4 leader 0 nextIndex[2]: 38  matchIndex[2]: 37
term 4 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=38
update matchIndex[2]=37
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=37
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2247702500653022617 (index 38) to leader 0
term 4 server 2 not vote for server 1, 日志不够新
term 4 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 1 vote for server 0
term 6 server 0 get vote from server 1
term 6 server 0 become leader
------------------------------------------------------
term 6 server 2 vote for server 0
term 6 server 0 get outdate rpc reply from server 2
flag 96440 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 82585 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 39->38
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 39->38
------------------------------------------------------
term 6 leader 0 nextIndex[1]: 25  matchIndex[1]: 0
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 87180 term 6 leader 0 nextIndex[2]: 38  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 37  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 InstallSnapshot success
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 30 matchIndex[1] 29 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90715 term 6 leader 0 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 0 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 35688 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67086 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 56793 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
flag 91315 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 9154 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
flag 47190 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 46111 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
flag 40152 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 92666 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
flag 69846 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 72906 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
flag 20081 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 36523 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
term 6 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58461 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 67499 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14657 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 66733 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
flag 65390 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 709 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
flag 108 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 81325 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
flag 85901 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 9613 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
flag 49587 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 64294 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
flag 83651 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 91874 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
flag 3533 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 67353 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19964 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 51501 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
update nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30687 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 7205 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
update nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16280 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 64868 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=37
leader log:
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=39
update matchIndex[1]=38
update leader CommitIndex=37
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38}]
------------------------------------------------------
client write log 2247702500653022617 (index 39) to leader 0
flag 10016 term 6 leader 0 nextIndex[1]: 39  matchIndex[1]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
flag 62318 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 4 leaderCommit: 37 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:37 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:37 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38} {2247702500653022617 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 29} {6402595797712388762 4 30} {2624241140465290516 4 31} {1761976766439794619 4 32} {840275946141597257 4 33} {4772372463207534593 4 34} {7132641238404336774 4 35} {2740319539626563874 4 36} {3532591690326137515 4 37} {2247702500653022617 4 38} {2247702500653022617 6 39}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 53539 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 20364 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 51419 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 3957 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57939 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 8201 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
flag 59906 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 63500 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
flag 54930 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 14971 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
flag 46518 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 39643 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3760500149712007580 (index 40) to leader 0
flag 18234 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 95472 term 6 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3760500149712007580 6 40}]
------------------------------------------------------
flag 40234 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 10623 term 6 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {3760500149712007580 6 40}]
------------------------------------------------------
client write log 1906151472909944524 (index 41) to leader 0
client write log 7944032708416194851 (index 42) to leader 0
client write log 8544633772739202077 (index 43) to leader 0
client write log 1130498623390590351 (index 44) to leader 0
client write log 4952307899141188966 (index 45) to leader 0
client write log 269568537461666158 (index 46) to leader 0
client write log 5548758526055779444 (index 47) to leader 0
flag 95660 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 46781 term 6 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47}]
------------------------------------------------------
flag 48156 term 6 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 6 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 77706 term 6 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 6 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5406612447444662093 (index 48) to leader 0
term 6 server 2 not vote for server 1, 日志不够新
term 6 server 0 not vote for server 1, 日志不够新
term 8 server 2 vote for server 0
term 8 server 1 vote for server 0
term 8 server 0 get vote from server 1
term 8 server 0 become leader
------------------------------------------------------
term 8 server 0 get outdate rpc reply from server 2
flag 52368 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 36386 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 49->48
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 49->48
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37433 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 93011 term 8 leader 0 nextIndex[2]: 48  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
flag 90621 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 85642 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
term 8 server 2 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48223 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 42390 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38514 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 96344 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
flag 69392 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 14898 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
flag 64538 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 21050 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27616 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 27880 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
flag 74114 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 13174 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70174 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 77090 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
flag 23672 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 80041 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
flag 78960 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 71530 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
flag 7261 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 60229 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
flag 57500 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 88504 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
flag 55692 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 16097 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
flag 77304 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 23742 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
flag 3564 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 54056 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
flag 54851 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 21140 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53222 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 27329 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=49
update matchIndex[1]=48
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48}]
------------------------------------------------------
client write log 5406612447444662093 (index 49) to leader 0
flag 64429 term 8 leader 0 nextIndex[1]: 49  matchIndex[1]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
flag 54572 term 8 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 47 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48} {5406612447444662093 8 49}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {3760500149712007580 6 40} {1906151472909944524 6 41} {7944032708416194851 6 42} {8544633772739202077 6 43} {1130498623390590351 6 44} {4952307899141188966 6 45} {269568537461666158 6 46} {5548758526055779444 6 47} {5406612447444662093 6 48} {5406612447444662093 8 49}]
------------------------------------------------------
term 8 Server0 start snapshot! index=49
term 8 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 64053 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 3828 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 Server1 start snapshot! index=49
term 8 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 8 Server2 start snapshot! index=49
term 8 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 85478 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 37563 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
flag 36031 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 79808 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
flag 88449 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 35009 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
flag 91726 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 54932 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
flag 68519 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 1093 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
term 8 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
[{snapshot 8 49}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 77732 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 20601 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 48547 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 59203 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 21502 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 78285 term 8 leader 0 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 50->49
------------------------------------------------------
flag 14258 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 49
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 9 server 1 vote for server 2
term 9 server 2 get vote from server 1
term 9 server 2 become leader
------------------------------------------------------
flag 46260 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 94218 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=50
update matchIndex[1]=49
update leader CommitIndex=49
leader log:
[{snapshot 8 49}]
------------------------------------------------------
client write log 1763390879939852104 (index 50) to leader 2
flag 68970 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 49
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 67842 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
flag 30309 term 9 leader 2 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {1763390879939852104 9 50}]
------------------------------------------------------
flag 62926 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 49
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 52625 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 98715 term 9 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=51
update matchIndex[1]=50
update leader CommitIndex=50
leader log:
[{snapshot 8 49} {1763390879939852104 9 50}]
------------------------------------------------------
client write log 7898916855048472983 (index 51) to leader 2
flag 49120 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 49
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 48176 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 17044 term 9 leader 2 nextIndex[1]: 51  matchIndex[1]: 50
term 9 leader 2 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 9 leaderCommit: 50 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {1763390879939852104 9 50} {7898916855048472983 9 51}]
------------------------------------------------------
flag 37727 term 8 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 8 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 49 
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 49
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 32794 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 64634 term 9 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 9 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {1763390879939852104 9 50} {7898916855048472983 9 51}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 50->49
------------------------------------------------------
!!!!!!connect server 0
client write log 6973467431749736976 (index 52) to leader 2
term 8 leader 0 nextIndex[1]: 0  matchIndex[1]: 49
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 8 leader 0 nextIndex[2]: 0  matchIndex[2]: 49
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 9 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70008 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 73944 term 9 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 9 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {1763390879939852104 9 50} {7898916855048472983 9 51} {6973467431749736976 9 52}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {1763390879939852104 9 50} {7898916855048472983 9 51} {6973467431749736976 9 52}]
------------------------------------------------------
flag 76314 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 17620 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {1763390879939852104 9 50} {7898916855048472983 9 51} {6973467431749736976 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {1763390879939852104 9 50} {7898916855048472983 9 51} {6973467431749736976 9 52}]
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82890 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 68138 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {1763390879939852104 9 50} {7898916855048472983 9 51} {6973467431749736976 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {1763390879939852104 9 50} {7898916855048472983 9 51} {6973467431749736976 9 52}]
------------------------------------------------------
flag 95292 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 62059 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {1763390879939852104 9 50} {7898916855048472983 9 51} {6973467431749736976 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {1763390879939852104 9 50} {7898916855048472983 9 51} {6973467431749736976 9 52}]
------------------------------------------------------
flag 10788 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 41168 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {1763390879939852104 9 50} {7898916855048472983 9 51} {6973467431749736976 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {1763390879939852104 9 50} {7898916855048472983 9 51} {6973467431749736976 9 52}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82985 term 9 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 63566 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {1763390879939852104 9 50} {7898916855048472983 9 51} {6973467431749736976 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {1763390879939852104 9 50} {7898916855048472983 9 51} {6973467431749736976 9 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 53->52
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 52
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 81728 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 0 InstallSnapshot fail
rf.commitIndex 52 args.LastIncludedIndex 49
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 8 49} {1763390879939852104 9 50} {7898916855048472983 9 51} {6973467431749736976 9 52}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1539563352909685512 (index 53) to leader 2
flag 72029 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 68033 term 9 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {1763390879939852104 9 50} {7898916855048472983 9 51} {6973467431749736976 9 52} {1539563352909685512 9 53}]
------------------------------------------------------
flag 31864 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 53 
------------------------------------------------------
flag 54641 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {1763390879939852104 9 50} {7898916855048472983 9 51} {6973467431749736976 9 52} {1539563352909685512 9 53}]
------------------------------------------------------
client write log 2384432702207400269 (index 54) to leader 2
client write log 3129492690604973705 (index 55) to leader 2
client write log 965602763834351675 (index 56) to leader 2
client write log 4561665781402967752 (index 57) to leader 2
client write log 8924204156773734310 (index 58) to leader 2
client write log 300844035884437422 (index 59) to leader 2
client write log 7298768599981837439 (index 60) to leader 2
client write log 5542806560086297751 (index 61) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 50->49
------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 49
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 25287 term 9 leader 2 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 2 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 8 49} {1763390879939852104 9 50} {7898916855048472983 9 51} {6973467431749736976 9 52} {1539563352909685512 9 53} {2384432702207400269 9 54} {3129492690604973705 9 55} {965602763834351675 9 56} {4561665781402967752 9 57} {8924204156773734310 9 58} {300844035884437422 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=61
-------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 49
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 54414 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=61
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2061375899400379627 (index 62) to leader 2
term 9 leader 2 nextIndex[0]: 0  matchIndex[0]: 49
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 2758 term 9 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 9 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 10 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 1 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 0 vote for server 2
term 11 server 2 become leader
------------------------------------------------------
term 11 server 2 get outdate rpc reply from server 0
flag 38105 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 44146 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 63->62
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 53  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 16899 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86758 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 95262 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
flag 6806 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 74304 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31972 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 8688 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
term 11 server 1 not vote for server 0, 任期不够新
term 11 server 0 get outdate rpc reply from server 1
flag 32033 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 21860 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
flag 58366 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 65761 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
flag 10291 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 1785 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
flag 67060 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 88715 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
term 11 server 2 not vote for server 0, 任期不够新
term 11 server 0 get outdate rpc reply from server 2
flag 94140 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 2366 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
flag 99236 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 47334 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
flag 43652 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 50894 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
flag 8174 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 3193 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6574 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 98189 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
flag 53106 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 57887 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
flag 53871 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 42852 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
flag 11880 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 63340 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
flag 23296 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 64551 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
flag 86251 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 56429 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=63
update matchIndex[0]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62}]
------------------------------------------------------
client write log 2061375899400379627 (index 63) to leader 2
flag 92512 term 11 leader 2 nextIndex[0]: 63  matchIndex[0]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 34793 term 11 leader 2 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 2 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62} {2061375899400379627 11 63}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62} {2061375899400379627 11 63}]
------------------------------------------------------
flag 74835 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 82109 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62} {2061375899400379627 11 63}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62} {2061375899400379627 11 63}]
------------------------------------------------------
flag 233 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 17384 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62} {2061375899400379627 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62} {2061375899400379627 11 63}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39909 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 3955 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62} {2061375899400379627 11 63}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62} {2061375899400379627 11 63}]
------------------------------------------------------
flag 10317 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 55115 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62} {2061375899400379627 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62} {2061375899400379627 11 63}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13468 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 78625 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=64
update matchIndex[0]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62} {2061375899400379627 11 63}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62} {2061375899400379627 11 63}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8070654416603010843 (index 64) to leader 2
flag 49471 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 42257 term 11 leader 2 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62} {2061375899400379627 11 63} {8070654416603010843 11 64}]
------------------------------------------------------
flag 98377 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 83289 term 11 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 11 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62} {2061375899400379627 11 63} {8070654416603010843 11 64}]
------------------------------------------------------
client write log 6476365948155967889 (index 65) to leader 2
client write log 1020867224613916154 (index 66) to leader 2
client write log 1685056832340226174 (index 67) to leader 2
client write log 8682554654819947216 (index 68) to leader 2
client write log 954007191320256252 (index 69) to leader 2
client write log 1779615099025709693 (index 70) to leader 2
client write log 3748922108843670097 (index 71) to leader 2
client write log 2334623161022660190 (index 72) to leader 2
client write log 510881992591505762 (index 73) to leader 2
client write log 947641386921930521 (index 74) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29188 term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 60770 term 11 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 11 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 9 59} {7298768599981837439 9 60} {5542806560086297751 9 61} {2061375899400379627 9 62} {2061375899400379627 11 63} {8070654416603010843 11 64} {6476365948155967889 11 65} {1020867224613916154 11 66} {1685056832340226174 11 67} {8682554654819947216 11 68} {954007191320256252 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74}]
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=74
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 64  matchIndex[0]: 63
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 18308 term 11 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 11 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74}]
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=74
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1427477681284917960 (index 75) to leader 2
term 11 server 2 not vote for server 0, 日志不够新
term 11 server 1 not vote for server 0, 日志不够新
term 13 server 1 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 0 vote for server 2
term 13 server 2 get outdate rpc reply from server 0
flag 97437 term 13 leader 2 nextIndex[0]: 76  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 97002 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 76->75
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 76->75
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 64  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 16065 term 13 leader 2 nextIndex[1]: 75  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
term 13 server 0 not vote for server 2, 任期不够新
term 13 server 2 get outdate rpc reply from server 0
flag 41154 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 95070 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
flag 80641 term 13 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 6490 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
term 13 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57700 term 13 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 94779 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
flag 93269 term 13 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 9956 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
term 13 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 2005 term 13 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 98182 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
flag 20065 term 13 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 63884 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
flag 50939 term 13 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 51430 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
flag 91835 term 13 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 59571 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
flag 66307 term 13 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 10758 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24080 term 13 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 64704 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
flag 62688 term 13 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 46147 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87780 term 13 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 42802 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
flag 83663 term 13 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 14232 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
flag 79818 term 13 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 39792 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
flag 15447 term 13 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 47846 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32457 term 13 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 76453 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
flag 41534 term 13 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 52645 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=76
update matchIndex[0]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75}]
------------------------------------------------------
client write log 1427477681284917960 (index 76) to leader 2
flag 7128 term 13 leader 2 nextIndex[0]: 76  matchIndex[0]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 22346 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75} {1427477681284917960 13 76}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75} {1427477681284917960 13 76}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21511 term 13 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 36268 term 13 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75} {1427477681284917960 13 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75} {1427477681284917960 13 76}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1188 term 13 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 12746 term 13 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75} {1427477681284917960 13 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75} {1427477681284917960 13 76}]
------------------------------------------------------
flag 51952 term 13 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 46949 term 13 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75} {1427477681284917960 13 76}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75} {1427477681284917960 13 76}]
------------------------------------------------------
flag 25075 term 13 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 10127 term 13 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75} {1427477681284917960 13 76}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75} {1427477681284917960 13 76}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25654 term 13 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 74008 term 13 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75} {1427477681284917960 13 76}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75} {1427477681284917960 13 76}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16187 term 13 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 40441 term 13 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75} {1427477681284917960 13 76}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75} {1427477681284917960 13 76}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 13938 term 13 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 87212 term 13 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 13 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14375 term 13 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 53967 term 13 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 51508 term 13 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 53207 term 13 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 14 server 1 vote for server 0
term 14 server 0 get vote from server 1
term 14 server 0 become leader
------------------------------------------------------
flag 36086 term 13 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 98591 term 13 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 22313 term 14 leader 0 nextIndex[1]: 77  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 54864 term 14 leader 0 nextIndex[2]: 77  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75} {1427477681284917960 13 76}]
------------------------------------------------------
client write log 8633940083885522166 (index 77) to leader 0
flag 88829 term 14 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 14 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 58165 term 14 leader 0 nextIndex[2]: 77  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 88499 term 13 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 17188 term 13 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75} {1427477681284917960 13 76} {8633940083885522166 14 77}]
------------------------------------------------------
flag 97947 term 13 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 35311 term 13 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 24384 term 14 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 14 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 77 
------------------------------------------------------
flag 8292 term 14 leader 0 nextIndex[2]: 77  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75} {1427477681284917960 13 76} {8633940083885522166 14 77}]
------------------------------------------------------
client write log 306606550071144186 (index 78) to leader 0
client write log 208308644871612266 (index 79) to leader 0
client write log 8750282190888304734 (index 80) to leader 0
client write log 3865647899327560815 (index 81) to leader 0
client write log 2578568844976537087 (index 82) to leader 0
client write log 7522407349775885656 (index 83) to leader 0
client write log 581508764698437525 (index 84) to leader 0
client write log 3237924166901366552 (index 85) to leader 0
client write log 6337686021030761052 (index 86) to leader 0
client write log 6409879278707776160 (index 87) to leader 0
client write log 7664755642146321906 (index 88) to leader 0
client write log 2058441843935327637 (index 89) to leader 0
client write log 1893778427611525026 (index 90) to leader 0
client write log 3740782474820015535 (index 91) to leader 0
flag 81536 term 13 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 57998 term 13 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 44155 term 14 leader 0 nextIndex[1]: 78  matchIndex[1]: 77
term 14 leader 0 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 77 
------------------------------------------------------
flag 72717 term 14 leader 0 nextIndex[2]: 77  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 77 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 11 69} {1779615099025709693 11 70} {3748922108843670097 11 71} {2334623161022660190 11 72} {510881992591505762 11 73} {947641386921930521 11 74} {1427477681284917960 11 75} {1427477681284917960 13 76} {8633940083885522166 14 77} {306606550071144186 14 78} {208308644871612266 14 79} {8750282190888304734 14 80} {3865647899327560815 14 81} {2578568844976537087 14 82} {7522407349775885656 14 83} {581508764698437525 14 84} {3237924166901366552 14 85} {6337686021030761052 14 86} {6409879278707776160 14 87} {7664755642146321906 14 88} {2058441843935327637 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
term 14 Server0 start snapshot! index=79
term 14 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=91
-------------------------------------------------------------
term 14 Server0 start snapshot! index=89
term 14 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=91
-------------------------------------------------------------
flag 64364 term 14 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 14 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 77  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
flag 35910 term 13 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
flag 9028 term 13 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
term 14 Server1 start snapshot! index=79
term 14 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=91
-------------------------------------------------------------
term 14 Server1 start snapshot! index=89
term 14 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=91
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7027106463743520 (index 77) to leader 2
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 77->76
------------------------------------------------------
flag 70449 term 13 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 13 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 13 leaderCommit: 76 
------------------------------------------------------
term 13 leader 2 nextIndex[1]: 0  matchIndex[1]: 76
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 76099 term 14 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 14 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 77  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 2 InstallSnapshot success
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
term 14 server 0 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 14 rf.commitIndex 89 rf.lastApplied 89
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81748 term 14 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 14 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 64234 term 14 leader 0 nextIndex[2]: 90  matchIndex[2]: 89
term 14 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 14 server 0 not vote for server 2, 日志不够新
term 15 server 2 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 1 not vote for server 2, 日志不够新
term 16 server 2 vote for server 0
term 16 server 1 vote for server 0
term 16 server 0 get vote from server 2
term 16 server 0 become leader
------------------------------------------------------
term 16 server 0 get outdate rpc reply from server 1
flag 24872 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 7878 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 92->91
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70493 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 39206 term 16 leader 0 nextIndex[2]: 90  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
flag 43290 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 97221 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
flag 20878 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 61844 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28162 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 51054 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
term 16 server 2 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 2
flag 88139 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 26840 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94578 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 95875 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
flag 32769 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 12424 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
flag 68535 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 69379 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
flag 78203 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 38696 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
flag 97793 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 37397 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
flag 31983 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 54631 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
flag 93195 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 22330 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
flag 29566 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 61624 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42298 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 37070 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7520 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 84886 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
flag 71725 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 2653 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61097 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 12109 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=92
update matchIndex[2]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91}]
------------------------------------------------------
client write log 7027106463743520 (index 92) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90025 term 16 leader 0 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
flag 67119 term 16 leader 0 nextIndex[2]: 92  matchIndex[2]: 91
term 16 leader 0 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 14 leaderCommit: 91 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91} {7027106463743520 16 92}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91} {7027106463743520 16 92}]
------------------------------------------------------
flag 37699 term 16 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 63291 term 16 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 16 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91} {7027106463743520 16 92}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91} {7027106463743520 16 92}]
------------------------------------------------------
flag 68083 term 16 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 7543 term 16 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 16 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91} {7027106463743520 16 92}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91} {7027106463743520 16 92}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82632 term 16 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 31423 term 16 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 16 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91} {7027106463743520 16 92}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91} {7027106463743520 16 92}]
------------------------------------------------------
flag 18501 term 16 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 40970 term 16 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 16 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91} {7027106463743520 16 92}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91} {7027106463743520 16 92}]
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28181 term 16 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 13565 term 16 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 16 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91} {7027106463743520 16 92}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91} {7027106463743520 16 92}]
------------------------------------------------------
flag 99352 term 16 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 16340 term 16 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 16 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=93
update matchIndex[2]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91} {7027106463743520 16 92}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=93
update matchIndex[1]=92
update leader CommitIndex=92
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91} {7027106463743520 16 92}]
------------------------------------------------------
!!!!!!diconnect server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6777214767188337832 (index 93) to leader 0
flag 15183 term 16 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 37742 term 16 leader 0 nextIndex[2]: 93  matchIndex[2]: 92
term 16 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91} {7027106463743520 16 92} {6777214767188337832 16 93}]
------------------------------------------------------
flag 41736 term 16 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 81151 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91} {7027106463743520 16 92} {6777214767188337832 16 93}]
------------------------------------------------------
client write log 7683104799476253491 (index 94) to leader 0
client write log 4071745032768545715 (index 95) to leader 0
client write log 6780093723022317012 (index 96) to leader 0
client write log 3579398673814794649 (index 97) to leader 0
client write log 7414509080416822228 (index 98) to leader 0
client write log 1132991684755354742 (index 99) to leader 0
client write log 6488796649613192733 (index 100) to leader 0
client write log 4214617639442922091 (index 101) to leader 0
client write log 6109519636538266171 (index 102) to leader 0
client write log 1079094569874566525 (index 103) to leader 0
flag 36678 term 16 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 0 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 74742 term 16 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 16 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 14 89} {1893778427611525026 14 90} {3740782474820015535 14 91} {7027106463743520 16 92} {6777214767188337832 16 93} {7683104799476253491 16 94} {4071745032768545715 16 95} {6780093723022317012 16 96} {3579398673814794649 16 97} {7414509080416822228 16 98} {1132991684755354742 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103}]
------------------------------------------------------
term 16 Server0 start snapshot! index=99
term 16 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=103
-------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 93  matchIndex[1]: 92
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 76951 term 16 leader 0 nextIndex[2]: 104  matchIndex[2]: 103
term 16 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103}]
------------------------------------------------------
term 16 Server2 start snapshot! index=99
term 16 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=103
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1763789632244780054 (index 104) to leader 0
term 16 server 2 not vote for server 1, 日志不够新
term 16 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 vote for server 0
term 18 server 0 get vote from server 2
term 18 server 0 become leader
------------------------------------------------------
term 18 server 1 vote for server 0
term 18 server 0 get outdate rpc reply from server 1
flag 95868 term 18 leader 0 nextIndex[1]: 105  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 82958 term 18 leader 0 nextIndex[2]: 105  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 105->104
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 105->104
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 93  matchIndex[1]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 35442 term 18 leader 0 nextIndex[2]: 104  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 18 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 16 rf.commitIndex 99 rf.lastApplied 99
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 100 matchIndex[1] 99 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
flag 42352 term 18 leader 0 nextIndex[1]: 100  matchIndex[1]: 99
term 18 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 90196 term 18 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
flag 87491 term 18 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 9814 term 18 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
flag 81649 term 18 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 77356 term 18 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
flag 67831 term 18 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 44007 term 18 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
flag 37259 term 18 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 11463 term 18 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
flag 49612 term 18 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 23929 term 18 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75648 term 18 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 39792 term 18 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92944 term 18 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 30352 term 18 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
flag 42167 term 18 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 49735 term 18 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
flag 45046 term 18 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 89806 term 18 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90559 term 18 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 55685 term 18 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
flag 91037 term 18 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 17606 term 18 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
flag 91991 term 18 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 28089 term 18 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
flag 84647 term 18 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 48205 term 18 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
flag 56963 term 18 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 26062 term 18 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
flag 24741 term 18 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 35733 term 18 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
flag 24363 term 18 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 61720 term 18 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=105
update matchIndex[2]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=105
update matchIndex[1]=104
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1763789632244780054 (index 105) to leader 0
flag 75333 term 18 leader 0 nextIndex[1]: 105  matchIndex[1]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
flag 46501 term 18 leader 0 nextIndex[2]: 105  matchIndex[2]: 104
term 18 leader 0 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104} {1763789632244780054 18 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104} {1763789632244780054 18 105}]
------------------------------------------------------
flag 25535 term 18 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 18 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 72577 term 18 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 18 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104} {1763789632244780054 18 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104} {1763789632244780054 18 105}]
------------------------------------------------------
flag 15077 term 18 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 18 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 53972 term 18 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 18 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104} {1763789632244780054 18 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104} {1763789632244780054 18 105}]
------------------------------------------------------
flag 81717 term 18 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 18 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 66486 term 18 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 18 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104} {1763789632244780054 18 105}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104} {1763789632244780054 18 105}]
------------------------------------------------------
flag 52027 term 18 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 18 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 24859 term 18 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 18 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104} {1763789632244780054 18 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104} {1763789632244780054 18 105}]
------------------------------------------------------
flag 89279 term 18 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 18 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 6003 term 18 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 18 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104} {1763789632244780054 18 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104} {1763789632244780054 18 105}]
------------------------------------------------------
flag 88968 term 18 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 18 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 61345 term 18 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 18 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
term 18 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104} {1763789632244780054 18 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104} {1763789632244780054 18 105}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 107520018176788929 (index 106) to leader 0
flag 87464 term 18 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 18 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
flag 68322 term 18 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 18 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 18 leaderCommit: 105 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104} {1763789632244780054 18 105} {107520018176788929 18 106}]
------------------------------------------------------
flag 6758 term 18 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 18 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 18 leaderCommit: 106 
------------------------------------------------------
flag 808 term 18 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 106 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104} {1763789632244780054 18 105} {107520018176788929 18 106}]
------------------------------------------------------
client write log 2944402814485519874 (index 107) to leader 0
client write log 650120363371167318 (index 108) to leader 0
client write log 3116539099990019514 (index 109) to leader 0
client write log 547115009429250079 (index 110) to leader 0
client write log 7447089728208498775 (index 111) to leader 0
client write log 1911572381325905199 (index 112) to leader 0
client write log 3605536525556480363 (index 113) to leader 0
flag 21998 term 18 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 18 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 18 leaderCommit: 106 
------------------------------------------------------
flag 72977 term 18 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 18 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 18 leaderCommit: 106 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 99} {6488796649613192733 16 100} {4214617639442922091 16 101} {6109519636538266171 16 102} {1079094569874566525 16 103} {1763789632244780054 16 104} {1763789632244780054 18 105} {107520018176788929 18 106} {2944402814485519874 18 107} {650120363371167318 18 108} {3116539099990019514 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113}]
------------------------------------------------------
term 18 Server0 start snapshot! index=109
term 18 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=113
-------------------------------------------------------------
term 18 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 246 term 18 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 18 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 106->105
------------------------------------------------------
term 18 Server2 start snapshot! index=109
term 18 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=113
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6929227401241505436 (index 114) to leader 0
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 105
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 24316 term 18 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 18 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 19 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 1 vote for server 0
term 20 server 0 get vote from server 1
term 20 server 0 become leader
------------------------------------------------------
term 20 server 2 vote for server 0
term 20 server 0 get outdate rpc reply from server 2
flag 91794 term 20 leader 0 nextIndex[1]: 115  matchIndex[1]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 76699 term 20 leader 0 nextIndex[2]: 115  matchIndex[2]: 0
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 115->114
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
term 20 leader 0 nextIndex[1]: 106  matchIndex[1]: 0
term 20 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 69422 term 20 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 InstallSnapshot success
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 18 rf.commitIndex 109 rf.lastApplied 109
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
flag 2287 term 20 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 20 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 29479 term 20 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
flag 54166 term 20 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 67059 term 20 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
term 20 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11735 term 20 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 25141 term 20 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
flag 6357 term 20 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 17798 term 20 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
flag 98110 term 20 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 10224 term 20 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
flag 36579 term 20 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 54959 term 20 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
flag 71311 term 20 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 1256 term 20 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
flag 53687 term 20 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 35145 term 20 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
flag 91218 term 20 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 69432 term 20 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
flag 17155 term 20 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 9281 term 20 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
flag 9972 term 20 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 9321 term 20 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
flag 71129 term 20 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 32116 term 20 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
flag 6964 term 20 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 31428 term 20 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
flag 58698 term 20 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 14147 term 20 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
flag 46810 term 20 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 46036 term 20 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
flag 17992 term 20 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 3156 term 20 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
flag 73218 term 20 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 23447 term 20 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114}]
------------------------------------------------------
client write log 6929227401241505436 (index 115) to leader 0
flag 69951 term 20 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 94104 term 20 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77923 term 20 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 23080 term 20 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115}]
------------------------------------------------------
flag 49294 term 20 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 91714 term 20 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115}]
------------------------------------------------------
flag 10750 term 20 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 53300 term 20 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115}]
------------------------------------------------------
flag 35356 term 20 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 86996 term 20 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115}]
------------------------------------------------------
flag 77992 term 20 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 87031 term 20 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115}]
------------------------------------------------------
flag 41386 term 20 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 13026 term 20 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 79053 term 20 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 99668 term 20 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 7517 term 20 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 25551 term 20 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 42295 term 20 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 81915 term 20 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 vote for server 2
term 21 server 2 get vote from server 1
term 21 server 2 become leader
------------------------------------------------------
flag 19899 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 69738 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115}]
------------------------------------------------------
flag 49213 term 20 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 88541 term 20 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3227061286238700965 (index 116) to leader 2
flag 30307 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 16566 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115} {3227061286238700965 21 116}]
------------------------------------------------------
flag 52954 term 20 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 60727 term 20 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 42713 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 33966 term 20 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 46906 term 20 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 61149 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115} {3227061286238700965 21 116}]
------------------------------------------------------
client write log 4967682078439314176 (index 117) to leader 2
flag 68970 term 20 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 72079 term 20 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 2347 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 4571 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115} {3227061286238700965 21 116} {4967682078439314176 21 117}]
------------------------------------------------------
flag 97493 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 0
flag 19940 term 20 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 3254 term 20 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 39973 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 21 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115} {3227061286238700965 21 116} {4967682078439314176 21 117}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8412774669037381874 (index 118) to leader 2
flag 86484 term 20 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 64891 term 20 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 56605 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 117 
------------------------------------------------------
flag 26224 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 21 leaderCommit: 117 
------------------------------------------------------
term 21 server 2 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 21 server 1 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115} {3227061286238700965 21 116} {4967682078439314176 21 117} {8412774669037381874 21 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115} {3227061286238700965 21 116} {4967682078439314176 21 117} {8412774669037381874 21 118}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22977 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 50830 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115} {3227061286238700965 21 116} {4967682078439314176 21 117} {8412774669037381874 21 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115} {3227061286238700965 21 116} {4967682078439314176 21 117} {8412774669037381874 21 118}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54774 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 39701 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115} {3227061286238700965 21 116} {4967682078439314176 21 117} {8412774669037381874 21 118}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115} {3227061286238700965 21 116} {4967682078439314176 21 117} {8412774669037381874 21 118}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70363 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 94362 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115} {3227061286238700965 21 116} {4967682078439314176 21 117} {8412774669037381874 21 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115} {3227061286238700965 21 116} {4967682078439314176 21 117} {8412774669037381874 21 118}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62837 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 64985 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115} {3227061286238700965 21 116} {4967682078439314176 21 117} {8412774669037381874 21 118}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115} {3227061286238700965 21 116} {4967682078439314176 21 117} {8412774669037381874 21 118}]
------------------------------------------------------
flag 23449 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 85530 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115} {3227061286238700965 21 116} {4967682078439314176 21 117} {8412774669037381874 21 118}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115} {3227061286238700965 21 116} {4967682078439314176 21 117} {8412774669037381874 21 118}]
------------------------------------------------------
flag 9377 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 50474 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=119
update matchIndex[1]=118
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115} {3227061286238700965 21 116} {4967682078439314176 21 117} {8412774669037381874 21 118}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=119
update matchIndex[0]=118
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115} {3227061286238700965 21 116} {4967682078439314176 21 117} {8412774669037381874 21 118}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3186910448434182383 (index 119) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16077 term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
flag 42672 term 21 leader 2 nextIndex[1]: 119  matchIndex[1]: 118
term 21 leader 2 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 21 leaderCommit: 118 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 18 109} {547115009429250079 18 110} {7447089728208498775 18 111} {1911572381325905199 18 112} {3605536525556480363 18 113} {6929227401241505436 18 114} {6929227401241505436 20 115} {3227061286238700965 21 116} {4967682078439314176 21 117} {8412774669037381874 21 118} {3186910448434182383 21 119}]
------------------------------------------------------
term 21 Server2 start snapshot! index=119
term 21 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 58195 term 21 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 21 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=120
update matchIndex[1]=119
update leader CommitIndex=119
leader log:
[{snapshot 21 119}]
------------------------------------------------------
term 21 Server1 start snapshot! index=119
term 21 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=119
-------------------------------------------------------------
client write log 606600286515681409 (index 120) to leader 2
client write log 7915399391559724673 (index 121) to leader 2
client write log 2595149917067548669 (index 122) to leader 2
client write log 7092316210280170749 (index 123) to leader 2
client write log 7906279707275503426 (index 124) to leader 2
client write log 4073087582830972595 (index 125) to leader 2
client write log 1256430334467857310 (index 126) to leader 2
client write log 8719338653407148142 (index 127) to leader 2
client write log 3344568355621498798 (index 128) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 59155 term 21 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 21 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 119 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128}]
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 119  matchIndex[0]: 118
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 10790 term 21 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128}]
------------------------------------------------------
!!!!!!connect server 0
client write log 9114132752311671697 (index 129) to leader 2
term 21 server 2 not vote for server 0, 日志不够新
term 21 server 1 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 1 vote for server 2
term 23 server 0 vote for server 2
term 23 server 2 get vote from server 1
term 23 server 2 become leader
------------------------------------------------------
term 23 server 2 get outdate rpc reply from server 0
flag 78571 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 55769 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 130->129
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 130->129
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 119  matchIndex[0]: 0
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 74493 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 0 InstallSnapshot success
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 120 matchIndex[0] 119 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 21 rf.commitIndex 119 rf.lastApplied 119
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10936 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 47314 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
flag 21210 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 1173 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
term 23 server 2 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 2
flag 67488 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 65695 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86916 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 81174 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
flag 69716 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 57984 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36666 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 6035 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72806 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 19779 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91643 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 61659 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
flag 24806 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 26078 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
flag 2797 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 28683 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3439 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 83553 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
flag 54058 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 41668 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
flag 36613 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 70584 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
flag 17789 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 37215 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
flag 68829 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 34608 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
flag 43098 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 70005 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31002 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 76361 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
flag 28728 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 3034 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129}]
------------------------------------------------------
client write log 9114132752311671697 (index 130) to leader 2
flag 34776 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 19383 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129} {9114132752311671697 23 130}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 119} {606600286515681409 21 120} {7915399391559724673 21 121} {2595149917067548669 21 122} {7092316210280170749 21 123} {7906279707275503426 21 124} {4073087582830972595 21 125} {1256430334467857310 21 126} {8719338653407148142 21 127} {3344568355621498798 21 128} {9114132752311671697 21 129} {9114132752311671697 23 130}]
------------------------------------------------------
term 23 Server2 start snapshot! index=129
term 23 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
flag 83441 term 23 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 96509 term 23 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {9114132752311671697 23 130}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {9114132752311671697 23 130}]
------------------------------------------------------
term 23 Server1 start snapshot! index=129
term 23 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
term 23 Server0 start snapshot! index=129
term 23 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=130
-------------------------------------------------------------
flag 43090 term 23 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 18229 term 23 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {9114132752311671697 23 130}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {9114132752311671697 23 130}]
------------------------------------------------------
flag 56798 term 23 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 71841 term 23 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {9114132752311671697 23 130}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {9114132752311671697 23 130}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81713 term 23 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 82035 term 23 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {9114132752311671697 23 130}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {9114132752311671697 23 130}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25870 term 23 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 28452 term 23 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {9114132752311671697 23 130}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {9114132752311671697 23 130}]
------------------------------------------------------
flag 28776 term 23 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 72537 term 23 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {9114132752311671697 23 130}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=131
update matchIndex[0]=130
update leader CommitIndex=130
leader log:
[{snapshot 21 129} {9114132752311671697 23 130}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4811581104542535890 (index 131) to leader 2
flag 35073 term 23 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 35897 term 23 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {9114132752311671697 23 130} {4811581104542535890 23 131}]
------------------------------------------------------
flag 26679 term 23 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 40882 term 23 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 23 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=132
update matchIndex[1]=131
update leader CommitIndex=131
leader log:
[{snapshot 21 129} {9114132752311671697 23 130} {4811581104542535890 23 131}]
------------------------------------------------------
client write log 2546330779812399440 (index 132) to leader 2
client write log 7245113570076630454 (index 133) to leader 2
client write log 9135815159413532716 (index 134) to leader 2
client write log 6924433436068699185 (index 135) to leader 2
client write log 1393750010331924467 (index 136) to leader 2
client write log 5126974871534537870 (index 137) to leader 2
client write log 102684945534207193 (index 138) to leader 2
client write log 4068671506754421265 (index 139) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92590 term 23 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
flag 53874 term 23 leader 2 nextIndex[1]: 132  matchIndex[1]: 131
term 23 leader 2 sendAppendEntries PrevLogIndex: 131  PrevLogTerm: 23 leaderCommit: 131 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:131 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 129} {9114132752311671697 23 130} {4811581104542535890 23 131} {2546330779812399440 23 132} {7245113570076630454 23 133} {9135815159413532716 23 134} {6924433436068699185 23 135} {1393750010331924467 23 136} {5126974871534537870 23 137} {102684945534207193 23 138} {4068671506754421265 23 139}]
------------------------------------------------------
term 23 Server2 start snapshot! index=139
term 23 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
term 23 leader 2 nextIndex[0]: 131  matchIndex[0]: 130
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 69891 term 23 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 23 Server1 start snapshot! index=139
term 23 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7694536632709198433 (index 140) to leader 2
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 2 not vote for server 0, 日志不够新
term 23 server 1 not vote for server 0, 日志不够新
term 25 server 1 vote for server 2
term 25 server 2 get vote from server 1
term 25 server 2 become leader
------------------------------------------------------
term 25 server 0 vote for server 2
term 25 server 2 get outdate rpc reply from server 0
flag 91825 term 25 leader 2 nextIndex[0]: 141  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 97462 term 25 leader 2 nextIndex[1]: 141  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 1 AppendEntries false prev日志不匹配
term 25 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 141->140
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 141->140
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 131  matchIndex[0]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 66446 term 25 leader 2 nextIndex[1]: 140  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
term 25 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 23 rf.commitIndex 139 rf.lastApplied 139
term 25 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52630 term 25 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 25 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 54450 term 25 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
flag 80343 term 25 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 51952 term 25 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
flag 85142 term 25 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 76230 term 25 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41222 term 25 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 48689 term 25 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37339 term 25 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 97405 term 25 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
flag 87140 term 25 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 22978 term 25 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49986 term 25 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 14475 term 25 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
flag 14026 term 25 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 14572 term 25 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
flag 20156 term 25 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 35113 term 25 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1815 term 25 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 16835 term 25 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
flag 798 term 25 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 96308 term 25 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
term 25 server 0 not vote for server 2, 任期不够新
term 25 server 2 get outdate rpc reply from server 0
flag 48106 term 25 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 22156 term 25 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
flag 73148 term 25 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 22980 term 25 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
term 25 server 0 not vote for server 1, 任期不够新
term 25 server 1 get outdate rpc reply from server 0
flag 71432 term 25 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 12119 term 25 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
flag 24247 term 25 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 98695 term 25 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
flag 82107 term 25 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 13809 term 25 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61913 term 25 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 46648 term 25 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=139
leader log:
[{snapshot 23 139} {7694536632709198433 23 140}]
------------------------------------------------------
client write log 7694536632709198433 (index 141) to leader 2
flag 70190 term 25 leader 2 nextIndex[0]: 141  matchIndex[0]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 74940 term 25 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 25 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7694536632709198433 23 140} {7694536632709198433 25 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7694536632709198433 23 140} {7694536632709198433 25 141}]
------------------------------------------------------
flag 73431 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 19142 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7694536632709198433 23 140} {7694536632709198433 25 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7694536632709198433 23 140} {7694536632709198433 25 141}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63218 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 41372 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7694536632709198433 23 140} {7694536632709198433 25 141}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7694536632709198433 23 140} {7694536632709198433 25 141}]
------------------------------------------------------
flag 49755 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 31113 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7694536632709198433 23 140} {7694536632709198433 25 141}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7694536632709198433 23 140} {7694536632709198433 25 141}]
------------------------------------------------------
flag 7113 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 50210 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7694536632709198433 23 140} {7694536632709198433 25 141}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7694536632709198433 23 140} {7694536632709198433 25 141}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53307 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 27826 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7694536632709198433 23 140} {7694536632709198433 25 141}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7694536632709198433 23 140} {7694536632709198433 25 141}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 82219 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 15926 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 49228 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 20225 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 40674 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 19204 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 26 server 1 vote for server 0
term 26 server 0 get vote from server 1
term 26 server 0 become leader
------------------------------------------------------
flag 47685 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 1146 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 63305 term 26 leader 0 nextIndex[1]: 142  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 89216 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=142
update matchIndex[1]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {7694536632709198433 23 140} {7694536632709198433 25 141}]
------------------------------------------------------
client write log 987839523860290102 (index 142) to leader 0
flag 60397 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 51156 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 20528 term 26 leader 0 nextIndex[1]: 142  matchIndex[1]: 141
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 20087 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7694536632709198433 23 140} {7694536632709198433 25 141} {987839523860290102 26 142}]
------------------------------------------------------
flag 5795 term 25 leader 2 nextIndex[0]: 142  matchIndex[0]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 29154 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 66531 term 26 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 39970 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {7694536632709198433 23 140} {7694536632709198433 25 141} {987839523860290102 26 142}]
------------------------------------------------------
client write log 8051195596558777767 (index 143) to leader 0
client write log 7946135620337299771 (index 144) to leader 0
client write log 7144292990796442739 (index 145) to leader 0
client write log 3046989956460056956 (index 146) to leader 0
client write log 9188305787521735718 (index 147) to leader 0
client write log 8638760653256034047 (index 148) to leader 0
client write log 3724306866332607539 (index 149) to leader 0
client write log 6979738539765251209 (index 150) to leader 0
client write log 4564398840697290449 (index 151) to leader 0
client write log 8014105823241818254 (index 152) to leader 0
client write log 4699310315249874320 (index 153) to leader 0
client write log 78787245990475353 (index 154) to leader 0
term 25 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 142->141
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 0  matchIndex[0]: 141
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 15428 term 25 leader 2 nextIndex[1]: 142  matchIndex[1]: 141
term 25 leader 2 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 141 
------------------------------------------------------
flag 98695 term 26 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 26 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 26 leaderCommit: 142 
------------------------------------------------------
flag 83665 term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 25 leaderCommit: 142 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 23 139} {7694536632709198433 23 140} {7694536632709198433 25 141} {987839523860290102 26 142} {8051195596558777767 26 143} {7946135620337299771 26 144} {7144292990796442739 26 145} {3046989956460056956 26 146} {9188305787521735718 26 147} {8638760653256034047 26 148} {3724306866332607539 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
term 26 Server0 start snapshot! index=149
term 26 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=154
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 142->141
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 0  matchIndex[0]: 141
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
term 25 leader 2 nextIndex[1]: 0  matchIndex[1]: 141
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 37642 term 26 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 26 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
term 26 Server1 start snapshot! index=149
term 26 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=154
-------------------------------------------------------------
!!!!!!connect server 2
client write log 155128077956309646 (index 142) to leader 2
term 25 leader 2 nextIndex[0]: 0  matchIndex[0]: 141
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
term 25 leader 2 nextIndex[1]: 0  matchIndex[1]: 141
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
term 26 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56418 term 26 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 26 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 142  matchIndex[2]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 2 InstallSnapshot success
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 26 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 26 rf.commitIndex 149 rf.lastApplied 149
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 1 not vote for server 2, 日志不够新
term 26 server 0 not vote for server 2, 日志不够新
term 28 server 2 vote for server 0
term 28 server 0 get vote from server 2
term 28 server 0 become leader
------------------------------------------------------
term 28 server 1 vote for server 0
term 28 server 0 get outdate rpc reply from server 1
flag 28556 term 28 leader 0 nextIndex[1]: 155  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 63151 term 28 leader 0 nextIndex[2]: 155  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 155->154
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41212 term 28 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 6479 term 28 leader 0 nextIndex[2]: 150  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
flag 52626 term 28 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 4174 term 28 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59756 term 28 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 37258 term 28 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
flag 95859 term 28 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 64963 term 28 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
flag 30774 term 28 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 63207 term 28 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
flag 26169 term 28 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 89019 term 28 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
flag 2931 term 28 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 23126 term 28 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
flag 87166 term 28 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 49214 term 28 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
flag 23564 term 28 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 18911 term 28 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
flag 13729 term 28 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 95607 term 28 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92361 term 28 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 67647 term 28 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51851 term 28 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 66273 term 28 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28249 term 28 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 71057 term 28 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
flag 66232 term 28 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 57078 term 28 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
flag 74765 term 28 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 39948 term 28 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
flag 95811 term 28 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 47091 term 28 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
flag 26722 term 28 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 43056 term 28 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37522 term 28 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 46808 term 28 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154}]
------------------------------------------------------
client write log 155128077956309646 (index 155) to leader 0
flag 2146 term 28 leader 0 nextIndex[1]: 155  matchIndex[1]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
flag 49388 term 28 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 28 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 26 leaderCommit: 154 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154} {155128077956309646 28 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154} {155128077956309646 28 155}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1469 term 28 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 28 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
flag 11509 term 28 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154} {155128077956309646 28 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154} {155128077956309646 28 155}]
------------------------------------------------------
flag 73225 term 28 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 28 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
flag 62671 term 28 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154} {155128077956309646 28 155}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154} {155128077956309646 28 155}]
------------------------------------------------------
flag 82717 term 28 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 28 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
flag 93846 term 28 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154} {155128077956309646 28 155}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154} {155128077956309646 28 155}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11062 term 28 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 28 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
flag 21389 term 28 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154} {155128077956309646 28 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154} {155128077956309646 28 155}]
------------------------------------------------------
flag 31487 term 28 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 28 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
flag 89490 term 28 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154} {155128077956309646 28 155}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154} {155128077956309646 28 155}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 9170131243967204802 (index 156) to leader 0
flag 17459 term 28 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 28 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
flag 18386 term 28 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 28 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 155 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154} {155128077956309646 28 155} {9170131243967204802 28 156}]
------------------------------------------------------
flag 75768 term 28 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 28 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 41775 term 28 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 28 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154} {155128077956309646 28 155} {9170131243967204802 28 156}]
------------------------------------------------------
client write log 8193151616278760048 (index 157) to leader 0
client write log 5558916412917992212 (index 158) to leader 0
client write log 2309297699167756167 (index 159) to leader 0
client write log 5659963977158409997 (index 160) to leader 0
client write log 8840539817320471486 (index 161) to leader 0
client write log 4554269984814426563 (index 162) to leader 0
client write log 6979112610625598673 (index 163) to leader 0
client write log 2093593580784753855 (index 164) to leader 0
client write log 9028613208361880214 (index 165) to leader 0
flag 93881 term 28 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 28 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
flag 95499 term 28 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 28 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 28 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 26 149} {6979738539765251209 26 150} {4564398840697290449 26 151} {8014105823241818254 26 152} {4699310315249874320 26 153} {78787245990475353 26 154} {155128077956309646 28 155} {9170131243967204802 28 156} {8193151616278760048 28 157} {5558916412917992212 28 158} {2309297699167756167 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165}]
------------------------------------------------------
term 28 Server0 start snapshot! index=159
term 28 server0 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=165
-------------------------------------------------------------
term 28 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
flag 82230 term 28 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 28 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165}]
------------------------------------------------------
term 28 Server2 start snapshot! index=159
term 28 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=165
-------------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!connect server 1
client write log 5077991268264648763 (index 166) to leader 0
term 28 server 2 not vote for server 1, 日志不够新
term 28 server 0 not vote for server 1, 日志不够新
term 30 server 1 vote for server 0
term 30 server 2 vote for server 0
term 30 server 0 get vote from server 1
term 30 server 0 become leader
------------------------------------------------------
term 30 server 0 get outdate rpc reply from server 2
flag 85022 term 30 leader 0 nextIndex[1]: 167  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 779 term 30 leader 0 nextIndex[2]: 167  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 30 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 167->166
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 167->166
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 156  matchIndex[1]: 0
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
flag 50605 term 30 leader 0 nextIndex[2]: 166  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 1 InstallSnapshot success
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 28 rf.commitIndex 159 rf.lastApplied 159
term 30 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61785 term 30 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 30 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 44073 term 30 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
flag 7626 term 30 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 12773 term 30 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93685 term 30 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 34107 term 30 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
flag 30525 term 30 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 32445 term 30 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
flag 35286 term 30 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 53723 term 30 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
flag 97390 term 30 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 97705 term 30 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37411 term 30 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 87292 term 30 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
flag 23065 term 30 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 39351 term 30 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
flag 22584 term 30 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 25260 term 30 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
flag 64032 term 30 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 90143 term 30 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
flag 87396 term 30 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 70393 term 30 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
flag 71931 term 30 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 85654 term 30 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
term 30 server 2 not vote for server 0, 任期不够新
term 30 server 0 get outdate rpc reply from server 2
flag 88031 term 30 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 4618 term 30 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84068 term 30 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 11718 term 30 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
flag 9276 term 30 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 8661 term 30 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
flag 6010 term 30 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 52776 term 30 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
flag 1695 term 30 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 25665 term 30 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
flag 58519 term 30 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 92798 term 30 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=165
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166}]
------------------------------------------------------
client write log 5077991268264648763 (index 167) to leader 0
flag 89207 term 30 leader 0 nextIndex[1]: 167  matchIndex[1]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
flag 53117 term 30 leader 0 nextIndex[2]: 167  matchIndex[2]: 166
term 30 leader 0 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 165 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166} {5077991268264648763 30 167}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166} {5077991268264648763 30 167}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69745 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
flag 23394 term 30 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166} {5077991268264648763 30 167}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166} {5077991268264648763 30 167}]
------------------------------------------------------
flag 27211 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
flag 34525 term 30 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166} {5077991268264648763 30 167}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166} {5077991268264648763 30 167}]
------------------------------------------------------
flag 63984 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
flag 61400 term 30 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166} {5077991268264648763 30 167}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166} {5077991268264648763 30 167}]
------------------------------------------------------
flag 843 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
flag 57472 term 30 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166} {5077991268264648763 30 167}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166} {5077991268264648763 30 167}]
------------------------------------------------------
flag 28949 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
flag 4704 term 30 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166} {5077991268264648763 30 167}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166} {5077991268264648763 30 167}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3763665727838961421 (index 168) to leader 0
flag 92838 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
flag 39488 term 30 leader 0 nextIndex[2]: 168  matchIndex[2]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 167 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166} {5077991268264648763 30 167} {3763665727838961421 30 168}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78681 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 168 
------------------------------------------------------
flag 39750 term 30 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 30 leaderCommit: 168 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166} {5077991268264648763 30 167} {3763665727838961421 30 168}]
------------------------------------------------------
client write log 9011870879746068757 (index 169) to leader 0
client write log 8798273261753376112 (index 170) to leader 0
client write log 5303829333768865676 (index 171) to leader 0
client write log 2257022025894528660 (index 172) to leader 0
client write log 7826447108692140932 (index 173) to leader 0
client write log 2823336208128154062 (index 174) to leader 0
client write log 2646301865349775796 (index 175) to leader 0
flag 30160 term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 30 leaderCommit: 168 
------------------------------------------------------
flag 38448 term 30 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 30 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 30 leaderCommit: 168 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 28 159} {5659963977158409997 28 160} {8840539817320471486 28 161} {4554269984814426563 28 162} {6979112610625598673 28 163} {2093593580784753855 28 164} {9028613208361880214 28 165} {5077991268264648763 28 166} {5077991268264648763 30 167} {3763665727838961421 30 168} {9011870879746068757 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175}]
------------------------------------------------------
term 30 Server0 start snapshot! index=169
term 30 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=175
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
flag 64239 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=175
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175}]
------------------------------------------------------
term 30 Server2 start snapshot! index=169
term 30 server2 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=175
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1410211373605291695 (index 176) to leader 0
term 30 leader 0 nextIndex[1]: 168  matchIndex[1]: 167
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
flag 77509 term 30 leader 0 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 0 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 30 leaderCommit: 175 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175} {1410211373605291695 30 176}]
------------------------------------------------------
term 31 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 32 server 2 vote for server 0
term 32 server 0 get vote from server 2
term 32 server 0 become leader
------------------------------------------------------
term 32 server 1 vote for server 0
term 32 server 0 get outdate rpc reply from server 1
flag 79396 term 32 leader 0 nextIndex[1]: 177  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 47594 term 32 leader 0 nextIndex[2]: 177  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 32 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 177->176
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175} {1410211373605291695 30 176}]
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 168  matchIndex[1]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
flag 2842 term 32 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 32 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175} {1410211373605291695 30 176}]
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 30 rf.commitIndex 169 rf.lastApplied 169
flag 37698 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 98594 term 32 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175} {1410211373605291695 30 176}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175} {1410211373605291695 30 176}]
------------------------------------------------------
flag 41614 term 32 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 96278 term 32 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175} {1410211373605291695 30 176}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175} {1410211373605291695 30 176}]
------------------------------------------------------
flag 91539 term 32 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 21761 term 32 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175} {1410211373605291695 30 176}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175} {1410211373605291695 30 176}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41758 term 32 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 42475 term 32 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175} {1410211373605291695 30 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175} {1410211373605291695 30 176}]
------------------------------------------------------
flag 57441 term 32 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 17592 term 32 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175} {1410211373605291695 30 176}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175} {1410211373605291695 30 176}]
------------------------------------------------------
flag 27201 term 32 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 58020 term 32 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175} {1410211373605291695 30 176}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175} {1410211373605291695 30 176}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 28415 term 32 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 34554 term 32 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 98042 term 32 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 98102 term 32 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 39245 term 32 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 61126 term 32 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 33 server 1 vote for server 2
term 33 server 2 get vote from server 1
term 33 server 2 become leader
------------------------------------------------------
flag 20163 term 33 leader 2 nextIndex[0]: 177  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 57305 term 33 leader 2 nextIndex[1]: 177  matchIndex[1]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
client write log 8684316607120163711 (index 177) to leader 2
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175} {1410211373605291695 30 176} {8684316607120163711 33 177}]
------------------------------------------------------
flag 30045 term 32 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 91996 term 32 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 61714 term 33 leader 2 nextIndex[0]: 177  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 60867 term 33 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 33 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175} {1410211373605291695 30 176} {8684316607120163711 33 177}]
------------------------------------------------------
flag 96676 term 32 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 61798 term 32 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 66636 term 33 leader 2 nextIndex[0]: 177  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
flag 11482 term 33 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 33 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 33 leaderCommit: 177 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=177
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175} {1410211373605291695 30 176} {8684316607120163711 33 177}]
------------------------------------------------------
flag 34546 term 32 leader 0 nextIndex[1]: 177  matchIndex[1]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 60825 term 32 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
client write log 6634682143201486508 (index 178) to leader 2
term 32 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 177->176
------------------------------------------------------
flag 30362 term 33 leader 2 nextIndex[0]: 177  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
flag 16616 term 33 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 33 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 33 leaderCommit: 177 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175} {1410211373605291695 30 176} {8684316607120163711 33 177} {6634682143201486508 33 178}]
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 0  matchIndex[1]: 176
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
flag 7409 term 32 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 32 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 177->176
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 38083 term 33 leader 2 nextIndex[0]: 177  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 82093 term 33 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 33 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 33 leaderCommit: 178 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175} {1410211373605291695 30 176} {8684316607120163711 33 177} {6634682143201486508 33 178}]
------------------------------------------------------
!!!!!!connect server 0
client write log 3024424088275775722 (index 179) to leader 2
term 32 leader 0 nextIndex[1]: 0  matchIndex[1]: 176
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
term 32 leader 0 nextIndex[2]: 0  matchIndex[2]: 176
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 30
------------------------------------------------------
term 33 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 32 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10440 term 33 leader 2 nextIndex[0]: 177  matchIndex[0]: 0
term 33 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 84168 term 33 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 33 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 33 leaderCommit: 178 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175} {1410211373605291695 30 176} {8684316607120163711 33 177} {6634682143201486508 33 178} {3024424088275775722 33 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 169} {8798273261753376112 30 170} {5303829333768865676 30 171} {2257022025894528660 30 172} {7826447108692140932 30 173} {2823336208128154062 30 174} {2646301865349775796 30 175} {1410211373605291695 30 176} {8684316607120163711 33 177} {6634682143201486508 33 178} {3024424088275775722 33 179}]
------------------------------------------------------
term 33 Server2 start snapshot! index=179
term 33 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
flag 33678 term 33 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 33 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 4514 term 33 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
term 33 Server1 start snapshot! index=179
term 33 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
term 33 Server0 start snapshot! index=179
term 33 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
flag 79227 term 33 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 33 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 31101 term 33 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
flag 40459 term 33 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 33 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 2166 term 33 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
flag 40438 term 33 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 33 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 28378 term 33 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
flag 65806 term 33 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 33 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 78279 term 33 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 33 179}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6685919315345214623 (index 180) to leader 2
flag 10411 term 33 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 33 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
flag 42596 term 33 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 33 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 33 leaderCommit: 179 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {6685919315345214623 33 180}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 180->179
------------------------------------------------------
term 33 leader 2 nextIndex[0]: 0  matchIndex[0]: 179
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 33
------------------------------------------------------
flag 59433 term 33 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 33 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 33 179} {6685919315345214623 33 180}]
------------------------------------------------------
client write log 1595985175640824673 (index 181) to leader 2
client write log 7722648990912601785 (index 182) to leader 2
client write log 4785424922875275897 (index 183) to leader 2
client write log 555329544540934988 (index 184) to leader 2
client write log 4613904271293947082 (index 185) to leader 2
client write log 8858593360114013220 (index 186) to leader 2
client write log 1743145206652917719 (index 187) to leader 2
client write log 4207781842381374828 (index 188) to leader 2
client write log 2674313805693423866 (index 189) to leader 2
client write log 9056419553765667751 (index 190) to leader 2
client write log 4542534903700063480 (index 191) to leader 2
client write log 714662083056235980 (index 192) to leader 2
client write log 7355116178329883367 (index 193) to leader 2
client write log 7639300913379618465 (index 194) to leader 2
term 33 leader 2 nextIndex[0]: 0  matchIndex[0]: 179
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 33
------------------------------------------------------
flag 657 term 33 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 33 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 33 leaderCommit: 180 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 179} {6685919315345214623 33 180} {1595985175640824673 33 181} {7722648990912601785 33 182} {4785424922875275897 33 183} {555329544540934988 33 184} {4613904271293947082 33 185} {8858593360114013220 33 186} {1743145206652917719 33 187} {4207781842381374828 33 188} {2674313805693423866 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194}]
------------------------------------------------------
term 33 Server2 start snapshot! index=189
term 33 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=194
-------------------------------------------------------------
term 33 leader 2 nextIndex[0]: 0  matchIndex[0]: 179
term 33 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
flag 8061 term 33 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 33 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 Server1 start snapshot! index=189
term 33 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=194
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2916218177280702093 (index 195) to leader 2
term 33 server 2 not vote for server 0, 日志不够新
term 33 server 1 not vote for server 0, 日志不够新
term 35 server 1 vote for server 2
term 35 server 0 vote for server 2
term 35 server 2 get vote from server 1
term 35 server 2 become leader
------------------------------------------------------
term 35 server 2 get outdate rpc reply from server 0
flag 15291 term 35 leader 2 nextIndex[0]: 196  matchIndex[0]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 18146 term 35 leader 2 nextIndex[1]: 196  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 35 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 196->195
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 196->195
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 leader 2 nextIndex[0]: 180  matchIndex[0]: 0
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 33
------------------------------------------------------
flag 56290 term 35 leader 2 nextIndex[1]: 195  matchIndex[1]: 0
term 35 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 0 InstallSnapshot success
------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 33 rf.commitIndex 189 rf.lastApplied 189
flag 58283 term 35 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 35 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 41387 term 35 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76309 term 35 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 39967 term 35 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
flag 37659 term 35 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 1412 term 35 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7815 term 35 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 95470 term 35 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
flag 55106 term 35 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 22150 term 35 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77035 term 35 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 1433 term 35 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
flag 32336 term 35 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 71770 term 35 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
flag 79979 term 35 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 8987 term 35 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
flag 20621 term 35 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 55317 term 35 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85437 term 35 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 89916 term 35 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
term 35 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23399 term 35 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 94613 term 35 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
flag 40103 term 35 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 66730 term 35 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
flag 36935 term 35 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 7832 term 35 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
flag 53160 term 35 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 67645 term 35 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
flag 91706 term 35 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 75733 term 35 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1868 term 35 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 64638 term 35 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8253 term 35 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 80688 term 35 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17189 term 35 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 83214 term 35 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=194
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195}]
------------------------------------------------------
client write log 2916218177280702093 (index 196) to leader 2
term 35 server 0 not vote for server 2, 任期不够新
term 35 server 2 get outdate rpc reply from server 0
flag 13466 term 35 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
flag 58991 term 35 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 35 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195} {2916218177280702093 35 196}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195} {2916218177280702093 35 196}]
------------------------------------------------------
flag 33362 term 35 leader 2 nextIndex[0]: 197  matchIndex[0]: 196
term 35 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
flag 52430 term 35 leader 2 nextIndex[1]: 197  matchIndex[1]: 196
term 35 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195} {2916218177280702093 35 196}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195} {2916218177280702093 35 196}]
------------------------------------------------------
flag 66427 term 35 leader 2 nextIndex[0]: 197  matchIndex[0]: 196
term 35 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
flag 87669 term 35 leader 2 nextIndex[1]: 197  matchIndex[1]: 196
term 35 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195} {2916218177280702093 35 196}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195} {2916218177280702093 35 196}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43394 term 35 leader 2 nextIndex[0]: 197  matchIndex[0]: 196
term 35 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
flag 22691 term 35 leader 2 nextIndex[1]: 197  matchIndex[1]: 196
term 35 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195} {2916218177280702093 35 196}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195} {2916218177280702093 35 196}]
------------------------------------------------------
flag 55649 term 35 leader 2 nextIndex[0]: 197  matchIndex[0]: 196
term 35 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
flag 79336 term 35 leader 2 nextIndex[1]: 197  matchIndex[1]: 196
term 35 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195} {2916218177280702093 35 196}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195} {2916218177280702093 35 196}]
------------------------------------------------------
flag 65919 term 35 leader 2 nextIndex[0]: 197  matchIndex[0]: 196
term 35 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
flag 90982 term 35 leader 2 nextIndex[1]: 197  matchIndex[1]: 196
term 35 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195} {2916218177280702093 35 196}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195} {2916218177280702093 35 196}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3138554746945427926 (index 197) to leader 2
flag 91942 term 35 leader 2 nextIndex[0]: 197  matchIndex[0]: 196
term 35 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
flag 69722 term 35 leader 2 nextIndex[1]: 197  matchIndex[1]: 196
term 35 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 196 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=197
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195} {2916218177280702093 35 196} {3138554746945427926 35 197}]
------------------------------------------------------
flag 81150 term 35 leader 2 nextIndex[0]: 197  matchIndex[0]: 196
term 35 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
flag 68478 term 35 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 35 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=198
update matchIndex[1]=197
update leader CommitIndex=197
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195} {2916218177280702093 35 196} {3138554746945427926 35 197}]
------------------------------------------------------
client write log 5409827382270473679 (index 198) to leader 2
client write log 2274286855593745304 (index 199) to leader 2
client write log 4827473034918078389 (index 200) to leader 2
client write log 5955368435265199162 (index 201) to leader 2
client write log 236555636989468019 (index 202) to leader 2
client write log 2398050897465581797 (index 203) to leader 2
client write log 7208500146026493493 (index 204) to leader 2
client write log 7781744354470025085 (index 205) to leader 2
client write log 3495706096105101092 (index 206) to leader 2
client write log 8860314617369652995 (index 207) to leader 2
client write log 5831137008769725092 (index 208) to leader 2
client write log 2950711138461093593 (index 209) to leader 2
client write log 1634117700934817641 (index 210) to leader 2
client write log 8449397539931579862 (index 211) to leader 2
client write log 8159537782593195849 (index 212) to leader 2
flag 38398 term 35 leader 2 nextIndex[0]: 197  matchIndex[0]: 196
term 35 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
flag 1077 term 35 leader 2 nextIndex[1]: 198  matchIndex[1]: 197
term 35 leader 2 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 35 leaderCommit: 197 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 33 189} {9056419553765667751 33 190} {4542534903700063480 33 191} {714662083056235980 33 192} {7355116178329883367 33 193} {7639300913379618465 33 194} {2916218177280702093 33 195} {2916218177280702093 35 196} {3138554746945427926 35 197} {5409827382270473679 35 198} {2274286855593745304 35 199} {4827473034918078389 35 200} {5955368435265199162 35 201} {236555636989468019 35 202} {2398050897465581797 35 203} {7208500146026493493 35 204} {7781744354470025085 35 205} {3495706096105101092 35 206} {8860314617369652995 35 207} {5831137008769725092 35 208} {2950711138461093593 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212}]
------------------------------------------------------
term 35 Server2 start snapshot! index=199
term 35 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=212
-------------------------------------------------------------
term 35 Server2 start snapshot! index=209
term 35 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=212
-------------------------------------------------------------
term 35 server 2 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 2
term 35 leader 2 nextIndex[0]: 197  matchIndex[0]: 196
term 35 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
flag 74470 term 35 leader 2 nextIndex[1]: 213  matchIndex[1]: 212
term 35 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212}]
------------------------------------------------------
term 35 Server1 start snapshot! index=199
term 35 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=212
-------------------------------------------------------------
term 35 Server1 start snapshot! index=209
term 35 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=212
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4721016989935161110 (index 213) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 2 not vote for server 0, 日志不够新
term 35 server 1 not vote for server 0, 日志不够新
term 37 server 1 vote for server 2
term 37 server 0 vote for server 2
term 37 server 2 get vote from server 1
term 37 server 2 become leader
------------------------------------------------------
term 37 server 2 get outdate rpc reply from server 0
flag 97526 term 37 leader 2 nextIndex[0]: 214  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
flag 5586 term 37 leader 2 nextIndex[1]: 214  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 214->213
------------------------------------------------------
term 37 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 214->213
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 2 nextIndex[0]: 197  matchIndex[0]: 0
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
flag 45826 term 37 leader 2 nextIndex[1]: 213  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
term 37 server 0 InstallSnapshot success
------------------------------------------------------
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 35 rf.commitIndex 209 rf.lastApplied 209
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74498 term 37 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 37 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
flag 93881 term 37 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
flag 34750 term 37 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
flag 72707 term 37 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
flag 69090 term 37 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
flag 14995 term 37 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14263 term 37 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
flag 36742 term 37 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
flag 45513 term 37 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
flag 68222 term 37 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
flag 49805 term 37 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
flag 94618 term 37 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21740 term 37 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
flag 51944 term 37 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
term 37 server 0 not vote for server 1, 任期不够新
term 37 server 1 get outdate rpc reply from server 0
flag 63870 term 37 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
flag 13710 term 37 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
flag 62450 term 37 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
flag 14148 term 37 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
flag 54292 term 37 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
flag 31599 term 37 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
flag 46216 term 37 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
flag 76184 term 37 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
term 37 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30164 term 37 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
flag 14049 term 37 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
flag 14382 term 37 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
flag 70713 term 37 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
flag 57070 term 37 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
flag 43185 term 37 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
flag 90119 term 37 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
flag 53874 term 37 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3269 term 37 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
flag 39508 term 37 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
term 37 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12867 term 37 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
flag 21878 term 37 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
flag 52961 term 37 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
flag 73188 term 37 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=214
update matchIndex[1]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=212
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213}]
------------------------------------------------------
client write log 4721016989935161110 (index 214) to leader 2
flag 52961 term 37 leader 2 nextIndex[0]: 214  matchIndex[0]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
flag 27641 term 37 leader 2 nextIndex[1]: 214  matchIndex[1]: 213
term 37 leader 2 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 35 leaderCommit: 212 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84586 term 37 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 28442 term 37 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214}]
------------------------------------------------------
flag 75723 term 37 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 24936 term 37 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214}]
------------------------------------------------------
flag 52398 term 37 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 34113 term 37 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214}]
------------------------------------------------------
flag 49806 term 37 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 81623 term 37 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214}]
------------------------------------------------------
flag 69523 term 37 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 60785 term 37 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=215
update matchIndex[1]=214
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
flag 94607 term 37 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 7529 term 37 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 43029 term 37 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 52935 term 37 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 55232 term 37 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 7532 term 37 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
term 38 server 0 vote for server 1
term 38 server 1 get vote from server 0
term 38 server 1 become leader
------------------------------------------------------
flag 38288 term 38 leader 1 nextIndex[0]: 215  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 34638 term 38 leader 1 nextIndex[2]: 215  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214}]
------------------------------------------------------
client write log 447615888689745997 (index 215) to leader 1
flag 34055 term 37 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 90285 term 37 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 59988 term 38 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 9753 term 38 leader 1 nextIndex[2]: 215  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214} {447615888689745997 38 215}]
------------------------------------------------------
flag 67019 term 37 leader 2 nextIndex[0]: 215  matchIndex[0]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 48385 term 37 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 4490 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 215 
------------------------------------------------------
flag 10711 term 38 leader 1 nextIndex[2]: 215  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 215 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214} {447615888689745997 38 215}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 215->214
------------------------------------------------------
client write log 3260040606586118363 (index 216) to leader 1
term 37 leader 2 nextIndex[0]: 0  matchIndex[0]: 214
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
flag 11727 term 37 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 215->214
------------------------------------------------------
flag 97263 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 38 leaderCommit: 215 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214} {447615888689745997 38 215} {3260040606586118363 38 216}]
------------------------------------------------------
term 37 leader 2 nextIndex[0]: 0  matchIndex[0]: 214
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
flag 39673 term 37 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 26075 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214} {447615888689745997 38 215} {3260040606586118363 38 216}]
------------------------------------------------------
!!!!!!connect server 2
client write log 7409280752415135905 (index 217) to leader 1
term 37 leader 2 nextIndex[0]: 0  matchIndex[0]: 214
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
flag 84826 term 37 leader 2 nextIndex[1]: 215  matchIndex[1]: 214
term 37 leader 2 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
term 38 server 1 AppendEntries false 领导者任期过期 args.Term 37
------------------------------------------------------
term 38 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73564 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
term 38 server 2 InstallSnapshot fail
rf.commitIndex 214 args.LastIncludedIndex 209
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214} {447615888689745997 38 215} {3260040606586118363 38 216} {7409280752415135905 38 217}]
------------------------------------------------------
flag 61728 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 41972 term 38 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 38 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214} {447615888689745997 38 215} {3260040606586118363 38 216} {7409280752415135905 38 217}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214} {447615888689745997 38 215} {3260040606586118363 38 216} {7409280752415135905 38 217}]
------------------------------------------------------
flag 71017 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 44314 term 38 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214} {447615888689745997 38 215} {3260040606586118363 38 216} {7409280752415135905 38 217}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214} {447615888689745997 38 215} {3260040606586118363 38 216} {7409280752415135905 38 217}]
------------------------------------------------------
flag 68915 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 68406 term 38 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214} {447615888689745997 38 215} {3260040606586118363 38 216} {7409280752415135905 38 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214} {447615888689745997 38 215} {3260040606586118363 38 216} {7409280752415135905 38 217}]
------------------------------------------------------
flag 47855 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 96351 term 38 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214} {447615888689745997 38 215} {3260040606586118363 38 216} {7409280752415135905 38 217}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214} {447615888689745997 38 215} {3260040606586118363 38 216} {7409280752415135905 38 217}]
------------------------------------------------------
flag 66527 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 97549 term 38 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214} {447615888689745997 38 215} {3260040606586118363 38 216} {7409280752415135905 38 217}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214} {447615888689745997 38 215} {3260040606586118363 38 216} {7409280752415135905 38 217}]
------------------------------------------------------
flag 86244 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
flag 46356 term 38 leader 1 nextIndex[2]: 218  matchIndex[2]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214} {447615888689745997 38 215} {3260040606586118363 38 216} {7409280752415135905 38 217}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=218
update matchIndex[0]=217
update leader CommitIndex=217
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214} {447615888689745997 38 215} {3260040606586118363 38 216} {7409280752415135905 38 217}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 218->217
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8629480418576671925 (index 218) to leader 1
flag 41186 term 38 leader 1 nextIndex[0]: 218  matchIndex[0]: 217
term 38 leader 1 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 38 leaderCommit: 217 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 217
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214} {447615888689745997 38 215} {3260040606586118363 38 216} {7409280752415135905 38 217} {8629480418576671925 38 218}]
------------------------------------------------------
flag 14684 term 38 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 38 leaderCommit: 218 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 217
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214} {447615888689745997 38 215} {3260040606586118363 38 216} {7409280752415135905 38 217} {8629480418576671925 38 218}]
------------------------------------------------------
client write log 5056333674345431669 (index 219) to leader 1
client write log 8926250208308539279 (index 220) to leader 1
client write log 3388559608708727467 (index 221) to leader 1
client write log 528349588663163121 (index 222) to leader 1
client write log 783983673289169821 (index 223) to leader 1
client write log 5243192982542515465 (index 224) to leader 1
client write log 1155866897691938938 (index 225) to leader 1
client write log 7448748711639546464 (index 226) to leader 1
client write log 5363627792552930386 (index 227) to leader 1
flag 85142 term 38 leader 1 nextIndex[0]: 219  matchIndex[0]: 218
term 38 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 38 leaderCommit: 218 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 217
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 35
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 35 209} {1634117700934817641 35 210} {8449397539931579862 35 211} {8159537782593195849 35 212} {4721016989935161110 35 213} {4721016989935161110 37 214} {447615888689745997 38 215} {3260040606586118363 38 216} {7409280752415135905 38 217} {8629480418576671925 38 218} {5056333674345431669 38 219} {8926250208308539279 38 220} {3388559608708727467 38 221} {528349588663163121 38 222} {783983673289169821 38 223} {5243192982542515465 38 224} {1155866897691938938 38 225} {7448748711639546464 38 226} {5363627792552930386 38 227}]
------------------------------------------------------
term 38 Server1 start snapshot! index=219
term 38 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=227
-------------------------------------------------------------
flag 73284 term 38 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 38 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 38 leaderCommit: 227 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 217
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 38 219} {8926250208308539279 38 220} {3388559608708727467 38 221} {528349588663163121 38 222} {783983673289169821 38 223} {5243192982542515465 38 224} {1155866897691938938 38 225} {7448748711639546464 38 226} {5363627792552930386 38 227}]
------------------------------------------------------
term 38 Server0 start snapshot! index=219
term 38 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=227
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6108019576249565145 (index 228) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89011 term 38 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 38 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 38 leaderCommit: 227 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 0  matchIndex[2]: 217
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 38
------------------------------------------------------
term 39 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {8926250208308539279 38 220} {3388559608708727467 38 221} {528349588663163121 38 222} {783983673289169821 38 223} {5243192982542515465 38 224} {1155866897691938938 38 225} {7448748711639546464 38 226} {5363627792552930386 38 227} {6108019576249565145 38 228}]
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 2 vote for server 1
term 40 server 0 vote for server 1
term 40 server 1 get vote from server 0
term 40 server 1 become leader
------------------------------------------------------
term 40 server 1 get outdate rpc reply from server 2
flag 12835 term 40 leader 1 nextIndex[0]: 229  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 13178 term 40 leader 1 nextIndex[2]: 229  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 229->228
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {8926250208308539279 38 220} {3388559608708727467 38 221} {528349588663163121 38 222} {783983673289169821 38 223} {5243192982542515465 38 224} {1155866897691938938 38 225} {7448748711639546464 38 226} {5363627792552930386 38 227} {6108019576249565145 38 228}]
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 1 not vote for server 2, 任期不够新
term 40 server 2 get outdate rpc reply from server 1
term 40 server 2 not vote for server 1, 任期不够新
term 40 server 1 get outdate rpc reply from server 2
flag 66081 term 40 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 40 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 218  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 38
------------------------------------------------------
term 40 server 2 InstallSnapshot success
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 38 rf.commitIndex 219 rf.lastApplied 219
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {8926250208308539279 38 220} {3388559608708727467 38 221} {528349588663163121 38 222} {783983673289169821 38 223} {5243192982542515465 38 224} {1155866897691938938 38 225} {7448748711639546464 38 226} {5363627792552930386 38 227} {6108019576249565145 38 228}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67199 term 40 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 40 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 54202 term 40 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 40 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
term 40 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
[{snapshot 38 219} {8926250208308539279 38 220} {3388559608708727467 38 221} {528349588663163121 38 222} {783983673289169821 38 223} {5243192982542515465 38 224} {1155866897691938938 38 225} {7448748711639546464 38 226} {5363627792552930386 38 227} {6108019576249565145 38 228}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {8926250208308539279 38 220} {3388559608708727467 38 221} {528349588663163121 38 222} {783983673289169821 38 223} {5243192982542515465 38 224} {1155866897691938938 38 225} {7448748711639546464 38 226} {5363627792552930386 38 227} {6108019576249565145 38 228}]
------------------------------------------------------
flag 2868 term 40 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 40 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 39753 term 40 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 40 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {8926250208308539279 38 220} {3388559608708727467 38 221} {528349588663163121 38 222} {783983673289169821 38 223} {5243192982542515465 38 224} {1155866897691938938 38 225} {7448748711639546464 38 226} {5363627792552930386 38 227} {6108019576249565145 38 228}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {8926250208308539279 38 220} {3388559608708727467 38 221} {528349588663163121 38 222} {783983673289169821 38 223} {5243192982542515465 38 224} {1155866897691938938 38 225} {7448748711639546464 38 226} {5363627792552930386 38 227} {6108019576249565145 38 228}]
------------------------------------------------------
flag 71700 term 40 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 40 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 92869 term 40 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 40 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {8926250208308539279 38 220} {3388559608708727467 38 221} {528349588663163121 38 222} {783983673289169821 38 223} {5243192982542515465 38 224} {1155866897691938938 38 225} {7448748711639546464 38 226} {5363627792552930386 38 227} {6108019576249565145 38 228}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {8926250208308539279 38 220} {3388559608708727467 38 221} {528349588663163121 38 222} {783983673289169821 38 223} {5243192982542515465 38 224} {1155866897691938938 38 225} {7448748711639546464 38 226} {5363627792552930386 38 227} {6108019576249565145 38 228}]
------------------------------------------------------
flag 13211 term 40 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 40 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 63948 term 40 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 40 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {8926250208308539279 38 220} {3388559608708727467 38 221} {528349588663163121 38 222} {783983673289169821 38 223} {5243192982542515465 38 224} {1155866897691938938 38 225} {7448748711639546464 38 226} {5363627792552930386 38 227} {6108019576249565145 38 228}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {8926250208308539279 38 220} {3388559608708727467 38 221} {528349588663163121 38 222} {783983673289169821 38 223} {5243192982542515465 38 224} {1155866897691938938 38 225} {7448748711639546464 38 226} {5363627792552930386 38 227} {6108019576249565145 38 228}]
------------------------------------------------------
flag 6016 term 40 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 40 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 61394 term 40 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 40 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
[{snapshot 38 219} {8926250208308539279 38 220} {3388559608708727467 38 221} {528349588663163121 38 222} {783983673289169821 38 223} {5243192982542515465 38 224} {1155866897691938938 38 225} {7448748711639546464 38 226} {5363627792552930386 38 227} {6108019576249565145 38 228}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {8926250208308539279 38 220} {3388559608708727467 38 221} {528349588663163121 38 222} {783983673289169821 38 223} {5243192982542515465 38 224} {1155866897691938938 38 225} {7448748711639546464 38 226} {5363627792552930386 38 227} {6108019576249565145 38 228}]
------------------------------------------------------
flag 77775 term 40 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 40 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 70564 term 40 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 40 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=229
update matchIndex[2]=228
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {8926250208308539279 38 220} {3388559608708727467 38 221} {528349588663163121 38 222} {783983673289169821 38 223} {5243192982542515465 38 224} {1155866897691938938 38 225} {7448748711639546464 38 226} {5363627792552930386 38 227} {6108019576249565145 38 228}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 38 219} {8926250208308539279 38 220} {3388559608708727467 38 221} {528349588663163121 38 222} {783983673289169821 38 223} {5243192982542515465 38 224} {1155866897691938938 38 225} {7448748711639546464 38 226} {5363627792552930386 38 227} {6108019576249565145 38 228}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5308761060748206643 (index 229) to leader 1
flag 25124 term 40 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 40 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 72445 term 40 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 40 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 38 219} {8926250208308539279 38 220} {3388559608708727467 38 221} {528349588663163121 38 222} {783983673289169821 38 223} {5243192982542515465 38 224} {1155866897691938938 38 225} {7448748711639546464 38 226} {5363627792552930386 38 227} {6108019576249565145 38 228} {5308761060748206643 40 229}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 Server1 start snapshot! index=229
term 40 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 7867 term 40 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=230
update matchIndex[0]=229
update leader CommitIndex=229
leader log:
[{snapshot 40 229}]
------------------------------------------------------
term 40 Server0 start snapshot! index=229
term 40 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
client write log 953114307252697173 (index 230) to leader 1
client write log 7633862911116742493 (index 231) to leader 1
client write log 6463848267491346018 (index 232) to leader 1
client write log 8631130344934275419 (index 233) to leader 1
client write log 739116625196743491 (index 234) to leader 1
client write log 7971649270514917965 (index 235) to leader 1
client write log 6116219875901435280 (index 236) to leader 1
client write log 3386145583769274031 (index 237) to leader 1
client write log 536775833809896061 (index 238) to leader 1
client write log 1302592024074646266 (index 239) to leader 1
client write log 5568740266305918950 (index 240) to leader 1
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43933 term 40 leader 1 nextIndex[0]: 230  matchIndex[0]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 40 leaderCommit: 229 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 40 229} {953114307252697173 40 230} {7633862911116742493 40 231} {6463848267491346018 40 232} {8631130344934275419 40 233} {739116625196743491 40 234} {7971649270514917965 40 235} {6116219875901435280 40 236} {3386145583769274031 40 237} {536775833809896061 40 238} {1302592024074646266 40 239} {5568740266305918950 40 240}]
------------------------------------------------------
term 40 Server1 start snapshot! index=239
term 40 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=240
-------------------------------------------------------------
flag 53462 term 40 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 40 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=241
update matchIndex[0]=240
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240}]
------------------------------------------------------
term 40 Server0 start snapshot! index=239
term 40 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=240
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7039020644687897495 (index 241) to leader 1
flag 43415 term 40 leader 1 nextIndex[0]: 241  matchIndex[0]: 240
term 40 leader 1 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 229  matchIndex[2]: 228
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
term 41 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 2 vote for server 1
term 42 server 0 vote for server 1
term 42 server 1 get vote from server 2
term 42 server 1 become leader
------------------------------------------------------
term 42 server 1 get outdate rpc reply from server 0
flag 54013 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 45152 term 42 leader 1 nextIndex[2]: 242  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 42 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 242->241
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1562 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 229  matchIndex[2]: 0
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
term 42 server 2 InstallSnapshot success
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 40 rf.commitIndex 239 rf.lastApplied 239
flag 17798 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 97782 term 42 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 42 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
flag 17483 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 87527 term 42 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43412 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 44919 term 42 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
flag 98548 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 71759 term 42 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
flag 92371 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 13483 term 42 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
flag 52722 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 20124 term 42 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
flag 84681 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 62948 term 42 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53637 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 28040 term 42 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
flag 72140 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 89837 term 42 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
flag 28700 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 98056 term 42 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61372 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 93950 term 42 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
flag 23163 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 30997 term 42 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
flag 84459 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 48467 term 42 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4751 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 93430 term 42 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
term 42 server 0 not vote for server 2, 任期不够新
term 42 server 2 get outdate rpc reply from server 0
flag 37774 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 85462 term 42 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
flag 84780 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 10691 term 42 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
term 42 server 1 not vote for server 2, 任期不够新
term 42 server 2 get outdate rpc reply from server 1
flag 87635 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 63782 term 42 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=242
update matchIndex[2]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7039020644687897495 (index 242) to leader 1
flag 70629 term 42 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 62843 term 42 leader 1 nextIndex[2]: 242  matchIndex[2]: 241
term 42 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242}]
------------------------------------------------------
flag 28021 term 42 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
flag 9383 term 42 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242}]
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78773 term 42 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
flag 60582 term 42 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242}]
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69327 term 42 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
flag 29703 term 42 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242}]
------------------------------------------------------
flag 80769 term 42 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
flag 34738 term 42 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242}]
------------------------------------------------------
flag 68358 term 42 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
flag 90402 term 42 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 30272 term 42 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
flag 26380 term 42 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 42 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 243->242
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11845 term 42 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 242
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
flag 35157 term 42 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 242
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
flag 18181 term 42 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 242
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
term 43 server 2 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
flag 57571 term 43 leader 0 nextIndex[1]: 243  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
flag 30349 term 43 leader 0 nextIndex[2]: 243  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242}]
------------------------------------------------------
client write log 5145261933583077 (index 243) to leader 0
flag 42 term 42 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 242
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
flag 33900 term 43 leader 0 nextIndex[1]: 243  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
flag 77761 term 43 leader 0 nextIndex[2]: 243  matchIndex[2]: 242
term 43 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243}]
------------------------------------------------------
flag 21930 term 42 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 242
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
flag 64066 term 43 leader 0 nextIndex[1]: 243  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 243 
------------------------------------------------------
flag 87140 term 43 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 43 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243}]
------------------------------------------------------
client write log 955949694205455033 (index 244) to leader 0
flag 97640 term 42 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 42 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 242 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 242
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
flag 36228 term 43 leader 0 nextIndex[1]: 243  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 243 
------------------------------------------------------
flag 76791 term 43 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 43 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 43 leaderCommit: 243 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 243->242
------------------------------------------------------
term 42 leader 1 nextIndex[0]: 0  matchIndex[0]: 242
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 242
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 243->242
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
flag 58455 term 43 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 43 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
!!!!!!connect server 1
client write log 3776980290106023722 (index 243) to leader 1
term 42 leader 1 nextIndex[0]: 0  matchIndex[0]: 242
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 0  matchIndex[2]: 242
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
term 43 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
flag 93625 term 43 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 43 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 43 server 1 InstallSnapshot fail
rf.commitIndex 242 args.LastIncludedIndex 239
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
term 43 server 2 not vote for server 1, 日志不够新
term 43 server 0 not vote for server 1, 日志不够新
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 server 2 vote for server 0
term 45 server 1 vote for server 0
term 45 server 0 get vote from server 2
term 45 server 0 become leader
------------------------------------------------------
term 45 server 0 get outdate rpc reply from server 1
flag 79421 term 45 leader 0 nextIndex[1]: 245  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 21963 term 45 leader 0 nextIndex[2]: 245  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 245->244
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
flag 71199 term 45 leader 0 nextIndex[1]: 244  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 94409 term 45 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 244->243
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 440 term 45 leader 0 nextIndex[1]: 243  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 56477 term 45 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56504 term 45 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 33134 term 45 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10811 term 45 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 27667 term 45 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75390 term 45 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 8125 term 45 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34675 term 45 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 48563 term 45 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68754 term 45 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 27263 term 45 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
flag 67160 term 45 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 44150 term 45 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
flag 30716 term 45 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 31708 term 45 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
flag 84605 term 45 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 63199 term 45 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
flag 75068 term 45 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 43146 term 45 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
flag 48307 term 45 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 18423 term 45 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
flag 2829 term 45 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 27595 term 45 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
flag 3834 term 45 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 62266 term 45 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
flag 47030 term 45 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 34181 term 45 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
flag 69226 term 45 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 32294 term 45 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54562 term 45 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 75854 term 45 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244}]
------------------------------------------------------
client write log 3776980290106023722 (index 245) to leader 0
flag 857 term 45 leader 0 nextIndex[1]: 245  matchIndex[1]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
flag 53022 term 45 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 45 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 43 leaderCommit: 244 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244} {3776980290106023722 45 245}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244} {3776980290106023722 45 245}]
------------------------------------------------------
flag 72506 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 29586 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244} {3776980290106023722 45 245}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244} {3776980290106023722 45 245}]
------------------------------------------------------
flag 78915 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 47754 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244} {3776980290106023722 45 245}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244} {3776980290106023722 45 245}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79788 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 66579 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244} {3776980290106023722 45 245}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244} {3776980290106023722 45 245}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69330 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 38996 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244} {3776980290106023722 45 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244} {3776980290106023722 45 245}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76191 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 53227 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244} {3776980290106023722 45 245}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244} {3776980290106023722 45 245}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 6663818421902115906 (index 246) to leader 0
flag 12604 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
flag 91923 term 45 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 245 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244} {3776980290106023722 45 245} {6663818421902115906 45 246}]
------------------------------------------------------
flag 34610 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
flag 48716 term 45 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 45 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244} {3776980290106023722 45 245} {6663818421902115906 45 246}]
------------------------------------------------------
client write log 4183680643845113601 (index 247) to leader 0
client write log 9146750201585375796 (index 248) to leader 0
client write log 315721510796008755 (index 249) to leader 0
client write log 4075141022953858899 (index 250) to leader 0
client write log 1556048400120712828 (index 251) to leader 0
client write log 9014575947869426234 (index 252) to leader 0
client write log 6198522903589484568 (index 253) to leader 0
term 45 server 0 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 0
flag 72597 term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
flag 62747 term 45 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 45 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 45 leaderCommit: 246 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 239} {5568740266305918950 40 240} {7039020644687897495 40 241} {7039020644687897495 42 242} {5145261933583077 43 243} {955949694205455033 43 244} {3776980290106023722 45 245} {6663818421902115906 45 246} {4183680643845113601 45 247} {9146750201585375796 45 248} {315721510796008755 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253}]
------------------------------------------------------
term 45 Server0 start snapshot! index=249
term 45 server0 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=253
-------------------------------------------------------------
term 45 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 45
------------------------------------------------------
flag 45018 term 45 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 45 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253}]
------------------------------------------------------
term 45 Server2 start snapshot! index=249
term 45 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=253
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2890943372622581354 (index 254) to leader 0
term 45 server 0 not vote for server 1, 日志不够新
term 45 server 2 not vote for server 1, 日志不够新
term 47 server 2 vote for server 0
term 47 server 0 get vote from server 2
term 47 server 0 become leader
------------------------------------------------------
term 47 server 1 vote for server 0
term 47 server 0 get outdate rpc reply from server 1
flag 79927 term 47 leader 0 nextIndex[1]: 255  matchIndex[1]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
flag 10656 term 47 leader 0 nextIndex[2]: 255  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 47 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 47 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 255->254
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 255->254
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 0 nextIndex[1]: 246  matchIndex[1]: 0
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 45
------------------------------------------------------
flag 5818 term 47 leader 0 nextIndex[2]: 254  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 47 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 45 rf.commitIndex 249 rf.lastApplied 249
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36457 term 47 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 47 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
flag 36098 term 47 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75115 term 47 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
flag 17699 term 47 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
flag 40791 term 47 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
flag 18863 term 47 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
flag 85916 term 47 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
flag 51626 term 47 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
flag 42160 term 47 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
flag 95582 term 47 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
term 47 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86991 term 47 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
flag 56128 term 47 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
flag 33396 term 47 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
flag 53918 term 47 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
term 47 server 1 not vote for server 0, 任期不够新
term 47 server 0 get outdate rpc reply from server 1
flag 57167 term 47 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
flag 51460 term 47 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36099 term 47 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
flag 83773 term 47 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
flag 90869 term 47 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
flag 20079 term 47 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
flag 69355 term 47 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
flag 34492 term 47 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
flag 82254 term 47 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
flag 41099 term 47 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38926 term 47 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
flag 68883 term 47 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
flag 58084 term 47 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
flag 52104 term 47 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36648 term 47 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
flag 93635 term 47 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
flag 39235 term 47 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
flag 3895 term 47 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
flag 2201 term 47 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
flag 99339 term 47 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254}]
------------------------------------------------------
client write log 2890943372622581354 (index 255) to leader 0
flag 20180 term 47 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
flag 23401 term 47 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 47 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 45 leaderCommit: 253 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254} {2890943372622581354 47 255}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254} {2890943372622581354 47 255}]
------------------------------------------------------
flag 93213 term 47 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 47 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 47 leaderCommit: 255 
------------------------------------------------------
flag 73836 term 47 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 47 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 47 leaderCommit: 255 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254} {2890943372622581354 47 255}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254} {2890943372622581354 47 255}]
------------------------------------------------------
flag 738 term 47 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 47 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 47 leaderCommit: 255 
------------------------------------------------------
flag 88140 term 47 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 47 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 47 leaderCommit: 255 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254} {2890943372622581354 47 255}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254} {2890943372622581354 47 255}]
------------------------------------------------------
flag 54772 term 47 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 47 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 47 leaderCommit: 255 
------------------------------------------------------
flag 7498 term 47 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 47 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 47 leaderCommit: 255 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254} {2890943372622581354 47 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254} {2890943372622581354 47 255}]
------------------------------------------------------
flag 27250 term 47 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 47 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 47 leaderCommit: 255 
------------------------------------------------------
flag 5161 term 47 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 47 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 47 leaderCommit: 255 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254} {2890943372622581354 47 255}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254} {2890943372622581354 47 255}]
------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6335 term 47 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 47 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 47 leaderCommit: 255 
------------------------------------------------------
flag 31665 term 47 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 47 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 47 leaderCommit: 255 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254} {2890943372622581354 47 255}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254} {2890943372622581354 47 255}]
------------------------------------------------------
flag 41006 term 47 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 47 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 47 leaderCommit: 255 
------------------------------------------------------
flag 48706 term 47 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 47 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 47 leaderCommit: 255 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254} {2890943372622581354 47 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254} {2890943372622581354 47 255}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8341685420900377601 (index 256) to leader 0
flag 65181 term 47 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 47 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 47 leaderCommit: 255 
------------------------------------------------------
flag 85730 term 47 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 47 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 47 leaderCommit: 255 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254} {2890943372622581354 47 255} {8341685420900377601 47 256}]
------------------------------------------------------
flag 93230 term 47 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 47 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 47 leaderCommit: 256 
------------------------------------------------------
flag 73816 term 47 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 47 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 47 leaderCommit: 256 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254} {2890943372622581354 47 255} {8341685420900377601 47 256}]
------------------------------------------------------
client write log 6830955223056448453 (index 257) to leader 0
client write log 3436927829794105768 (index 258) to leader 0
client write log 8996388659164192318 (index 259) to leader 0
client write log 6083613147219305186 (index 260) to leader 0
client write log 4312840072793483212 (index 261) to leader 0
client write log 7247885659290347814 (index 262) to leader 0
client write log 4339273869120513224 (index 263) to leader 0
client write log 5405428638951820025 (index 264) to leader 0
client write log 1291482747670206708 (index 265) to leader 0
client write log 69144026634264609 (index 266) to leader 0
client write log 39824260037581793 (index 267) to leader 0
client write log 8682982039424995555 (index 268) to leader 0
flag 21633 term 47 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 47 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 47 leaderCommit: 256 
------------------------------------------------------
flag 51159 term 47 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 47 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 47 leaderCommit: 256 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 45 249} {4075141022953858899 45 250} {1556048400120712828 45 251} {9014575947869426234 45 252} {6198522903589484568 45 253} {2890943372622581354 45 254} {2890943372622581354 47 255} {8341685420900377601 47 256} {6830955223056448453 47 257} {3436927829794105768 47 258} {8996388659164192318 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268}]
------------------------------------------------------
term 47 Server0 start snapshot! index=259
term 47 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=268
-------------------------------------------------------------
term 47 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 47
------------------------------------------------------
flag 46357 term 47 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 47 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268}]
------------------------------------------------------
term 47 Server2 start snapshot! index=259
term 47 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=268
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6652173023636784485 (index 269) to leader 0
term 47 server 0 not vote for server 1, 日志不够新
term 47 server 2 not vote for server 1, 日志不够新
term 49 server 2 vote for server 0
term 49 server 1 vote for server 0
term 49 server 0 get vote from server 1
term 49 server 0 become leader
------------------------------------------------------
term 49 server 0 get outdate rpc reply from server 2
flag 28239 term 49 leader 0 nextIndex[1]: 270  matchIndex[1]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 26571 term 49 leader 0 nextIndex[2]: 270  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 49 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 270->269
------------------------------------------------------
term 49 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 270->269
------------------------------------------------------
term 49 leader 0 nextIndex[1]: 256  matchIndex[1]: 0
term 49 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 47
------------------------------------------------------
flag 78025 term 49 leader 0 nextIndex[2]: 269  matchIndex[2]: 0
term 49 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
term 49 server 1 InstallSnapshot success
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 47 rf.commitIndex 259 rf.lastApplied 259
flag 95280 term 49 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 49 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 70757 term 49 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
flag 69707 term 49 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 36461 term 49 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
flag 31187 term 49 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 4162 term 49 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83811 term 49 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 21214 term 49 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
flag 77347 term 49 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 43846 term 49 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
flag 62398 term 49 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 92679 term 49 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
flag 36746 term 49 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 82601 term 49 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
flag 41930 term 49 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 17185 term 49 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
flag 98035 term 49 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 99733 term 49 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:268 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
flag 81431 term 49 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 83824 term 49 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
flag 56792 term 49 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 16467 term 49 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
flag 85783 term 49 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 61796 term 49 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:268 
term 49 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
term 49 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53149 term 49 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 1470 term 49 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
flag 35676 term 49 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 79089 term 49 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
flag 64848 term 49 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 12863 term 49 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
flag 21143 term 49 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 10122 term 49 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
flag 82285 term 49 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 708 term 49 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
flag 55196 term 49 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 34890 term 49 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269}]
------------------------------------------------------
client write log 6652173023636784485 (index 270) to leader 0
flag 46187 term 49 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
flag 99686 term 49 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 49 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 47 leaderCommit: 268 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269} {6652173023636784485 49 270}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 259} {6083613147219305186 47 260} {4312840072793483212 47 261} {7247885659290347814 47 262} {4339273869120513224 47 263} {5405428638951820025 47 264} {1291482747670206708 47 265} {69144026634264609 47 266} {39824260037581793 47 267} {8682982039424995555 47 268} {6652173023636784485 47 269} {6652173023636784485 49 270}]
------------------------------------------------------
term 49 Server0 start snapshot! index=269
term 49 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
flag 70276 term 49 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
flag 67707 term 49 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {6652173023636784485 49 270}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {6652173023636784485 49 270}]
------------------------------------------------------
term 49 Server1 start snapshot! index=269
term 49 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
term 49 Server2 start snapshot! index=269
term 49 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
flag 99010 term 49 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
flag 4333 term 49 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {6652173023636784485 49 270}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {6652173023636784485 49 270}]
------------------------------------------------------
flag 14338 term 49 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
flag 40103 term 49 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
term 49 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
[{snapshot 47 269} {6652173023636784485 49 270}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {6652173023636784485 49 270}]
------------------------------------------------------
flag 96699 term 49 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
flag 68074 term 49 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {6652173023636784485 49 270}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {6652173023636784485 49 270}]
------------------------------------------------------
flag 42614 term 49 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
flag 44881 term 49 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {6652173023636784485 49 270}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {6652173023636784485 49 270}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 15833 term 49 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
flag 58845 term 49 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
flag 92669 term 49 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
flag 4044 term 49 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
flag 64140 term 49 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
flag 43329 term 49 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
flag 38896 term 49 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
flag 56256 term 49 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
term 50 server 2 vote for server 1
term 50 server 1 get vote from server 2
term 50 server 1 become leader
------------------------------------------------------
flag 35342 term 50 leader 1 nextIndex[0]: 271  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
flag 43253 term 50 leader 1 nextIndex[2]: 271  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 47 269} {6652173023636784485 49 270}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7485789558914026503 (index 271) to leader 1
flag 77899 term 49 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
flag 17422 term 49 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
flag 64154 term 50 leader 1 nextIndex[0]: 271  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
flag 78497 term 50 leader 1 nextIndex[2]: 271  matchIndex[2]: 270
term 50 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 47 269} {6652173023636784485 49 270} {7485789558914026503 50 271}]
------------------------------------------------------
flag 41771 term 49 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
flag 86403 term 49 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
flag 28947 term 50 leader 1 nextIndex[0]: 271  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 271 
------------------------------------------------------
flag 86966 term 50 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 50 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 50 leaderCommit: 271 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 47 269} {6652173023636784485 49 270} {7485789558914026503 50 271}]
------------------------------------------------------
client write log 6617923058797253757 (index 272) to leader 1
client write log 5664114434045713486 (index 273) to leader 1
client write log 7257581882025650996 (index 274) to leader 1
client write log 4407175751562916299 (index 275) to leader 1
client write log 4340045261253732032 (index 276) to leader 1
client write log 6148295023096466945 (index 277) to leader 1
client write log 1051968037211820956 (index 278) to leader 1
client write log 6938232252259560067 (index 279) to leader 1
client write log 8422043645841970686 (index 280) to leader 1
client write log 2784996969241590695 (index 281) to leader 1
client write log 1545303044140699303 (index 282) to leader 1
flag 40625 term 49 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
flag 21237 term 49 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
flag 73445 term 50 leader 1 nextIndex[0]: 271  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 271 
------------------------------------------------------
flag 17089 term 50 leader 1 nextIndex[2]: 272  matchIndex[2]: 271
term 50 leader 1 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 50 leaderCommit: 271 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 47 269} {6652173023636784485 49 270} {7485789558914026503 50 271} {6617923058797253757 50 272} {5664114434045713486 50 273} {7257581882025650996 50 274} {4407175751562916299 50 275} {4340045261253732032 50 276} {6148295023096466945 50 277} {1051968037211820956 50 278} {6938232252259560067 50 279} {8422043645841970686 50 280} {2784996969241590695 50 281} {1545303044140699303 50 282}]
------------------------------------------------------
term 50 Server1 start snapshot! index=279
term 50 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=282
-------------------------------------------------------------
flag 19149 term 49 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
flag 95092 term 49 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
term 50 leader 1 nextIndex[0]: 271  matchIndex[0]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 50
------------------------------------------------------
flag 22141 term 50 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 50 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 50 leaderCommit: 282 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 50 279} {8422043645841970686 50 280} {2784996969241590695 50 281} {1545303044140699303 50 282}]
------------------------------------------------------
term 50 Server2 start snapshot! index=279
term 50 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=282
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6074691510507992310 (index 283) to leader 1
flag 67519 term 49 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
flag 91176 term 49 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 49 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 49 leaderCommit: 270 
------------------------------------------------------
term 50 server 2 AppendEntries false 领导者任期过期 args.Term 49
------------------------------------------------------
term 50 server 1 AppendEntries false 领导者任期过期 args.Term 49
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 1 nextIndex[0]: 271  matchIndex[0]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 50
------------------------------------------------------
flag 88660 term 50 leader 1 nextIndex[2]: 283  matchIndex[2]: 282
term 50 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 50 leaderCommit: 282 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 50 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {8422043645841970686 50 280} {2784996969241590695 50 281} {1545303044140699303 50 282} {6074691510507992310 50 283}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 50 rf.commitIndex 279 rf.lastApplied 279
term 50 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30785 term 50 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 50 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 53162 term 50 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 50 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {8422043645841970686 50 280} {2784996969241590695 50 281} {1545303044140699303 50 282} {6074691510507992310 50 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {8422043645841970686 50 280} {2784996969241590695 50 281} {1545303044140699303 50 282} {6074691510507992310 50 283}]
------------------------------------------------------
flag 42491 term 50 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 50 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 72047 term 50 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 50 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {8422043645841970686 50 280} {2784996969241590695 50 281} {1545303044140699303 50 282} {6074691510507992310 50 283}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {8422043645841970686 50 280} {2784996969241590695 50 281} {1545303044140699303 50 282} {6074691510507992310 50 283}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81194 term 50 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 50 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 36059 term 50 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 50 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {8422043645841970686 50 280} {2784996969241590695 50 281} {1545303044140699303 50 282} {6074691510507992310 50 283}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {8422043645841970686 50 280} {2784996969241590695 50 281} {1545303044140699303 50 282} {6074691510507992310 50 283}]
------------------------------------------------------
flag 11982 term 50 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 50 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 57458 term 50 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 50 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {8422043645841970686 50 280} {2784996969241590695 50 281} {1545303044140699303 50 282} {6074691510507992310 50 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {8422043645841970686 50 280} {2784996969241590695 50 281} {1545303044140699303 50 282} {6074691510507992310 50 283}]
------------------------------------------------------
flag 39106 term 50 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 50 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 42160 term 50 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 50 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {8422043645841970686 50 280} {2784996969241590695 50 281} {1545303044140699303 50 282} {6074691510507992310 50 283}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {8422043645841970686 50 280} {2784996969241590695 50 281} {1545303044140699303 50 282} {6074691510507992310 50 283}]
------------------------------------------------------
flag 91462 term 50 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 50 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 7570 term 50 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 50 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:283 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {8422043645841970686 50 280} {2784996969241590695 50 281} {1545303044140699303 50 282} {6074691510507992310 50 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=283
leader log:
[{snapshot 50 279} {8422043645841970686 50 280} {2784996969241590695 50 281} {1545303044140699303 50 282} {6074691510507992310 50 283}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7001863563048093235 (index 284) to leader 1
flag 65138 term 50 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 50 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
flag 72970 term 50 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 50 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 283 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {8422043645841970686 50 280} {2784996969241590695 50 281} {1545303044140699303 50 282} {6074691510507992310 50 283} {7001863563048093235 50 284}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 285->284
------------------------------------------------------
term 50 leader 1 nextIndex[0]: 0  matchIndex[0]: 284
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 50
------------------------------------------------------
flag 4011 term 50 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 50 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 50 server 0 InstallSnapshot fail
rf.commitIndex 283 args.LastIncludedIndex 279
------------------------------------------------------
term 50 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
flag 57793 term 50 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 50 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 54949 term 50 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 50 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 50 279} {8422043645841970686 50 280} {2784996969241590695 50 281} {1545303044140699303 50 282} {6074691510507992310 50 283} {7001863563048093235 50 284}]
------------------------------------------------------
client write log 5820392013017860071 (index 285) to leader 1
client write log 7652866761538388216 (index 286) to leader 1
client write log 1588546607597431336 (index 287) to leader 1
client write log 548635275747016947 (index 288) to leader 1
client write log 5599926110707513227 (index 289) to leader 1
client write log 1888228442031316874 (index 290) to leader 1
client write log 5990817055892367525 (index 291) to leader 1
client write log 5840666744276927885 (index 292) to leader 1
client write log 8084342639776229975 (index 293) to leader 1
client write log 5684829955392412459 (index 294) to leader 1
client write log 5018808859499387633 (index 295) to leader 1
flag 66766 term 50 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 50 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
flag 36158 term 50 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 50 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 50 leaderCommit: 284 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 50 279} {8422043645841970686 50 280} {2784996969241590695 50 281} {1545303044140699303 50 282} {6074691510507992310 50 283} {7001863563048093235 50 284} {5820392013017860071 50 285} {7652866761538388216 50 286} {1588546607597431336 50 287} {548635275747016947 50 288} {5599926110707513227 50 289} {1888228442031316874 50 290} {5990817055892367525 50 291} {5840666744276927885 50 292} {8084342639776229975 50 293} {5684829955392412459 50 294} {5018808859499387633 50 295}]
------------------------------------------------------
term 50 Server1 start snapshot! index=289
term 50 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=295
-------------------------------------------------------------
flag 90794 term 50 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 50 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 50 leaderCommit: 295 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 50 289} {1888228442031316874 50 290} {5990817055892367525 50 291} {5840666744276927885 50 292} {8084342639776229975 50 293} {5684829955392412459 50 294} {5018808859499387633 50 295}]
------------------------------------------------------
term 50 Server0 start snapshot! index=289
term 50 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=295
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7009618332198942477 (index 296) to leader 1
flag 45758 term 50 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 50 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 50 leaderCommit: 295 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {1888228442031316874 50 290} {5990817055892367525 50 291} {5840666744276927885 50 292} {8084342639776229975 50 293} {5684829955392412459 50 294} {5018808859499387633 50 295} {7009618332198942477 50 296}]
------------------------------------------------------
term 51 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 2 vote for server 1
term 52 server 0 vote for server 1
term 52 server 1 get vote from server 2
term 52 server 1 become leader
------------------------------------------------------
term 52 server 1 get outdate rpc reply from server 0
flag 66995 term 52 leader 1 nextIndex[0]: 297  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 84771 term 52 leader 1 nextIndex[2]: 297  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 297->296
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {1888228442031316874 50 290} {5990817055892367525 50 291} {5840666744276927885 50 292} {8084342639776229975 50 293} {5684829955392412459 50 294} {5018808859499387633 50 295} {7009618332198942477 50 296}]
------------------------------------------------------
flag 20274 term 52 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 284  matchIndex[2]: 0
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 50
------------------------------------------------------
term 52 server 2 InstallSnapshot success
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 50 rf.commitIndex 289 rf.lastApplied 289
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {1888228442031316874 50 290} {5990817055892367525 50 291} {5840666744276927885 50 292} {8084342639776229975 50 293} {5684829955392412459 50 294} {5018808859499387633 50 295} {7009618332198942477 50 296}]
------------------------------------------------------
flag 68302 term 52 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 16064 term 52 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 52 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {1888228442031316874 50 290} {5990817055892367525 50 291} {5840666744276927885 50 292} {8084342639776229975 50 293} {5684829955392412459 50 294} {5018808859499387633 50 295} {7009618332198942477 50 296}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {1888228442031316874 50 290} {5990817055892367525 50 291} {5840666744276927885 50 292} {8084342639776229975 50 293} {5684829955392412459 50 294} {5018808859499387633 50 295} {7009618332198942477 50 296}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52172 term 52 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 21943 term 52 leader 1 nextIndex[2]: 297  matchIndex[2]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {1888228442031316874 50 290} {5990817055892367525 50 291} {5840666744276927885 50 292} {8084342639776229975 50 293} {5684829955392412459 50 294} {5018808859499387633 50 295} {7009618332198942477 50 296}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {1888228442031316874 50 290} {5990817055892367525 50 291} {5840666744276927885 50 292} {8084342639776229975 50 293} {5684829955392412459 50 294} {5018808859499387633 50 295} {7009618332198942477 50 296}]
------------------------------------------------------
flag 43949 term 52 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 75164 term 52 leader 1 nextIndex[2]: 297  matchIndex[2]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {1888228442031316874 50 290} {5990817055892367525 50 291} {5840666744276927885 50 292} {8084342639776229975 50 293} {5684829955392412459 50 294} {5018808859499387633 50 295} {7009618332198942477 50 296}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {1888228442031316874 50 290} {5990817055892367525 50 291} {5840666744276927885 50 292} {8084342639776229975 50 293} {5684829955392412459 50 294} {5018808859499387633 50 295} {7009618332198942477 50 296}]
------------------------------------------------------
flag 94807 term 52 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 59422 term 52 leader 1 nextIndex[2]: 297  matchIndex[2]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
[{snapshot 50 289} {1888228442031316874 50 290} {5990817055892367525 50 291} {5840666744276927885 50 292} {8084342639776229975 50 293} {5684829955392412459 50 294} {5018808859499387633 50 295} {7009618332198942477 50 296}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {1888228442031316874 50 290} {5990817055892367525 50 291} {5840666744276927885 50 292} {8084342639776229975 50 293} {5684829955392412459 50 294} {5018808859499387633 50 295} {7009618332198942477 50 296}]
------------------------------------------------------
flag 76626 term 52 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 90849 term 52 leader 1 nextIndex[2]: 297  matchIndex[2]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {1888228442031316874 50 290} {5990817055892367525 50 291} {5840666744276927885 50 292} {8084342639776229975 50 293} {5684829955392412459 50 294} {5018808859499387633 50 295} {7009618332198942477 50 296}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {1888228442031316874 50 290} {5990817055892367525 50 291} {5840666744276927885 50 292} {8084342639776229975 50 293} {5684829955392412459 50 294} {5018808859499387633 50 295} {7009618332198942477 50 296}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37978 term 52 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 10496 term 52 leader 1 nextIndex[2]: 297  matchIndex[2]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {1888228442031316874 50 290} {5990817055892367525 50 291} {5840666744276927885 50 292} {8084342639776229975 50 293} {5684829955392412459 50 294} {5018808859499387633 50 295} {7009618332198942477 50 296}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {1888228442031316874 50 290} {5990817055892367525 50 291} {5840666744276927885 50 292} {8084342639776229975 50 293} {5684829955392412459 50 294} {5018808859499387633 50 295} {7009618332198942477 50 296}]
------------------------------------------------------
flag 96682 term 52 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 12180 term 52 leader 1 nextIndex[2]: 297  matchIndex[2]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=297
update matchIndex[2]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {1888228442031316874 50 290} {5990817055892367525 50 291} {5840666744276927885 50 292} {8084342639776229975 50 293} {5684829955392412459 50 294} {5018808859499387633 50 295} {7009618332198942477 50 296}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=296
leader log:
[{snapshot 50 289} {1888228442031316874 50 290} {5990817055892367525 50 291} {5840666744276927885 50 292} {8084342639776229975 50 293} {5684829955392412459 50 294} {5018808859499387633 50 295} {7009618332198942477 50 296}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8866081803699105751 (index 297) to leader 1
flag 49230 term 52 leader 1 nextIndex[0]: 297  matchIndex[0]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
flag 8297 term 52 leader 1 nextIndex[2]: 297  matchIndex[2]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 296 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:296 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 50 289} {1888228442031316874 50 290} {5990817055892367525 50 291} {5840666744276927885 50 292} {8084342639776229975 50 293} {5684829955392412459 50 294} {5018808859499387633 50 295} {7009618332198942477 50 296} {8866081803699105751 52 297}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50687 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 52 leaderCommit: 297 
------------------------------------------------------
flag 40621 term 52 leader 1 nextIndex[2]: 297  matchIndex[2]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 50 289} {1888228442031316874 50 290} {5990817055892367525 50 291} {5840666744276927885 50 292} {8084342639776229975 50 293} {5684829955392412459 50 294} {5018808859499387633 50 295} {7009618332198942477 50 296} {8866081803699105751 52 297}]
------------------------------------------------------
term 52 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 6943241126766389815 (index 298) to leader 1
client write log 4261424691565473558 (index 299) to leader 1
client write log 1781405205747658721 (index 300) to leader 1
client write log 6488689237228868402 (index 301) to leader 1
client write log 2352114780537781729 (index 302) to leader 1
client write log 2992060885608583128 (index 303) to leader 1
client write log 8424548933077754348 (index 304) to leader 1
client write log 7147986474803161330 (index 305) to leader 1
client write log 508022318841545694 (index 306) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33655 term 52 leader 1 nextIndex[0]: 298  matchIndex[0]: 297
term 52 leader 1 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 52 leaderCommit: 297 
------------------------------------------------------
flag 82358 term 52 leader 1 nextIndex[2]: 297  matchIndex[2]: 296
term 52 leader 1 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 50 leaderCommit: 297 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 289} {1888228442031316874 50 290} {5990817055892367525 50 291} {5840666744276927885 50 292} {8084342639776229975 50 293} {5684829955392412459 50 294} {5018808859499387633 50 295} {7009618332198942477 50 296} {8866081803699105751 52 297} {6943241126766389815 52 298} {4261424691565473558 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306}]
------------------------------------------------------
term 52 Server1 start snapshot! index=299
term 52 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=306
-------------------------------------------------------------
flag 34534 term 52 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 52 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 297  matchIndex[2]: 296
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306}]
------------------------------------------------------
term 52 Server0 start snapshot! index=299
term 52 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=306
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2698194323944970368 (index 307) to leader 1
term 52 server 1 not vote for server 2, 日志不够新
term 52 server 0 not vote for server 2, 日志不够新
term 54 server 2 vote for server 1
term 54 server 0 vote for server 1
term 54 server 1 get vote from server 2
term 54 server 1 become leader
------------------------------------------------------
term 54 server 1 get outdate rpc reply from server 0
flag 62517 term 54 leader 1 nextIndex[0]: 308  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 5996 term 54 leader 1 nextIndex[2]: 308  matchIndex[2]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
term 54 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 308->307
------------------------------------------------------
term 54 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 308->307
------------------------------------------------------
flag 83675 term 54 leader 1 nextIndex[0]: 307  matchIndex[0]: 0
term 54 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
term 54 leader 1 nextIndex[2]: 297  matchIndex[2]: 0
term 54 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 52
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 54 server 2 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 52 rf.commitIndex 299 rf.lastApplied 299
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16933 term 54 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 55802 term 54 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 54 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18128 term 54 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 45305 term 54 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
flag 27990 term 54 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 96366 term 54 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52531 term 54 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 82122 term 54 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
flag 54051 term 54 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 32317 term 54 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
flag 98057 term 54 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 27409 term 54 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
flag 60335 term 54 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 95130 term 54 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70764 term 54 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 18774 term 54 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
flag 96482 term 54 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 23047 term 54 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
flag 6090 term 54 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 45713 term 54 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16479 term 54 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 18360 term 54 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
term 54 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40563 term 54 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 13620 term 54 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26174 term 54 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 48352 term 54 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
term 54 server 0 not vote for server 2, 任期不够新
term 54 server 2 get outdate rpc reply from server 0
flag 6080 term 54 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 48228 term 54 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 server 1 not vote for server 2, 任期不够新
term 54 server 2 get outdate rpc reply from server 1
flag 47726 term 54 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 16637 term 54 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
flag 27721 term 54 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 88497 term 54 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4713 term 54 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 59984 term 54 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
term 54 server 0 not vote for server 1, 任期不够新
term 54 server 1 get outdate rpc reply from server 0
flag 1132 term 54 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 40729 term 54 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
client write log 2698194323944970368 (index 308) to leader 1
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307} {2698194323944970368 54 308}]
------------------------------------------------------
flag 79899 term 54 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
flag 27340 term 54 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 54 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 52 leaderCommit: 306 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307} {2698194323944970368 54 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307} {2698194323944970368 54 308}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39638 term 54 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
flag 98394 term 54 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307} {2698194323944970368 54 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307} {2698194323944970368 54 308}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86911 term 54 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
flag 70849 term 54 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307} {2698194323944970368 54 308}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307} {2698194323944970368 54 308}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70849 term 54 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
flag 52254 term 54 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307} {2698194323944970368 54 308}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307} {2698194323944970368 54 308}]
------------------------------------------------------
flag 79689 term 54 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
flag 73647 term 54 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307} {2698194323944970368 54 308}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307} {2698194323944970368 54 308}]
------------------------------------------------------
flag 12679 term 54 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
flag 51521 term 54 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307} {2698194323944970368 54 308}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307} {2698194323944970368 54 308}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
flag 11514 term 54 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
flag 93516 term 54 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
flag 60645 term 54 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
flag 45378 term 54 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
flag 99402 term 54 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
flag 1675 term 54 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11239 term 54 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
flag 11900 term 54 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
term 55 server 2 vote for server 0
term 55 server 0 get vote from server 2
term 55 server 0 become leader
------------------------------------------------------
client write log 6798154544881955375 (index 309) to leader 0
flag 1025 term 55 leader 0 nextIndex[1]: 309  matchIndex[1]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
flag 38624 term 55 leader 0 nextIndex[2]: 309  matchIndex[2]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 52 299} {1781405205747658721 52 300} {6488689237228868402 52 301} {2352114780537781729 52 302} {2992060885608583128 52 303} {8424548933077754348 52 304} {7147986474803161330 52 305} {508022318841545694 52 306} {2698194323944970368 52 307} {2698194323944970368 54 308} {6798154544881955375 55 309}]
------------------------------------------------------
term 55 Server0 start snapshot! index=309
term 55 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 86420 term 54 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
flag 2581 term 54 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
term 55 leader 0 nextIndex[1]: 309  matchIndex[1]: 0
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 55
------------------------------------------------------
flag 87635 term 55 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 55 leaderCommit: 309 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=310
update matchIndex[2]=309
update leader CommitIndex=309
leader log:
[{snapshot 55 309}]
------------------------------------------------------
term 55 Server2 start snapshot! index=309
term 55 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
client write log 1827238358019605147 (index 310) to leader 0
flag 45470 term 54 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
flag 29272 term 54 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
term 55 leader 0 nextIndex[1]: 309  matchIndex[1]: 0
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 55
------------------------------------------------------
flag 57986 term 55 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 55 leaderCommit: 309 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73659 term 54 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
flag 54515 term 54 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
term 55 leader 0 nextIndex[1]: 309  matchIndex[1]: 0
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 55
------------------------------------------------------
flag 15158 term 55 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
!!!!!!connect server 1
client write log 755300066637298857 (index 309) to leader 1
flag 49691 term 54 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
flag 75996 term 54 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 54 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 54 leaderCommit: 308 
------------------------------------------------------
term 55 server 2 AppendEntries false 领导者任期过期 args.Term 54
------------------------------------------------------
term 55 server 0 AppendEntries false 领导者任期过期 args.Term 54
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 leader 0 nextIndex[1]: 309  matchIndex[1]: 0
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 55
------------------------------------------------------
flag 89305 term 55 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 55 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 55 rf.commitIndex 309 rf.lastApplied 309
term 55 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
flag 49207 term 55 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 97992 term 55 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87162 term 55 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 33312 term 55 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25780 term 55 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 26654 term 55 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
flag 75487 term 55 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 75492 term 55 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
flag 50534 term 55 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 52089 term 55 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48245 term 55 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 90730 term 55 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
flag 87951 term 55 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 98132 term 55 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19488 term 55 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 73929 term 55 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
flag 162 term 55 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 90077 term 55 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
flag 64313 term 55 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 64296 term 55 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
term 55 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81857 term 55 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 58614 term 55 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
flag 61333 term 55 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 3427 term 55 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44479 term 55 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 54767 term 55 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
term 55 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
flag 98319 term 55 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 55 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 60131 term 55 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
flag 60869 term 55 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 99643 term 55 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
flag 2033 term 55 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 43621 term 55 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
flag 31455 term 55 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 69409 term 55 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
flag 15862 term 55 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 11096 term 55 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
flag 40180 term 55 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 26187 term 55 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=311
update matchIndex[2]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 55 309} {1827238358019605147 55 310}]
------------------------------------------------------
client write log 755300066637298857 (index 311) to leader 0
flag 16863 term 55 leader 0 nextIndex[1]: 311  matchIndex[1]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
flag 35581 term 55 leader 0 nextIndex[2]: 311  matchIndex[2]: 310
term 55 leader 0 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 55 leaderCommit: 310 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 55 309} {1827238358019605147 55 310} {755300066637298857 55 311}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 55 309} {1827238358019605147 55 310} {755300066637298857 55 311}]
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5098 term 55 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 55 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 55 leaderCommit: 311 
------------------------------------------------------
flag 23066 term 55 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 55 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 55 leaderCommit: 311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 55 309} {1827238358019605147 55 310} {755300066637298857 55 311}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 55 309} {1827238358019605147 55 310} {755300066637298857 55 311}]
------------------------------------------------------
flag 67778 term 55 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 55 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 55 leaderCommit: 311 
------------------------------------------------------
flag 45114 term 55 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 55 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 55 leaderCommit: 311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
term 55 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 55 309} {1827238358019605147 55 310} {755300066637298857 55 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 55 309} {1827238358019605147 55 310} {755300066637298857 55 311}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42743 term 55 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 55 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 55 leaderCommit: 311 
------------------------------------------------------
flag 23151 term 55 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 55 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 55 leaderCommit: 311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 55 309} {1827238358019605147 55 310} {755300066637298857 55 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 55 309} {1827238358019605147 55 310} {755300066637298857 55 311}]
------------------------------------------------------
flag 92942 term 55 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 55 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 55 leaderCommit: 311 
------------------------------------------------------
flag 49559 term 55 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 55 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 55 leaderCommit: 311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 55 309} {1827238358019605147 55 310} {755300066637298857 55 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 55 309} {1827238358019605147 55 310} {755300066637298857 55 311}]
------------------------------------------------------
flag 76626 term 55 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 55 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 55 leaderCommit: 311 
------------------------------------------------------
flag 14828 term 55 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 55 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 55 leaderCommit: 311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 55 309} {1827238358019605147 55 310} {755300066637298857 55 311}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 55 309} {1827238358019605147 55 310} {755300066637298857 55 311}]
------------------------------------------------------
flag 12485 term 55 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 55 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 55 leaderCommit: 311 
------------------------------------------------------
flag 16469 term 55 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 55 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 55 leaderCommit: 311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=312
update matchIndex[2]=311
update leader CommitIndex=311
leader log:
[{snapshot 55 309} {1827238358019605147 55 310} {755300066637298857 55 311}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 55 309} {1827238358019605147 55 310} {755300066637298857 55 311}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 699834501561168873 (index 312) to leader 0
flag 3854 term 55 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 55 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 55 leaderCommit: 311 
------------------------------------------------------
flag 99233 term 55 leader 0 nextIndex[2]: 312  matchIndex[2]: 311
term 55 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 55 leaderCommit: 311 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 55 309} {1827238358019605147 55 310} {755300066637298857 55 311} {699834501561168873 55 312}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52686 term 55 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 55 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 55 leaderCommit: 312 
------------------------------------------------------
flag 62138 term 55 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 55 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 55 leaderCommit: 312 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=313
update matchIndex[2]=312
update leader CommitIndex=312
leader log:
[{snapshot 55 309} {1827238358019605147 55 310} {755300066637298857 55 311} {699834501561168873 55 312}]
------------------------------------------------------
client write log 2254455077271692275 (index 313) to leader 0
client write log 4347229521610611758 (index 314) to leader 0
client write log 550287184486119613 (index 315) to leader 0
client write log 1630066050195931120 (index 316) to leader 0
client write log 438190153472535850 (index 317) to leader 0
client write log 1668381800059108579 (index 318) to leader 0
client write log 3010390192962349417 (index 319) to leader 0
client write log 8479144157629874293 (index 320) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84965 term 55 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 55 leader 0 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 55 leaderCommit: 312 
------------------------------------------------------
flag 298 term 55 leader 0 nextIndex[2]: 313  matchIndex[2]: 312
term 55 leader 0 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 55 leaderCommit: 312 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 55 309} {1827238358019605147 55 310} {755300066637298857 55 311} {699834501561168873 55 312} {2254455077271692275 55 313} {4347229521610611758 55 314} {550287184486119613 55 315} {1630066050195931120 55 316} {438190153472535850 55 317} {1668381800059108579 55 318} {3010390192962349417 55 319} {8479144157629874293 55 320}]
------------------------------------------------------
term 55 Server0 start snapshot! index=319
term 55 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=320
-------------------------------------------------------------
term 55 leader 0 nextIndex[1]: 312  matchIndex[1]: 311
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 55
------------------------------------------------------
flag 85759 term 55 leader 0 nextIndex[2]: 321  matchIndex[2]: 320
term 55 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320}]
------------------------------------------------------
term 55 Server2 start snapshot! index=319
term 55 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=320
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7657520354562718193 (index 321) to leader 0
term 55 server 2 not vote for server 1, 日志不够新
term 55 server 0 not vote for server 1, 日志不够新
term 57 server 2 vote for server 0
term 57 server 1 vote for server 0
term 57 server 0 get vote from server 2
term 57 server 0 become leader
------------------------------------------------------
term 57 server 0 get outdate rpc reply from server 1
flag 27217 term 57 leader 0 nextIndex[1]: 322  matchIndex[1]: 0
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 88609 term 57 leader 0 nextIndex[2]: 322  matchIndex[2]: 0
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 57 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 322->321
------------------------------------------------------
term 57 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 322->321
------------------------------------------------------
term 57 leader 0 nextIndex[1]: 312  matchIndex[1]: 0
term 57 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 55
------------------------------------------------------
flag 86697 term 57 leader 0 nextIndex[2]: 321  matchIndex[2]: 0
term 57 leader 0 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
term 57 server 1 InstallSnapshot success
------------------------------------------------------
term 57 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 55 rf.commitIndex 319 rf.lastApplied 319
flag 46386 term 57 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 57 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 35403 term 57 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
flag 5884 term 57 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 13570 term 57 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
flag 59508 term 57 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 24523 term 57 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
flag 66228 term 57 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 78364 term 57 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39575 term 57 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 34664 term 57 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
flag 57467 term 57 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 3430 term 57 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
term 57 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
flag 41031 term 57 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 41884 term 57 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
flag 47182 term 57 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 87781 term 57 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50174 term 57 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 62094 term 57 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
flag 4582 term 57 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 79762 term 57 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60160 term 57 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 3378 term 57 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
flag 57197 term 57 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 83849 term 57 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
flag 5488 term 57 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 22376 term 57 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
flag 99865 term 57 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 92556 term 57 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
flag 66001 term 57 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 94672 term 57 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
flag 83712 term 57 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 50633 term 57 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
flag 6163 term 57 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 32722 term 57 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=320
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321}]
------------------------------------------------------
client write log 7657520354562718193 (index 322) to leader 0
flag 29739 term 57 leader 0 nextIndex[1]: 322  matchIndex[1]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
flag 36253 term 57 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 57 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 55 leaderCommit: 320 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:320 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
term 57 server 1 AppendEntries true commitIndex:320 
------------------------------------------------------
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321} {7657520354562718193 57 322}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321} {7657520354562718193 57 322}]
------------------------------------------------------
flag 53589 term 57 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 57 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 57 leaderCommit: 322 
------------------------------------------------------
flag 79170 term 57 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 57 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 57 leaderCommit: 322 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321} {7657520354562718193 57 322}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321} {7657520354562718193 57 322}]
------------------------------------------------------
flag 6177 term 57 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 57 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 57 leaderCommit: 322 
------------------------------------------------------
flag 24173 term 57 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 57 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 57 leaderCommit: 322 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321} {7657520354562718193 57 322}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321} {7657520354562718193 57 322}]
------------------------------------------------------
flag 79888 term 57 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 57 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 57 leaderCommit: 322 
------------------------------------------------------
flag 26395 term 57 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 57 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 57 leaderCommit: 322 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321} {7657520354562718193 57 322}]
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321} {7657520354562718193 57 322}]
------------------------------------------------------
flag 15572 term 57 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 57 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 57 leaderCommit: 322 
------------------------------------------------------
flag 70272 term 57 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 57 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 57 leaderCommit: 322 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321} {7657520354562718193 57 322}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321} {7657520354562718193 57 322}]
------------------------------------------------------
flag 36846 term 57 leader 0 nextIndex[1]: 323  matchIndex[1]: 322
term 57 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 57 leaderCommit: 322 
------------------------------------------------------
flag 81839 term 57 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 57 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 57 leaderCommit: 322 
------------------------------------------------------
term 57 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321} {7657520354562718193 57 322}]
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=322
leader log:
[{snapshot 55 319} {8479144157629874293 55 320} {7657520354562718193 55 321} {7657520354562718193 57 322}]
------------------------------------------------------
  ... Passed --  81.5  3 1863  824346  322
--- PASS: TestSnapshotInstall2D (81.51s)
PASS
