=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
flag 31064 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 97042 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 1308858309983943286 (index 1) to leader 2
flag 70454 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 22029 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1308858309983943286 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1308858309983943286 1 1}]
------------------------------------------------------
flag 34106 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 86061 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1308858309983943286 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1308858309983943286 1 1}]
------------------------------------------------------
flag 84919 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 6702 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1308858309983943286 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1308858309983943286 1 1}]
------------------------------------------------------
flag 33738 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 33490 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1308858309983943286 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1308858309983943286 1 1}]
------------------------------------------------------
flag 73022 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 9510 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1308858309983943286 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1308858309983943286 1 1}]
------------------------------------------------------
flag 67296 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 33330 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1308858309983943286 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1308858309983943286 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3036605607801636380 (index 2) to leader 2
flag 69260 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 48715 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1308858309983943286 1 1} {3036605607801636380 1 2}]
------------------------------------------------------
flag 30758 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 88285 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1308858309983943286 1 1} {3036605607801636380 1 2}]
------------------------------------------------------
client write log 1968043182405436386 (index 3) to leader 2
client write log 6217066765404856288 (index 4) to leader 2
client write log 7292048264720201329 (index 5) to leader 2
client write log 5207167420582082773 (index 6) to leader 2
client write log 1025993752959562816 (index 7) to leader 2
client write log 4428427658596553562 (index 8) to leader 2
client write log 1326903526667724275 (index 9) to leader 2
client write log 7462510685815133936 (index 10) to leader 2
client write log 4159752316644837656 (index 11) to leader 2
flag 15761 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 29458 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{<nil> 0 0} {1308858309983943286 1 1} {3036605607801636380 1 2} {1968043182405436386 1 3} {6217066765404856288 1 4} {7292048264720201329 1 5} {5207167420582082773 1 6} {1025993752959562816 1 7} {4428427658596553562 1 8} {1326903526667724275 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=11
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 40715 term 1 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 1 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=11
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3009360679212700219 (index 12) to leader 2
term 1 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 3 server 1 vote for server 2
term 3 server 0 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 2 get outdate rpc reply from server 0
flag 32177 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 58945 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 13->12
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 13->12
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 73053 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54028 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 88993 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
flag 66162 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 44609 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
flag 96785 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 54529 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
flag 21218 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 53299 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
flag 19703 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 95394 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
flag 62706 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 60781 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
flag 32416 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 56736 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
flag 18295 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 36379 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
flag 16059 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 3261 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
flag 83932 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 4179 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
flag 89104 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 2132 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
flag 26133 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 72699 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
flag 19982 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 10353 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
flag 4604 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 13953 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
flag 83808 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 35029 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
flag 68128 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 11068 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
flag 55077 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 53790 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12}]
------------------------------------------------------
flag 55070 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 41564 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
client write log 3009360679212700219 (index 13) to leader 2
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13}]
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13}]
------------------------------------------------------
flag 14275 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
flag 4260 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13}]
------------------------------------------------------
flag 75158 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 90164 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13}]
------------------------------------------------------
flag 25663 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 37629 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13}]
------------------------------------------------------
flag 90797 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 25978 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13}]
------------------------------------------------------
flag 95812 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 17550 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13}]
------------------------------------------------------
flag 37733 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 69582 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 94495 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 92070 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 8873 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 36888 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 70653 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 19361 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 0
term 4 server 1 become leader
------------------------------------------------------
flag 57082 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 95143 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13}]
------------------------------------------------------
client write log 8229361020919567453 (index 14) to leader 1
flag 40387 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 44590 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 49653 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 73553 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13} {8229361020919567453 4 14}]
------------------------------------------------------
flag 73920 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 96794 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 49663 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 56951 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13} {8229361020919567453 4 14}]
------------------------------------------------------
flag 64223 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
flag 19225 term 3 leader 2 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
client write log 3016390976358504098 (index 15) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 14->13
------------------------------------------------------
flag 99734 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 48058 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13} {8229361020919567453 4 14} {3016390976358504098 4 15}]
------------------------------------------------------
flag 26523 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 13
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 56492 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 99395 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13} {8229361020919567453 4 14} {3016390976358504098 4 15}]
------------------------------------------------------
flag 3198 term 3 leader 2 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 2 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 13
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
!!!!!!connect server 2
client write log 7828053803330658121 (index 16) to leader 1
flag 99208 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 14966 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13} {8229361020919567453 4 14} {3016390976358504098 4 15} {7828053803330658121 4 16}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13} {8229361020919567453 4 14} {3016390976358504098 4 15} {7828053803330658121 4 16}]
------------------------------------------------------
flag 6963 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 35193 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13} {8229361020919567453 4 14} {3016390976358504098 4 15} {7828053803330658121 4 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13} {8229361020919567453 4 14} {3016390976358504098 4 15} {7828053803330658121 4 16}]
------------------------------------------------------
flag 3047 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 14511 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13} {8229361020919567453 4 14} {3016390976358504098 4 15} {7828053803330658121 4 16}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13} {8229361020919567453 4 14} {3016390976358504098 4 15} {7828053803330658121 4 16}]
------------------------------------------------------
flag 51570 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 6701 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13} {8229361020919567453 4 14} {3016390976358504098 4 15} {7828053803330658121 4 16}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13} {8229361020919567453 4 14} {3016390976358504098 4 15} {7828053803330658121 4 16}]
------------------------------------------------------
flag 90446 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 38999 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13} {8229361020919567453 4 14} {3016390976358504098 4 15} {7828053803330658121 4 16}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13} {8229361020919567453 4 14} {3016390976358504098 4 15} {7828053803330658121 4 16}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 17->16
------------------------------------------------------
flag 83749 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 16
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 16 args.LastIncludedIndex 9
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13} {8229361020919567453 4 14} {3016390976358504098 4 15} {7828053803330658121 4 16}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5084128657176005414 (index 17) to leader 1
flag 89251 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 54297 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13} {8229361020919567453 4 14} {3016390976358504098 4 15} {7828053803330658121 4 16} {5084128657176005414 4 17}]
------------------------------------------------------
flag 90897 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 51711 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=18
update matchIndex[0]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13} {8229361020919567453 4 14} {3016390976358504098 4 15} {7828053803330658121 4 16} {5084128657176005414 4 17}]
------------------------------------------------------
client write log 8055024922864705883 (index 18) to leader 1
client write log 859422774455937271 (index 19) to leader 1
client write log 8343977933194894650 (index 20) to leader 1
client write log 2543143304215029597 (index 21) to leader 1
client write log 495214155690749477 (index 22) to leader 1
client write log 9138412849783230998 (index 23) to leader 1
client write log 3526307759839403617 (index 24) to leader 1
client write log 7718202771109804913 (index 25) to leader 1
client write log 114250342550168915 (index 26) to leader 1
client write log 6418758069714668872 (index 27) to leader 1
client write log 8011838274524731995 (index 28) to leader 1
client write log 5196262253816224959 (index 29) to leader 1
client write log 769065016933124970 (index 30) to leader 1
flag 36059 term 4 leader 1 nextIndex[0]: 18  matchIndex[0]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
flag 88535 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 17 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 1 9} {7462510685815133936 1 10} {4159752316644837656 1 11} {3009360679212700219 1 12} {3009360679212700219 3 13} {8229361020919567453 4 14} {3016390976358504098 4 15} {7828053803330658121 4 16} {5084128657176005414 4 17} {8055024922864705883 4 18} {859422774455937271 4 19} {8343977933194894650 4 20} {2543143304215029597 4 21} {495214155690749477 4 22} {9138412849783230998 4 23} {3526307759839403617 4 24} {7718202771109804913 4 25} {114250342550168915 4 26} {6418758069714668872 4 27} {8011838274524731995 4 28} {5196262253816224959 4 29} {769065016933124970 4 30}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=30
-------------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=30
-------------------------------------------------------------
flag 21609 term 4 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=30
-------------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=30
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2465242162308655456 (index 31) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 10->9
------------------------------------------------------
flag 16254 term 4 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 4 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 9
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 5 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 vote for server 1
term 6 server 0 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 1 get outdate rpc reply from server 0
flag 64814 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 94429 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 32->31
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
flag 53529 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 17  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
term 6 server 2 InstallSnapshot success
------------------------------------------------------
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
flag 32967 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 48263 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58449 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 91217 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64370 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 73101 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
term 6 server 1 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 1
flag 31694 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 6830 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
flag 94166 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 52801 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
flag 60239 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 46648 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
flag 71191 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 38496 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
flag 37428 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 85819 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38174 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 436 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
flag 40690 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 91943 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
flag 78576 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 6443 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
flag 60501 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 50804 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
flag 11019 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 61912 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
flag 73539 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 45 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
flag 40404 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 85415 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13866 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 56998 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2465242162308655456 (index 32) to leader 1
flag 92808 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
flag 69745 term 6 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31} {2465242162308655456 6 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31} {2465242162308655456 6 32}]
------------------------------------------------------
flag 27751 term 6 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 50536 term 6 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31} {2465242162308655456 6 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31} {2465242162308655456 6 32}]
------------------------------------------------------
flag 75590 term 6 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 83162 term 6 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31} {2465242162308655456 6 32}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31} {2465242162308655456 6 32}]
------------------------------------------------------
flag 95666 term 6 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 93456 term 6 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31} {2465242162308655456 6 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31} {2465242162308655456 6 32}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3214 term 6 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 73007 term 6 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31} {2465242162308655456 6 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31} {2465242162308655456 6 32}]
------------------------------------------------------
flag 90491 term 6 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 71835 term 6 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31} {2465242162308655456 6 32}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31} {2465242162308655456 6 32}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84617 term 6 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 52116 term 6 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:32 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=33
update matchIndex[2]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31} {2465242162308655456 6 32}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31} {2465242162308655456 6 32}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6053329315530933489 (index 33) to leader 1
flag 21751 term 6 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
flag 2237 term 6 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 32 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31} {2465242162308655456 6 32} {6053329315530933489 6 33}]
------------------------------------------------------
flag 62220 term 6 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 87652 term 6 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=34
update matchIndex[0]=33
update leader CommitIndex=33
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31} {2465242162308655456 6 32} {6053329315530933489 6 33}]
------------------------------------------------------
client write log 8417047395486079650 (index 34) to leader 1
client write log 2603706362785205776 (index 35) to leader 1
client write log 426506921509946277 (index 36) to leader 1
client write log 3768836049479466148 (index 37) to leader 1
client write log 2554596567098215761 (index 38) to leader 1
client write log 6023067828966119323 (index 39) to leader 1
client write log 7383182496693834981 (index 40) to leader 1
client write log 3751536860347673682 (index 41) to leader 1
client write log 7980104741573983689 (index 42) to leader 1
client write log 6761111857445155840 (index 43) to leader 1
client write log 8501392375387071136 (index 44) to leader 1
client write log 1391640149549294183 (index 45) to leader 1
client write log 6553388302714101202 (index 46) to leader 1
client write log 8951692780380616966 (index 47) to leader 1
client write log 7458799075183672453 (index 48) to leader 1
flag 56199 term 6 leader 1 nextIndex[0]: 34  matchIndex[0]: 33
term 6 leader 1 sendAppendEntries PrevLogIndex: 33  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
flag 99778 term 6 leader 1 nextIndex[2]: 33  matchIndex[2]: 32
term 6 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 6 leaderCommit: 33 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:33 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 29} {769065016933124970 4 30} {2465242162308655456 4 31} {2465242162308655456 6 32} {6053329315530933489 6 33} {8417047395486079650 6 34} {2603706362785205776 6 35} {426506921509946277 6 36} {3768836049479466148 6 37} {2554596567098215761 6 38} {6023067828966119323 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=48
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 33->32
------------------------------------------------------
flag 42561 term 6 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 6 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 0  matchIndex[2]: 32
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=48
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5956729983402449773 (index 49) to leader 1
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 0 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 0
term 6 server 1 not vote for server 2, 日志不够新
term 6 server 0 not vote for server 2, 日志不够新
term 8 server 2 vote for server 1
term 8 server 0 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 1 get outdate rpc reply from server 0
flag 72897 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 8859 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 50->49
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 50->49
------------------------------------------------------
flag 43495 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 33  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
flag 71779 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 85339 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2984 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 61276 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69399 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 12428 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
flag 66443 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 21812 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74334 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 17545 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
flag 15609 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 33290 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
flag 37997 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 36039 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49489 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 66565 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19687 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 40638 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
flag 45309 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 31264 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
flag 33694 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 3365 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
flag 99004 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 16313 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62050 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 21438 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57921 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 76803 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1817 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 90519 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31351 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 88935 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
flag 73778 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 91534 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
flag 78051 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 60184 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49}]
------------------------------------------------------
client write log 5956729983402449773 (index 50) to leader 1
flag 13380 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 158 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49} {5956729983402449773 8 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 39} {7383182496693834981 6 40} {3751536860347673682 6 41} {7980104741573983689 6 42} {6761111857445155840 6 43} {8501392375387071136 6 44} {1391640149549294183 6 45} {6553388302714101202 6 46} {8951692780380616966 6 47} {7458799075183672453 6 48} {5956729983402449773 6 49} {5956729983402449773 8 50}]
------------------------------------------------------
term 8 Server1 start snapshot! index=49
term 8 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59376 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 70698 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {5956729983402449773 8 50}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {5956729983402449773 8 50}]
------------------------------------------------------
term 8 Server2 start snapshot! index=49
term 8 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
term 8 Server0 start snapshot! index=49
term 8 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44705 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 71162 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {5956729983402449773 8 50}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {5956729983402449773 8 50}]
------------------------------------------------------
flag 72995 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 60617 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {5956729983402449773 8 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {5956729983402449773 8 50}]
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 2 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 2
flag 14726 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 46878 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {5956729983402449773 8 50}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {5956729983402449773 8 50}]
------------------------------------------------------
flag 24343 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 74017 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {5956729983402449773 8 50}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {5956729983402449773 8 50}]
------------------------------------------------------
flag 7437 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 10466 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {5956729983402449773 8 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {5956729983402449773 8 50}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 87093 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 708 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 96398 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 56514 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 69680 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 70370 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 42891 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 25482 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 vote for server 0
term 9 server 0 get vote from server 2
term 9 server 0 become leader
------------------------------------------------------
flag 16771 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 42175 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {5956729983402449773 8 50}]
------------------------------------------------------
client write log 9048194656565552160 (index 51) to leader 0
flag 8183 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 52919 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 45704 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 88083 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51}]
------------------------------------------------------
flag 55986 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 69081 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 24624 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 29351 term 9 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 9 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51}]
------------------------------------------------------
client write log 5234381595482038762 (index 52) to leader 0
flag 97153 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 16433 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 38331 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 81952 term 9 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 9 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
flag 68345 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 60058 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 79778 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 99782 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
!!!!!!connect server 1
client write log 4227086307048993901 (index 51) to leader 1
flag 35990 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 41482 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75990 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 39359 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 952 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 93249 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 53->52
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 52
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 51481 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 52 args.LastIncludedIndex 49
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54906 term 9 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 9 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 44856 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
flag 4583 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 58485 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
flag 43697 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 22452 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
flag 54620 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 58995 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
flag 66807 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 29315 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42046 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 25233 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
flag 70869 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 70154 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15443 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 24147 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
flag 5747 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 19931 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
flag 33161 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 19891 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
flag 1294 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 90212 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
flag 42535 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 92481 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36960 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 92830 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
flag 21165 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 34000 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
flag 34648 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 16943 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
flag 6321 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 54525 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
flag 30500 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 26061 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52}]
------------------------------------------------------
client write log 4227086307048993901 (index 53) to leader 0
flag 26710 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 50834 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52} {4227086307048993901 9 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52} {4227086307048993901 9 53}]
------------------------------------------------------
flag 82112 term 9 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 19481 term 9 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52} {4227086307048993901 9 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52} {4227086307048993901 9 53}]
------------------------------------------------------
flag 18414 term 9 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 26553 term 9 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52} {4227086307048993901 9 53}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52} {4227086307048993901 9 53}]
------------------------------------------------------
flag 8142 term 9 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 62106 term 9 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52} {4227086307048993901 9 53}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52} {4227086307048993901 9 53}]
------------------------------------------------------
flag 27154 term 9 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 35203 term 9 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52} {4227086307048993901 9 53}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52} {4227086307048993901 9 53}]
------------------------------------------------------
flag 67540 term 9 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 91392 term 9 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52} {4227086307048993901 9 53}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52} {4227086307048993901 9 53}]
------------------------------------------------------
flag 41792 term 9 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 7164 term 9 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52} {4227086307048993901 9 53}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52} {4227086307048993901 9 53}]
------------------------------------------------------
term 9 server 1 not vote for server 0, 日志不够新
term 9 server 0 get outdate rpc reply from server 1
!!!!!!diconnect server 1
client write log 2598343438923307965 (index 54) to leader 0
flag 71532 term 9 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 97150 term 9 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52} {4227086307048993901 9 53} {2598343438923307965 9 54}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 54->53
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 53
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 55495 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52} {4227086307048993901 9 53} {2598343438923307965 9 54}]
------------------------------------------------------
client write log 8619933600539031299 (index 55) to leader 0
client write log 7306358780002476274 (index 56) to leader 0
client write log 5076551828902745597 (index 57) to leader 0
client write log 7508204507698552692 (index 58) to leader 0
client write log 998777102949676058 (index 59) to leader 0
client write log 3052390632860073995 (index 60) to leader 0
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 53
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 79700 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 6 49} {5956729983402449773 8 50} {9048194656565552160 9 51} {5234381595482038762 9 52} {4227086307048993901 9 53} {2598343438923307965 9 54} {8619933600539031299 9 55} {7306358780002476274 9 56} {5076551828902745597 9 57} {7508204507698552692 9 58} {998777102949676058 9 59} {3052390632860073995 9 60}]
------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=60
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 53
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 60558 term 9 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=60
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7568545571300947574 (index 61) to leader 0
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 53
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 89829 term 9 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 9 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 10 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 2 vote for server 0
term 11 server 0 get vote from server 2
term 11 server 0 become leader
------------------------------------------------------
term 11 server 1 vote for server 0
term 11 server 0 get outdate rpc reply from server 1
flag 35669 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 4003 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 62->61
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 54  matchIndex[1]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 96274 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 InstallSnapshot success
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
flag 4853 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 5521 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
flag 95731 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 4065 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20252 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 48718 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21457 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 97629 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
flag 79995 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 69085 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
flag 23278 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 37554 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
flag 72876 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 60574 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
flag 87582 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 41051 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74124 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 16516 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37463 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 99548 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
flag 10401 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 10666 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64704 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 68152 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
flag 45999 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 83099 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
flag 90715 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 14436 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
flag 25043 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 59014 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
flag 12745 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 1782 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99276 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 32247 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=60
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61}]
------------------------------------------------------
client write log 7568545571300947574 (index 62) to leader 0
flag 4764 term 11 leader 0 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
flag 60150 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 60 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61} {7568545571300947574 11 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61} {7568545571300947574 11 62}]
------------------------------------------------------
term 11 server 2 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 2
flag 41569 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 49935 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61} {7568545571300947574 11 62}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61} {7568545571300947574 11 62}]
------------------------------------------------------
flag 26039 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 40467 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61} {7568545571300947574 11 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61} {7568545571300947574 11 62}]
------------------------------------------------------
flag 75679 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 14993 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61} {7568545571300947574 11 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61} {7568545571300947574 11 62}]
------------------------------------------------------
term 11 server 0 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13962 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 72861 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61} {7568545571300947574 11 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61} {7568545571300947574 11 62}]
------------------------------------------------------
flag 23231 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 47821 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61} {7568545571300947574 11 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61} {7568545571300947574 11 62}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21516 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 2608 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61} {7568545571300947574 11 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=62
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61} {7568545571300947574 11 62}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2403855563768211006 (index 63) to leader 0
flag 24974 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
flag 1446 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 62 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:62 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61} {7568545571300947574 11 62} {2403855563768211006 11 63}]
------------------------------------------------------
flag 26232 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 35793 term 11 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61} {7568545571300947574 11 62} {2403855563768211006 11 63}]
------------------------------------------------------
client write log 4288884882864342089 (index 64) to leader 0
client write log 8614333467290940668 (index 65) to leader 0
client write log 3743122126913050303 (index 66) to leader 0
client write log 754000636392671705 (index 67) to leader 0
client write log 5538454977906537957 (index 68) to leader 0
client write log 6330149733433296336 (index 69) to leader 0
client write log 6774419467782336676 (index 70) to leader 0
client write log 3619222613700004400 (index 71) to leader 0
client write log 9145586752372235413 (index 72) to leader 0
client write log 5803567850622509981 (index 73) to leader 0
client write log 7152246496692876635 (index 74) to leader 0
client write log 9062288334129658109 (index 75) to leader 0
flag 35541 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 44254 term 11 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 59} {3052390632860073995 9 60} {7568545571300947574 9 61} {7568545571300947574 11 62} {2403855563768211006 11 63} {4288884882864342089 11 64} {8614333467290940668 11 65} {3743122126913050303 11 66} {754000636392671705 11 67} {5538454977906537957 11 68} {6330149733433296336 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75}]
------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=75
-------------------------------------------------------------
term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 27731 term 11 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 11 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=76
update matchIndex[2]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75}]
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=75
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1521640145867223053 (index 76) to leader 0
term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 77452 term 11 leader 0 nextIndex[2]: 76  matchIndex[2]: 75
term 11 leader 0 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75} {1521640145867223053 11 76}]
------------------------------------------------------
term 12 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 2 vote for server 0
term 13 server 1 vote for server 0
term 13 server 0 get vote from server 2
term 13 server 0 become leader
------------------------------------------------------
term 13 server 0 get outdate rpc reply from server 1
flag 67035 term 13 leader 0 nextIndex[1]: 77  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 57868 term 13 leader 0 nextIndex[2]: 77  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75} {1521640145867223053 11 76}]
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 77->76
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 63  matchIndex[1]: 0
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 46628 term 13 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 13 server 1 InstallSnapshot success
------------------------------------------------------
update nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75} {1521640145867223053 11 76}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
term 13 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
flag 92602 term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 40422 term 13 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75} {1521640145867223053 11 76}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75} {1521640145867223053 11 76}]
------------------------------------------------------
flag 60922 term 13 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 33697 term 13 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75} {1521640145867223053 11 76}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75} {1521640145867223053 11 76}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27815 term 13 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 17310 term 13 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75} {1521640145867223053 11 76}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75} {1521640145867223053 11 76}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60536 term 13 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 33553 term 13 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75} {1521640145867223053 11 76}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75} {1521640145867223053 11 76}]
------------------------------------------------------
flag 65373 term 13 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 94123 term 13 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75} {1521640145867223053 11 76}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75} {1521640145867223053 11 76}]
------------------------------------------------------
flag 86069 term 13 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 8233 term 13 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:76 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=77
update matchIndex[2]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75} {1521640145867223053 11 76}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75} {1521640145867223053 11 76}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 33797 term 13 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 22274 term 13 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29842 term 13 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 58549 term 13 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 53467 term 13 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 79809 term 13 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 14 server 1 vote for server 2
term 14 server 2 get vote from server 1
term 14 server 2 become leader
------------------------------------------------------
flag 17793 term 14 leader 2 nextIndex[0]: 77  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 79113 term 14 leader 2 nextIndex[1]: 77  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75} {1521640145867223053 11 76}]
------------------------------------------------------
client write log 7148701638061375041 (index 77) to leader 2
flag 8073 term 13 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 90982 term 13 leader 0 nextIndex[2]: 77  matchIndex[2]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 41861 term 14 leader 2 nextIndex[0]: 77  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
flag 77868 term 14 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75} {1521640145867223053 11 76} {7148701638061375041 14 77}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 77->76
------------------------------------------------------
flag 49685 term 13 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 leader 0 nextIndex[2]: 0  matchIndex[2]: 76
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 16722 term 14 leader 2 nextIndex[0]: 77  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 97601 term 14 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 14 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 77 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75} {1521640145867223053 11 76} {7148701638061375041 14 77}]
------------------------------------------------------
flag 23371 term 13 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 leader 0 nextIndex[2]: 0  matchIndex[2]: 76
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
client write log 5417686166524925027 (index 78) to leader 2
flag 41850 term 14 leader 2 nextIndex[0]: 77  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
flag 67527 term 14 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 14 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 14 leaderCommit: 77 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75} {1521640145867223053 11 76} {7148701638061375041 14 77} {5417686166524925027 14 78}]
------------------------------------------------------
flag 71338 term 13 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 leader 0 nextIndex[2]: 0  matchIndex[2]: 76
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 22537 term 14 leader 2 nextIndex[0]: 77  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 41479 term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 14 leaderCommit: 78 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75} {1521640145867223053 11 76} {7148701638061375041 14 77} {5417686166524925027 14 78}]
------------------------------------------------------
flag 18079 term 13 leader 0 nextIndex[1]: 77  matchIndex[1]: 76
term 13 leader 0 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 76 
------------------------------------------------------
term 13 leader 0 nextIndex[2]: 0  matchIndex[2]: 76
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
!!!!!!connect server 0
client write log 8807622031540689153 (index 79) to leader 2
flag 90951 term 14 leader 2 nextIndex[0]: 77  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 11 leaderCommit: 78 
------------------------------------------------------
flag 80175 term 14 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 14 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 14 leaderCommit: 78 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75} {1521640145867223053 11 76} {7148701638061375041 14 77} {5417686166524925027 14 78} {8807622031540689153 14 79}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 11 69} {6774419467782336676 11 70} {3619222613700004400 11 71} {9145586752372235413 11 72} {5803567850622509981 11 73} {7152246496692876635 11 74} {9062288334129658109 11 75} {1521640145867223053 11 76} {7148701638061375041 14 77} {5417686166524925027 14 78} {8807622031540689153 14 79}]
------------------------------------------------------
term 14 Server2 start snapshot! index=79
term 14 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
flag 88892 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 81676 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 Server1 start snapshot! index=79
term 14 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
term 14 Server0 start snapshot! index=79
term 14 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
flag 57473 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 97445 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 470 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 34419 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 server 0 not vote for server 1, 任期不够新
term 14 server 1 get outdate rpc reply from server 0
flag 4162 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 47608 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86353 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 93742 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
flag 45178 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 84701 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=80
update matchIndex[0]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 79}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7919169864279513721 (index 80) to leader 2
flag 57639 term 14 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
flag 73613 term 14 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 14 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 79 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7919169864279513721 14 80}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 80->79
------------------------------------------------------
term 14 leader 2 nextIndex[0]: 0  matchIndex[0]: 79
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 97241 term 14 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=80
leader log:
[{snapshot 14 79} {7919169864279513721 14 80}]
------------------------------------------------------
client write log 2356975097518289875 (index 81) to leader 2
client write log 5216380400744998646 (index 82) to leader 2
client write log 3096311285177442006 (index 83) to leader 2
client write log 6817958623317226005 (index 84) to leader 2
client write log 2751807081110578011 (index 85) to leader 2
client write log 4069542299830646038 (index 86) to leader 2
client write log 7707249763694555710 (index 87) to leader 2
client write log 2748525746630876775 (index 88) to leader 2
term 14 leader 2 nextIndex[0]: 0  matchIndex[0]: 79
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 51479 term 14 leader 2 nextIndex[1]: 81  matchIndex[1]: 80
term 14 leader 2 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 14 leaderCommit: 80 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:80 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88}]
------------------------------------------------------
term 14 leader 2 nextIndex[0]: 0  matchIndex[0]: 79
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 29288 term 14 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 14 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6459458039790404662 (index 89) to leader 2
term 14 server 2 not vote for server 0, 日志不够新
term 14 server 1 not vote for server 0, 日志不够新
term 16 server 0 vote for server 2
term 16 server 2 get vote from server 0
term 16 server 2 become leader
------------------------------------------------------
term 16 server 1 vote for server 2
term 16 server 2 get outdate rpc reply from server 1
flag 8151 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 32833 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 90->89
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 90->89
------------------------------------------------------
flag 23245 term 16 leader 2 nextIndex[0]: 80  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 42592 term 16 leader 2 nextIndex[1]: 89  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
term 16 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
flag 46648 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 71889 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5367 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 63486 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54809 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 93123 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
flag 69960 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 90876 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
flag 97756 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 40050 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
flag 71811 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 83523 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
flag 55584 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 40570 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37770 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 29861 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
flag 57177 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 57109 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
flag 9697 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 47332 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82609 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 3878 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
flag 30626 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 16414 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
flag 75207 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 54719 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 19677 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 44299 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
flag 96498 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 46590 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71818 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 3955 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
flag 5124 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 64004 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89}]
------------------------------------------------------
client write log 6459458039790404662 (index 90) to leader 2
flag 50912 term 16 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
flag 63828 term 16 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 16 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 14 leaderCommit: 88 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89} {6459458039790404662 16 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 79} {7919169864279513721 14 80} {2356975097518289875 14 81} {5216380400744998646 14 82} {3096311285177442006 14 83} {6817958623317226005 14 84} {2751807081110578011 14 85} {4069542299830646038 14 86} {7707249763694555710 14 87} {2748525746630876775 14 88} {6459458039790404662 14 89} {6459458039790404662 16 90}]
------------------------------------------------------
term 16 Server2 start snapshot! index=89
term 16 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61202 term 16 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 8907 term 16 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {6459458039790404662 16 90}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {6459458039790404662 16 90}]
------------------------------------------------------
term 16 Server0 start snapshot! index=89
term 16 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
term 16 Server1 start snapshot! index=89
term 16 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82865 term 16 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 74694 term 16 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {6459458039790404662 16 90}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {6459458039790404662 16 90}]
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62504 term 16 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 29800 term 16 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {6459458039790404662 16 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {6459458039790404662 16 90}]
------------------------------------------------------
term 16 server 2 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 2
flag 8789 term 16 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 35934 term 16 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {6459458039790404662 16 90}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {6459458039790404662 16 90}]
------------------------------------------------------
flag 98554 term 16 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 44035 term 16 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {6459458039790404662 16 90}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 14 89} {6459458039790404662 16 90}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7034496643305339286 (index 91) to leader 2
flag 43206 term 16 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
flag 65195 term 16 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 90 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6459458039790404662 16 90} {7034496643305339286 16 91}]
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58904 term 16 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 37835 term 16 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 14 89} {6459458039790404662 16 90} {7034496643305339286 16 91}]
------------------------------------------------------
client write log 5850399748447679026 (index 92) to leader 2
client write log 83842521697287802 (index 93) to leader 2
client write log 1419852499388402010 (index 94) to leader 2
client write log 4669776022965416403 (index 95) to leader 2
client write log 810438838732728843 (index 96) to leader 2
client write log 9100406036275177272 (index 97) to leader 2
client write log 2612802337317683556 (index 98) to leader 2
client write log 1532566716541108636 (index 99) to leader 2
client write log 2107346426117152293 (index 100) to leader 2
flag 88574 term 16 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
flag 46 term 16 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 16 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 16 leaderCommit: 91 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 89} {6459458039790404662 16 90} {7034496643305339286 16 91} {5850399748447679026 16 92} {83842521697287802 16 93} {1419852499388402010 16 94} {4669776022965416403 16 95} {810438838732728843 16 96} {9100406036275177272 16 97} {2612802337317683556 16 98} {1532566716541108636 16 99} {2107346426117152293 16 100}]
------------------------------------------------------
term 16 Server2 start snapshot! index=99
term 16 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=100
-------------------------------------------------------------
term 16 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 95020 term 16 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 16 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100}]
------------------------------------------------------
term 16 Server1 start snapshot! index=99
term 16 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=100
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4783188323408656216 (index 101) to leader 2
term 16 server 1 not vote for server 0, 日志不够新
term 16 server 2 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 1 vote for server 2
term 18 server 2 get vote from server 1
term 18 server 0 vote for server 2
term 18 server 2 become leader
------------------------------------------------------
term 18 server 2 get outdate rpc reply from server 0
flag 10054 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 84175 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 102->101
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 102->101
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 91  matchIndex[0]: 0
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
flag 11452 term 18 leader 2 nextIndex[1]: 101  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
term 18 server 0 InstallSnapshot success
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 16 rf.commitIndex 99 rf.lastApplied 99
flag 53345 term 18 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 15056 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
term 18 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53716 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 34502 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
flag 77126 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 96922 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
flag 92942 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 7618 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
flag 71799 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 99282 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
flag 18662 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 28671 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
flag 91335 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 48516 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
flag 78114 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 82800 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99849 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 68129 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
flag 44489 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 435 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
flag 89739 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 63661 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
flag 68820 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 5819 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
flag 34341 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 38530 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
flag 74740 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 78278 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
flag 84486 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 66661 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
term 18 server 0 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95584 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 20843 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
flag 80041 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 72051 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=100
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101}]
------------------------------------------------------
client write log 4783188323408656216 (index 102) to leader 2
flag 22928 term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
flag 1083 term 18 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 18 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 100 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101} {4783188323408656216 18 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101} {4783188323408656216 18 102}]
------------------------------------------------------
flag 87262 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 93749 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101} {4783188323408656216 18 102}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101} {4783188323408656216 18 102}]
------------------------------------------------------
flag 71527 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 61105 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101} {4783188323408656216 18 102}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101} {4783188323408656216 18 102}]
------------------------------------------------------
term 18 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82499 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 29391 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101} {4783188323408656216 18 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101} {4783188323408656216 18 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57349 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 58886 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101} {4783188323408656216 18 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101} {4783188323408656216 18 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96495 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 10148 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101} {4783188323408656216 18 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101} {4783188323408656216 18 102}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69871 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 7136 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101} {4783188323408656216 18 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101} {4783188323408656216 18 102}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 61051 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 16226 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 40984 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 92355 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 11032 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 31841 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 56768 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 79589 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 19 server 1 vote for server 0
term 19 server 0 get vote from server 1
term 19 server 0 become leader
------------------------------------------------------
flag 80058 term 19 leader 0 nextIndex[1]: 103  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 42210 term 19 leader 0 nextIndex[2]: 103  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101} {4783188323408656216 18 102}]
------------------------------------------------------
client write log 2359539928165913947 (index 103) to leader 0
flag 40863 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 51110 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 59517 term 19 leader 0 nextIndex[1]: 103  matchIndex[1]: 102
term 19 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 57485 term 19 leader 0 nextIndex[2]: 103  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101} {4783188323408656216 18 102} {2359539928165913947 19 103}]
------------------------------------------------------
flag 3635 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 94539 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 48634 term 19 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 19 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 19 leaderCommit: 103 
------------------------------------------------------
flag 32586 term 19 leader 0 nextIndex[2]: 103  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=104
update matchIndex[1]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101} {4783188323408656216 18 102} {2359539928165913947 19 103}]
------------------------------------------------------
client write log 6535936697779412822 (index 104) to leader 0
client write log 8423970393564510060 (index 105) to leader 0
client write log 3194337388400457263 (index 106) to leader 0
client write log 4135291475156372049 (index 107) to leader 0
client write log 7922515824926641267 (index 108) to leader 0
client write log 1669257907009596785 (index 109) to leader 0
client write log 6261857284601416136 (index 110) to leader 0
client write log 6606838745770077491 (index 111) to leader 0
client write log 4458835584353006042 (index 112) to leader 0
client write log 1547171274800696277 (index 113) to leader 0
client write log 4649248396985903932 (index 114) to leader 0
client write log 1224703472716755681 (index 115) to leader 0
flag 19420 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 42693 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 8401 term 19 leader 0 nextIndex[1]: 104  matchIndex[1]: 103
term 19 leader 0 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 19 leaderCommit: 103 
------------------------------------------------------
flag 25455 term 19 leader 0 nextIndex[2]: 103  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 99} {2107346426117152293 16 100} {4783188323408656216 16 101} {4783188323408656216 18 102} {2359539928165913947 19 103} {6535936697779412822 19 104} {8423970393564510060 19 105} {3194337388400457263 19 106} {4135291475156372049 19 107} {7922515824926641267 19 108} {1669257907009596785 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
term 19 Server0 start snapshot! index=109
term 19 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=115
-------------------------------------------------------------
flag 88221 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 98797 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 75120 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 103  matchIndex[2]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
term 19 Server1 start snapshot! index=109
term 19 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=115
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6807991268831304861 (index 103) to leader 2
flag 49242 term 18 leader 2 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
flag 28611 term 18 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 18 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 18 leaderCommit: 102 
------------------------------------------------------
term 19 server 1 AppendEntries false 领导者任期过期 args.Term 18
term 19 server 0 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68569 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 103  matchIndex[2]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 2 InstallSnapshot success
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 19 rf.commitIndex 109 rf.lastApplied 109
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14680 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 58849 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47007 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 78743 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
flag 12923 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 83002 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
flag 36916 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 153 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36148 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 391 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 116->115
------------------------------------------------------
flag 79272 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 0  matchIndex[2]: 115
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 2 InstallSnapshot fail
rf.commitIndex 115 args.LastIncludedIndex 109
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
flag 79139 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 16641 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
flag 98885 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 57544 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
flag 9320 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 24177 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
flag 62427 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 96344 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62713 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 60524 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
flag 50906 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 8043 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
flag 59585 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 30719 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
flag 97198 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 59517 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80033 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 51623 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
flag 56817 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 48053 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90980 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 61976 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 server 2 not vote for server 0, 日志不够新
term 19 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43325 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 55910 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
flag 74972 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 62878 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115}]
------------------------------------------------------
client write log 6807991268831304861 (index 116) to leader 0
flag 31860 term 19 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 81436 term 19 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 19 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115} {6807991268831304861 19 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115} {6807991268831304861 19 116}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67057 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 94273 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115} {6807991268831304861 19 116}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115} {6807991268831304861 19 116}]
------------------------------------------------------
flag 59588 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 65076 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115} {6807991268831304861 19 116}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115} {6807991268831304861 19 116}]
------------------------------------------------------
flag 39665 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 61308 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115} {6807991268831304861 19 116}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115} {6807991268831304861 19 116}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69069 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 33451 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115} {6807991268831304861 19 116}]
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115} {6807991268831304861 19 116}]
------------------------------------------------------
flag 398 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 85734 term 19 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115} {6807991268831304861 19 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115} {6807991268831304861 19 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 117->116
------------------------------------------------------
flag 39410 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 0  matchIndex[2]: 116
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 2 InstallSnapshot fail
rf.commitIndex 116 args.LastIncludedIndex 109
------------------------------------------------------
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115} {6807991268831304861 19 116}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7116406738887277784 (index 117) to leader 0
flag 56989 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
flag 74165 term 19 leader 0 nextIndex[2]: 110  matchIndex[2]: 109
term 19 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 116 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115} {6807991268831304861 19 116} {7116406738887277784 19 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62465 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 91672 term 19 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115} {6807991268831304861 19 116} {7116406738887277784 19 117}]
------------------------------------------------------
client write log 3146976162551602599 (index 118) to leader 0
client write log 4825109443910238520 (index 119) to leader 0
client write log 1954554206528296486 (index 120) to leader 0
client write log 945797932454398135 (index 121) to leader 0
client write log 8223858450723726357 (index 122) to leader 0
client write log 6499027675918630968 (index 123) to leader 0
client write log 9064712434432182111 (index 124) to leader 0
flag 23944 term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
flag 90951 term 19 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 19 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 19 leaderCommit: 117 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 109} {6261857284601416136 19 110} {6606838745770077491 19 111} {4458835584353006042 19 112} {1547171274800696277 19 113} {4649248396985903932 19 114} {1224703472716755681 19 115} {6807991268831304861 19 116} {7116406738887277784 19 117} {3146976162551602599 19 118} {4825109443910238520 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124}]
------------------------------------------------------
term 19 Server0 start snapshot! index=119
term 19 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=124
-------------------------------------------------------------
term 19 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 18842 term 19 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 19 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124}]
------------------------------------------------------
term 19 Server2 start snapshot! index=119
term 19 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=124
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7375238167166333056 (index 125) to leader 0
term 19 server 2 not vote for server 1, 日志不够新
term 19 server 0 not vote for server 1, 日志不够新
term 21 server 2 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 0 become leader
------------------------------------------------------
term 21 server 1 vote for server 0
term 21 server 0 get outdate rpc reply from server 1
flag 67317 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 47590 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 126->125
------------------------------------------------------
term 21 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 126->125
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 117  matchIndex[1]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
flag 51742 term 21 leader 0 nextIndex[2]: 125  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
term 21 server 1 InstallSnapshot success
------------------------------------------------------
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53801 term 21 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 21 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 5127 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
flag 66139 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 30291 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27197 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 47663 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
flag 76902 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 35927 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
flag 47943 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 90517 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
flag 50607 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 66504 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
flag 19746 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 91437 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
flag 45779 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 19405 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10768 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 750 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68964 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 61100 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
flag 60216 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 57626 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
flag 91870 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 37459 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
flag 61007 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 40099 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8864 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 32266 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
flag 12574 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 94791 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
flag 20352 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 30642 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
flag 91959 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 40651 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7375238167166333056 (index 126) to leader 0
flag 79515 term 21 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
flag 50568 term 21 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 21 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 19 leaderCommit: 124 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueterm 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
update nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125} {7375238167166333056 21 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125} {7375238167166333056 21 126}]
------------------------------------------------------
flag 82420 term 21 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 81526 term 21 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125} {7375238167166333056 21 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125} {7375238167166333056 21 126}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93543 term 21 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 28537 term 21 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125} {7375238167166333056 21 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125} {7375238167166333056 21 126}]
------------------------------------------------------
flag 21615 term 21 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 93671 term 21 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125} {7375238167166333056 21 126}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125} {7375238167166333056 21 126}]
------------------------------------------------------
flag 11292 term 21 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 2510 term 21 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125} {7375238167166333056 21 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125} {7375238167166333056 21 126}]
------------------------------------------------------
flag 58771 term 21 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 11128 term 21 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
update nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125} {7375238167166333056 21 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125} {7375238167166333056 21 126}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25592 term 21 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 1204 term 21 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125} {7375238167166333056 21 126}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=126
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125} {7375238167166333056 21 126}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1387662199892375536 (index 127) to leader 0
flag 23355 term 21 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
flag 222 term 21 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 126 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125} {7375238167166333056 21 126} {1387662199892375536 21 127}]
------------------------------------------------------
flag 46205 term 21 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 16213 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125} {7375238167166333056 21 126} {1387662199892375536 21 127}]
------------------------------------------------------
client write log 8928366207163902708 (index 128) to leader 0
client write log 7743703689014932833 (index 129) to leader 0
client write log 4780055011620992532 (index 130) to leader 0
client write log 8835322988548440438 (index 131) to leader 0
client write log 136339718018737647 (index 132) to leader 0
client write log 2145787825255667582 (index 133) to leader 0
flag 67838 term 21 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 61322 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 19 119} {1954554206528296486 19 120} {945797932454398135 19 121} {8223858450723726357 19 122} {6499027675918630968 19 123} {9064712434432182111 19 124} {7375238167166333056 19 125} {7375238167166333056 21 126} {1387662199892375536 21 127} {8928366207163902708 21 128} {7743703689014932833 21 129} {4780055011620992532 21 130} {8835322988548440438 21 131} {136339718018737647 21 132} {2145787825255667582 21 133}]
------------------------------------------------------
term 21 Server0 start snapshot! index=129
term 21 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=133
-------------------------------------------------------------
term 21 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 76978 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 21 129} {4780055011620992532 21 130} {8835322988548440438 21 131} {136339718018737647 21 132} {2145787825255667582 21 133}]
------------------------------------------------------
term 21 Server2 start snapshot! index=129
term 21 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=133
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4658001672882689637 (index 134) to leader 0
term 21 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 18885 term 21 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 21 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 133 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {4780055011620992532 21 130} {8835322988548440438 21 131} {136339718018737647 21 132} {2145787825255667582 21 133} {4658001672882689637 21 134}]
------------------------------------------------------
term 22 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 2 vote for server 0
term 23 server 0 get vote from server 2
term 23 server 0 become leader
------------------------------------------------------
term 23 server 1 vote for server 0
term 23 server 0 get outdate rpc reply from server 1
flag 82232 term 23 leader 0 nextIndex[1]: 135  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 35129 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {4780055011620992532 21 130} {8835322988548440438 21 131} {136339718018737647 21 132} {2145787825255667582 21 133} {4658001672882689637 21 134}]
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 135->134
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 127  matchIndex[1]: 0
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 21996 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 23 server 1 InstallSnapshot success
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 21 rf.commitIndex 129 rf.lastApplied 129
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {4780055011620992532 21 130} {8835322988548440438 21 131} {136339718018737647 21 132} {2145787825255667582 21 133} {4658001672882689637 21 134}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26208 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 31615 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {4780055011620992532 21 130} {8835322988548440438 21 131} {136339718018737647 21 132} {2145787825255667582 21 133} {4658001672882689637 21 134}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {4780055011620992532 21 130} {8835322988548440438 21 131} {136339718018737647 21 132} {2145787825255667582 21 133} {4658001672882689637 21 134}]
------------------------------------------------------
flag 50012 term 23 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 29259 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {4780055011620992532 21 130} {8835322988548440438 21 131} {136339718018737647 21 132} {2145787825255667582 21 133} {4658001672882689637 21 134}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {4780055011620992532 21 130} {8835322988548440438 21 131} {136339718018737647 21 132} {2145787825255667582 21 133} {4658001672882689637 21 134}]
------------------------------------------------------
flag 29852 term 23 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 29073 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {4780055011620992532 21 130} {8835322988548440438 21 131} {136339718018737647 21 132} {2145787825255667582 21 133} {4658001672882689637 21 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {4780055011620992532 21 130} {8835322988548440438 21 131} {136339718018737647 21 132} {2145787825255667582 21 133} {4658001672882689637 21 134}]
------------------------------------------------------
flag 70607 term 23 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 20839 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {4780055011620992532 21 130} {8835322988548440438 21 131} {136339718018737647 21 132} {2145787825255667582 21 133} {4658001672882689637 21 134}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {4780055011620992532 21 130} {8835322988548440438 21 131} {136339718018737647 21 132} {2145787825255667582 21 133} {4658001672882689637 21 134}]
------------------------------------------------------
flag 46441 term 23 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 74152 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {4780055011620992532 21 130} {8835322988548440438 21 131} {136339718018737647 21 132} {2145787825255667582 21 133} {4658001672882689637 21 134}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {4780055011620992532 21 130} {8835322988548440438 21 131} {136339718018737647 21 132} {2145787825255667582 21 133} {4658001672882689637 21 134}]
------------------------------------------------------
flag 90359 term 23 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 55397 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {4780055011620992532 21 130} {8835322988548440438 21 131} {136339718018737647 21 132} {2145787825255667582 21 133} {4658001672882689637 21 134}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {4780055011620992532 21 130} {8835322988548440438 21 131} {136339718018737647 21 132} {2145787825255667582 21 133} {4658001672882689637 21 134}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 25543 term 23 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 71584 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 49673 term 23 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 94257 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 94174 term 23 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 41826 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 70797 term 23 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 4457 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 24 server 2 vote for server 1
term 24 server 1 get vote from server 2
term 24 server 1 become leader
------------------------------------------------------
flag 82638 term 24 leader 1 nextIndex[0]: 135  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 46617 term 24 leader 1 nextIndex[2]: 135  matchIndex[2]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {4780055011620992532 21 130} {8835322988548440438 21 131} {136339718018737647 21 132} {2145787825255667582 21 133} {4658001672882689637 21 134}]
------------------------------------------------------
client write log 934154465593528162 (index 135) to leader 1
flag 29296 term 23 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 37231 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 51838 term 24 leader 1 nextIndex[0]: 135  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 2022 term 24 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 24 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {4780055011620992532 21 130} {8835322988548440438 21 131} {136339718018737647 21 132} {2145787825255667582 21 133} {4658001672882689637 21 134} {934154465593528162 24 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 135->134
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 0  matchIndex[1]: 134
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 80912 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 13740 term 24 leader 1 nextIndex[0]: 135  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 32832 term 24 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 24 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 135 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {4780055011620992532 21 130} {8835322988548440438 21 131} {136339718018737647 21 132} {2145787825255667582 21 133} {4658001672882689637 21 134} {934154465593528162 24 135}]
------------------------------------------------------
client write log 97228350451956894 (index 136) to leader 1
client write log 9203531193785687940 (index 137) to leader 1
client write log 6720511629616519055 (index 138) to leader 1
client write log 707023715727662540 (index 139) to leader 1
client write log 4703295452134239245 (index 140) to leader 1
client write log 3962456603081142475 (index 141) to leader 1
client write log 1911204944046417551 (index 142) to leader 1
client write log 1627099644819553622 (index 143) to leader 1
client write log 528857158453016231 (index 144) to leader 1
term 23 leader 0 nextIndex[1]: 0  matchIndex[1]: 134
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 91004 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
flag 59106 term 24 leader 1 nextIndex[0]: 135  matchIndex[0]: 0
term 24 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 135 
------------------------------------------------------
flag 54368 term 24 leader 1 nextIndex[2]: 136  matchIndex[2]: 135
term 24 leader 1 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 135 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 21 129} {4780055011620992532 21 130} {8835322988548440438 21 131} {136339718018737647 21 132} {2145787825255667582 21 133} {4658001672882689637 21 134} {934154465593528162 24 135} {97228350451956894 24 136} {9203531193785687940 24 137} {6720511629616519055 24 138} {707023715727662540 24 139} {4703295452134239245 24 140} {3962456603081142475 24 141} {1911204944046417551 24 142} {1627099644819553622 24 143} {528857158453016231 24 144}]
------------------------------------------------------
term 24 Server1 start snapshot! index=139
term 24 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=144
-------------------------------------------------------------
term 23 leader 0 nextIndex[1]: 0  matchIndex[1]: 134
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 79081 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 24 leader 1 nextIndex[0]: 135  matchIndex[0]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
flag 16495 term 24 leader 1 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {4703295452134239245 24 140} {3962456603081142475 24 141} {1911204944046417551 24 142} {1627099644819553622 24 143} {528857158453016231 24 144}]
------------------------------------------------------
term 24 Server2 start snapshot! index=139
term 24 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=144
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5496760064480955529 (index 145) to leader 1
term 23 leader 0 nextIndex[1]: 0  matchIndex[1]: 134
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 67373 term 23 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 21 leaderCommit: 134 
------------------------------------------------------
term 24 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 24 server 2 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 1 nextIndex[0]: 135  matchIndex[0]: 0
term 24 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
flag 12353 term 24 leader 1 nextIndex[2]: 145  matchIndex[2]: 144
term 24 leader 1 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4703295452134239245 24 140} {3962456603081142475 24 141} {1911204944046417551 24 142} {1627099644819553622 24 143} {528857158453016231 24 144} {5496760064480955529 24 145}]
------------------------------------------------------
term 24 server 0 InstallSnapshot success
------------------------------------------------------
term 24 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 24 rf.commitIndex 139 rf.lastApplied 139
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 2 not vote for server 0, 日志不够新
term 24 server 1 not vote for server 0, 日志不够新
term 26 server 2 vote for server 1
term 26 server 1 get vote from server 2
term 26 server 1 become leader
------------------------------------------------------
term 26 server 0 vote for server 1
term 26 server 1 get outdate rpc reply from server 0
flag 92038 term 26 leader 1 nextIndex[0]: 146  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 54018 term 26 leader 1 nextIndex[2]: 146  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4703295452134239245 24 140} {3962456603081142475 24 141} {1911204944046417551 24 142} {1627099644819553622 24 143} {528857158453016231 24 144} {5496760064480955529 24 145}]
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 146->145
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36997 term 26 leader 1 nextIndex[0]: 140  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 42936 term 26 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4703295452134239245 24 140} {3962456603081142475 24 141} {1911204944046417551 24 142} {1627099644819553622 24 143} {528857158453016231 24 144} {5496760064480955529 24 145}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4703295452134239245 24 140} {3962456603081142475 24 141} {1911204944046417551 24 142} {1627099644819553622 24 143} {528857158453016231 24 144} {5496760064480955529 24 145}]
------------------------------------------------------
flag 84826 term 26 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 37169 term 26 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4703295452134239245 24 140} {3962456603081142475 24 141} {1911204944046417551 24 142} {1627099644819553622 24 143} {528857158453016231 24 144} {5496760064480955529 24 145}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4703295452134239245 24 140} {3962456603081142475 24 141} {1911204944046417551 24 142} {1627099644819553622 24 143} {528857158453016231 24 144} {5496760064480955529 24 145}]
------------------------------------------------------
flag 71372 term 26 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 98545 term 26 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4703295452134239245 24 140} {3962456603081142475 24 141} {1911204944046417551 24 142} {1627099644819553622 24 143} {528857158453016231 24 144} {5496760064480955529 24 145}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4703295452134239245 24 140} {3962456603081142475 24 141} {1911204944046417551 24 142} {1627099644819553622 24 143} {528857158453016231 24 144} {5496760064480955529 24 145}]
------------------------------------------------------
flag 88511 term 26 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 87180 term 26 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4703295452134239245 24 140} {3962456603081142475 24 141} {1911204944046417551 24 142} {1627099644819553622 24 143} {528857158453016231 24 144} {5496760064480955529 24 145}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4703295452134239245 24 140} {3962456603081142475 24 141} {1911204944046417551 24 142} {1627099644819553622 24 143} {528857158453016231 24 144} {5496760064480955529 24 145}]
------------------------------------------------------
flag 73245 term 26 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 12408 term 26 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4703295452134239245 24 140} {3962456603081142475 24 141} {1911204944046417551 24 142} {1627099644819553622 24 143} {528857158453016231 24 144} {5496760064480955529 24 145}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4703295452134239245 24 140} {3962456603081142475 24 141} {1911204944046417551 24 142} {1627099644819553622 24 143} {528857158453016231 24 144} {5496760064480955529 24 145}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49086 term 26 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 26886 term 26 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4703295452134239245 24 140} {3962456603081142475 24 141} {1911204944046417551 24 142} {1627099644819553622 24 143} {528857158453016231 24 144} {5496760064480955529 24 145}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4703295452134239245 24 140} {3962456603081142475 24 141} {1911204944046417551 24 142} {1627099644819553622 24 143} {528857158453016231 24 144} {5496760064480955529 24 145}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17396 term 26 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 69865 term 26 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4703295452134239245 24 140} {3962456603081142475 24 141} {1911204944046417551 24 142} {1627099644819553622 24 143} {528857158453016231 24 144} {5496760064480955529 24 145}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=146
update matchIndex[0]=145
update leader CommitIndex=145
leader log:
[{snapshot 24 139} {4703295452134239245 24 140} {3962456603081142475 24 141} {1911204944046417551 24 142} {1627099644819553622 24 143} {528857158453016231 24 144} {5496760064480955529 24 145}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2951898630177105684 (index 146) to leader 1
flag 60912 term 26 leader 1 nextIndex[0]: 146  matchIndex[0]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
flag 29697 term 26 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 145 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {4703295452134239245 24 140} {3962456603081142475 24 141} {1911204944046417551 24 142} {1627099644819553622 24 143} {528857158453016231 24 144} {5496760064480955529 24 145} {2951898630177105684 26 146}]
------------------------------------------------------
flag 22847 term 26 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 26 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 146 
------------------------------------------------------
flag 52219 term 26 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=147
update matchIndex[0]=146
update leader CommitIndex=146
leader log:
[{snapshot 24 139} {4703295452134239245 24 140} {3962456603081142475 24 141} {1911204944046417551 24 142} {1627099644819553622 24 143} {528857158453016231 24 144} {5496760064480955529 24 145} {2951898630177105684 26 146}]
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 6256505232416330264 (index 147) to leader 1
client write log 4265015205031857607 (index 148) to leader 1
client write log 6512748765202400756 (index 149) to leader 1
client write log 28150521539301300 (index 150) to leader 1
client write log 3793148197189656925 (index 151) to leader 1
client write log 6469509401362709649 (index 152) to leader 1
client write log 1492642883102415538 (index 153) to leader 1
client write log 6101649461513505684 (index 154) to leader 1
client write log 7382112574218111575 (index 155) to leader 1
client write log 6324065485387517855 (index 156) to leader 1
client write log 666536043666350993 (index 157) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74083 term 26 leader 1 nextIndex[0]: 147  matchIndex[0]: 146
term 26 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 146 
------------------------------------------------------
flag 91350 term 26 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 26 leader 1 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 24 leaderCommit: 146 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 24 139} {4703295452134239245 24 140} {3962456603081142475 24 141} {1911204944046417551 24 142} {1627099644819553622 24 143} {528857158453016231 24 144} {5496760064480955529 24 145} {2951898630177105684 26 146} {6256505232416330264 26 147} {4265015205031857607 26 148} {6512748765202400756 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157}]
------------------------------------------------------
term 26 Server1 start snapshot! index=149
term 26 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=157
-------------------------------------------------------------
flag 23281 term 26 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157}]
------------------------------------------------------
term 26 Server0 start snapshot! index=149
term 26 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=157
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7209431426120936776 (index 158) to leader 1
flag 44654 term 26 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 26 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 146  matchIndex[2]: 145
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 27 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 2 vote for server 1
term 28 server 0 vote for server 1
term 28 server 1 get vote from server 2
term 28 server 1 become leader
------------------------------------------------------
term 28 server 1 get outdate rpc reply from server 0
flag 72155 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 77188 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 159->158
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
flag 10403 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 146  matchIndex[2]: 0
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 28 server 2 InstallSnapshot success
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 26 rf.commitIndex 149 rf.lastApplied 149
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
term 28 server 0 not vote for server 1, 任期不够新
term 28 server 1 get outdate rpc reply from server 0
flag 28568 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 14659 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
flag 3199 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 36525 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
flag 61 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 13068 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
flag 91084 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 79350 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
flag 894 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 62060 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
flag 4323 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 52292 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
flag 30668 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 62018 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
flag 16460 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 60002 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
flag 68308 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 40093 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
flag 9662 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 53606 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
flag 2166 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 5510 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38399 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 444 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
flag 79620 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 3401 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
flag 70116 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 60250 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
flag 17284 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 2717 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
flag 23835 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 41418 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=157
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 0 not vote for server 2, 任期不够新
term 28 server 2 get outdate rpc reply from server 0
client write log 7209431426120936776 (index 159) to leader 1
flag 42136 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
flag 2731 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 157 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158} {7209431426120936776 28 159}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 149} {28150521539301300 26 150} {3793148197189656925 26 151} {6469509401362709649 26 152} {1492642883102415538 26 153} {6101649461513505684 26 154} {7382112574218111575 26 155} {6324065485387517855 26 156} {666536043666350993 26 157} {7209431426120936776 26 158} {7209431426120936776 28 159}]
------------------------------------------------------
term 28 Server1 start snapshot! index=159
term 28 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 48003 term 28 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 17762 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
term 28 Server0 start snapshot! index=159
term 28 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 28 Server2 start snapshot! index=159
term 28 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 20461 term 28 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 74028 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
term 28 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54030 term 28 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 32934 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
term 28 server 2 not vote for server 1, 任期不够新
term 28 server 1 get outdate rpc reply from server 2
flag 67748 term 28 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 52969 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61399 term 28 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 9967 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6824304884465484987 (index 160) to leader 1
flag 31172 term 28 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
flag 92085 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {6824304884465484987 28 160}]
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9444 term 28 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 84816 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 28 159} {6824304884465484987 28 160}]
------------------------------------------------------
client write log 6589123810856749907 (index 161) to leader 1
client write log 5238283971305215430 (index 162) to leader 1
client write log 1035311025319520429 (index 163) to leader 1
client write log 5375353875742488489 (index 164) to leader 1
client write log 6711557400184695718 (index 165) to leader 1
client write log 741359779586369505 (index 166) to leader 1
client write log 5892652417329636654 (index 167) to leader 1
flag 90826 term 28 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 58145 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167}]
------------------------------------------------------
flag 40002 term 28 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 89107 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167}]
------------------------------------------------------
!!!!!!connect server 2
client write log 8447756513236943257 (index 168) to leader 1
flag 80213 term 28 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 22311 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 29 server 2 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 server 1 not vote for server 2, 日志不够新
term 28 server 0 not vote for server 2, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 2 vote for server 1
term 31 server 1 get vote from server 2
term 31 server 1 become leader
------------------------------------------------------
term 31 server 0 vote for server 1
term 31 server 1 get outdate rpc reply from server 0
flag 10573 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 48419 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 169->168
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
flag 15538 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 56443 term 31 leader 1 nextIndex[2]: 160  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7894 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 86596 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
term 31 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
flag 2931 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 20556 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30048 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 63288 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
flag 50656 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 1161 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
term 31 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73452 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 7215 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
flag 37868 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 20989 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53508 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 6253 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92262 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 1402 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
term 31 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
flag 96042 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 90510 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
flag 95530 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 15248 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
flag 21659 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 93077 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52244 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 34914 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 214 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 34874 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=167
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168}]
------------------------------------------------------
client write log 8447756513236943257 (index 169) to leader 1
flag 46635 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 26641 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168} {8447756513236943257 31 169}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 28 159} {6824304884465484987 28 160} {6589123810856749907 28 161} {5238283971305215430 28 162} {1035311025319520429 28 163} {5375353875742488489 28 164} {6711557400184695718 28 165} {741359779586369505 28 166} {5892652417329636654 28 167} {8447756513236943257 28 168} {8447756513236943257 31 169}]
------------------------------------------------------
term 31 Server1 start snapshot! index=169
term 31 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
term 31 server 0 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 0
flag 30806 term 31 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
flag 27591 term 31 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 31 169}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 31 169}]
------------------------------------------------------
term 31 Server0 start snapshot! index=169
term 31 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
term 31 Server2 start snapshot! index=169
term 31 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
flag 76608 term 31 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
flag 85458 term 31 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 31 169}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 31 169}]
------------------------------------------------------
flag 71407 term 31 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
flag 71496 term 31 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 31 169}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 31 169}]
------------------------------------------------------
flag 62627 term 31 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
flag 89939 term 31 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 31 169}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 31 169}]
------------------------------------------------------
flag 11636 term 31 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
flag 12247 term 31 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 31 169}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 31 169}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
flag 53001 term 31 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
flag 66680 term 31 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
flag 30897 term 31 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
flag 91951 term 31 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79223 term 31 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
flag 91814 term 31 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
term 32 server 0 vote for server 2
term 32 server 2 get vote from server 0
term 32 server 2 become leader
------------------------------------------------------
flag 68633 term 32 leader 2 nextIndex[0]: 170  matchIndex[0]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
flag 91815 term 32 leader 2 nextIndex[1]: 170  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 31 169}]
------------------------------------------------------
flag 1960 term 31 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
flag 66276 term 31 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
client write log 7924034835876410415 (index 170) to leader 2
flag 31450 term 32 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 32 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
flag 27776 term 32 leader 2 nextIndex[1]: 170  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 31 169} {7924034835876410415 32 170}]
------------------------------------------------------
flag 87576 term 31 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
flag 49126 term 31 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 170->169
------------------------------------------------------
flag 71761 term 32 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 32 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 18384 term 32 leader 2 nextIndex[1]: 170  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 170 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=171
update matchIndex[0]=170
update leader CommitIndex=170
leader log:
[{snapshot 31 169} {7924034835876410415 32 170}]
------------------------------------------------------
flag 57962 term 31 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 0  matchIndex[2]: 169
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 31
------------------------------------------------------
client write log 3230807612810607307 (index 171) to leader 2
client write log 3718978925188882514 (index 172) to leader 2
client write log 5549827983443067753 (index 173) to leader 2
client write log 91009860337900291 (index 174) to leader 2
client write log 8842505213102965372 (index 175) to leader 2
client write log 6264774081343013623 (index 176) to leader 2
client write log 1441482683310647496 (index 177) to leader 2
client write log 3392406770795511694 (index 178) to leader 2
client write log 3965853987148285505 (index 179) to leader 2
client write log 4465815277682253370 (index 180) to leader 2
client write log 5021504716136034041 (index 181) to leader 2
client write log 6564241355341704916 (index 182) to leader 2
client write log 1361781894586789772 (index 183) to leader 2
client write log 176785189917748175 (index 184) to leader 2
flag 56840 term 32 leader 2 nextIndex[0]: 171  matchIndex[0]: 170
term 32 leader 2 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 45497 term 32 leader 2 nextIndex[1]: 170  matchIndex[1]: 0
term 32 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 170 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 31 169} {7924034835876410415 32 170} {3230807612810607307 32 171} {3718978925188882514 32 172} {5549827983443067753 32 173} {91009860337900291 32 174} {8842505213102965372 32 175} {6264774081343013623 32 176} {1441482683310647496 32 177} {3392406770795511694 32 178} {3965853987148285505 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
flag 40825 term 31 leader 1 nextIndex[0]: 170  matchIndex[0]: 169
term 31 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 31 leaderCommit: 169 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 0  matchIndex[2]: 169
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 31
------------------------------------------------------
term 32 Server2 start snapshot! index=179
term 32 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=184
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 170->169
------------------------------------------------------
flag 94254 term 32 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 leader 2 nextIndex[1]: 170  matchIndex[1]: 0
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
term 32 Server0 start snapshot! index=179
term 32 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=184
-------------------------------------------------------------
term 31 leader 1 nextIndex[0]: 0  matchIndex[0]: 169
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 31
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 0  matchIndex[2]: 169
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 31
------------------------------------------------------
!!!!!!connect server 1
client write log 9005758891339211777 (index 170) to leader 1
flag 63401 term 32 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 leader 2 nextIndex[1]: 170  matchIndex[1]: 0
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 1 InstallSnapshot success
------------------------------------------------------
term 32 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 32 rf.commitIndex 179 rf.lastApplied 179
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
flag 72251 term 32 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 43947 term 32 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
flag 28721 term 32 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 58630 term 32 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
flag 43509 term 32 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 86015 term 32 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
flag 42725 term 32 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 21737 term 32 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
flag 51641 term 32 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 77605 term 32 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
flag 81481 term 32 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 61063 term 32 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
term 32 server 0 not vote for server 2, 任期不够新
term 32 server 2 get outdate rpc reply from server 0
flag 70384 term 32 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 51193 term 32 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1269 term 32 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 41006 term 32 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
flag 41438 term 32 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 50481 term 32 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
flag 7314 term 32 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 14823 term 32 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86257 term 32 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 17435 term 32 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
flag 68039 term 32 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 74135 term 32 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
flag 38474 term 32 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 53495 term 32 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
flag 42168 term 32 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 5387 term 32 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
flag 80183 term 32 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 1574 term 32 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
flag 91740 term 32 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 921 term 32 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 185->184
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57921 term 32 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 leader 2 nextIndex[1]: 0  matchIndex[1]: 184
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
term 32 server 1 InstallSnapshot fail
rf.commitIndex 184 args.LastIncludedIndex 179
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
term 32 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
flag 91491 term 32 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 50035 term 32 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 32 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
flag 11112 term 32 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 51941 term 32 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=185
update matchIndex[0]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184}]
------------------------------------------------------
client write log 9005758891339211777 (index 185) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71908 term 32 leader 2 nextIndex[0]: 185  matchIndex[0]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 72025 term 32 leader 2 nextIndex[1]: 185  matchIndex[1]: 184
term 32 leader 2 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184} {9005758891339211777 32 185}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184} {9005758891339211777 32 185}]
------------------------------------------------------
flag 72864 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 2572 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184} {9005758891339211777 32 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184} {9005758891339211777 32 185}]
------------------------------------------------------
flag 36731 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 60202 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184} {9005758891339211777 32 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184} {9005758891339211777 32 185}]
------------------------------------------------------
flag 19083 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 10756 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184} {9005758891339211777 32 185}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184} {9005758891339211777 32 185}]
------------------------------------------------------
flag 31801 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 33659 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184} {9005758891339211777 32 185}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184} {9005758891339211777 32 185}]
------------------------------------------------------
term 32 server 1 not vote for server 2, 日志不够新
term 32 server 2 get outdate rpc reply from server 1
flag 84765 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 83598 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184} {9005758891339211777 32 185}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184} {9005758891339211777 32 185}]
------------------------------------------------------
flag 63065 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 1571 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184} {9005758891339211777 32 185}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=186
update matchIndex[0]=185
update leader CommitIndex=185
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184} {9005758891339211777 32 185}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4060427398162901942 (index 186) to leader 2
flag 51295 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
flag 91617 term 32 leader 2 nextIndex[1]: 186  matchIndex[1]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 185 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184} {9005758891339211777 32 185} {4060427398162901942 32 186}]
------------------------------------------------------
flag 71709 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 7693 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184} {9005758891339211777 32 185} {4060427398162901942 32 186}]
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 7578294809544514835 (index 187) to leader 2
client write log 4552821347847080013 (index 188) to leader 2
client write log 1572296268510648508 (index 189) to leader 2
client write log 2178963011205618989 (index 190) to leader 2
client write log 2985147997949961216 (index 191) to leader 2
client write log 144160553061039266 (index 192) to leader 2
client write log 2235353403754118300 (index 193) to leader 2
flag 46533 term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
flag 78095 term 32 leader 2 nextIndex[1]: 187  matchIndex[1]: 186
term 32 leader 2 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 32 leaderCommit: 186 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 179} {4465815277682253370 32 180} {5021504716136034041 32 181} {6564241355341704916 32 182} {1361781894586789772 32 183} {176785189917748175 32 184} {9005758891339211777 32 185} {4060427398162901942 32 186} {7578294809544514835 32 187} {4552821347847080013 32 188} {1572296268510648508 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193}]
------------------------------------------------------
term 32 Server2 start snapshot! index=189
term 32 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=193
-------------------------------------------------------------
term 32 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
term 32 leader 2 nextIndex[0]: 186  matchIndex[0]: 185
term 32 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 34810 term 32 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 32 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193}]
------------------------------------------------------
term 32 Server1 start snapshot! index=189
term 32 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=193
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6908826408434084059 (index 194) to leader 2
term 32 server 2 not vote for server 0, 日志不够新
term 32 server 1 not vote for server 0, 日志不够新
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 server 1 not vote for server 2, 任期不够新
term 33 server 2 get outdate rpc reply from server 1
term 34 server 1 vote for server 2
term 34 server 0 vote for server 2
term 34 server 2 get vote from server 0
term 34 server 2 become leader
------------------------------------------------------
term 34 server 2 get outdate rpc reply from server 1
flag 1179 term 34 leader 2 nextIndex[0]: 195  matchIndex[0]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 7722 term 34 leader 2 nextIndex[1]: 195  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 34 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 195->194
------------------------------------------------------
term 34 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 195->194
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 2 nextIndex[0]: 186  matchIndex[0]: 0
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 32
------------------------------------------------------
flag 12397 term 34 leader 2 nextIndex[1]: 194  matchIndex[1]: 0
term 34 leader 2 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
term 34 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 32 rf.commitIndex 189 rf.lastApplied 189
flag 54103 term 34 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 34 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 64701 term 34 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
flag 32743 term 34 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 60690 term 34 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
term 34 server 1 not vote for server 2, 任期不够新
term 34 server 2 get outdate rpc reply from server 1
flag 235 term 34 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 63160 term 34 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99943 term 34 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 66181 term 34 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
flag 27610 term 34 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 61351 term 34 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
flag 56875 term 34 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 49103 term 34 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
flag 51570 term 34 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 7819 term 34 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
flag 73368 term 34 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 18066 term 34 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
flag 62202 term 34 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 69846 term 34 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46710 term 34 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 84404 term 34 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
flag 55339 term 34 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 94244 term 34 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75662 term 34 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 39541 term 34 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
flag 44872 term 34 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 49478 term 34 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5724 term 34 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 1182 term 34 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5179 term 34 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 21082 term 34 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
flag 72018 term 34 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 11238 term 34 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
term 34 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41296 term 34 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 82297 term 34 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
flag 37979 term 34 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 50394 term 34 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=195
update matchIndex[1]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=195
update matchIndex[0]=194
update leader CommitIndex=193
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194}]
------------------------------------------------------
client write log 6908826408434084059 (index 195) to leader 2
flag 72350 term 34 leader 2 nextIndex[0]: 195  matchIndex[0]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
flag 46554 term 34 leader 2 nextIndex[1]: 195  matchIndex[1]: 194
term 34 leader 2 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 32 leaderCommit: 193 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194} {6908826408434084059 34 195}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194} {6908826408434084059 34 195}]
------------------------------------------------------
flag 13796 term 34 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 34 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 90033 term 34 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 34 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194} {6908826408434084059 34 195}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194} {6908826408434084059 34 195}]
------------------------------------------------------
flag 6373 term 34 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 34 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 72259 term 34 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 34 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194} {6908826408434084059 34 195}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194} {6908826408434084059 34 195}]
------------------------------------------------------
flag 73267 term 34 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 34 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 63950 term 34 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 34 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
term 34 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194} {6908826408434084059 34 195}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194} {6908826408434084059 34 195}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65602 term 34 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 34 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 35133 term 34 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 34 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194} {6908826408434084059 34 195}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194} {6908826408434084059 34 195}]
------------------------------------------------------
flag 63034 term 34 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 34 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 19846 term 34 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 34 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194} {6908826408434084059 34 195}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194} {6908826408434084059 34 195}]
------------------------------------------------------
flag 67194 term 34 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 34 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 60363 term 34 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 34 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=196
update matchIndex[1]=195
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194} {6908826408434084059 34 195}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=196
update matchIndex[0]=195
update leader CommitIndex=195
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194} {6908826408434084059 34 195}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7977854995107765582 (index 196) to leader 2
flag 79131 term 34 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 34 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
flag 98706 term 34 leader 2 nextIndex[1]: 196  matchIndex[1]: 195
term 34 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 34 leaderCommit: 195 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:195 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=196
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194} {6908826408434084059 34 195} {7977854995107765582 34 196}]
------------------------------------------------------
flag 89651 term 34 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 34 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 34 leaderCommit: 196 
------------------------------------------------------
flag 48181 term 34 leader 2 nextIndex[1]: 197  matchIndex[1]: 196
term 34 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 196 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=197
update matchIndex[1]=196
update leader CommitIndex=196
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194} {6908826408434084059 34 195} {7977854995107765582 34 196}]
------------------------------------------------------
client write log 1954697081523996226 (index 197) to leader 2
client write log 7519672852899967873 (index 198) to leader 2
client write log 2455782054817974243 (index 199) to leader 2
client write log 2179067966955528144 (index 200) to leader 2
client write log 7423409330188008108 (index 201) to leader 2
client write log 7252479525150480785 (index 202) to leader 2
client write log 2012039575506451033 (index 203) to leader 2
client write log 4145890805375678113 (index 204) to leader 2
client write log 4493643976593605004 (index 205) to leader 2
client write log 1293999203531849902 (index 206) to leader 2
client write log 2501011358278102589 (index 207) to leader 2
client write log 9038401848488160512 (index 208) to leader 2
client write log 4502294829828919866 (index 209) to leader 2
client write log 5406835311685183665 (index 210) to leader 2
flag 84545 term 34 leader 2 nextIndex[0]: 196  matchIndex[0]: 195
term 34 leader 2 sendAppendEntries PrevLogIndex: 195  PrevLogTerm: 34 leaderCommit: 196 
------------------------------------------------------
flag 16536 term 34 leader 2 nextIndex[1]: 197  matchIndex[1]: 196
term 34 leader 2 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 34 leaderCommit: 196 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 32 189} {2178963011205618989 32 190} {2985147997949961216 32 191} {144160553061039266 32 192} {2235353403754118300 32 193} {6908826408434084059 32 194} {6908826408434084059 34 195} {7977854995107765582 34 196} {1954697081523996226 34 197} {7519672852899967873 34 198} {2455782054817974243 34 199} {2179067966955528144 34 200} {7423409330188008108 34 201} {7252479525150480785 34 202} {2012039575506451033 34 203} {4145890805375678113 34 204} {4493643976593605004 34 205} {1293999203531849902 34 206} {2501011358278102589 34 207} {9038401848488160512 34 208} {4502294829828919866 34 209} {5406835311685183665 34 210}]
------------------------------------------------------
term 34 Server2 start snapshot! index=199
term 34 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=210
-------------------------------------------------------------
term 34 Server2 start snapshot! index=209
term 34 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=210
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 196->195
------------------------------------------------------
term 34 leader 2 nextIndex[0]: 0  matchIndex[0]: 195
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 52999 term 34 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 34 209} {5406835311685183665 34 210}]
------------------------------------------------------
term 34 Server1 start snapshot! index=199
term 34 server1 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=210
-------------------------------------------------------------
term 34 Server1 start snapshot! index=209
term 34 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=210
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1417529462814389290 (index 211) to leader 2
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 leader 2 nextIndex[0]: 0  matchIndex[0]: 195
term 34 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 9385 term 34 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 34 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 34 leaderCommit: 210 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211}]
------------------------------------------------------
term 35 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 34 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 1 vote for server 2
term 36 server 2 get vote from server 1
term 36 server 0 vote for server 2
term 36 server 2 become leader
------------------------------------------------------
term 36 server 2 get outdate rpc reply from server 0
flag 34428 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 98232 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 212->211
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 196  matchIndex[0]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 34
------------------------------------------------------
flag 68703 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211}]
------------------------------------------------------
term 36 server 0 InstallSnapshot success
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 34 rf.commitIndex 209 rf.lastApplied 209
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47510 term 36 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 36 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 2045 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211}]
------------------------------------------------------
flag 30834 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 10931 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211}]
------------------------------------------------------
flag 44902 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 34046 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211}]
------------------------------------------------------
flag 84196 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 49328 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211}]
------------------------------------------------------
flag 31022 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 13533 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211}]
------------------------------------------------------
flag 55192 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 64405 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 44407 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 18518 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 85112 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 31359 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 40065 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 56605 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30411 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 12579 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 37 server 0 vote for server 1
term 37 server 1 get vote from server 0
term 37 server 1 become leader
------------------------------------------------------
flag 54452 term 37 leader 1 nextIndex[0]: 212  matchIndex[0]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 23120 term 37 leader 1 nextIndex[2]: 212  matchIndex[2]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211}]
------------------------------------------------------
client write log 2920646243839241721 (index 212) to leader 1
flag 30341 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 6739 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 80306 term 37 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 47631 term 37 leader 1 nextIndex[2]: 212  matchIndex[2]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211} {2920646243839241721 37 212}]
------------------------------------------------------
flag 13707 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 67402 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 82106 term 37 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 37 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 37 leaderCommit: 212 
------------------------------------------------------
flag 42681 term 37 leader 1 nextIndex[2]: 212  matchIndex[2]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211} {2920646243839241721 37 212}]
------------------------------------------------------
client write log 1746557805430570018 (index 213) to leader 1
flag 31690 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 71038 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 36160 term 37 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 37 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 37 leaderCommit: 212 
------------------------------------------------------
flag 53962 term 37 leader 1 nextIndex[2]: 212  matchIndex[2]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 212 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211} {2920646243839241721 37 212} {1746557805430570018 37 213}]
------------------------------------------------------
flag 12735 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 72043 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 68219 term 37 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 37 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
flag 91348 term 37 leader 1 nextIndex[2]: 212  matchIndex[2]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211} {2920646243839241721 37 212} {1746557805430570018 37 213}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3927433041794089506 (index 214) to leader 1
flag 5499 term 36 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
flag 69875 term 36 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 36 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 211 
------------------------------------------------------
term 37 server 1 AppendEntries false 领导者任期过期 args.Term 36
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 37 server 0 AppendEntries false 领导者任期过期 args.Term 36
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17028 term 37 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 37 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 37 leaderCommit: 213 
------------------------------------------------------
flag 1582 term 37 leader 1 nextIndex[2]: 212  matchIndex[2]: 0
term 37 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211} {2920646243839241721 37 212} {1746557805430570018 37 213} {3927433041794089506 37 214}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211} {2920646243839241721 37 212} {1746557805430570018 37 213} {3927433041794089506 37 214}]
------------------------------------------------------
flag 53012 term 37 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 37 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 68831 term 37 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 37 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211} {2920646243839241721 37 212} {1746557805430570018 37 213} {3927433041794089506 37 214}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211} {2920646243839241721 37 212} {1746557805430570018 37 213} {3927433041794089506 37 214}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93459 term 37 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 37 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 54267 term 37 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 37 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211} {2920646243839241721 37 212} {1746557805430570018 37 213} {3927433041794089506 37 214}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211} {2920646243839241721 37 212} {1746557805430570018 37 213} {3927433041794089506 37 214}]
------------------------------------------------------
flag 74227 term 37 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 37 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 73216 term 37 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 37 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211} {2920646243839241721 37 212} {1746557805430570018 37 213} {3927433041794089506 37 214}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211} {2920646243839241721 37 212} {1746557805430570018 37 213} {3927433041794089506 37 214}]
------------------------------------------------------
flag 97554 term 37 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 37 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 24730 term 37 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 37 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211} {2920646243839241721 37 212} {1746557805430570018 37 213} {3927433041794089506 37 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211} {2920646243839241721 37 212} {1746557805430570018 37 213} {3927433041794089506 37 214}]
------------------------------------------------------
flag 94905 term 37 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 37 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 71063 term 37 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 37 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211} {2920646243839241721 37 212} {1746557805430570018 37 213} {3927433041794089506 37 214}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211} {2920646243839241721 37 212} {1746557805430570018 37 213} {3927433041794089506 37 214}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5959542307186223026 (index 215) to leader 1
flag 11551 term 37 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 37 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
flag 48791 term 37 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 37 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 214 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211} {2920646243839241721 37 212} {1746557805430570018 37 213} {3927433041794089506 37 214} {5959542307186223026 37 215}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64038 term 37 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 37 leaderCommit: 215 
------------------------------------------------------
flag 77097 term 37 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 37 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 215 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211} {2920646243839241721 37 212} {1746557805430570018 37 213} {3927433041794089506 37 214} {5959542307186223026 37 215}]
------------------------------------------------------
client write log 6314670624501732765 (index 216) to leader 1
client write log 6093406965761352129 (index 217) to leader 1
client write log 6290548564162976464 (index 218) to leader 1
client write log 4649365032383967805 (index 219) to leader 1
client write log 3003748456480880875 (index 220) to leader 1
client write log 4705527794510428427 (index 221) to leader 1
client write log 9088655805707176194 (index 222) to leader 1
client write log 2372202434188069962 (index 223) to leader 1
client write log 9026718004610805388 (index 224) to leader 1
client write log 35064343746805484 (index 225) to leader 1
client write log 2489464408264961413 (index 226) to leader 1
client write log 8364894963120158440 (index 227) to leader 1
client write log 5852953689823192275 (index 228) to leader 1
client write log 8996457028972356458 (index 229) to leader 1
client write log 3796397743707298893 (index 230) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90711 term 37 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 37 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 37 leaderCommit: 215 
------------------------------------------------------
flag 78827 term 37 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 37 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 37 leaderCommit: 215 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 34 209} {5406835311685183665 34 210} {1417529462814389290 34 211} {2920646243839241721 37 212} {1746557805430570018 37 213} {3927433041794089506 37 214} {5959542307186223026 37 215} {6314670624501732765 37 216} {6093406965761352129 37 217} {6290548564162976464 37 218} {4649365032383967805 37 219} {3003748456480880875 37 220} {4705527794510428427 37 221} {9088655805707176194 37 222} {2372202434188069962 37 223} {9026718004610805388 37 224} {35064343746805484 37 225} {2489464408264961413 37 226} {8364894963120158440 37 227} {5852953689823192275 37 228} {8996457028972356458 37 229} {3796397743707298893 37 230}]
------------------------------------------------------
term 37 Server1 start snapshot! index=219
term 37 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=230
-------------------------------------------------------------
term 37 Server1 start snapshot! index=229
term 37 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=230
-------------------------------------------------------------
flag 6355 term 37 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 37 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 37 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 37 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230}]
------------------------------------------------------
term 37 Server0 start snapshot! index=219
term 37 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=230
-------------------------------------------------------------
term 37 Server0 start snapshot! index=229
term 37 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 2
client write log 1485653718973964678 (index 231) to leader 1
term 37 server 0 not vote for server 2, 日志不够新
term 37 server 1 not vote for server 2, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 2 vote for server 1
term 39 server 0 vote for server 1
term 39 server 1 get vote from server 2
term 39 server 1 become leader
------------------------------------------------------
term 39 server 1 get outdate rpc reply from server 0
flag 57044 term 39 leader 1 nextIndex[0]: 232  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 65912 term 39 leader 1 nextIndex[2]: 232  matchIndex[2]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 39 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 232->231
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 232->231
------------------------------------------------------
flag 60586 term 39 leader 1 nextIndex[0]: 231  matchIndex[0]: 0
term 39 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 215  matchIndex[2]: 0
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 37
------------------------------------------------------
term 39 server 2 InstallSnapshot success
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 37 rf.commitIndex 229 rf.lastApplied 229
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
flag 12336 term 39 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 87039 term 39 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 39 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
flag 36074 term 39 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 42102 term 39 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
flag 21738 term 39 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 23884 term 39 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84371 term 39 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 95007 term 39 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
flag 12399 term 39 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 84324 term 39 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
flag 5864 term 39 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 62069 term 39 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
flag 87736 term 39 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 42768 term 39 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52808 term 39 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 84329 term 39 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91435 term 39 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 833 term 39 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
flag 96883 term 39 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 92102 term 39 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
term 39 server 2 not vote for server 0, 任期不够新
term 39 server 0 get outdate rpc reply from server 2
flag 4867 term 39 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 41917 term 39 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
flag 75032 term 39 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 82592 term 39 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
flag 97948 term 39 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 59603 term 39 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
flag 2069 term 39 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 54408 term 39 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32107 term 39 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 73590 term 39 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
flag 87313 term 39 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 77293 term 39 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
flag 66428 term 39 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 10825 term 39 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52724 term 39 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 25293 term 39 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231}]
------------------------------------------------------
client write log 1485653718973964678 (index 232) to leader 1
flag 27097 term 39 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
flag 96716 term 39 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 39 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 37 leaderCommit: 230 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231} {1485653718973964678 39 232}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231} {1485653718973964678 39 232}]
------------------------------------------------------
flag 23720 term 39 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 39 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 232 
------------------------------------------------------
flag 45519 term 39 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 232 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231} {1485653718973964678 39 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231} {1485653718973964678 39 232}]
------------------------------------------------------
term 39 server 1 not vote for server 0, 任期不够新
term 39 server 0 get outdate rpc reply from server 1
flag 69537 term 39 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 39 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 232 
------------------------------------------------------
flag 46657 term 39 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 232 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231} {1485653718973964678 39 232}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231} {1485653718973964678 39 232}]
------------------------------------------------------
flag 6836 term 39 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 39 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 232 
------------------------------------------------------
flag 27796 term 39 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 232 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231} {1485653718973964678 39 232}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231} {1485653718973964678 39 232}]
------------------------------------------------------
flag 68872 term 39 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 39 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 232 
------------------------------------------------------
flag 23521 term 39 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 232 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231} {1485653718973964678 39 232}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231} {1485653718973964678 39 232}]
------------------------------------------------------
flag 99582 term 39 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 39 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 232 
------------------------------------------------------
flag 76552 term 39 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 232 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231} {1485653718973964678 39 232}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231} {1485653718973964678 39 232}]
------------------------------------------------------
flag 66866 term 39 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 39 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 232 
------------------------------------------------------
flag 13112 term 39 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 232 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231} {1485653718973964678 39 232}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231} {1485653718973964678 39 232}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5916319525537979045 (index 233) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30139 term 39 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 39 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 232 
------------------------------------------------------
flag 27029 term 39 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 232 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231} {1485653718973964678 39 232} {5916319525537979045 39 233}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58611 term 39 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 39 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
flag 25700 term 39 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231} {1485653718973964678 39 232} {5916319525537979045 39 233}]
------------------------------------------------------
client write log 245797470364881239 (index 234) to leader 1
client write log 6425079553541351156 (index 235) to leader 1
client write log 293775979197571584 (index 236) to leader 1
client write log 4215962057025444067 (index 237) to leader 1
client write log 3866204175788261482 (index 238) to leader 1
client write log 6872214288478073953 (index 239) to leader 1
client write log 7165264723509788319 (index 240) to leader 1
client write log 2778292045895975854 (index 241) to leader 1
client write log 5489893963193081630 (index 242) to leader 1
client write log 3314112916050813000 (index 243) to leader 1
client write log 6957064422646006695 (index 244) to leader 1
client write log 2435164833808118282 (index 245) to leader 1
client write log 3275950081822687996 (index 246) to leader 1
client write log 745839496533826241 (index 247) to leader 1
flag 62338 term 39 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 39 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
flag 52978 term 39 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 233 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 37 229} {3796397743707298893 37 230} {1485653718973964678 37 231} {1485653718973964678 39 232} {5916319525537979045 39 233} {245797470364881239 39 234} {6425079553541351156 39 235} {293775979197571584 39 236} {4215962057025444067 39 237} {3866204175788261482 39 238} {6872214288478073953 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247}]
------------------------------------------------------
term 39 Server1 start snapshot! index=239
term 39 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=247
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58004 term 39 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247}]
------------------------------------------------------
term 39 Server0 start snapshot! index=239
term 39 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=247
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2150862102027827754 (index 248) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85563 term 39 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 39 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 39 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 39 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
term 40 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 39 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 server 0 vote for server 1
term 41 server 1 get vote from server 0
term 41 server 1 become leader
------------------------------------------------------
term 41 server 2 vote for server 1
term 41 server 1 get outdate rpc reply from server 2
flag 98579 term 41 leader 1 nextIndex[0]: 249  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 81343 term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 249->248
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4418 term 41 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 233  matchIndex[2]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 39
------------------------------------------------------
term 41 server 2 InstallSnapshot success
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 39 rf.commitIndex 239 rf.lastApplied 239
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
flag 87443 term 41 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 2873 term 41 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 41 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2593 term 41 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 67038 term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
flag 9027 term 41 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 22613 term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73569 term 41 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 53418 term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
flag 41184 term 41 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 80770 term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39856 term 41 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 92684 term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
flag 73767 term 41 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 49805 term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
term 41 server 1 not vote for server 2, 任期不够新
term 41 server 2 get outdate rpc reply from server 1
flag 73807 term 41 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 79901 term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
flag 2897 term 41 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 89605 term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
flag 73128 term 41 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 37871 term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43475 term 41 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 68786 term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
flag 15344 term 41 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 5831 term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
term 41 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
flag 36259 term 41 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 65484 term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
flag 65237 term 41 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 58994 term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59197 term 41 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 23321 term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
flag 33196 term 41 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 70406 term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
term 41 server 0 not vote for server 2, 任期不够新
term 41 server 2 get outdate rpc reply from server 0
flag 3950 term 41 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 10733 term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=247
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248}]
------------------------------------------------------
client write log 2150862102027827754 (index 249) to leader 1
flag 55140 term 41 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
flag 75183 term 41 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 41 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 39 leaderCommit: 247 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248} {2150862102027827754 41 249}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 239} {7165264723509788319 39 240} {2778292045895975854 39 241} {5489893963193081630 39 242} {3314112916050813000 39 243} {6957064422646006695 39 244} {2435164833808118282 39 245} {3275950081822687996 39 246} {745839496533826241 39 247} {2150862102027827754 39 248} {2150862102027827754 41 249}]
------------------------------------------------------
term 41 Server1 start snapshot! index=249
term 41 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 1382 term 41 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 49201 term 41 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
term 41 Server2 start snapshot! index=249
term 41 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 41 Server0 start snapshot! index=249
term 41 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 24719 term 41 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 42972 term 41 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
flag 73915 term 41 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 767 term 41 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
term 41 server 2 not vote for server 1, 任期不够新
term 41 server 1 get outdate rpc reply from server 2
flag 96199 term 41 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 79121 term 41 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
flag 73009 term 41 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 1693 term 41 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 1
flag 97329 term 41 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 62806 term 41 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 72220 term 41 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 6184 term 41 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 460 term 41 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 83295 term 41 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 server 0 vote for server 2
term 42 server 2 get vote from server 0
term 42 server 2 become leader
------------------------------------------------------
flag 86797 term 42 leader 2 nextIndex[0]: 250  matchIndex[0]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 57682 term 42 leader 2 nextIndex[1]: 250  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 41 249}]
------------------------------------------------------
client write log 6044150863086318995 (index 250) to leader 2
flag 82813 term 41 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 74217 term 41 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 96727 term 42 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 42 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 31076 term 42 leader 2 nextIndex[1]: 250  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6044150863086318995 42 250}]
------------------------------------------------------
flag 99842 term 41 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
flag 7658 term 41 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 250->249
------------------------------------------------------
flag 85648 term 42 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 17697 term 42 leader 2 nextIndex[1]: 250  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=250
leader log:
[{snapshot 41 249} {6044150863086318995 42 250}]
------------------------------------------------------
flag 13172 term 41 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 0  matchIndex[2]: 249
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
client write log 1870364752397970340 (index 251) to leader 2
client write log 671744527985112582 (index 252) to leader 2
client write log 4489399406826943594 (index 253) to leader 2
client write log 4191447234482787406 (index 254) to leader 2
client write log 1055168904426557145 (index 255) to leader 2
client write log 424026261873008163 (index 256) to leader 2
client write log 8812287060036972168 (index 257) to leader 2
client write log 7128491899740594875 (index 258) to leader 2
client write log 7958630798204014177 (index 259) to leader 2
client write log 2461731386630937657 (index 260) to leader 2
client write log 4520663642283864785 (index 261) to leader 2
client write log 4514544241896196696 (index 262) to leader 2
client write log 4401048706656727772 (index 263) to leader 2
client write log 2350442155613170286 (index 264) to leader 2
client write log 5214617547321341873 (index 265) to leader 2
flag 51768 term 42 leader 2 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 2 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 49745 term 42 leader 2 nextIndex[1]: 250  matchIndex[1]: 0
term 42 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 250 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 41 249} {6044150863086318995 42 250} {1870364752397970340 42 251} {671744527985112582 42 252} {4489399406826943594 42 253} {4191447234482787406 42 254} {1055168904426557145 42 255} {424026261873008163 42 256} {8812287060036972168 42 257} {7128491899740594875 42 258} {7958630798204014177 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
term 42 Server2 start snapshot! index=259
term 42 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=265
-------------------------------------------------------------
flag 62948 term 41 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 0  matchIndex[2]: 249
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 250->249
------------------------------------------------------
flag 66862 term 42 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
term 42 Server0 start snapshot! index=259
term 42 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=265
-------------------------------------------------------------
flag 35397 term 41 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 41 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 41 leaderCommit: 249 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 0  matchIndex[2]: 249
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 41
------------------------------------------------------
!!!!!!connect server 1
client write log 7012465867344558548 (index 250) to leader 1
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 250->249
------------------------------------------------------
flag 70110 term 42 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 1 InstallSnapshot success
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
term 42 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
rf.lastIncludedIndex 259 rf.lastIncludedTerm 42 rf.commitIndex 259 rf.lastApplied 259
flag 16278 term 42 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 56438 term 42 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 42 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
flag 41549 term 42 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 64753 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38751 term 42 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 76503 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 349 term 42 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 65132 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
flag 26548 term 42 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 87446 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
flag 46783 term 42 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 62975 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
flag 49395 term 42 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 27653 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
flag 50487 term 42 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 74801 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
flag 87986 term 42 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 48629 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
flag 24941 term 42 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 12090 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
flag 26924 term 42 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 325 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11899 term 42 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 36967 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
flag 43771 term 42 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 60348 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
flag 24029 term 42 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 55547 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
flag 90857 term 42 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 42369 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
flag 21236 term 42 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 59373 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
flag 55442 term 42 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 49166 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
flag 4520 term 42 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 27740 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
flag 44531 term 42 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 76592 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=266
update matchIndex[0]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265}]
------------------------------------------------------
client write log 7012465867344558548 (index 266) to leader 2
flag 86231 term 42 leader 2 nextIndex[0]: 266  matchIndex[0]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
flag 7671 term 42 leader 2 nextIndex[1]: 266  matchIndex[1]: 265
term 42 leader 2 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 42 leaderCommit: 265 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265} {7012465867344558548 42 266}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265} {7012465867344558548 42 266}]
------------------------------------------------------
flag 14251 term 42 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 24278 term 42 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265} {7012465867344558548 42 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265} {7012465867344558548 42 266}]
------------------------------------------------------
term 42 server 1 not vote for server 2, 日志不够新
term 42 server 2 get outdate rpc reply from server 1
flag 41015 term 42 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 52158 term 42 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265} {7012465867344558548 42 266}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265} {7012465867344558548 42 266}]
------------------------------------------------------
flag 27281 term 42 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 72171 term 42 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265} {7012465867344558548 42 266}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265} {7012465867344558548 42 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73832 term 42 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 76736 term 42 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265} {7012465867344558548 42 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265} {7012465867344558548 42 266}]
------------------------------------------------------
flag 68230 term 42 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 20044 term 42 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=267
update matchIndex[1]=266
update leader CommitIndex=266
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265} {7012465867344558548 42 266}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=267
update matchIndex[0]=266
update leader CommitIndex=266
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265} {7012465867344558548 42 266}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8031644378652617074 (index 267) to leader 2
flag 83124 term 42 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
flag 14231 term 42 leader 2 nextIndex[1]: 267  matchIndex[1]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 266 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265} {7012465867344558548 42 266} {8031644378652617074 42 267}]
------------------------------------------------------
flag 2675 term 42 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 44552 term 42 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=268
update matchIndex[1]=267
update leader CommitIndex=267
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265} {7012465867344558548 42 266} {8031644378652617074 42 267}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3027454765588789189 (index 268) to leader 2
client write log 1310666145665966545 (index 269) to leader 2
client write log 5956159385968459316 (index 270) to leader 2
client write log 3949507546716952059 (index 271) to leader 2
client write log 6748428602989920117 (index 272) to leader 2
client write log 530439492493342639 (index 273) to leader 2
client write log 6789548692164910726 (index 274) to leader 2
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55058 term 42 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 2 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
flag 17535 term 42 leader 2 nextIndex[1]: 268  matchIndex[1]: 267
term 42 leader 2 sendAppendEntries PrevLogIndex: 267  PrevLogTerm: 42 leaderCommit: 267 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:267 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 42 259} {2461731386630937657 42 260} {4520663642283864785 42 261} {4514544241896196696 42 262} {4401048706656727772 42 263} {2350442155613170286 42 264} {5214617547321341873 42 265} {7012465867344558548 42 266} {8031644378652617074 42 267} {3027454765588789189 42 268} {1310666145665966545 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274}]
------------------------------------------------------
term 42 Server2 start snapshot! index=269
term 42 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=274
-------------------------------------------------------------
term 42 leader 2 nextIndex[0]: 267  matchIndex[0]: 266
term 42 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 34873 term 42 leader 2 nextIndex[1]: 275  matchIndex[1]: 274
term 42 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274}]
------------------------------------------------------
term 42 Server1 start snapshot! index=269
term 42 server1 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=274
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5101488351233553766 (index 275) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 2 not vote for server 0, 日志不够新
term 42 server 1 not vote for server 0, 日志不够新
term 44 server 1 vote for server 2
term 44 server 0 vote for server 2
term 44 server 2 get vote from server 1
term 44 server 2 become leader
------------------------------------------------------
term 44 server 2 get outdate rpc reply from server 0
flag 67332 term 44 leader 2 nextIndex[0]: 276  matchIndex[0]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 66474 term 44 leader 2 nextIndex[1]: 276  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 276->275
------------------------------------------------------
term 44 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 276->275
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 2 nextIndex[0]: 267  matchIndex[0]: 0
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 42
------------------------------------------------------
flag 75620 term 44 leader 2 nextIndex[1]: 275  matchIndex[1]: 0
term 44 leader 2 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
term 44 server 0 InstallSnapshot success
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 42 rf.commitIndex 269 rf.lastApplied 269
flag 60581 term 44 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 44 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 64098 term 44 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
flag 56756 term 44 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 36979 term 44 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
flag 61867 term 44 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 9416 term 44 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
term 44 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48719 term 44 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 84731 term 44 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94513 term 44 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 67921 term 44 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
flag 23541 term 44 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 78898 term 44 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
term 44 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32684 term 44 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 32195 term 44 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
flag 46286 term 44 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 76073 term 44 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
flag 16579 term 44 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 24858 term 44 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
flag 12104 term 44 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 57427 term 44 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
flag 20498 term 44 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 55490 term 44 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
flag 12758 term 44 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 79260 term 44 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
flag 45231 term 44 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 23178 term 44 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
flag 43962 term 44 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 45777 term 44 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
flag 49303 term 44 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 88485 term 44 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
term 44 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
flag 98515 term 44 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 76433 term 44 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
flag 96354 term 44 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 65164 term 44 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66875 term 44 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 48936 term 44 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=274
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275}]
------------------------------------------------------
client write log 5101488351233553766 (index 276) to leader 2
flag 34863 term 44 leader 2 nextIndex[0]: 276  matchIndex[0]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
flag 19578 term 44 leader 2 nextIndex[1]: 276  matchIndex[1]: 275
term 44 leader 2 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 42 leaderCommit: 274 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275} {5101488351233553766 44 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275} {5101488351233553766 44 276}]
------------------------------------------------------
flag 46089 term 44 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 44 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
flag 89301 term 44 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 44 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275} {5101488351233553766 44 276}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275} {5101488351233553766 44 276}]
------------------------------------------------------
flag 55017 term 44 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 44 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
flag 49031 term 44 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 44 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275} {5101488351233553766 44 276}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275} {5101488351233553766 44 276}]
------------------------------------------------------
flag 9576 term 44 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 44 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
flag 79717 term 44 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 44 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275} {5101488351233553766 44 276}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275} {5101488351233553766 44 276}]
------------------------------------------------------
flag 13755 term 44 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 44 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
flag 32659 term 44 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 44 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275} {5101488351233553766 44 276}]
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275} {5101488351233553766 44 276}]
------------------------------------------------------
term 44 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69207 term 44 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 44 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
flag 76489 term 44 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 44 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
term 44 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275} {5101488351233553766 44 276}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=276
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275} {5101488351233553766 44 276}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5111860877981904524 (index 277) to leader 2
flag 27509 term 44 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 44 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
flag 73390 term 44 leader 2 nextIndex[1]: 277  matchIndex[1]: 276
term 44 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275} {5101488351233553766 44 276} {5111860877981904524 44 277}]
------------------------------------------------------
flag 26853 term 44 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 44 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 277 
------------------------------------------------------
flag 18171 term 44 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 44 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 44 leaderCommit: 277 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275} {5101488351233553766 44 276} {5111860877981904524 44 277}]
------------------------------------------------------
client write log 5022940560826020089 (index 278) to leader 2
client write log 3341733517323618075 (index 279) to leader 2
client write log 2977990643159819805 (index 280) to leader 2
client write log 3571785912333538034 (index 281) to leader 2
client write log 1675285854490710067 (index 282) to leader 2
client write log 2116643884413613548 (index 283) to leader 2
client write log 2501738304122188050 (index 284) to leader 2
client write log 8421273693817160683 (index 285) to leader 2
client write log 3788062066946460253 (index 286) to leader 2
client write log 7312066001161850994 (index 287) to leader 2
client write log 5373463252226013148 (index 288) to leader 2
client write log 3754811712943294906 (index 289) to leader 2
flag 91888 term 44 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 44 leader 2 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 277 
------------------------------------------------------
flag 15807 term 44 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 44 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 44 leaderCommit: 277 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 42 269} {5956159385968459316 42 270} {3949507546716952059 42 271} {6748428602989920117 42 272} {530439492493342639 42 273} {6789548692164910726 42 274} {5101488351233553766 42 275} {5101488351233553766 44 276} {5111860877981904524 44 277} {5022940560826020089 44 278} {3341733517323618075 44 279} {2977990643159819805 44 280} {3571785912333538034 44 281} {1675285854490710067 44 282} {2116643884413613548 44 283} {2501738304122188050 44 284} {8421273693817160683 44 285} {3788062066946460253 44 286} {7312066001161850994 44 287} {5373463252226013148 44 288} {3754811712943294906 44 289}]
------------------------------------------------------
term 44 Server2 start snapshot! index=279
term 44 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=289
-------------------------------------------------------------
term 44 Server2 start snapshot! index=289
term 44 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
term 44 leader 2 nextIndex[0]: 277  matchIndex[0]: 276
term 44 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 70257 term 44 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 44 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 44 289}]
------------------------------------------------------
term 44 Server1 start snapshot! index=279
term 44 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=289
-------------------------------------------------------------
term 44 Server1 start snapshot! index=289
term 44 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4754173696077432632 (index 290) to leader 2
term 44 server 2 not vote for server 0, 日志不够新
term 44 server 1 not vote for server 0, 日志不够新
term 46 server 1 vote for server 2
term 46 server 0 vote for server 2
term 46 server 2 get vote from server 1
term 46 server 2 become leader
------------------------------------------------------
term 46 server 2 get outdate rpc reply from server 0
flag 96118 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 65097 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 291->290
------------------------------------------------------
term 46 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 291->290
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 leader 2 nextIndex[0]: 277  matchIndex[0]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 81158 term 46 leader 2 nextIndex[1]: 290  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
term 46 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 44 rf.commitIndex 289 rf.lastApplied 289
term 46 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
flag 79605 term 46 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 46 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 23670 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
flag 48612 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 43581 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
flag 61458 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 35270 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
flag 11677 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 86249 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
flag 99945 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 69711 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
flag 7369 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 70528 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
flag 13269 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 96772 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
flag 54080 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 99809 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
flag 67812 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 16561 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
flag 43901 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 51117 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
flag 84593 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 15074 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
flag 44401 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 29167 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
flag 99892 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 2559 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
flag 6488 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 77959 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
flag 8038 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 52802 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
flag 59373 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 8632 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
flag 208 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 40007 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
flag 17013 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 56723 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=289
leader log:
[{snapshot 44 289} {4754173696077432632 44 290}]
------------------------------------------------------
client write log 4754173696077432632 (index 291) to leader 2
flag 59801 term 46 leader 2 nextIndex[0]: 291  matchIndex[0]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
flag 14344 term 46 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 46 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 44 leaderCommit: 289 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291}]
------------------------------------------------------
flag 9741 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 16253 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291}]
------------------------------------------------------
flag 52319 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 81174 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 46 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
update nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28299 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 18586 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291}]
------------------------------------------------------
flag 3099 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 41247 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291}]
------------------------------------------------------
flag 15334 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 3833 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291}]
------------------------------------------------------
flag 70010 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 60117 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:291 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=291
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 58505 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 120 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 1663 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 51389 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 42755 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 69466 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 47 server 0 vote for server 1
term 47 server 1 get vote from server 0
term 47 server 1 become leader
------------------------------------------------------
flag 44307 term 47 leader 1 nextIndex[0]: 292  matchIndex[0]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 83037 term 47 leader 1 nextIndex[2]: 292  matchIndex[2]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291}]
------------------------------------------------------
client write log 5528009564136192096 (index 292) to leader 1
flag 19397 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 56870 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 26197 term 47 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 47 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 54275 term 47 leader 1 nextIndex[2]: 292  matchIndex[2]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291} {5528009564136192096 47 292}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45668 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
flag 18335 term 46 leader 2 nextIndex[1]: 292  matchIndex[1]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 292->291
------------------------------------------------------
flag 23891 term 47 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 47 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
flag 47380 term 47 leader 1 nextIndex[2]: 292  matchIndex[2]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291} {5528009564136192096 47 292}]
------------------------------------------------------
client write log 8396845158634028789 (index 293) to leader 1
flag 50982 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 0  matchIndex[1]: 291
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 18050 term 47 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 47 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 47 leaderCommit: 292 
------------------------------------------------------
flag 38368 term 47 leader 1 nextIndex[2]: 292  matchIndex[2]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291} {5528009564136192096 47 292} {8396845158634028789 47 293}]
------------------------------------------------------
flag 52328 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 0  matchIndex[1]: 291
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 3957 term 47 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 47 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
flag 88184 term 47 leader 1 nextIndex[2]: 292  matchIndex[2]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291} {5528009564136192096 47 292} {8396845158634028789 47 293}]
------------------------------------------------------
!!!!!!connect server 2
client write log 991060825161362009 (index 294) to leader 1
flag 96496 term 46 leader 2 nextIndex[0]: 292  matchIndex[0]: 291
term 46 leader 2 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 291 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 0  matchIndex[1]: 291
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
term 47 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 server 0 AppendEntries false 领导者任期过期 args.Term 46
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46222 term 47 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 47 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 47 leaderCommit: 293 
------------------------------------------------------
flag 56279 term 47 leader 1 nextIndex[2]: 292  matchIndex[2]: 0
term 47 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291} {5528009564136192096 47 292} {8396845158634028789 47 293} {991060825161362009 47 294}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291} {5528009564136192096 47 292} {8396845158634028789 47 293} {991060825161362009 47 294}]
------------------------------------------------------
flag 36973 term 47 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 47 leaderCommit: 294 
------------------------------------------------------
flag 63122 term 47 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 47 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 47 leaderCommit: 294 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291} {5528009564136192096 47 292} {8396845158634028789 47 293} {991060825161362009 47 294}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291} {5528009564136192096 47 292} {8396845158634028789 47 293} {991060825161362009 47 294}]
------------------------------------------------------
flag 65969 term 47 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 47 leaderCommit: 294 
------------------------------------------------------
flag 19773 term 47 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 47 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 47 leaderCommit: 294 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291} {5528009564136192096 47 292} {8396845158634028789 47 293} {991060825161362009 47 294}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291} {5528009564136192096 47 292} {8396845158634028789 47 293} {991060825161362009 47 294}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 295->294
------------------------------------------------------
flag 47485 term 47 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 47 leaderCommit: 294 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 0  matchIndex[2]: 294
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
term 47 server 2 InstallSnapshot fail
rf.commitIndex 294 args.LastIncludedIndex 289
------------------------------------------------------
term 47 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291} {5528009564136192096 47 292} {8396845158634028789 47 293} {991060825161362009 47 294}]
------------------------------------------------------
flag 35443 term 47 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 47 leaderCommit: 294 
------------------------------------------------------
flag 80869 term 47 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 47 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 294 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291} {5528009564136192096 47 292} {8396845158634028789 47 293} {991060825161362009 47 294}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291} {5528009564136192096 47 292} {8396845158634028789 47 293} {991060825161362009 47 294}]
------------------------------------------------------
flag 32061 term 47 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 47 leaderCommit: 294 
------------------------------------------------------
flag 69181 term 47 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 47 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 47 leaderCommit: 294 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=295
update matchIndex[2]=294
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291} {5528009564136192096 47 292} {8396845158634028789 47 293} {991060825161362009 47 294}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291} {5528009564136192096 47 292} {8396845158634028789 47 293} {991060825161362009 47 294}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3510496239117333434 (index 295) to leader 1
flag 64362 term 47 leader 1 nextIndex[0]: 295  matchIndex[0]: 294
term 47 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 47 leaderCommit: 294 
------------------------------------------------------
flag 82775 term 47 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 47 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 47 leaderCommit: 294 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291} {5528009564136192096 47 292} {8396845158634028789 47 293} {991060825161362009 47 294} {3510496239117333434 47 295}]
------------------------------------------------------
flag 1985 term 47 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 24883 term 47 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 47 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=296
update matchIndex[0]=295
update leader CommitIndex=295
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291} {5528009564136192096 47 292} {8396845158634028789 47 293} {991060825161362009 47 294} {3510496239117333434 47 295}]
------------------------------------------------------
client write log 4087666492284129310 (index 296) to leader 1
client write log 8034613257950385367 (index 297) to leader 1
client write log 7346586794705497625 (index 298) to leader 1
client write log 206873939565459463 (index 299) to leader 1
client write log 1315592736544679449 (index 300) to leader 1
client write log 6007031725815382561 (index 301) to leader 1
client write log 519562134576802006 (index 302) to leader 1
client write log 3395893468529099159 (index 303) to leader 1
client write log 7008250751902212721 (index 304) to leader 1
client write log 1951666418678257029 (index 305) to leader 1
client write log 6794700430588057687 (index 306) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38416 term 47 leader 1 nextIndex[0]: 296  matchIndex[0]: 295
term 47 leader 1 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 13834 term 47 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 47 leader 1 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 44 289} {4754173696077432632 44 290} {4754173696077432632 46 291} {5528009564136192096 47 292} {8396845158634028789 47 293} {991060825161362009 47 294} {3510496239117333434 47 295} {4087666492284129310 47 296} {8034613257950385367 47 297} {7346586794705497625 47 298} {206873939565459463 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306}]
------------------------------------------------------
term 47 Server1 start snapshot! index=299
term 47 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=306
-------------------------------------------------------------
flag 63053 term 47 leader 1 nextIndex[0]: 307  matchIndex[0]: 306
term 47 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 47 leader 1 nextIndex[2]: 295  matchIndex[2]: 294
term 47 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 47
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306}]
------------------------------------------------------
term 47 Server0 start snapshot! index=299
term 47 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=306
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8095541824808599889 (index 307) to leader 1
term 47 server 1 not vote for server 2, 日志不够新
term 47 server 0 not vote for server 2, 日志不够新
term 49 server 2 vote for server 1
term 49 server 0 vote for server 1
term 49 server 1 get vote from server 2
term 49 server 1 become leader
------------------------------------------------------
term 49 server 1 get outdate rpc reply from server 0
flag 91277 term 49 leader 1 nextIndex[0]: 308  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 14515 term 49 leader 1 nextIndex[2]: 308  matchIndex[2]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 308->307
------------------------------------------------------
term 49 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 308->307
------------------------------------------------------
flag 91165 term 49 leader 1 nextIndex[0]: 307  matchIndex[0]: 0
term 49 leader 1 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 295  matchIndex[2]: 0
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 47
------------------------------------------------------
term 49 server 2 InstallSnapshot success
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 47 rf.commitIndex 299 rf.lastApplied 299
term 49 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88378 term 49 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 81978 term 49 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 49 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
flag 4586 term 49 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 5907 term 49 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67218 term 49 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 53469 term 49 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
flag 30747 term 49 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 73454 term 49 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99231 term 49 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 82902 term 49 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
flag 46678 term 49 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 86867 term 49 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 855 term 49 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 63432 term 49 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77697 term 49 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 40749 term 49 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
flag 71010 term 49 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 49282 term 49 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
flag 71950 term 49 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 7530 term 49 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29367 term 49 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 41542 term 49 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
flag 84690 term 49 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 71282 term 49 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
flag 81619 term 49 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 71270 term 49 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
flag 283 term 49 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 31891 term 49 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
flag 36933 term 49 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 1894 term 49 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
flag 12176 term 49 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 7321 term 49 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80993 term 49 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 57994 term 49 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8095541824808599889 (index 308) to leader 1
flag 34509 term 49 leader 1 nextIndex[0]: 308  matchIndex[0]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
flag 60558 term 49 leader 1 nextIndex[2]: 308  matchIndex[2]: 307
term 49 leader 1 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 47 leaderCommit: 306 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307} {8095541824808599889 49 308}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307} {8095541824808599889 49 308}]
------------------------------------------------------
flag 63221 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 30354 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307} {8095541824808599889 49 308}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307} {8095541824808599889 49 308}]
------------------------------------------------------
flag 9552 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 13528 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307} {8095541824808599889 49 308}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307} {8095541824808599889 49 308}]
------------------------------------------------------
flag 2719 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 81522 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307} {8095541824808599889 49 308}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307} {8095541824808599889 49 308}]
------------------------------------------------------
term 49 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71167 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 75259 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307} {8095541824808599889 49 308}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307} {8095541824808599889 49 308}]
------------------------------------------------------
flag 84842 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 25187 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 49 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307} {8095541824808599889 49 308}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307} {8095541824808599889 49 308}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5399855150760915371 (index 309) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96170 term 49 leader 1 nextIndex[0]: 309  matchIndex[0]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
flag 78912 term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 49 leaderCommit: 308 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 47 299} {1315592736544679449 47 300} {6007031725815382561 47 301} {519562134576802006 47 302} {3395893468529099159 47 303} {7008250751902212721 47 304} {1951666418678257029 47 305} {6794700430588057687 47 306} {8095541824808599889 47 307} {8095541824808599889 49 308} {5399855150760915371 49 309}]
------------------------------------------------------
term 49 Server1 start snapshot! index=309
term 49 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 49759 term 49 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 49 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 309 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=310
update matchIndex[0]=309
update leader CommitIndex=309
leader log:
[{snapshot 49 309}]
------------------------------------------------------
term 49 Server0 start snapshot! index=309
term 49 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
client write log 825977723567025943 (index 310) to leader 1
client write log 885044603320832351 (index 311) to leader 1
client write log 5776487794108860770 (index 312) to leader 1
client write log 5389547082673005021 (index 313) to leader 1
client write log 3046360586943928809 (index 314) to leader 1
client write log 6236176286541700677 (index 315) to leader 1
client write log 1541254961004962192 (index 316) to leader 1
client write log 5222866934128735626 (index 317) to leader 1
client write log 1221236424683231836 (index 318) to leader 1
client write log 4820962322341652869 (index 319) to leader 1
client write log 917843512399013860 (index 320) to leader 1
client write log 3604225098106606467 (index 321) to leader 1
client write log 700929680099520583 (index 322) to leader 1
client write log 4231688747578503991 (index 323) to leader 1
client write log 687306659734524818 (index 324) to leader 1
flag 84018 term 49 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 49 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 309 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 309} {825977723567025943 49 310} {885044603320832351 49 311} {5776487794108860770 49 312} {5389547082673005021 49 313} {3046360586943928809 49 314} {6236176286541700677 49 315} {1541254961004962192 49 316} {5222866934128735626 49 317} {1221236424683231836 49 318} {4820962322341652869 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324}]
------------------------------------------------------
term 49 Server1 start snapshot! index=319
term 49 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=324
-------------------------------------------------------------
flag 34447 term 49 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=325
update matchIndex[0]=324
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324}]
------------------------------------------------------
term 49 Server0 start snapshot! index=319
term 49 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=324
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1348014801829002260 (index 325) to leader 1
flag 34568 term 49 leader 1 nextIndex[0]: 325  matchIndex[0]: 324
term 49 leader 1 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 49 leader 1 nextIndex[2]: 309  matchIndex[2]: 308
term 49 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
term 50 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 49 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 2 vote for server 1
term 51 server 1 get vote from server 2
term 51 server 0 vote for server 1
term 51 server 1 become leader
------------------------------------------------------
term 51 server 1 get outdate rpc reply from server 0
flag 97480 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 99817 term 51 leader 1 nextIndex[2]: 326  matchIndex[2]: 0
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 326->325
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
flag 65826 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 309  matchIndex[2]: 0
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
term 51 server 2 InstallSnapshot success
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 49 rf.commitIndex 319 rf.lastApplied 319
flag 69939 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 16049 term 51 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 51 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
term 51 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3321 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 68814 term 51 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94952 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 72207 term 51 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16948 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 58830 term 51 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
flag 83360 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 38630 term 51 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
flag 60947 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 3104 term 51 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
flag 34356 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 63683 term 51 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
flag 35164 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 25406 term 51 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
flag 40633 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 16244 term 51 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
term 51 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
flag 97992 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 3441 term 51 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
flag 50189 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 46076 term 51 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
flag 84775 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 40325 term 51 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37488 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 12397 term 51 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
flag 83128 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 57051 term 51 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
flag 57082 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 13974 term 51 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89034 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 73407 term 51 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=324
leader log:
term 51 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=324
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325}]
------------------------------------------------------
client write log 1348014801829002260 (index 326) to leader 1
flag 75032 term 51 leader 1 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
flag 3679 term 51 leader 1 nextIndex[2]: 326  matchIndex[2]: 325
term 51 leader 1 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 49 leaderCommit: 324 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325} {1348014801829002260 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325} {1348014801829002260 51 326}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26485 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 92833 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325} {1348014801829002260 51 326}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325} {1348014801829002260 51 326}]
------------------------------------------------------
flag 85562 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 92453 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325} {1348014801829002260 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325} {1348014801829002260 51 326}]
------------------------------------------------------
flag 86937 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 48440 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325} {1348014801829002260 51 326}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325} {1348014801829002260 51 326}]
------------------------------------------------------
flag 21842 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 90883 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325} {1348014801829002260 51 326}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325} {1348014801829002260 51 326}]
------------------------------------------------------
flag 40261 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 46759 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325} {1348014801829002260 51 326}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325} {1348014801829002260 51 326}]
------------------------------------------------------
!!!!!!diconnect server 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43028 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 49597 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 88323 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 55489 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28635 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 35873 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 52 server 0 vote for server 2
term 52 server 2 get vote from server 0
term 52 server 2 become leader
------------------------------------------------------
flag 45080 term 52 leader 2 nextIndex[0]: 327  matchIndex[0]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 96149 term 52 leader 2 nextIndex[1]: 327  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325} {1348014801829002260 51 326}]
------------------------------------------------------
flag 74402 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 47361 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
client write log 8174037004187145626 (index 327) to leader 2
flag 13478 term 52 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 52 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 65197 term 52 leader 2 nextIndex[1]: 327  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325} {1348014801829002260 51 326} {8174037004187145626 52 327}]
------------------------------------------------------
flag 92253 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 73110 term 51 leader 1 nextIndex[2]: 327  matchIndex[2]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 327->326
------------------------------------------------------
flag 94551 term 52 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 69208 term 52 leader 2 nextIndex[1]: 327  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=327
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325} {1348014801829002260 51 326} {8174037004187145626 52 327}]
------------------------------------------------------
client write log 5981378236282879953 (index 328) to leader 2
client write log 5518737354557378940 (index 329) to leader 2
client write log 7600845568259686137 (index 330) to leader 2
client write log 3795014838575588247 (index 331) to leader 2
client write log 3568299821701741072 (index 332) to leader 2
client write log 5691793099737975473 (index 333) to leader 2
client write log 4017028192292894079 (index 334) to leader 2
client write log 6061524598338698863 (index 335) to leader 2
client write log 5149134830806698005 (index 336) to leader 2
client write log 2546209478905451146 (index 337) to leader 2
client write log 2300162890280036434 (index 338) to leader 2
client write log 4536619497991478595 (index 339) to leader 2
client write log 4186007851989179323 (index 340) to leader 2
client write log 8851150133619359495 (index 341) to leader 2
flag 88106 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 0  matchIndex[2]: 326
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
flag 30265 term 52 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 52 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 52 leaderCommit: 327 
------------------------------------------------------
flag 95670 term 52 leader 2 nextIndex[1]: 327  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 49 319} {917843512399013860 49 320} {3604225098106606467 49 321} {700929680099520583 49 322} {4231688747578503991 49 323} {687306659734524818 49 324} {1348014801829002260 49 325} {1348014801829002260 51 326} {8174037004187145626 52 327} {5981378236282879953 52 328} {5518737354557378940 52 329} {7600845568259686137 52 330} {3795014838575588247 52 331} {3568299821701741072 52 332} {5691793099737975473 52 333} {4017028192292894079 52 334} {6061524598338698863 52 335} {5149134830806698005 52 336} {2546209478905451146 52 337} {2300162890280036434 52 338} {4536619497991478595 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
term 52 Server2 start snapshot! index=329
term 52 server2 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=341
-------------------------------------------------------------
term 52 Server2 start snapshot! index=339
term 52 server2 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=341
-------------------------------------------------------------
flag 86029 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 0  matchIndex[2]: 326
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
flag 66593 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 leader 2 nextIndex[1]: 327  matchIndex[1]: 0
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
term 52 Server0 start snapshot! index=329
term 52 server0 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=341
-------------------------------------------------------------
term 52 Server0 start snapshot! index=339
term 52 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=341
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6499788433585845480 (index 327) to leader 1
flag 57795 term 51 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 leader 1 nextIndex[2]: 0  matchIndex[2]: 326
term 51 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 49
------------------------------------------------------
term 52 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 52 server 0 AppendEntries false 领导者任期过期 args.Term 51
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37251 term 52 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 52 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 52 leader 2 nextIndex[1]: 327  matchIndex[1]: 0
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 1 InstallSnapshot success
------------------------------------------------------
term 52 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 52 rf.commitIndex 339 rf.lastApplied 339
term 52 server 2 not vote for server 1, 日志不够新
term 52 server 0 not vote for server 1, 日志不够新
term 54 server 1 vote for server 2
term 54 server 0 vote for server 2
term 54 server 2 get vote from server 1
term 54 server 2 become leader
------------------------------------------------------
term 54 server 2 get outdate rpc reply from server 0
flag 9896 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 15873 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 54 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 342->341
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
flag 55225 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 28236 term 54 leader 2 nextIndex[1]: 340  matchIndex[1]: 0
term 54 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
flag 18703 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 67975 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
flag 75295 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 57094 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
flag 60653 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 6957 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
flag 36042 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 84703 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueterm 54 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
update nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
flag 5143 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 52457 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85964 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 92330 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
term 54 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
flag 91894 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 5816 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
flag 30005 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 91522 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
flag 27350 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 4154 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
flag 90731 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 3745 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
flag 8562 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 44075 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
flag 246 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 13555 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66042 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 29050 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
flag 98939 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 78123 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
flag 80591 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 59991 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
term 54 server 1 not vote for server 2, 任期不够新
term 54 server 2 get outdate rpc reply from server 1
flag 12350 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 45078 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:341 
term 54 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
term 54 server 1 not vote for server 2, 任期不够新
term 54 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20068 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 38435 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 54 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
update nextIndex[1]=342
update matchIndex[1]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=342
update matchIndex[0]=341
update leader CommitIndex=341
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341}]
------------------------------------------------------
client write log 6499788433585845480 (index 342) to leader 2
flag 8319 term 54 leader 2 nextIndex[0]: 342  matchIndex[0]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
flag 55841 term 54 leader 2 nextIndex[1]: 342  matchIndex[1]: 341
term 54 leader 2 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 52 leaderCommit: 341 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341} {6499788433585845480 54 342}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341} {6499788433585845480 54 342}]
------------------------------------------------------
flag 23455 term 54 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 32543 term 54 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341} {6499788433585845480 54 342}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341} {6499788433585845480 54 342}]
------------------------------------------------------
flag 69563 term 54 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 80953 term 54 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341} {6499788433585845480 54 342}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341} {6499788433585845480 54 342}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88951 term 54 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 93837 term 54 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341} {6499788433585845480 54 342}]
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341} {6499788433585845480 54 342}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36405 term 54 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 11495 term 54 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341} {6499788433585845480 54 342}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341} {6499788433585845480 54 342}]
------------------------------------------------------
flag 41366 term 54 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 62558 term 54 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 54 server 0 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=343
update matchIndex[0]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341} {6499788433585845480 54 342}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341} {6499788433585845480 54 342}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1103528643714242874 (index 343) to leader 2
flag 2239 term 54 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
flag 22824 term 54 leader 2 nextIndex[1]: 343  matchIndex[1]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 342 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341} {6499788433585845480 54 342} {1103528643714242874 54 343}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27400 term 54 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
flag 7316 term 54 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 54 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341} {6499788433585845480 54 342} {1103528643714242874 54 343}]
------------------------------------------------------
term 54 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 561525619636429511 (index 344) to leader 2
client write log 1132721217851983123 (index 345) to leader 2
client write log 7280800022656057999 (index 346) to leader 2
client write log 2474416960483739716 (index 347) to leader 2
client write log 8782724878676197813 (index 348) to leader 2
client write log 3390454605217312601 (index 349) to leader 2
client write log 350917977483266745 (index 350) to leader 2
client write log 548201267496049942 (index 351) to leader 2
client write log 2754529406225896627 (index 352) to leader 2
client write log 6489795766028103001 (index 353) to leader 2
flag 17574 term 54 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 54 leader 2 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
flag 28430 term 54 leader 2 nextIndex[1]: 344  matchIndex[1]: 343
term 54 leader 2 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 54 leaderCommit: 343 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 52 339} {4186007851989179323 52 340} {8851150133619359495 52 341} {6499788433585845480 54 342} {1103528643714242874 54 343} {561525619636429511 54 344} {1132721217851983123 54 345} {7280800022656057999 54 346} {2474416960483739716 54 347} {8782724878676197813 54 348} {3390454605217312601 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353}]
------------------------------------------------------
term 54 Server2 start snapshot! index=349
term 54 server2 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=353
-------------------------------------------------------------
term 54 leader 2 nextIndex[0]: 343  matchIndex[0]: 342
term 54 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 54
------------------------------------------------------
flag 75062 term 54 leader 2 nextIndex[1]: 354  matchIndex[1]: 353
term 54 leader 2 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353}]
------------------------------------------------------
term 54 server 2 not vote for server 1, 任期不够新
term 54 server 1 get outdate rpc reply from server 2
term 54 Server1 start snapshot! index=349
term 54 server1 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=353
-------------------------------------------------------------
!!!!!!connect server 0
client write log 450903489393279637 (index 354) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 server 2 not vote for server 0, 日志不够新
term 54 server 1 not vote for server 0, 日志不够新
term 56 server 1 vote for server 2
term 56 server 2 get vote from server 1
term 56 server 2 become leader
------------------------------------------------------
term 56 server 0 vote for server 2
term 56 server 2 get outdate rpc reply from server 0
flag 18536 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 97855 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 56 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 355->354
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 355->354
------------------------------------------------------
term 56 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 56 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 56 leader 2 nextIndex[0]: 343  matchIndex[0]: 0
term 56 leader 2 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 54
------------------------------------------------------
flag 76632 term 56 leader 2 nextIndex[1]: 354  matchIndex[1]: 0
term 56 leader 2 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
term 56 server 0 InstallSnapshot success
------------------------------------------------------
term 56 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 350 matchIndex[0] 349 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 54 rf.commitIndex 349 rf.lastApplied 349
term 56 server 0 not vote for server 2, 任期不够新
term 56 server 2 get outdate rpc reply from server 0
flag 59554 term 56 leader 2 nextIndex[0]: 350  matchIndex[0]: 349
term 56 leader 2 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 78209 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
flag 16359 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 41228 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
flag 98200 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 59800 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
flag 83554 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 19151 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
flag 44576 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 54669 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
flag 47230 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 28650 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 56 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44073 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 25722 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49060 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 42273 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18726 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 76506 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
flag 53078 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 35366 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
flag 74501 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 62844 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89924 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 91939 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
term 56 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81738 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 58398 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
flag 8782 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 39018 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
flag 42730 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 50588 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
flag 62558 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 26956 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
flag 72025 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 24305 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
flag 4595 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 8141 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=355
update matchIndex[0]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=353
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354}]
------------------------------------------------------
client write log 450903489393279637 (index 355) to leader 2
flag 51034 term 56 leader 2 nextIndex[0]: 355  matchIndex[0]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
flag 90519 term 56 leader 2 nextIndex[1]: 355  matchIndex[1]: 354
term 56 leader 2 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 54 leaderCommit: 353 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354} {450903489393279637 56 355}]
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354} {450903489393279637 56 355}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47472 term 56 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
flag 68971 term 56 leader 2 nextIndex[1]: 356  matchIndex[1]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354} {450903489393279637 56 355}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354} {450903489393279637 56 355}]
------------------------------------------------------
flag 25659 term 56 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
flag 35736 term 56 leader 2 nextIndex[1]: 356  matchIndex[1]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354} {450903489393279637 56 355}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354} {450903489393279637 56 355}]
------------------------------------------------------
flag 57741 term 56 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
flag 62603 term 56 leader 2 nextIndex[1]: 356  matchIndex[1]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 56 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
update nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354} {450903489393279637 56 355}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354} {450903489393279637 56 355}]
------------------------------------------------------
flag 90585 term 56 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
flag 48859 term 56 leader 2 nextIndex[1]: 356  matchIndex[1]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
term 56 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354} {450903489393279637 56 355}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354} {450903489393279637 56 355}]
------------------------------------------------------
flag 62661 term 56 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
flag 40677 term 56 leader 2 nextIndex[1]: 356  matchIndex[1]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354} {450903489393279637 56 355}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354} {450903489393279637 56 355}]
------------------------------------------------------
flag 1502 term 56 leader 2 nextIndex[0]: 356  matchIndex[0]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
flag 92634 term 56 leader 2 nextIndex[1]: 356  matchIndex[1]: 355
term 56 leader 2 sendAppendEntries PrevLogIndex: 355  PrevLogTerm: 56 leaderCommit: 355 
------------------------------------------------------
term 56 server 1 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=356
update matchIndex[1]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354} {450903489393279637 56 355}]
------------------------------------------------------
term 56 server 0 AppendEntries true commitIndex:355 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=356
update matchIndex[0]=355
update leader CommitIndex=355
leader log:
[{snapshot 54 349} {350917977483266745 54 350} {548201267496049942 54 351} {2754529406225896627 54 352} {6489795766028103001 54 353} {450903489393279637 54 354} {450903489393279637 56 355}]
------------------------------------------------------
  ... Passed --  81.4  3 1855  786228  355
--- PASS: TestSnapshotInstall2D (81.38s)
PASS
